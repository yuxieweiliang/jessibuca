{"version":3,"file":"jessibuca.js","sources":["../../node_modules/@babel/runtime/helpers/defineProperty.js","../../src/constant/index.js","../../src/utils/debug.js","../../src/utils/events.js","../../src/player/property.js","../../../../node_modules/screenfull/dist/screenfull.js","../../src/utils/index.js","../../src/player/events.js","../../src/utils/emitter.js","../../src/utils/webgl.js","../../src/video/commonLoader.js","../../src/video/canvasLoader.js","../../src/video/videoLoader.js","../../src/video/index.js","../../src/audio/audioContextLoader.js","../../src/audio/index.js","../../src/stream/fetchLoader.js","../../src/stream/websocketLoader.js","../../src/stream/index.js","../../../../node_modules/recordrtc/RecordRTC.js","../../src/recorder/recordRTCLoader.js","../../src/recorder/index.js","../../src/worker/index.js","../../src/demux/commonLoader.js","../../src/demux/flvLoader.js","../../src/demux/m7sLoader.js","../../src/demux/index.js","../../src/decoder/webcodecs.js","../../src/control/icons.js","../../src/control/template.js","../../src/control/observer.js","../../src/control/property.js","../../src/control/events.js","../../../../node_modules/style-inject/dist/style-inject.es.js","../../src/control/index.js","../../src/player/observer.js","../../src/remux/fmp4-generator.js","../../src/utils/exp-golomb.js","../../src/utils/h264-sps-parser.js","../../src/utils/h264.js","../../src/utils/h265-sps-parser.js","../../src/utils/h265.js","../../src/decoder/mediaSource.js","../../src/utils/noSleep.js","../../src/player/useWebRTC.js","../../src/player/index.js","../../../../node_modules/aegis-web-sdk/lib/aegis.min.js","../../src/jessibuca.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// 播放协议\nexport const PLAYER_PLAY_PROTOCOL = {\n    websocket: 0,\n    fetch: 1\n}\n\nexport const DEMUX_TYPE = {\n    flv: 'flv',\n    m7s: 'm7s'\n}\n\n\n// default player options\nexport const DEFAULT_PLAYER_OPTIONS = {\n    videoBuffer: 1000, //1000ms == 1 second\n    isResize: true,\n    isFullResize: false, //\n    isFlv: false,\n    debug: false,\n    loadingTimeout: 10, // loading timeout\n    heartTimeout: 10,  // heart timeout\n    timeout: 10, // second\n    supportDblclickFullscreen: false,\n    showBandwidth: false, //\n    keepScreenOn: false,\n    isNotMute: false,\n    hasAudio: true,\n    hasVideo: true,\n    useWebRTC: true,\n    operateBtns: {\n        fullscreen: false,\n        screenshot: false,\n        play: false,\n        audio: false,\n        // 录制屏幕\n        record: false,\n        // 云台控制\n        // movement: false,\n        // 变换 3D\n        // transform: false,\n        // 放大缩小\n        // zoom: false,\n    },\n    hasControl: false,\n    loadingText: '',\n    background: '',\n    decoder: 'decoder.js',\n    url: '',//\n    rotate: 0,\n    // text: '',\n    forceNoOffscreen: true, // 默认是不采用\n    hiddenAutoPause: false,\n    protocol: PLAYER_PLAY_PROTOCOL.fetch,\n    demuxType: DEMUX_TYPE.flv, //\n    useWCS: false, //\n    useMSE: false, //\n    useOffscreen: false //\n}\n\n\nexport const WORKER_CMD_TYPE = {\n    init: 'init',\n    initVideo: 'initVideo',\n    render: 'render',\n    playAudio: 'playAudio',\n    print: 'print',\n    printErr: 'printErr',\n    initAudio: 'initAudio',\n    kBps: 'kBps',\n    decode: 'decode',\n    audioCode: 'audioCode',\n    videoCode: 'videoCode'\n}\n\nexport const MEDIA_TYPE = {\n    audio: 1,\n    video: 2\n}\n\nexport const FLV_MEDIA_TYPE = {\n    audio: 8,\n    video: 9\n}\n\nexport const WORKER_SEND_TYPE = {\n    init: 'init',\n    decode: 'decode',\n    audioDecode: 'audioDecode',\n    videoDecode: 'videoDecode',\n    close: 'close'\n}\n\n\n//\nexport const EVENTS = {\n    fullscreen: 'fullscreen$2',\n    webFullscreen: 'webFullscreen',\n    decoderWorkerInit: 'decoderWorkerInit',\n    play: 'play',\n    playing: 'playing',\n    pause: 'pause',\n    mute: 'mute',\n    load: 'load',\n    loading: 'loading',\n    videoInfo: 'videoInfo',\n    timeUpdate: 'timeUpdate',\n    audioInfo: \"audioInfo\",\n    log: 'log',\n    error: \"error\",\n    kBps: 'kBps',\n    timeout: 'timeout',\n    delayTimeout: 'delayTimeout',\n    loadingTimeout: 'loadingTimeout',\n    stats: 'stats',\n    performance: \"performance\",\n    record: 'record',\n    recording: 'recording',\n    recordingTimestamp: 'recordingTimestamp',\n    recordStart: 'recordStart',\n    recordEnd: 'recordEnd',\n    recordCreateError: 'recordCreateError',\n    buffer: 'buffer',\n    videoFrame: 'videoFrame',\n    start: 'start',\n    metadata: 'metadata',\n    resize: 'resize',\n    streamEnd: 'streamEnd',\n    streamSuccess: 'streamSuccess',\n    streamMessage: 'streamMessage',\n    streamError: 'streamError',\n    volumechange: 'volumechange',\n    destroy: 'destroy',\n    mseSourceOpen: 'mseSourceOpen',\n    mseSourceClose: 'mseSourceClose',\n    mseSourceBufferError: 'mseSourceBufferError',\n    mseSourceBufferBusy: 'mseSourceBufferBusy',\n    videoWaiting: 'videoWaiting',\n    videoTimeUpdate: 'videoTimeUpdate',\n    videoSyncAudio: 'videoSyncAudio',\n}\n\n\nexport const JESSIBUCA_EVENTS = {\n    load: EVENTS.load,\n    timeUpdate: EVENTS.timeUpdate,\n    videoInfo: EVENTS.videoInfo,\n    audioInfo: EVENTS.audioInfo,\n    error: EVENTS.error,\n    kBps: EVENTS.kBps,\n    log: EVENTS.log,\n    start: EVENTS.start,\n    timeout: EVENTS.timeout,\n    loadingTimeout: EVENTS.loadingTimeout,\n    delayTimeout: EVENTS.delayTimeout,\n    fullscreen: 'fullscreen',\n    play: EVENTS.play,\n    pause: EVENTS.pause,\n    mute: EVENTS.mute,\n    stats: EVENTS.stats,\n    performance: EVENTS.performance,\n    recordingTimestamp: EVENTS.recordingTimestamp,\n    recordStart: EVENTS.recordStart,\n    recordEnd: EVENTS.recordEnd\n}\n\nexport const EVENTS_ERROR = {\n    playError: 'playIsNotPauseOrUrlIsNull',\n    fetchError: \"fetchError\",\n    websocketError: 'websocketError',\n    webcodecsH265NotSupport: 'webcodecsH265NotSupport',\n    mediaSourceH265NotSupport: 'mediaSourceH265NotSupport',\n    wasmDecodeError: 'wasmDecodeError'\n}\n\n\nexport const WEBSOCKET_STATUS = {\n    notConnect: 'notConnect',\n    open: 'open',\n    close: 'close',\n    error: 'error'\n}\n\nexport const BUFFER_STATUS = {\n    empty: 'empty',\n    buffering: 'buffering',\n    full: 'full'\n}\n\n\nexport const SCREENSHOT_TYPE = {\n    download: 'download',\n    base64: 'base64',\n    blob: 'blob'\n}\n\n\nexport const VIDEO_ENC_TYPE = {\n    7: 'H264(AVC)', //\n    12: 'H265(HEVC)' //\n}\n\nexport const VIDEO_ENC_CODE = {\n    h264: 7,\n    h265: 12\n}\n\n\nexport const AUDIO_ENC_TYPE = {\n    10: 'AAC',\n    7: 'ALAW',\n    8: 'MULAW'\n}\n\nexport const H265_NAL_TYPE = {\n    vps: 32,\n    sps: 33,\n    pps: 34\n}\n\nexport const CONTROL_HEIGHT = 38\n\nexport const SCALE_MODE_TYPE = {\n    full: 0, //  视频画面完全填充canvas区域,画面会被拉伸\n    auto: 1, // 视频画面做等比缩放后,高或宽对齐canvas区域,画面不被拉伸,但有黑边\n    fullAuto: 2 // 视频画面做等比缩放后,完全填充canvas区域,画面不被拉伸,没有黑边,但画面显示不全\n}\n\n\nexport const FILE_SUFFIX = {\n    mp4: 'mp4',\n    webm: 'webm'\n};\n\n\nexport const CANVAS_RENDER_TYPE = {\n    webcodecs: 'webcodecs',\n    webgl: 'webgl',\n    offscreen: 'offscreen'\n}\n\nexport const ENCODED_VIDEO_TYPE = {\n    key: 'key',\n    delta: 'delta'\n}\n\n\nexport const MP4_CODECS = {\n    avc: 'video/mp4; codecs=\"avc1.64002A\"',\n    hev: 'video/mp4; codecs=\"hev1.1.6.L123.b0\"',\n}\n\n\nexport const MEDIA_SOURCE_STATE = {\n    ended: 'ended',\n    open: 'open',\n    closed: 'closed'\n}\n\n\n// frag duration\nexport const FRAG_DURATION = Math.ceil(1000 / 25)\n\n\nexport const AUDIO_SYNC_VIDEO_DIFF = 200;\n","export default class Debug {\n    constructor(master) {\n        this.log = (name, ...args) => {\n            if (master._opt.debug) {\n                console.log(`Jessibuca: [${name}]`, ...args);\n            }\n        };\n\n        this.warn = (name, ...args) => {\n            if (master._opt.debug) {\n                console.warn(`Jessibuca: [${name}]`, ...args);\n            }\n        };\n\n        this.error = (name, ...args) => {\n            if (master._opt.debug) {\n                console.error(`Jessibuca: [${name}]`, ...args);\n            }\n        };\n    }\n}\n","export default class Events {\n    constructor(master) {\n        this.destroys = [];\n        this.proxy = this.proxy.bind(this);\n        this.master = master;\n    }\n\n    proxy(target, name, callback, option = {}) {\n        if (!target) {\n            return;\n        }\n        if (Array.isArray(name)) {\n            return name.map(item => this.proxy(target, item, callback, option));\n        }\n        target.addEventListener(name, callback, option);\n        const destroy = () => target.removeEventListener(name, callback, option);\n        this.destroys.push(destroy);\n        return destroy;\n    }\n\n    destroy() {\n        this.master.debug.log(`Events`, 'destroy');\n        this.destroys.forEach(event => event());\n    }\n}\n","export default (player) => {\n    Object.defineProperty(player, 'rect', {\n        get: () => {\n            const clientRect = player.$container.getBoundingClientRect()\n            clientRect.width = Math.max(clientRect.width, player.$container.clientWidth);\n            clientRect.height = Math.max(clientRect.height, player.$container.clientHeight);\n            return clientRect;\n        },\n    });\n\n    ['bottom', 'height', 'left', 'right', 'top', 'width'].forEach(key => {\n        Object.defineProperty(player, key, {\n            get: () => {\n                return player.rect[key];\n            },\n        });\n    });\n}\n","/*!\n* screenfull\n* v5.1.0 - 2020-12-24\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\n\tvar fn = (function () {\n\t\tvar val;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// New WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// Old WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar eventNameMap = {\n\t\tchange: fn.fullscreenchange,\n\t\terror: fn.fullscreenerror\n\t};\n\n\tvar screenfull = {\n\t\trequest: function (element, options) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar onFullScreenEntered = function () {\n\t\t\t\t\tthis.off('change', onFullScreenEntered);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenEntered);\n\n\t\t\t\telement = element || document.documentElement;\n\n\t\t\t\tvar returnPromise = element[fn.requestFullscreen](options);\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenEntered).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\texit: function () {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tif (!this.isFullscreen) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar onFullScreenExit = function () {\n\t\t\t\t\tthis.off('change', onFullScreenExit);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenExit);\n\n\t\t\t\tvar returnPromise = document[fn.exitFullscreen]();\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenExit).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\ttoggle: function (element, options) {\n\t\t\treturn this.isFullscreen ? this.exit() : this.request(element, options);\n\t\t},\n\t\tonchange: function (callback) {\n\t\t\tthis.on('change', callback);\n\t\t},\n\t\tonerror: function (callback) {\n\t\t\tthis.on('error', callback);\n\t\t},\n\t\ton: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\toff: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = {isEnabled: false};\n\t\t} else {\n\t\t\twindow.screenfull = {isEnabled: false};\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tisEnabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n","import {MP4_CODECS} from \"../constant\";\n\nexport function noop() {\n}\n\n\nexport function supportOffscreen($canvas) {\n    return typeof $canvas.transferControlToOffscreen === 'function';\n}\n\n\nexport function supportOffscreenV2() {\n    return typeof OffscreenCanvas !== \"undefined\";\n}\n\n\nexport function createContextGL($canvas) {\n    let gl = null;\n\n    const validContextNames = [\"webgl\", \"experimental-webgl\", \"moz-webgl\", \"webkit-3d\"];\n    let nameIndex = 0;\n\n    while (!gl && nameIndex < validContextNames.length) {\n        const contextName = validContextNames[nameIndex];\n\n        try {\n            let contextOptions = {preserveDrawingBuffer: true};\n            gl = $canvas.getContext(contextName, contextOptions);\n        } catch (e) {\n            gl = null;\n        }\n\n        if (!gl || typeof gl.getParameter !== \"function\") {\n            gl = null;\n        }\n\n        ++nameIndex;\n    }\n\n\n    return gl;\n}\n\n\nexport function audioContextUnlock(context) {\n    context.resume();\n    const source = context.createBufferSource();\n    source.buffer = context.createBuffer(1, 1, 22050);\n    source.connect(context.destination);\n    if (source.noteOn) {\n        source.noteOn(0);\n    } else {\n        source.start(0);\n    }\n}\n\nexport function dataURLToFile(dataURL = '') {\n    const arr = dataURL.split(\",\");\n    const bstr = atob(arr[1]);\n    const type = arr[0].replace(\"data:\", \"\").replace(\";base64\", \"\")\n    let n = bstr.length, u8arr = new Uint8Array(n);\n    while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new File([u8arr], 'file', {type});\n}\n\nexport function downloadFile(file, fileName) {\n    if (file instanceof Blob || file instanceof File) {\n        file = new Blob([file]);\n    }\n    const aLink = document.createElement(\"a\");\n    aLink.download = fileName;\n    aLink.href = file;\n    aLink.click();\n}\n\n\nexport function downloadImg(content, fileName) {\n    const aLink = document.createElement(\"a\");\n    aLink.download = fileName;\n    aLink.href = URL.createObjectURL(content);\n    aLink.click();\n    URL.revokeObjectURL(content);\n}\n\nexport function checkFull() {\n    let isFull = document.fullscreenElement || window.webkitFullscreenElement || document.msFullscreenElement;\n    if (isFull === undefined) isFull = false;\n    return !!isFull;\n}\n\nexport function now() {\n    return new Date().getTime();\n}\n\nexport const supportedWasm = (() => {\n    try {\n        if (typeof WebAssembly === \"object\"\n            && typeof WebAssembly.instantiate === \"function\") {\n            const module = new WebAssembly.Module(Uint8Array.of(0x0, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00));\n            if (module instanceof WebAssembly.Module)\n                return new WebAssembly.Instance(module) instanceof WebAssembly.Instance;\n        }\n    } catch (e) {\n    }\n    return false;\n})();\n\nexport function clamp(num, a, b) {\n    return Math.max(Math.min(num, Math.max(a, b)), Math.min(a, b));\n}\n\nexport function setStyle(element, key, value) {\n    if (!element) {\n        return\n    }\n    if (typeof key === 'object') {\n        Object.keys(key).forEach(item => {\n            setStyle(element, item, key[item]);\n        });\n    }\n    element.style[key] = value;\n    return element;\n}\n\n\nexport function getStyle(element, key, numberType = true) {\n    if (!element) {\n        return 0\n    }\n\n    const value = getComputedStyle(element, null).getPropertyValue(key);\n    return numberType ? parseFloat(value) : value;\n}\n\nexport function getNowTime() {\n    if (performance && typeof performance.now === 'function') {\n        return performance.now();\n    }\n    return Date.now();\n}\n\nexport function calculationRate(callback) {\n    let totalSize = 0;\n    let lastTime = getNowTime();\n    return size => {\n        totalSize += size;\n        const thisTime = getNowTime();\n        const diffTime = thisTime - lastTime;\n        if (diffTime >= 1000) {\n            callback((totalSize / diffTime) * 1000);\n            lastTime = thisTime;\n            totalSize = 0;\n        }\n    };\n}\n\nexport function downloadRecord(blob, name, suffix) {\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = (name || now()) + '.' + (suffix || FILE_SUFFIX.webm);\n    a.click();\n    window.URL.revokeObjectURL(url);\n}\n\nexport const env = '__ENV__';\n\nexport function isMobile() {\n    return (/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(window.navigator.userAgent.toLowerCase()));\n}\n\nexport function isAndroid() {\n    const UA = window.navigator.userAgent.toLowerCase();\n    return (/android/i.test(UA));\n}\n\nexport function isIOS() {\n    const UA = window.navigator.userAgent.toLowerCase();\n    return UA && /iphone|ipad|ipod|ios/.test(UA);\n}\n\n\nexport function parseTime(time, cFormat) {\n    if (arguments.length === 0) {\n        return null\n    }\n    var format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'\n    var date;\n    if (typeof time === 'object') {\n        date = time\n    } else {\n        if (('' + time).length === 10) time = parseInt(time) * 1000;\n        time = +time; // 转成int 型\n        date = new Date(time)\n    }\n    var formatObj = {\n        y: date.getFullYear(),\n        m: date.getMonth() + 1,\n        d: date.getDate(),\n        h: date.getHours(),\n        i: date.getMinutes(),\n        s: date.getSeconds(),\n        a: date.getDay()\n    };\n    var time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\n        var value = formatObj[key]\n        if (key === 'a') return ['一', '二', '三', '四', '五', '六', '日'][value - 1]\n        if (result.length > 0 && value < 10) {\n            value = '0' + value\n        }\n        return value || 0\n    });\n    return time_str\n}\n\n// 是否支持 webcodecs\nexport function supportWCS() {\n    return \"VideoEncoder\" in window;\n}\n\nexport function toNumber(value) {\n    if (typeof value !== 'string') {\n        return value;\n    } else {\n        // 转换成 number 类型\n        var parsed = Number(value);\n        return isNaN(parsed) ? value : parsed;\n    }\n}\n\nexport function uuid16() {\n    return 'xxxxxxxxxxxx4xxx'.replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8)\n        return v.toString(16)\n    })\n}\n\nexport function throttle(callback, delay) {\n    let isThrottled = false;\n    let args;\n    let context;\n\n    function fn(...args2) {\n        if (isThrottled) {\n            args = args2;\n            context = this;\n            return;\n        }\n\n        isThrottled = true;\n        callback.apply(this, args2);\n        setTimeout(() => {\n            isThrottled = false;\n            if (args) {\n                fn.apply(context, args);\n                args = null;\n                context = null;\n            }\n        }, delay);\n    }\n\n    return fn;\n}\n\n\nexport function isDef(v) {\n    return v !== undefined && v !== null;\n}\n\nexport function formatVideoDecoderConfigure(avcC) {\n    let codecArray = avcC.subarray(1, 4);\n    let codecString = \"avc1.\";\n    for (let j = 0; j < 3; j++) {\n        let h = codecArray[j].toString(16);\n        if (h.length < 2) {\n            h = \"0\" + h\n        }\n        codecString += h\n    }\n\n    return {\n        codec: codecString,\n        description: avcC\n    }\n}\n\nexport function isFullScreen() {\n    return document.isFullScreen || document.mozIsFullScreen || document.webkitIsFullScreen;\n}\n\nexport function bpsSize(value) {\n    if (null == value || value === '') {\n        return \"0 KB/S\";\n    }\n    let size = parseFloat(value);\n    size = size.toFixed(2);\n    return size + 'KB/S';\n}\n\n\nexport function fpsStatus(fps) {\n    let result = 0;\n    if (fps >= 24) {\n        result = 2;\n    } else if (fps >= 15) {\n        result = 1;\n    }\n\n    return result;\n}\n\nexport function createEmptyImageBitmap(width, height) {\n    const $canvasElement = document.createElement(\"canvas\");\n    $canvasElement.width = width;\n    $canvasElement.height = height;\n    return createImageBitmap($canvasElement, 0, 0, width, height);\n}\n\n\nexport function supportMSE() {\n    return window.MediaSource && window.MediaSource.isTypeSupported(MP4_CODECS.avc);\n}\n\n\nexport function formatMp4VideoCodec(codec) {\n    return `video/mp4; codecs=\"${codec}\"`\n}\n\n\nexport function saveBlobToFile(fileName, blob) {\n    let url = window.URL.createObjectURL(blob);\n    let aLink = window.document.createElement('a');\n    aLink.download = fileName;\n    aLink.href = url;\n    //创建内置事件并触发\n    let evt = window.document.createEvent('MouseEvents');\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    aLink.dispatchEvent(evt);\n}\n\nexport function isEmpty(value) {\n    return value === null || value === undefined\n}\n\nexport function isNotEmpty(value) {\n    return !isEmpty(value)\n}\n\n\n","import {EVENTS, EVENTS_ERROR, JESSIBUCA_EVENTS} from \"../constant\";\nimport screenfull from \"screenfull\";\nimport {setStyle} from \"../utils\";\n\nexport default (player) => {\n\n\n    try {\n        const screenfullChange = () => {\n            player.emit(JESSIBUCA_EVENTS.fullscreen, player.fullscreen)\n\n            // 如果不是fullscreen,则触发下 resize 方法\n            if (!player.fullscreen) {\n                player.resize();\n            } else {\n                if(player._opt.useMSE){\n                    player.resize();\n                }\n            }\n\n        };\n        screenfull.on('change', screenfullChange);\n        player.events.destroys.push(() => {\n            screenfull.off('change', screenfullChange);\n        });\n    } catch (error) {\n        //\n    }\n    //\n    player.on(EVENTS.decoderWorkerInit, () => {\n        player.debug.log('player', 'has loaded');\n        player._hasLoaded = true;\n    })\n\n    //\n    player.on(EVENTS.play, () => {\n        player.loading = false;\n    })\n\n    //\n    player.on(EVENTS.fullscreen, (value) => {\n        if (value) {\n            try {\n                screenfull.request(player.$container).then(() => {\n\n                }).catch((e) => {\n                    player.webFullscreen = true;\n                });\n\n            } catch (e) {\n                player.webFullscreen = true;\n            }\n        } else {\n            try {\n                screenfull.exit().then(() => {\n                }).catch(() => {\n                    player.webFullscreen = false;\n\n                });\n            } catch (e) {\n                player.webFullscreen = false;\n            }\n        }\n    })\n\n    player.on(EVENTS.webFullscreen, (value) => {\n        if (value) {\n            player.$container.classList.add('webmediaplayer-fullscreen-web')\n            const {clientHeight: bodyHeight, clientWidth: bodyWidth} = document.body;\n            const {clientHeight: playerHeight, clientWidth: playerWidth} = player.video.$videoElement;\n            const bodyRatio = bodyWidth / bodyHeight;\n            const playerRatio = playerWidth / playerHeight;\n            const needSpin = bodyRatio < playerRatio;\n            if (needSpin) {\n                const scale = Math.min(bodyHeight / playerWidth, bodyWidth / playerHeight);\n                player.video.$videoElement.style.transform = `rotate(90deg) scale(${scale},${scale})`;\n            }\n\n        } else {\n            player.$container.classList.remove('webmediaplayer-fullscreen-web')\n            player.video.$videoElement.style.transform = null;\n        }\n    })\n\n    //\n    player.on(EVENTS.resize, () => {\n        player.video.resize();\n    })\n\n\n    if (player._opt.debug) {\n        const ignoreList = [EVENTS.timeUpdate];\n        Object.keys(EVENTS).forEach((key) => {\n            player.on(EVENTS[key], (value) => {\n                if (ignoreList.includes(key)) {\n                    return;\n                }\n\n                player.debug.log('player events', EVENTS[key], value);\n            })\n        })\n\n        Object.keys(EVENTS_ERROR).forEach((key) => {\n            player.on(EVENTS_ERROR[key], (value) => {\n                player.debug.log('player event error', EVENTS_ERROR[key], value);\n            })\n        })\n    }\n}\n","export default class Emitter {\n    on(name, fn, ctx) {\n        const e = this.e || (this.e = {});\n        (e[name] || (e[name] = [])).push({fn, ctx});\n        return this;\n    }\n\n    once(name, fn, ctx) {\n        const self = this;\n\n        function listener(...args) {\n            self.off(name, listener);\n            fn.apply(ctx, args);\n        }\n\n        listener._ = fn;\n        return this.on(name, listener, ctx);\n    }\n\n    emit(name, ...data) {\n        const evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n        for (let i = 0; i < evtArr.length; i += 1) {\n            evtArr[i].fn.apply(evtArr[i].ctx, data);\n        }\n        return this;\n    }\n\n    off(name, callback) {\n        const e = this.e || (this.e = {});\n\n        if (!name) {\n            Object.keys(e).forEach((key) => {\n                delete e[key];\n            })\n            delete this.e\n            return;\n        }\n\n        const evts = e[name];\n        const liveEvents = [];\n        if (evts && callback) {\n            for (let i = 0, len = evts.length; i < len; i += 1) {\n                if (evts[i].fn !== callback && evts[i].fn._ !== callback) liveEvents.push(evts[i]);\n            }\n        }\n        if (liveEvents.length) {\n            e[name] = liveEvents;\n        } else {\n            delete e[name];\n        }\n        return this;\n    }\n}\n","export default (gl) => {\n    var vertexShaderScript = [\n        'attribute vec4 vertexPos;',\n        'attribute vec4 texturePos;',\n        'varying vec2 textureCoord;',\n\n        'void main()',\n        '{',\n        'gl_Position = vertexPos;',\n        'textureCoord = texturePos.xy;',\n        '}'\n    ].join('\\n');\n\n    var fragmentShaderScript = [\n        'precision highp float;',\n        'varying highp vec2 textureCoord;',\n        'uniform sampler2D ySampler;',\n        'uniform sampler2D uSampler;',\n        'uniform sampler2D vSampler;',\n        'const mat4 YUV2RGB = mat4',\n        '(',\n        '1.1643828125, 0, 1.59602734375, -.87078515625,',\n        '1.1643828125, -.39176171875, -.81296875, .52959375,',\n        '1.1643828125, 2.017234375, 0, -1.081390625,',\n        '0, 0, 0, 1',\n        ');',\n\n        'void main(void) {',\n        'highp float y = texture2D(ySampler,  textureCoord).r;',\n        'highp float u = texture2D(uSampler,  textureCoord).r;',\n        'highp float v = texture2D(vSampler,  textureCoord).r;',\n        'gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;',\n        '}'\n    ].join('\\n');\n\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertexShader, vertexShaderScript);\n    gl.compileShader(vertexShader);\n    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n        console.log('Vertex shader failed to compile: ' + gl.getShaderInfoLog(vertexShader));\n    }\n\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, fragmentShaderScript);\n    gl.compileShader(fragmentShader);\n    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n        console.log('Fragment shader failed to compile: ' + gl.getShaderInfoLog(fragmentShader));\n    }\n\n    var program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        console.log('Program failed to compile: ' + gl.getProgramInfoLog(program));\n    }\n\n    gl.useProgram(program);\n\n    // initBuffers\n    var vertexPosBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexPosBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]), gl.STATIC_DRAW);\n\n    var vertexPosRef = gl.getAttribLocation(program, 'vertexPos');\n    gl.enableVertexAttribArray(vertexPosRef);\n    gl.vertexAttribPointer(vertexPosRef, 2, gl.FLOAT, false, 0, 0);\n\n    var texturePosBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texturePosBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]), gl.STATIC_DRAW);\n\n    var texturePosRef = gl.getAttribLocation(program, 'texturePos');\n    gl.enableVertexAttribArray(texturePosRef);\n    gl.vertexAttribPointer(texturePosRef, 2, gl.FLOAT, false, 0, 0);\n\n    function _initTexture(name, index) {\n        var textureRef = gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, textureRef);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        gl.uniform1i(gl.getUniformLocation(program, name), index);\n        return textureRef;\n    }\n\n    var yTextureRef = _initTexture('ySampler', 0);\n    var uTextureRef = _initTexture('uSampler', 1);\n    var vTextureRef = _initTexture('vSampler', 2);\n\n    return {\n        render: function (w, h, y, u, v) {\n            gl.viewport(0, 0, w, h);\n            gl.activeTexture(gl.TEXTURE0);\n            gl.bindTexture(gl.TEXTURE_2D, yTextureRef);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, w, h, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, y);\n            gl.activeTexture(gl.TEXTURE1);\n            gl.bindTexture(gl.TEXTURE_2D, uTextureRef);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, w / 2, h / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, u);\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, vTextureRef);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, w / 2, h / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, v);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        },\n        destroy: function () {\n            try {\n                gl.deleteProgram(program);\n\n                gl.deleteBuffer(vertexPosBuffer)\n                gl.deleteBuffer(texturePosBuffer);\n\n                gl.deleteTexture(yTextureRef);\n                gl.deleteTexture(uTextureRef);\n                gl.deleteBuffer(vTextureRef);\n            } catch (e) {\n                // console.error(e);\n            }\n\n        }\n    }\n};\n","import Emitter from \"../utils/emitter\";\nimport {CONTROL_HEIGHT, EVENTS, VIDEO_ENC_TYPE} from \"../constant\";\n\nexport default class CommonLoader extends Emitter {\n    constructor() {\n        super();\n        this.init = false;\n    }\n\n    //\n    updateVideoInfo(data) {\n        if (data.encTypeCode) {\n            this.videoInfo.encType = VIDEO_ENC_TYPE[data.encTypeCode];\n        }\n\n        if (data.width) {\n            this.videoInfo.width = data.width;\n        }\n\n        if (data.height) {\n            this.videoInfo.height = data.height;\n        }\n\n        // video 基本信息\n        if (this.videoInfo.encType && this.videoInfo.height && this.videoInfo.width && !this.init) {\n            this.player.emit(EVENTS.videoInfo, this.videoInfo);\n            this.init = true;\n        }\n    }\n\n\n}\n","import Emitter from \"../utils/emitter\";\nimport {createContextGL, createEmptyImageBitmap, dataURLToFile, downloadImg, now, supportOffscreen} from \"../utils\";\nimport createWebGL from \"../utils/webgl\";\nimport {CANVAS_RENDER_TYPE, CONTROL_HEIGHT, EVENTS, SCREENSHOT_TYPE, VIDEO_ENC_TYPE} from \"../constant\";\nimport CommonLoader from \"./commonLoader\";\n\nexport default class CanvasVideoLoader extends CommonLoader {\n\n    constructor(player) {\n        super()\n        this.player = player;\n        const $canvasElement = document.createElement(\"canvas\");\n        $canvasElement.style.position = \"absolute\";\n        $canvasElement.style.top = 0;\n        $canvasElement.style.left = 0;\n        this.$videoElement = $canvasElement;\n        player.$container.appendChild(this.$videoElement);\n\n        this.context2D = null;\n        this.contextGl = null;\n        this.contextGlRender = null;\n        this.contextGlDestroy = null;\n        this.bitmaprenderer = null;\n        this.renderType = null;\n        this.videoInfo = {\n            width: '',\n            height: '',\n            encType: '',\n        }\n        //\n        this._initCanvasRender();\n        this.player.debug.log('CanvasVideo', 'init');\n    }\n\n\n    _initContextGl() {\n        this.contextGl = createContextGL(this.$videoElement);\n        const webgl = createWebGL(this.contextGl);\n        this.contextGlRender = webgl.render;\n        this.contextGlDestroy = webgl.destroy\n    }\n\n    _initContext2D() {\n        this.context2D = this.$videoElement.getContext('2d');\n    }\n\n\n    // 渲染类型\n    _initCanvasRender() {\n        if (this.player._opt.useWCS && !this._supportOffscreen()) {\n            this.renderType = CANVAS_RENDER_TYPE.webcodecs;\n            this._initContext2D();\n        } else if (this._supportOffscreen()) {\n            this.renderType = CANVAS_RENDER_TYPE.offscreen;\n            this._bindOffscreen();\n        } else {\n            this.renderType = CANVAS_RENDER_TYPE.webgl;\n            this._initContextGl();\n        }\n    }\n\n    _supportOffscreen() {\n        return supportOffscreen(this.$videoElement) && this.player._opt.useOffscreen;\n    }\n\n    //\n    _bindOffscreen() {\n        this.bitmaprenderer = this.$videoElement.getContext('bitmaprenderer');\n    }\n\n    initCanvasViewSize() {\n        this.$videoElement.width = this.videoInfo.width;\n        this.$videoElement.height = this.videoInfo.height;\n        this.resize();\n    }\n\n    //\n    render(msg) {\n        this.player.videoTimestamp = msg.ts;\n        switch (this.renderType) {\n            case CANVAS_RENDER_TYPE.offscreen:\n                this.bitmaprenderer.transferFromImageBitmap(msg.buffer);\n                break;\n            case CANVAS_RENDER_TYPE.webgl:\n                this.contextGlRender(this.$videoElement.width, this.$videoElement.height, msg.output[0], msg.output[1], msg.output[2]);\n                break;\n            case CANVAS_RENDER_TYPE.webcodecs:\n                this.context2D.drawImage(msg.videoFrame, 0, 0, this.$videoElement.width, this.$videoElement.height);\n                break;\n        }\n    }\n\n    screenshot(filename, format, quality, type) {\n        filename = filename || now();\n        type = type || SCREENSHOT_TYPE.download;\n        const formatType = {\n            png: 'image/png',\n            jpeg: 'image/jpeg',\n            webp: 'image/webp'\n        };\n        let encoderOptions = 0.92;\n        if (!formatType[format] && SCREENSHOT_TYPE[format]) {\n            type = format;\n            format = 'png';\n            quality = undefined\n        }\n\n        if (typeof quality === \"string\") {\n            type = quality;\n            quality = undefined;\n        }\n\n        if (typeof quality !== 'undefined') {\n            encoderOptions = Number(quality);\n        }\n        const dataURL = this.$videoElement.toDataURL(formatType[format] || formatType.png, encoderOptions);\n\n        const file = dataURLToFile(dataURL)\n        if (type === SCREENSHOT_TYPE.base64) {\n            return dataURL;\n        } else if (type === SCREENSHOT_TYPE.blob) {\n            return file;\n        } else if (type === SCREENSHOT_TYPE.download) {\n            downloadImg(file, filename);\n        }\n    }\n\n    //\n    clearView() {\n        switch (this.renderType) {\n            case CANVAS_RENDER_TYPE.offscreen:\n                createEmptyImageBitmap(this.$videoElement.width, this.$videoElement.height).then((imageBitMap) => {\n                    this.bitmaprenderer.transferFromImageBitmap(imageBitMap);\n                })\n                break;\n            case CANVAS_RENDER_TYPE.webgl:\n                this.contextGl.clear(this.contextGl.COLOR_BUFFER_BIT);\n                break;\n            case CANVAS_RENDER_TYPE.webcodecs:\n                this.context2D.clearRect(0, 0, this.$videoElement.width, this.$videoElement.height)\n                break;\n        }\n    }\n\n    resize() {\n        this.player.debug.log('canvasVideo', 'resize');\n        const option = this.player._opt;\n        const width = this.player.width;\n        let height = this.player.height;\n        if (option.hasControl) {\n            height -= CONTROL_HEIGHT;\n        }\n        let resizeWidth = this.$videoElement.width;\n        let resizeHeight = this.$videoElement.height;\n        const rotate = option.rotate;\n        let left = ((width - resizeWidth) / 2)\n        let top = ((height - resizeHeight) / 2)\n        if (rotate === 270 || rotate === 90) {\n            resizeWidth = this.$videoElement.height;\n            resizeHeight = this.$videoElement.width;\n        }\n\n        const wScale = width / resizeWidth;\n        const hScale = height / resizeHeight;\n\n        let scale = wScale > hScale ? hScale : wScale;\n        //\n        if (!option.isResize) {\n            if (wScale !== hScale) {\n                scale = wScale + ',' + hScale;\n            }\n        }\n        //\n        if (option.isFullResize) {\n            scale = wScale > hScale ? wScale : hScale;\n        }\n        let transform = \"scale(\" + scale + \")\";\n\n        if (rotate) {\n            transform += ' rotate(' + rotate + 'deg)'\n        }\n\n        this.$videoElement.style.transform = transform;\n        this.$videoElement.style.left = left + \"px\"\n        this.$videoElement.style.top = top + \"px\"\n    }\n\n    destroy() {\n        if (this.contextGl) {\n            this.contextGl = null;\n        }\n\n        if (this.context2D) {\n            this.context2D = null;\n        }\n\n        if (this.contextGlRender) {\n            this.contextGlDestroy && this.contextGlDestroy();\n            this.contextGlDestroy = null;\n            this.contextGlRender = null;\n        }\n        if (this.bitmaprenderer) {\n            this.bitmaprenderer = null;\n        }\n\n        this.renderType = null;\n\n        this.videoInfo = {\n            width: '',\n            height: '',\n            encType: '',\n            encTypeCode: ''\n        }\n\n        this.player.$container.removeChild(this.$videoElement);\n        this.init = false;\n        this.off();\n        this.player.debug.log(`CanvasVideoLoader`, 'destroy');\n    }\n}\n","import Emitter from \"../utils/emitter\";\nimport {CONTROL_HEIGHT, EVENTS, SCREENSHOT_TYPE, VIDEO_ENC_TYPE} from \"../constant\";\nimport {dataURLToFile, downloadImg, now} from \"../utils\";\nimport CommonLoader from \"./commonLoader\";\n\nexport default class VideoLoader extends CommonLoader {\n    constructor(player) {\n        super();\n        this.player = player;\n        const $videoElement = document.createElement('video');\n        $videoElement.muted = true;\n        $videoElement.style.position = \"absolute\";\n        $videoElement.style.top = 0;\n        $videoElement.style.left = 0;\n        player.$container.appendChild($videoElement);\n        player.$container.$videoElement = $videoElement;\n        this.$videoElement = $videoElement;\n        this.videoInfo = {\n            width: '',\n            height: '',\n            encType: '',\n        }\n        this.resize();\n\n        const {proxy} = this.player.events;\n\n        proxy(this.$videoElement, 'canplay', () => {\n            this.player.debug.log('Video', 'canplay');\n        })\n\n        proxy(this.$videoElement, 'waiting', () => {\n            this.player.emit(EVENTS.videoWaiting);\n        })\n\n        proxy(this.$videoElement, 'timeupdate', (event) => {\n            // this.player.emit(EVENTS.videoTimeUpdate, event.timeStamp);\n        })\n\n        this.player.debug.log('Video', 'init');\n    }\n\n    play() {\n        // this.$videoElement.autoplay = true;\n        this.$videoElement.play();\n    }\n\n    clearView() {\n\n    }\n\n    screenshot(filename, format, quality, type) {\n        filename = filename || now();\n        type = type || SCREENSHOT_TYPE.download;\n        const formatType = {\n            png: 'image/png',\n            jpeg: 'image/jpeg',\n            webp: 'image/webp'\n        };\n        let encoderOptions = 0.92;\n        if (!formatType[format] && SCREENSHOT_TYPE[format]) {\n            type = format;\n            format = 'png';\n            quality = undefined\n        }\n        if (typeof quality === \"string\") {\n            type = quality;\n            quality = undefined;\n        }\n\n        if (typeof quality !== 'undefined') {\n            encoderOptions = Number(quality);\n        }\n        const $video = this.$videoElement;\n        let canvas = document.createElement('canvas');\n        canvas.width = $video.videoWidth;\n        canvas.height = $video.videoHeight;\n        const context = canvas.getContext('2d');\n        context.drawImage($video, 0, 0, canvas.width, canvas.height);\n        const dataURL = canvas.toDataURL(SCREENSHOT_TYPE[format] || SCREENSHOT_TYPE.png, encoderOptions);\n        const file = dataURLToFile(dataURL);\n        if (type === SCREENSHOT_TYPE.base64) {\n            return dataURL;\n        } else if (type === SCREENSHOT_TYPE.blob) {\n            return file;\n        } else if (type === SCREENSHOT_TYPE.download) {\n            downloadImg(file, filename);\n        }\n    }\n\n    initCanvasViewSize() {\n        this.resize();\n    }\n\n    resize() {\n        this.$videoElement.width = this.player.width;\n        this.$videoElement.height = this.player._opt.hasControl ? this.player.height - CONTROL_HEIGHT : this.player.height;\n        const option = this.player._opt;\n        let objectFill = 'contain';\n        const rotate = option.rotate;\n\n        // 默认是true\n        // 视频画面做等比缩放后,高或宽对齐canvas区域,画面不被拉伸,但有黑边\n\n        // 视频画面完全填充canvas区域,画面会被拉伸\n        if (!option.isResize) {\n            objectFill = 'fill';\n        }\n\n        // 视频画面做等比缩放后,完全填充canvas区域,画面不被拉伸,没有黑边,但画面显示不全\n        if (option.isFullResize) {\n            objectFill = 'none';\n        }\n        this.$videoElement.style.objectFit = objectFill;\n        const transform = this.$videoElement.style.transform;\n        if (transform) {\n            this.$videoElement.style.transform = transform;\n        } else {\n            this.$videoElement.style.transform = 'rotate(' + rotate + 'deg)';\n        }\n\n    }\n\n\n    destroy() {\n        this.player.$container.removeChild(this.$videoElement);\n        this.init = false;\n        this.off();\n        this.player.debug.log('Video', 'destroy');\n    }\n\n}\n","import CanvasVideoLoader from './canvasLoader';\nimport VideoLoader from \"./videoLoader\";\n\nexport default class Video {\n    constructor(player) {\n        const Loader = Video.getLoaderFactory(player._opt);\n        return new Loader(player);\n    }\n\n    static getLoaderFactory(opt) {\n        if (opt.useMSE) {\n            return VideoLoader;\n        } else {\n            return CanvasVideoLoader;\n        }\n    }\n}\n","import Emitter from \"../utils/emitter\";\nimport {AUDIO_ENC_TYPE, AUDIO_SYNC_VIDEO_DIFF, EVENTS, VIDEO_ENC_TYPE} from \"../constant\";\nimport {clamp, noop} from \"../utils\";\n\nexport default class AudioContextLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.bufferList = [];\n        this.player = player;\n        this.scriptNode = null;\n        this.hasInitScriptNode = false;\n        this.audioContextChannel = null;\n\n        this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        //\n        this.gainNode = this.audioContext.createGain();\n        // Get an AudioBufferSourceNode.\n        // This is the AudioNode to use when we want to play an AudioBuffer\n        const source = this.audioContext.createBufferSource();\n        // set the buffer in the AudioBufferSourceNode\n        source.buffer = this.audioContext.createBuffer(1, 1, 22050);\n        // connect the AudioBufferSourceNode to the\n        // destination so we can hear the sound\n        source.connect(this.audioContext.destination);\n        // noteOn as start\n        // start the source playing\n        if (source.noteOn) {\n            source.noteOn(0);\n        } else {\n            source.start(0);\n        }\n        this.audioBufferSourceNode = source;\n        //\n        this.mediaStreamAudioDestinationNode = this.audioContext.createMediaStreamDestination();\n        //\n        this.audioEnabled(true);\n        // default setting 0\n        this.gainNode.gain.value = 0;\n\n        this.playing = false;\n        //\n        this.audioSyncVideoOption = {\n            diff: null\n        };\n\n\n        this.audioInfo = {\n            encType: '',\n            channels: '',\n            sampleRate: ''\n        }\n        this.init = false;\n\n        // update\n        this.on(EVENTS.videoSyncAudio, (options) => {\n            this.player.debug.log('AudioContext', `videoSyncAudio , audioTimestamp: ${options.audioTimestamp},videoTimestamp: ${options.videoTimestamp},diff:${options.diff}`)\n            this.audioSyncVideoOption = options;\n        })\n\n        this.player.debug.log('AudioContext', 'init');\n    }\n\n    updateAudioInfo(data) {\n        if (data.encTypeCode) {\n            this.audioInfo.encType = AUDIO_ENC_TYPE[data.encTypeCode];\n        }\n\n        if (data.channels) {\n            this.audioInfo.channels = data.channels;\n        }\n\n        if (data.sampleRate) {\n            this.audioInfo.sampleRate = data.sampleRate;\n        }\n\n        // audio 基本信息\n        if (this.audioInfo.sampleRate && this.audioInfo.channels && this.audioInfo.encType && !this.init) {\n            this.player.emit(EVENTS.audioInfo, this.audioInfo);\n            this.init = true;\n        }\n    }\n\n    //\n    get isPlaying() {\n        return this.playing;\n    }\n\n    get isMute() {\n        return this.gainNode.gain.value === 0 || this.isStateSuspended();\n    }\n\n    get volume() {\n        return this.gainNode.gain.value;\n    }\n\n    get bufferSize() {\n        return this.bufferList.length;\n    }\n\n\n    initScriptNode() {\n        this.playing = true;\n\n        if (this.hasInitScriptNode) {\n            return;\n        }\n        const channels = this.audioInfo.channels;\n\n        const scriptNode = this.audioContext.createScriptProcessor(1024, 0, channels);\n\n        scriptNode.onaudioprocess = (audioProcessingEvent) => {\n            const outputBuffer = audioProcessingEvent.outputBuffer;\n\n            if (this.bufferList.length && this.playing) {\n\n                // just for wasm\n                if (!this.player._opt.useWCS && !this.player._opt.useMSE) {\n                    // audio > video\n                    // wait\n                    if (this.audioSyncVideoOption.diff > AUDIO_SYNC_VIDEO_DIFF) {\n                        this.player.debug.warn('AudioContext', `audioSyncVideoOption more than diff :${this.audioSyncVideoOption.diff}`)\n                        // wait\n                        return;\n                    }\n                        // audio < video\n                    // throw away then chase video\n                    else if (this.audioSyncVideoOption.diff < -AUDIO_SYNC_VIDEO_DIFF) {\n                        this.player.debug.warn('AudioContext', `audioSyncVideoOption less than diff :${this.audioSyncVideoOption.diff}`)\n\n                        //\n                        let bufferItem = this.bufferList.shift();\n                        //\n                        while ((bufferItem.ts - this.player.videoTimestamp < -AUDIO_SYNC_VIDEO_DIFF) && this.bufferList.length > 0) {\n                            // this.player.debug.warn('AudioContext', `audioSyncVideoOption less than inner ts is:${bufferItem.ts}, videoTimestamp is ${this.player.videoTimestamp},diff:${bufferItem.ts - this.player.videoTimestamp}`)\n                            bufferItem = this.bufferList.shift();\n                        }\n\n                        if (this.bufferList.length === 0) {\n                            return;\n                        }\n                    }\n                }\n\n                if (this.bufferList.length === 0) {\n                    return;\n                }\n\n                const bufferItem = this.bufferList.shift();\n\n                // update audio time stamp\n                if (bufferItem && bufferItem.ts) {\n                    this.player.audioTimestamp = bufferItem.ts;\n                }\n\n                for (let channel = 0; channel < channels; channel++) {\n                    const b = bufferItem.buffer[channel]\n                    const nowBuffering = outputBuffer.getChannelData(channel);\n                    for (let i = 0; i < 1024; i++) {\n                        nowBuffering[i] = b[i] || 0\n                    }\n                }\n            }\n        }\n\n        scriptNode.connect(this.gainNode);\n        this.scriptNode = scriptNode;\n        this.gainNode.connect(this.audioContext.destination);\n        this.gainNode.connect(this.mediaStreamAudioDestinationNode);\n        this.hasInitScriptNode = true;\n    }\n\n    mute(flag) {\n        if (flag) {\n\n            if (!this.isMute) {\n                this.player.emit(EVENTS.mute, flag);\n            }\n            this.setVolume(0);\n            this.audioEnabled(false);\n            this.clear();\n        } else {\n            if (this.isMute) {\n                this.player.emit(EVENTS.mute, flag);\n            }\n            this.setVolume(0.5);\n            this.audioEnabled(true);\n        }\n    }\n\n    setVolume(volume) {\n        volume = parseFloat(volume).toFixed(2);\n        if (isNaN(volume)) {\n            return;\n        }\n        this.audioEnabled(true);\n        volume = clamp(volume, 0, 1);\n        this.gainNode.gain.value = volume;\n        this.gainNode.gain.setValueAtTime(volume, this.audioContext.currentTime);\n        this.player.emit(EVENTS.volumechange, this.player.volume);\n    }\n\n    closeAudio() {\n        if (this.hasInitScriptNode) {\n            this.scriptNode && this.scriptNode.disconnect(this.gainNode);\n            this.gainNode && this.gainNode.disconnect(this.audioContext.destination);\n            this.gainNode && this.gainNode.disconnect(this.mediaStreamAudioDestinationNode);\n        }\n        this.clear();\n    }\n\n    // 是否播放。。。\n    audioEnabled(flag) {\n        if (flag) {\n            if (this.audioContext.state === 'suspended') {\n                // resume\n                this.audioContext.resume();\n            }\n        } else {\n            if (this.audioContext.state === 'running') {\n                // suspend\n                this.audioContext.suspend();\n            }\n        }\n    }\n\n    isStateRunning() {\n        return this.audioContext.state === 'running';\n    }\n\n    isStateSuspended() {\n        return this.audioContext.state === 'suspended';\n    }\n\n    clear() {\n        this.bufferList = [];\n    }\n\n    play(buffer, ts) {\n        this.bufferList.push({\n            buffer,\n            ts\n        });\n\n        if (this.bufferList.length > 20) {\n            this.player.debug.warn('AudioContext', `bufferList is large: ${this.bufferList.length}`)\n\n            // out of memory\n            if (this.bufferList.length > 50) {\n                this.bufferList.shift();\n            }\n        }\n        // this.player.debug.log('AudioContext', `bufferList is ${this.bufferList.length}`)\n    }\n\n    pause() {\n        this.audioSyncVideoOption = {\n            diff: null\n        };\n        this.playing = false;\n        this.clear();\n    }\n\n    resume() {\n        this.playing = true;\n    }\n\n\n    destroy() {\n        this.closeAudio();\n        this.audioContext.close();\n        this.audioContext = null;\n        this.gainNode = null;\n        this.init = false;\n        if (this.scriptNode) {\n            this.scriptNode.onaudioprocess = noop;\n            this.scriptNode = null;\n        }\n        this.audioBufferSourceNode = null;\n        this.mediaStreamAudioDestinationNode = null;\n        this.hasInitScriptNode = false;\n        this.audioSyncVideoOption = {\n            diff: null\n        };\n        this.off();\n        this.player.debug.log('AudioContext', 'destroy');\n    }\n\n}\n","import AudioContextLoader from \"./audioContextLoader\";\nimport AudioLoader from \"./audioLoader\";\n\nexport default class Audio {\n    constructor(player) {\n        const Loader = Audio.getLoaderFactory();\n        return new Loader(player);\n    }\n\n    static getLoaderFactory() {\n        return AudioContextLoader;\n    }\n}\n","import Emitter from \"../utils/emitter\";\nimport {EVENTS, EVENTS_ERROR, JESSIBUCA_EVENTS} from \"../constant\";\nimport {calculationRate} from \"../utils\";\n\nexport default class FetchLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.playing = false;\n\n        this.abortController = new AbortController();\n        //\n        this.streamRate = calculationRate(rate => {\n            player.emit(EVENTS.kBps, (rate / 1024).toFixed(2));\n        });\n        player.debug.log('FetchStream', 'init');\n    }\n\n    fetchStream(url) {\n        const {demux} = this.player;\n        fetch(url, {signal: this.abortController.signal}).then((res) => {\n            const reader = res.body.getReader();\n            this.emit(EVENTS.streamSuccess);\n            const fetchNext = () => {\n                reader.read().then(({done, value}) => {\n                        if (done) {\n                            demux.close();\n                        } else {\n                            this.streamRate && this.streamRate(value.byteLength);\n                            demux.dispatch(value);\n                            fetchNext();\n                        }\n                    }\n                ).catch((e) => {\n                    demux.close();\n                    // 这边会报用户 aborted a request 错误。\n                    this.emit(EVENTS_ERROR.fetchError, e);\n                    this.player.emit(EVENTS.error, EVENTS_ERROR.fetchError);\n                    this.abort();\n                })\n            }\n            fetchNext();\n        }).catch((e) => {\n            this.abort();\n            this.emit(EVENTS_ERROR.fetchError, e)\n            this.player.emit(EVENTS.error, EVENTS_ERROR.fetchError);\n        })\n    }\n\n    abort() {\n        if (this.abortController) {\n            this.abortController.abort();\n            this.abortController = null\n        }\n    }\n\n\n    destroy() {\n        this.abort()\n        this.off();\n        this.streamRate = null;\n        this.player.debug.log('FetchStream', 'destroy');\n    }\n}\n","import Emitter from \"../utils/emitter\";\nimport {EVENTS, EVENTS_ERROR, WEBSOCKET_STATUS} from \"../constant\";\nimport {calculationRate} from \"../utils\";\n\nexport default class WebsocketLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.socket = null;\n        this.socketStatus = WEBSOCKET_STATUS.notConnect;\n        this.wsUrl = null;\n        //\n        this.streamRate = calculationRate(rate => {\n            player.emit(EVENTS.kBps, (rate / 1024).toFixed(2));\n        });\n    }\n\n    _createWebSocket() {\n        const player = this.player;\n        const {\n            debug,\n            events: {proxy},\n            demux,\n        } = player;\n\n        this.socket = new WebSocket(this.wsUrl);\n        this.socket.binaryType = 'arraybuffer';\n        proxy(this.socket, 'open', () => {\n            this.emit(EVENTS.streamSuccess);\n            debug.log('websocketLoader', 'socket open');\n            this.socketStatus = WEBSOCKET_STATUS.open;\n        });\n\n        proxy(this.socket, 'message', event => {\n            this.streamRate && this.streamRate(event.data.byteLength);\n            this._handleMessage(event.data);\n        });\n\n\n        proxy(this.socket, 'close', () => {\n            debug.log('websocketLoader', 'socket close');\n            this.emit(EVENTS.streamEnd);\n            this.socketStatus = WEBSOCKET_STATUS.close;\n        });\n\n        proxy(this.socket, 'error', error => {\n            debug.log('websocketLoader', 'socket error');\n            this.emit(EVENTS_ERROR.websocketError, error);\n            this.player.emit(EVENTS.error, EVENTS_ERROR.websocketError);\n            this.socketStatus = WEBSOCKET_STATUS.error;\n            demux.close();\n            debug.log('websocketLoader', `socket error:`, error);\n        });\n    }\n\n    //\n    _handleMessage(message) {\n        const {demux} = this.player;\n        if (!demux) {\n            this.player.debug.warn('websocketLoader', 'websocket handle message demux is null');\n            return;\n        }\n        demux.dispatch(message);\n    }\n\n\n    fetchStream(url) {\n        this.wsUrl = url;\n        this._createWebSocket();\n    }\n\n\n    destroy() {\n        if (this.socket) {\n            this.socket.close();\n            this.socket = null;\n        }\n        this.socketStatus = WEBSOCKET_STATUS.notConnect;\n        this.streamRate = null;\n        this.off();\n        this.player.debug.log('websocketLoader', 'destroy');\n    }\n}\n","import FetchLoader from \"./fetchLoader\";\nimport WebsocketLoader from \"./websocketLoader\";\nimport {PLAYER_PLAY_PROTOCOL} from \"../constant\";\n\nexport default class Stream {\n    constructor(player) {\n        const Loader = Stream.getLoaderFactory(player._opt.protocol);\n        return new Loader(player);\n    }\n\n    static getLoaderFactory(protocol) {\n        if (protocol === PLAYER_PLAY_PROTOCOL.fetch) {\n            return FetchLoader;\n        } else if (protocol === PLAYER_PLAY_PROTOCOL.websocket) {\n            return WebsocketLoader;\n        }\n    }\n}\n","'use strict';\r\n\r\n// Last time updated: 2021-03-09 3:20:22 AM UTC\r\n\r\n// ________________\r\n// RecordRTC v5.6.2\r\n\r\n// Open-Sourced: https://github.com/muaz-khan/RecordRTC\r\n\r\n// --------------------------------------------------\r\n// Muaz Khan     - www.MuazKhan.com\r\n// MIT License   - www.WebRTC-Experiment.com/licence\r\n// --------------------------------------------------\r\n\r\n// ____________\r\n// RecordRTC.js\r\n\r\n/**\r\n * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. \r\n * @summary Record audio, video or screen inside the browser.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTC\r\n * @class\r\n * @example\r\n * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {\r\n *     type: 'video', // audio or video or gif or canvas\r\n *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc\r\n * });\r\n * recorder.startRecording();\r\n * @see For further information:\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\r\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction RecordRTC(mediaStream, config) {\r\n    if (!mediaStream) {\r\n        throw 'First parameter is required.';\r\n    }\r\n\r\n    config = config || {\r\n        type: 'video'\r\n    };\r\n\r\n    config = new RecordRTCConfiguration(mediaStream, config);\r\n\r\n    // a reference to user's recordRTC object\r\n    var self = this;\r\n\r\n    function startRecording(config2) {\r\n        if (!config.disableLogs) {\r\n            console.log('RecordRTC version: ', self.version);\r\n        }\r\n\r\n        if (!!config2) {\r\n            // allow users to set options using startRecording method\r\n            // config2 is similar to main \"config\" object (second parameter over RecordRTC constructor)\r\n            config = new RecordRTCConfiguration(mediaStream, config2);\r\n        }\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('started recording ' + config.type + ' stream.');\r\n        }\r\n\r\n        if (mediaRecorder) {\r\n            mediaRecorder.clearRecordedData();\r\n            mediaRecorder.record();\r\n\r\n            setState('recording');\r\n\r\n            if (self.recordingDuration) {\r\n                handleRecordingDuration();\r\n            }\r\n            return self;\r\n        }\r\n\r\n        initRecorder(function() {\r\n            if (self.recordingDuration) {\r\n                handleRecordingDuration();\r\n            }\r\n        });\r\n\r\n        return self;\r\n    }\r\n\r\n    function initRecorder(initCallback) {\r\n        if (initCallback) {\r\n            config.initCallback = function() {\r\n                initCallback();\r\n                initCallback = config.initCallback = null; // recorder.initRecorder should be call-backed once.\r\n            };\r\n        }\r\n\r\n        var Recorder = new GetRecorderType(mediaStream, config);\r\n\r\n        mediaRecorder = new Recorder(mediaStream, config);\r\n        mediaRecorder.record();\r\n\r\n        setState('recording');\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Initialized recorderType:', mediaRecorder.constructor.name, 'for output-type:', config.type);\r\n        }\r\n    }\r\n\r\n    function stopRecording(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state === 'paused') {\r\n            self.resumeRecording();\r\n\r\n            setTimeout(function() {\r\n                stopRecording(callback);\r\n            }, 1);\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'recording' && !config.disableLogs) {\r\n            console.warn('Recording state should be: \"recording\", however current state is: ', self.state);\r\n        }\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Stopped recording ' + config.type + ' stream.');\r\n        }\r\n\r\n        if (config.type !== 'gif') {\r\n            mediaRecorder.stop(_callback);\r\n        } else {\r\n            mediaRecorder.stop();\r\n            _callback();\r\n        }\r\n\r\n        setState('stopped');\r\n\r\n        function _callback(__blob) {\r\n            if (!mediaRecorder) {\r\n                if (typeof callback.call === 'function') {\r\n                    callback.call(self, '');\r\n                } else {\r\n                    callback('');\r\n                }\r\n                return;\r\n            }\r\n\r\n            Object.keys(mediaRecorder).forEach(function(key) {\r\n                if (typeof mediaRecorder[key] === 'function') {\r\n                    return;\r\n                }\r\n\r\n                self[key] = mediaRecorder[key];\r\n            });\r\n\r\n            var blob = mediaRecorder.blob;\r\n\r\n            if (!blob) {\r\n                if (__blob) {\r\n                    mediaRecorder.blob = blob = __blob;\r\n                } else {\r\n                    throw 'Recording failed.';\r\n                }\r\n            }\r\n\r\n            if (blob && !config.disableLogs) {\r\n                console.log(blob.type, '->', bytesToSize(blob.size));\r\n            }\r\n\r\n            if (callback) {\r\n                var url;\r\n\r\n                try {\r\n                    url = URL.createObjectURL(blob);\r\n                } catch (e) {}\r\n\r\n                if (typeof callback.call === 'function') {\r\n                    callback.call(self, url);\r\n                } else {\r\n                    callback(url);\r\n                }\r\n            }\r\n\r\n            if (!config.autoWriteToDisk) {\r\n                return;\r\n            }\r\n\r\n            getDataURL(function(dataURL) {\r\n                var parameter = {};\r\n                parameter[config.type + 'Blob'] = dataURL;\r\n                DiskStorage.Store(parameter);\r\n            });\r\n        }\r\n    }\r\n\r\n    function pauseRecording() {\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'recording') {\r\n            if (!config.disableLogs) {\r\n                console.warn('Unable to pause the recording. Recording state: ', self.state);\r\n            }\r\n            return;\r\n        }\r\n\r\n        setState('paused');\r\n\r\n        mediaRecorder.pause();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Paused recording.');\r\n        }\r\n    }\r\n\r\n    function resumeRecording() {\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'paused') {\r\n            if (!config.disableLogs) {\r\n                console.warn('Unable to resume the recording. Recording state: ', self.state);\r\n            }\r\n            return;\r\n        }\r\n\r\n        setState('recording');\r\n\r\n        // not all libs have this method yet\r\n        mediaRecorder.resume();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Resumed recording.');\r\n        }\r\n    }\r\n\r\n    function readFile(_blob) {\r\n        postMessage(new FileReaderSync().readAsDataURL(_blob));\r\n    }\r\n\r\n    function getDataURL(callback, _mediaRecorder) {\r\n        if (!callback) {\r\n            throw 'Pass a callback function over getDataURL.';\r\n        }\r\n\r\n        var blob = _mediaRecorder ? _mediaRecorder.blob : (mediaRecorder || {}).blob;\r\n\r\n        if (!blob) {\r\n            if (!config.disableLogs) {\r\n                console.warn('Blob encoder did not finish its job yet.');\r\n            }\r\n\r\n            setTimeout(function() {\r\n                getDataURL(callback, _mediaRecorder);\r\n            }, 1000);\r\n            return;\r\n        }\r\n\r\n        if (typeof Worker !== 'undefined' && !navigator.mozGetUserMedia) {\r\n            var webWorker = processInWebWorker(readFile);\r\n\r\n            webWorker.onmessage = function(event) {\r\n                callback(event.data);\r\n            };\r\n\r\n            webWorker.postMessage(blob);\r\n        } else {\r\n            var reader = new FileReader();\r\n            reader.readAsDataURL(blob);\r\n            reader.onload = function(event) {\r\n                callback(event.target.result);\r\n            };\r\n        }\r\n\r\n        function processInWebWorker(_function) {\r\n            try {\r\n                var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n                    'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n                ], {\r\n                    type: 'application/javascript'\r\n                }));\r\n\r\n                var worker = new Worker(blob);\r\n                URL.revokeObjectURL(blob);\r\n                return worker;\r\n            } catch (e) {}\r\n        }\r\n    }\r\n\r\n    function handleRecordingDuration(counter) {\r\n        counter = counter || 0;\r\n\r\n        if (self.state === 'paused') {\r\n            setTimeout(function() {\r\n                handleRecordingDuration(counter);\r\n            }, 1000);\r\n            return;\r\n        }\r\n\r\n        if (self.state === 'stopped') {\r\n            return;\r\n        }\r\n\r\n        if (counter >= self.recordingDuration) {\r\n            stopRecording(self.onRecordingStopped);\r\n            return;\r\n        }\r\n\r\n        counter += 1000; // 1-second\r\n\r\n        setTimeout(function() {\r\n            handleRecordingDuration(counter);\r\n        }, 1000);\r\n    }\r\n\r\n    function setState(state) {\r\n        if (!self) {\r\n            return;\r\n        }\r\n\r\n        self.state = state;\r\n\r\n        if (typeof self.onStateChanged.call === 'function') {\r\n            self.onStateChanged.call(self, state);\r\n        } else {\r\n            self.onStateChanged(state);\r\n        }\r\n    }\r\n\r\n    var WARNING = 'It seems that recorder is destroyed or \"startRecording\" is not invoked for ' + config.type + ' recorder.';\r\n\r\n    function warningLog() {\r\n        if (config.disableLogs === true) {\r\n            return;\r\n        }\r\n\r\n        console.warn(WARNING);\r\n    }\r\n\r\n    var mediaRecorder;\r\n\r\n    var returnObject = {\r\n        /**\r\n         * This method starts the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var recorder = RecordRTC(mediaStream, {\r\n         *     type: 'video'\r\n         * });\r\n         * recorder.startRecording();\r\n         */\r\n        startRecording: startRecording,\r\n\r\n        /**\r\n         * This method stops the recording. It is strongly recommended to get \"blob\" or \"URI\" inside the callback to make sure all recorders finished their job.\r\n         * @param {function} callback - Callback to get the recorded blob.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     // use either \"this\" or \"recorder\" object; both are identical\r\n         *     video.src = this.toURL();\r\n         *     var blob = this.getBlob();\r\n         * });\r\n         */\r\n        stopRecording: stopRecording,\r\n\r\n        /**\r\n         * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo Firefox is unable to pause the recording. Fix it.\r\n         * @example\r\n         * recorder.pauseRecording();  // pause the recording\r\n         * recorder.resumeRecording(); // resume again\r\n         */\r\n        pauseRecording: pauseRecording,\r\n\r\n        /**\r\n         * This method resumes the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.pauseRecording();  // first of all, pause the recording\r\n         * recorder.resumeRecording(); // now resume it\r\n         */\r\n        resumeRecording: resumeRecording,\r\n\r\n        /**\r\n         * This method initializes the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo This method should be deprecated.\r\n         * @example\r\n         * recorder.initRecorder();\r\n         */\r\n        initRecorder: initRecorder,\r\n\r\n        /**\r\n         * Ask RecordRTC to auto-stop the recording after 5 minutes.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var fiveMinutes = 5 * 1000 * 60;\r\n         * recorder.setRecordingDuration(fiveMinutes, function() {\r\n         *    var blob = this.getBlob();\r\n         *    video.src = this.toURL();\r\n         * });\r\n         * \r\n         * // or otherwise\r\n         * recorder.setRecordingDuration(fiveMinutes).onRecordingStopped(function() {\r\n         *    var blob = this.getBlob();\r\n         *    video.src = this.toURL();\r\n         * });\r\n         */\r\n        setRecordingDuration: function(recordingDuration, callback) {\r\n            if (typeof recordingDuration === 'undefined') {\r\n                throw 'recordingDuration is required.';\r\n            }\r\n\r\n            if (typeof recordingDuration !== 'number') {\r\n                throw 'recordingDuration must be a number.';\r\n            }\r\n\r\n            self.recordingDuration = recordingDuration;\r\n            self.onRecordingStopped = callback || function() {};\r\n\r\n            return {\r\n                onRecordingStopped: function(callback) {\r\n                    self.onRecordingStopped = callback;\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * This method can be used to clear/reset all the recorded data.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo Figure out the difference between \"reset\" and \"clearRecordedData\" methods.\r\n         * @example\r\n         * recorder.clearRecordedData();\r\n         */\r\n        clearRecordedData: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            mediaRecorder.clearRecordedData();\r\n\r\n            if (!config.disableLogs) {\r\n                console.log('Cleared old recorded data.');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get the recorded blob. Use this method inside the \"stopRecording\" callback.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var blob = this.getBlob();\r\n         *\r\n         *     var file = new File([blob], 'filename.webm', {\r\n         *         type: 'video/webm'\r\n         *     });\r\n         *\r\n         *     var formData = new FormData();\r\n         *     formData.append('file', file); // upload \"File\" object rather than a \"Blob\"\r\n         *     uploadToServer(formData);\r\n         * });\r\n         * @returns {Blob} Returns recorded data as \"Blob\" object.\r\n         */\r\n        getBlob: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            return mediaRecorder.blob;\r\n        },\r\n\r\n        /**\r\n         * Get data-URI instead of Blob.\r\n         * @param {function} callback - Callback to get the Data-URI.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     recorder.getDataURL(function(dataURI) {\r\n         *         video.src = dataURI;\r\n         *     });\r\n         * });\r\n         */\r\n        getDataURL: getDataURL,\r\n\r\n        /**\r\n         * Get virtual/temporary URL. Usage of this URL is limited to current tab.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     video.src = this.toURL();\r\n         * });\r\n         * @returns {String} Returns a virtual/temporary URL for the recorded \"Blob\".\r\n         */\r\n        toURL: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            return URL.createObjectURL(mediaRecorder.blob);\r\n        },\r\n\r\n        /**\r\n         * Get internal recording object (i.e. internal module) e.g. MutliStreamRecorder, MediaStreamRecorder, StereoAudioRecorder or WhammyRecorder etc.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var internalRecorder = recorder.getInternalRecorder();\r\n         * if(internalRecorder instanceof MultiStreamRecorder) {\r\n         *     internalRecorder.addStreams([newAudioStream]);\r\n         *     internalRecorder.resetVideoStreams([screenStream]);\r\n         * }\r\n         * @returns {Object} Returns internal recording object.\r\n         */\r\n        getInternalRecorder: function() {\r\n            return mediaRecorder;\r\n        },\r\n\r\n        /**\r\n         * Invoke save-as dialog to save the recorded blob into your disk.\r\n         * @param {string} fileName - Set your own file name.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     this.save('file-name');\r\n         *\r\n         *     // or manually:\r\n         *     invokeSaveAsDialog(this.getBlob(), 'filename.webm');\r\n         * });\r\n         */\r\n        save: function(fileName) {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            invokeSaveAsDialog(mediaRecorder.blob, fileName);\r\n        },\r\n\r\n        /**\r\n         * This method gets a blob from indexed-DB storage.\r\n         * @param {function} callback - Callback to get the recorded blob.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.getFromDisk(function(dataURL) {\r\n         *     video.src = dataURL;\r\n         * });\r\n         */\r\n        getFromDisk: function(callback) {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            RecordRTC.getFromDisk(config.type, callback);\r\n        },\r\n\r\n        /**\r\n         * This method appends an array of webp images to the recorded video-blob. It takes an \"array\" object.\r\n         * @type {Array.<Array>}\r\n         * @param {Array} arrayOfWebPImages - Array of webp images.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo This method should be deprecated.\r\n         * @example\r\n         * var arrayOfWebPImages = [];\r\n         * arrayOfWebPImages.push({\r\n         *     duration: index,\r\n         *     image: 'data:image/webp;base64,...'\r\n         * });\r\n         * recorder.setAdvertisementArray(arrayOfWebPImages);\r\n         */\r\n        setAdvertisementArray: function(arrayOfWebPImages) {\r\n            config.advertisement = [];\r\n\r\n            var length = arrayOfWebPImages.length;\r\n            for (var i = 0; i < length; i++) {\r\n                config.advertisement.push({\r\n                    duration: i,\r\n                    image: arrayOfWebPImages[i]\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * It is equivalent to <code class=\"str\">\"recorder.getBlob()\"</code> method. Usage of \"getBlob\" is recommended, though.\r\n         * @property {Blob} blob - Recorded Blob can be accessed using this property.\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var blob = this.blob;\r\n         *\r\n         *     // below one is recommended\r\n         *     var blob = this.getBlob();\r\n         * });\r\n         */\r\n        blob: null,\r\n\r\n        /**\r\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\r\n         * @property {number} bufferSize - Buffer-size used to encode the WAV container\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     alert('Recorder used this buffer-size: ' + this.bufferSize);\r\n         * });\r\n         */\r\n        bufferSize: 0,\r\n\r\n        /**\r\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\r\n         * @property {number} sampleRate - Sample-rates used to encode the WAV container\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     alert('Recorder used these sample-rates: ' + this.sampleRate);\r\n         * });\r\n         */\r\n        sampleRate: 0,\r\n\r\n        /**\r\n         * {recorderType:StereoAudioRecorder} returns ArrayBuffer object.\r\n         * @property {ArrayBuffer} buffer - Audio ArrayBuffer, supported only in Chrome.\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var arrayBuffer = this.buffer;\r\n         *     alert(arrayBuffer.byteLength);\r\n         * });\r\n         */\r\n        buffer: null,\r\n\r\n        /**\r\n         * This method resets the recorder. So that you can reuse single recorder instance many times.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.reset();\r\n         * recorder.startRecording();\r\n         */\r\n        reset: function() {\r\n            if (self.state === 'recording' && !config.disableLogs) {\r\n                console.warn('Stop an active recorder.');\r\n            }\r\n\r\n            if (mediaRecorder && typeof mediaRecorder.clearRecordedData === 'function') {\r\n                mediaRecorder.clearRecordedData();\r\n            }\r\n            mediaRecorder = null;\r\n            setState('inactive');\r\n            self.blob = null;\r\n        },\r\n\r\n        /**\r\n         * This method is called whenever recorder's state changes. Use this as an \"event\".\r\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.onStateChanged = function(state) {\r\n         *     console.log('Recorder state: ', state);\r\n         * };\r\n         */\r\n        onStateChanged: function(state) {\r\n            if (!config.disableLogs) {\r\n                console.log('Recorder state changed:', state);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * A recorder can have inactive, recording, paused or stopped states.\r\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\r\n         * @memberof RecordRTC\r\n         * @static\r\n         * @readonly\r\n         * @example\r\n         * // this looper function will keep you updated about the recorder's states.\r\n         * (function looper() {\r\n         *     document.querySelector('h1').innerHTML = 'Recorder\\'s state is: ' + recorder.state;\r\n         *     if(recorder.state === 'stopped') return; // ignore+stop\r\n         *     setTimeout(looper, 1000); // update after every 3-seconds\r\n         * })();\r\n         * recorder.startRecording();\r\n         */\r\n        state: 'inactive',\r\n\r\n        /**\r\n         * Get recorder's readonly state.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @example\r\n         * var state = recorder.getState();\r\n         * @returns {String} Returns recording state.\r\n         */\r\n        getState: function() {\r\n            return self.state;\r\n        },\r\n\r\n        /**\r\n         * Destroy RecordRTC instance. Clear all recorders and objects.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @example\r\n         * recorder.destroy();\r\n         */\r\n        destroy: function() {\r\n            var disableLogsCache = config.disableLogs;\r\n\r\n            config = {\r\n                disableLogs: true\r\n            };\r\n            self.reset();\r\n            setState('destroyed');\r\n            returnObject = self = null;\r\n\r\n            if (Storage.AudioContextConstructor) {\r\n                Storage.AudioContextConstructor.close();\r\n                Storage.AudioContextConstructor = null;\r\n            }\r\n\r\n            config.disableLogs = disableLogsCache;\r\n\r\n            if (!config.disableLogs) {\r\n                console.log('RecordRTC is destroyed.');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * RecordRTC version number\r\n         * @property {String} version - Release version number.\r\n         * @memberof RecordRTC\r\n         * @static\r\n         * @readonly\r\n         * @example\r\n         * alert(recorder.version);\r\n         */\r\n        version: '5.6.2'\r\n    };\r\n\r\n    if (!this) {\r\n        self = returnObject;\r\n        return returnObject;\r\n    }\r\n\r\n    // if someone wants to use RecordRTC with the \"new\" keyword.\r\n    for (var prop in returnObject) {\r\n        this[prop] = returnObject[prop];\r\n    }\r\n\r\n    self = this;\r\n\r\n    return returnObject;\r\n}\r\n\r\nRecordRTC.version = '5.6.2';\r\n\r\nif (typeof module !== 'undefined' /* && !!module.exports*/ ) {\r\n    module.exports = RecordRTC;\r\n}\r\n\r\nif (typeof define === 'function' && define.amd) {\r\n    define('RecordRTC', [], function() {\r\n        return RecordRTC;\r\n    });\r\n}\n\r\nRecordRTC.getFromDisk = function(type, callback) {\r\n    if (!callback) {\r\n        throw 'callback is mandatory.';\r\n    }\r\n\r\n    console.log('Getting recorded ' + (type === 'all' ? 'blobs' : type + ' blob ') + ' from disk!');\r\n    DiskStorage.Fetch(function(dataURL, _type) {\r\n        if (type !== 'all' && _type === type + 'Blob' && callback) {\r\n            callback(dataURL);\r\n        }\r\n\r\n        if (type === 'all' && callback) {\r\n            callback(dataURL, _type.replace('Blob', ''));\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * This method can be used to store recorded blobs into IndexedDB storage.\r\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\r\n * @method\r\n * @memberof RecordRTC\r\n * @example\r\n * RecordRTC.writeToDisk({\r\n *     audio: audioBlob,\r\n *     video: videoBlob,\r\n *     gif  : gifBlob\r\n * });\r\n */\r\nRecordRTC.writeToDisk = function(options) {\r\n    console.log('Writing recorded blob(s) to disk!');\r\n    options = options || {};\r\n    if (options.audio && options.video && options.gif) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.video.getDataURL(function(videoDataURL) {\r\n                options.gif.getDataURL(function(gifDataURL) {\r\n                    DiskStorage.Store({\r\n                        audioBlob: audioDataURL,\r\n                        videoBlob: videoDataURL,\r\n                        gifBlob: gifDataURL\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio && options.video) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.video.getDataURL(function(videoDataURL) {\r\n                DiskStorage.Store({\r\n                    audioBlob: audioDataURL,\r\n                    videoBlob: videoDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio && options.gif) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.gif.getDataURL(function(gifDataURL) {\r\n                DiskStorage.Store({\r\n                    audioBlob: audioDataURL,\r\n                    gifBlob: gifDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.video && options.gif) {\r\n        options.video.getDataURL(function(videoDataURL) {\r\n            options.gif.getDataURL(function(gifDataURL) {\r\n                DiskStorage.Store({\r\n                    videoBlob: videoDataURL,\r\n                    gifBlob: gifDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            DiskStorage.Store({\r\n                audioBlob: audioDataURL\r\n            });\r\n        });\r\n    } else if (options.video) {\r\n        options.video.getDataURL(function(videoDataURL) {\r\n            DiskStorage.Store({\r\n                videoBlob: videoDataURL\r\n            });\r\n        });\r\n    } else if (options.gif) {\r\n        options.gif.getDataURL(function(gifDataURL) {\r\n            DiskStorage.Store({\r\n                gifBlob: gifDataURL\r\n            });\r\n        });\r\n    }\r\n};\n\r\n// __________________________\r\n// RecordRTC-Configuration.js\r\n\r\n/**\r\n * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.\r\n * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid \"config\" object.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTCConfiguration\r\n * @class\r\n * @example\r\n * var options = RecordRTCConfiguration(mediaStream, options);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}\r\n */\r\n\r\nfunction RecordRTCConfiguration(mediaStream, config) {\r\n    if (!config.recorderType && !config.type) {\r\n        if (!!config.audio && !!config.video) {\r\n            config.type = 'video';\r\n        } else if (!!config.audio && !config.video) {\r\n            config.type = 'audio';\r\n        }\r\n    }\r\n\r\n    if (config.recorderType && !config.type) {\r\n        if (config.recorderType === WhammyRecorder || config.recorderType === CanvasRecorder || (typeof WebAssemblyRecorder !== 'undefined' && config.recorderType === WebAssemblyRecorder)) {\r\n            config.type = 'video';\r\n        } else if (config.recorderType === GifRecorder) {\r\n            config.type = 'gif';\r\n        } else if (config.recorderType === StereoAudioRecorder) {\r\n            config.type = 'audio';\r\n        } else if (config.recorderType === MediaStreamRecorder) {\r\n            if (getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\r\n                config.type = 'video';\r\n            } else if (!getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\r\n                config.type = 'video';\r\n            } else if (getTracks(mediaStream, 'audio').length && !getTracks(mediaStream, 'video').length) {\r\n                config.type = 'audio';\r\n            } else {\r\n                // config.type = 'UnKnown';\r\n            }\r\n        }\r\n    }\r\n\r\n    if (typeof MediaStreamRecorder !== 'undefined' && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\r\n        if (!config.mimeType) {\r\n            config.mimeType = 'video/webm';\r\n        }\r\n\r\n        if (!config.type) {\r\n            config.type = config.mimeType.split('/')[0];\r\n        }\r\n\r\n        if (!config.bitsPerSecond) {\r\n            // config.bitsPerSecond = 128000;\r\n        }\r\n    }\r\n\r\n    // consider default type=audio\r\n    if (!config.type) {\r\n        if (config.mimeType) {\r\n            config.type = config.mimeType.split('/')[0];\r\n        }\r\n        if (!config.type) {\r\n            config.type = 'audio';\r\n        }\r\n    }\r\n\r\n    return config;\r\n}\n\r\n// __________________\r\n// GetRecorderType.js\r\n\r\n/**\r\n * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.\r\n * @summary It returns best recorder-type available for your browser.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef GetRecorderType\r\n * @class\r\n * @example\r\n * var RecorderType = GetRecorderType(options);\r\n * var recorder = new RecorderType(options);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction GetRecorderType(mediaStream, config) {\r\n    var recorder;\r\n\r\n    // StereoAudioRecorder can work with all three: Edge, Firefox and Chrome\r\n    // todo: detect if it is Edge, then auto use: StereoAudioRecorder\r\n    if (isChrome || isEdge || isOpera) {\r\n        // Media Stream Recording API has not been implemented in chrome yet;\r\n        // That's why using WebAudio API to record stereo audio in WAV format\r\n        recorder = StereoAudioRecorder;\r\n    }\r\n\r\n    if (typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype && !isChrome) {\r\n        recorder = MediaStreamRecorder;\r\n    }\r\n\r\n    // video recorder (in WebM format)\r\n    if (config.type === 'video' && (isChrome || isOpera)) {\r\n        recorder = WhammyRecorder;\r\n\r\n        if (typeof WebAssemblyRecorder !== 'undefined' && typeof ReadableStream !== 'undefined') {\r\n            recorder = WebAssemblyRecorder;\r\n        }\r\n    }\r\n\r\n    // video recorder (in Gif format)\r\n    if (config.type === 'gif') {\r\n        recorder = GifRecorder;\r\n    }\r\n\r\n    // html2canvas recording!\r\n    if (config.type === 'canvas') {\r\n        recorder = CanvasRecorder;\r\n    }\r\n\r\n    if (isMediaRecorderCompatible() && recorder !== CanvasRecorder && recorder !== GifRecorder && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\r\n        if (getTracks(mediaStream, 'video').length || getTracks(mediaStream, 'audio').length) {\r\n            // audio-only recording\r\n            if (config.type === 'audio') {\r\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('audio/webm')) {\r\n                    recorder = MediaStreamRecorder;\r\n                }\r\n                // else recorder = StereoAudioRecorder;\r\n            } else {\r\n                // video or screen tracks\r\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('video/webm')) {\r\n                    recorder = MediaStreamRecorder;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (mediaStream instanceof Array && mediaStream.length) {\r\n        recorder = MultiStreamRecorder;\r\n    }\r\n\r\n    if (config.recorderType) {\r\n        recorder = config.recorderType;\r\n    }\r\n\r\n    if (!config.disableLogs && !!recorder && !!recorder.name) {\r\n        console.log('Using recorderType:', recorder.name || recorder.constructor.name);\r\n    }\r\n\r\n    if (!recorder && isSafari) {\r\n        recorder = MediaStreamRecorder;\r\n    }\r\n\r\n    return recorder;\r\n}\n\r\n// _____________\r\n// MRecordRTC.js\r\n\r\n/**\r\n * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.\r\n * @summary MRecordRTC stands for \"Multiple-RecordRTC\".\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef MRecordRTC\r\n * @class\r\n * @example\r\n * var recorder = new MRecordRTC();\r\n * recorder.addStream(MediaStream);\r\n * recorder.mediaType = {\r\n *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder\r\n *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder\r\n *     gif: true    // or GifRecorder\r\n * };\r\n * // mimeType is optional and should be set only in advance cases.\r\n * recorder.mimeType = {\r\n *     audio: 'audio/wav',\r\n *     video: 'video/webm',\r\n *     gif:   'image/gif'\r\n * };\r\n * recorder.startRecording();\r\n * @see For further information:\r\n * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @requires {@link RecordRTC}\r\n */\r\n\r\nfunction MRecordRTC(mediaStream) {\r\n\r\n    /**\r\n     * This method attaches MediaStream object to {@link MRecordRTC}.\r\n     * @param {MediaStream} mediaStream - A MediaStream object, either fetched using getUserMedia API, or generated using captureStreamUntilEnded or WebAudio API.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.addStream(MediaStream);\r\n     */\r\n    this.addStream = function(_mediaStream) {\r\n        if (_mediaStream) {\r\n            mediaStream = _mediaStream;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This property can be used to set the recording type e.g. audio, or video, or gif, or canvas.\r\n     * @property {object} mediaType - {audio: true, video: true, gif: true}\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * var recorder = new MRecordRTC();\r\n     * recorder.mediaType = {\r\n     *     audio: true, // TRUE or StereoAudioRecorder or MediaStreamRecorder\r\n     *     video: true, // TRUE or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder\r\n     *     gif  : true  // TRUE or GifRecorder\r\n     * };\r\n     */\r\n    this.mediaType = {\r\n        audio: true,\r\n        video: true\r\n    };\r\n\r\n    /**\r\n     * This method starts recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.startRecording();\r\n     */\r\n    this.startRecording = function() {\r\n        var mediaType = this.mediaType;\r\n        var recorderType;\r\n        var mimeType = this.mimeType || {\r\n            audio: null,\r\n            video: null,\r\n            gif: null\r\n        };\r\n\r\n        if (typeof mediaType.audio !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'audio').length) {\r\n            mediaType.audio = false;\r\n        }\r\n\r\n        if (typeof mediaType.video !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\r\n            mediaType.video = false;\r\n        }\r\n\r\n        if (typeof mediaType.gif !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\r\n            mediaType.gif = false;\r\n        }\r\n\r\n        if (!mediaType.audio && !mediaType.video && !mediaType.gif) {\r\n            throw 'MediaStream must have either audio or video tracks.';\r\n        }\r\n\r\n        if (!!mediaType.audio) {\r\n            recorderType = null;\r\n            if (typeof mediaType.audio === 'function') {\r\n                recorderType = mediaType.audio;\r\n            }\r\n\r\n            this.audioRecorder = new RecordRTC(mediaStream, {\r\n                type: 'audio',\r\n                bufferSize: this.bufferSize,\r\n                sampleRate: this.sampleRate,\r\n                numberOfAudioChannels: this.numberOfAudioChannels || 2,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.audio,\r\n                timeSlice: this.timeSlice,\r\n                onTimeStamp: this.onTimeStamp\r\n            });\r\n\r\n            if (!mediaType.video) {\r\n                this.audioRecorder.startRecording();\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.video) {\r\n            recorderType = null;\r\n            if (typeof mediaType.video === 'function') {\r\n                recorderType = mediaType.video;\r\n            }\r\n\r\n            var newStream = mediaStream;\r\n\r\n            if (isMediaRecorderCompatible() && !!mediaType.audio && typeof mediaType.audio === 'function') {\r\n                var videoTrack = getTracks(mediaStream, 'video')[0];\r\n\r\n                if (isFirefox) {\r\n                    newStream = new MediaStream();\r\n                    newStream.addTrack(videoTrack);\r\n\r\n                    if (recorderType && recorderType === WhammyRecorder) {\r\n                        // Firefox does NOT supports webp-encoding yet\r\n                        // But Firefox do supports WebAssemblyRecorder\r\n                        recorderType = MediaStreamRecorder;\r\n                    }\r\n                } else {\r\n                    newStream = new MediaStream();\r\n                    newStream.addTrack(videoTrack);\r\n                }\r\n            }\r\n\r\n            this.videoRecorder = new RecordRTC(newStream, {\r\n                type: 'video',\r\n                video: this.video,\r\n                canvas: this.canvas,\r\n                frameInterval: this.frameInterval || 10,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.video,\r\n                timeSlice: this.timeSlice,\r\n                onTimeStamp: this.onTimeStamp,\r\n                workerPath: this.workerPath,\r\n                webAssemblyPath: this.webAssemblyPath,\r\n                frameRate: this.frameRate, // used by WebAssemblyRecorder; values: usually 30; accepts any.\r\n                bitrate: this.bitrate // used by WebAssemblyRecorder; values: 0 to 1000+\r\n            });\r\n\r\n            if (!mediaType.audio) {\r\n                this.videoRecorder.startRecording();\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.audio && !!mediaType.video) {\r\n            var self = this;\r\n\r\n            var isSingleRecorder = isMediaRecorderCompatible() === true;\r\n\r\n            if (mediaType.audio instanceof StereoAudioRecorder && !!mediaType.video) {\r\n                isSingleRecorder = false;\r\n            } else if (mediaType.audio !== true && mediaType.video !== true && mediaType.audio !== mediaType.video) {\r\n                isSingleRecorder = false;\r\n            }\r\n\r\n            if (isSingleRecorder === true) {\r\n                self.audioRecorder = null;\r\n                self.videoRecorder.startRecording();\r\n            } else {\r\n                self.videoRecorder.initRecorder(function() {\r\n                    self.audioRecorder.initRecorder(function() {\r\n                        // Both recorders are ready to record things accurately\r\n                        self.videoRecorder.startRecording();\r\n                        self.audioRecorder.startRecording();\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.gif) {\r\n            recorderType = null;\r\n            if (typeof mediaType.gif === 'function') {\r\n                recorderType = mediaType.gif;\r\n            }\r\n            this.gifRecorder = new RecordRTC(mediaStream, {\r\n                type: 'gif',\r\n                frameRate: this.frameRate || 200,\r\n                quality: this.quality || 10,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.gif\r\n            });\r\n            this.gifRecorder.startRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method stops recording.\r\n     * @param {function} callback - Callback function is invoked when all encoders finished their jobs.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.stopRecording(function(recording){\r\n     *     var audioBlob = recording.audio;\r\n     *     var videoBlob = recording.video;\r\n     *     var gifBlob   = recording.gif;\r\n     * });\r\n     */\r\n    this.stopRecording = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'audio');\r\n            });\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'video');\r\n            });\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'gif');\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method pauses recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.pauseRecording();\r\n     */\r\n    this.pauseRecording = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.pauseRecording();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.pauseRecording();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.pauseRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.resumeRecording();\r\n     */\r\n    this.resumeRecording = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.resumeRecording();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.resumeRecording();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.resumeRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to manually get all recorded blobs.\r\n     * @param {function} callback - All recorded blobs are passed back to the \"callback\" function.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.getBlob(function(recording){\r\n     *     var audioBlob = recording.audio;\r\n     *     var videoBlob = recording.video;\r\n     *     var gifBlob   = recording.gif;\r\n     * });\r\n     * // or\r\n     * var audioBlob = recorder.getBlob().audio;\r\n     * var videoBlob = recorder.getBlob().video;\r\n     */\r\n    this.getBlob = function(callback) {\r\n        var output = {};\r\n\r\n        if (this.audioRecorder) {\r\n            output.audio = this.audioRecorder.getBlob();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            output.video = this.videoRecorder.getBlob();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            output.gif = this.gifRecorder.getBlob();\r\n        }\r\n\r\n        if (callback) {\r\n            callback(output);\r\n        }\r\n\r\n        return output;\r\n    };\r\n\r\n    /**\r\n     * Destroy all recorder instances.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.destroy();\r\n     */\r\n    this.destroy = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.destroy();\r\n            this.audioRecorder = null;\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.destroy();\r\n            this.videoRecorder = null;\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.destroy();\r\n            this.gifRecorder = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to manually get all recorded blobs' DataURLs.\r\n     * @param {function} callback - All recorded blobs' DataURLs are passed back to the \"callback\" function.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.getDataURL(function(recording){\r\n     *     var audioDataURL = recording.audio;\r\n     *     var videoDataURL = recording.video;\r\n     *     var gifDataURL   = recording.gif;\r\n     * });\r\n     */\r\n    this.getDataURL = function(callback) {\r\n        this.getBlob(function(blob) {\r\n            if (blob.audio && blob.video) {\r\n                getDataURL(blob.audio, function(_audioDataURL) {\r\n                    getDataURL(blob.video, function(_videoDataURL) {\r\n                        callback({\r\n                            audio: _audioDataURL,\r\n                            video: _videoDataURL\r\n                        });\r\n                    });\r\n                });\r\n            } else if (blob.audio) {\r\n                getDataURL(blob.audio, function(_audioDataURL) {\r\n                    callback({\r\n                        audio: _audioDataURL\r\n                    });\r\n                });\r\n            } else if (blob.video) {\r\n                getDataURL(blob.video, function(_videoDataURL) {\r\n                    callback({\r\n                        video: _videoDataURL\r\n                    });\r\n                });\r\n            }\r\n        });\r\n\r\n        function getDataURL(blob, callback00) {\r\n            if (typeof Worker !== 'undefined') {\r\n                var webWorker = processInWebWorker(function readFile(_blob) {\r\n                    postMessage(new FileReaderSync().readAsDataURL(_blob));\r\n                });\r\n\r\n                webWorker.onmessage = function(event) {\r\n                    callback00(event.data);\r\n                };\r\n\r\n                webWorker.postMessage(blob);\r\n            } else {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(blob);\r\n                reader.onload = function(event) {\r\n                    callback00(event.target.result);\r\n                };\r\n            }\r\n        }\r\n\r\n        function processInWebWorker(_function) {\r\n            var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n                'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n            ], {\r\n                type: 'application/javascript'\r\n            }));\r\n\r\n            var worker = new Worker(blob);\r\n            var url;\r\n            if (typeof URL !== 'undefined') {\r\n                url = URL;\r\n            } else if (typeof webkitURL !== 'undefined') {\r\n                url = webkitURL;\r\n            } else {\r\n                throw 'Neither URL nor webkitURL detected.';\r\n            }\r\n            url.revokeObjectURL(blob);\r\n            return worker;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to ask {@link MRecordRTC} to write all recorded blobs into IndexedDB storage.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.writeToDisk();\r\n     */\r\n    this.writeToDisk = function() {\r\n        RecordRTC.writeToDisk({\r\n            audio: this.audioRecorder,\r\n            video: this.videoRecorder,\r\n            gif: this.gifRecorder\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method can be used to invoke a save-as dialog for all recorded blobs.\r\n     * @param {object} args - {audio: 'audio-name', video: 'video-name', gif: 'gif-name'}\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.save({\r\n     *     audio: 'audio-file-name',\r\n     *     video: 'video-file-name',\r\n     *     gif  : 'gif-file-name'\r\n     * });\r\n     */\r\n    this.save = function(args) {\r\n        args = args || {\r\n            audio: true,\r\n            video: true,\r\n            gif: true\r\n        };\r\n\r\n        if (!!args.audio && this.audioRecorder) {\r\n            this.audioRecorder.save(typeof args.audio === 'string' ? args.audio : '');\r\n        }\r\n\r\n        if (!!args.video && this.videoRecorder) {\r\n            this.videoRecorder.save(typeof args.video === 'string' ? args.video : '');\r\n        }\r\n        if (!!args.gif && this.gifRecorder) {\r\n            this.gifRecorder.save(typeof args.gif === 'string' ? args.gif : '');\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * This method can be used to get all recorded blobs from IndexedDB storage.\r\n * @param {string} type - 'all' or 'audio' or 'video' or 'gif'\r\n * @param {function} callback - Callback function to get all stored blobs.\r\n * @method\r\n * @memberof MRecordRTC\r\n * @example\r\n * MRecordRTC.getFromDisk('all', function(dataURL, type){\r\n *     if(type === 'audio') { }\r\n *     if(type === 'video') { }\r\n *     if(type === 'gif')   { }\r\n * });\r\n */\r\nMRecordRTC.getFromDisk = RecordRTC.getFromDisk;\r\n\r\n/**\r\n * This method can be used to store recorded blobs into IndexedDB storage.\r\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\r\n * @method\r\n * @memberof MRecordRTC\r\n * @example\r\n * MRecordRTC.writeToDisk({\r\n *     audio: audioBlob,\r\n *     video: videoBlob,\r\n *     gif  : gifBlob\r\n * });\r\n */\r\nMRecordRTC.writeToDisk = RecordRTC.writeToDisk;\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MRecordRTC = MRecordRTC;\r\n}\n\r\nvar browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\r\n\r\n(function(that) {\r\n    if (!that) {\r\n        return;\r\n    }\r\n\r\n    if (typeof window !== 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof global === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    global.navigator = {\r\n        userAgent: browserFakeUserAgent,\r\n        getUserMedia: function() {}\r\n    };\r\n\r\n    if (!global.console) {\r\n        global.console = {};\r\n    }\r\n\r\n    if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\r\n        global.console.error = global.console.log = global.console.log || function() {\r\n            console.log(arguments);\r\n        };\r\n    }\r\n\r\n    if (typeof document === 'undefined') {\r\n        /*global document:true */\r\n        that.document = {\r\n            documentElement: {\r\n                appendChild: function() {\r\n                    return '';\r\n                }\r\n            }\r\n        };\r\n\r\n        document.createElement = document.captureStream = document.mozCaptureStream = function() {\r\n            var obj = {\r\n                getContext: function() {\r\n                    return obj;\r\n                },\r\n                play: function() {},\r\n                pause: function() {},\r\n                drawImage: function() {},\r\n                toDataURL: function() {\r\n                    return '';\r\n                },\r\n                style: {}\r\n            };\r\n            return obj;\r\n        };\r\n\r\n        that.HTMLVideoElement = function() {};\r\n    }\r\n\r\n    if (typeof location === 'undefined') {\r\n        /*global location:true */\r\n        that.location = {\r\n            protocol: 'file:',\r\n            href: '',\r\n            hash: ''\r\n        };\r\n    }\r\n\r\n    if (typeof screen === 'undefined') {\r\n        /*global screen:true */\r\n        that.screen = {\r\n            width: 0,\r\n            height: 0\r\n        };\r\n    }\r\n\r\n    if (typeof URL === 'undefined') {\r\n        /*global screen:true */\r\n        that.URL = {\r\n            createObjectURL: function() {\r\n                return '';\r\n            },\r\n            revokeObjectURL: function() {\r\n                return '';\r\n            }\r\n        };\r\n    }\r\n\r\n    /*global window:true */\r\n    that.window = global;\r\n})(typeof global !== 'undefined' ? global : null);\n\r\n// _____________________________\r\n// Cross-Browser-Declarations.js\r\n\r\n// animation-frame used in WebM recording\r\n\r\n/*jshint -W079 */\r\nvar requestAnimationFrame = window.requestAnimationFrame;\r\nif (typeof requestAnimationFrame === 'undefined') {\r\n    if (typeof webkitRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = webkitRequestAnimationFrame;\r\n    } else if (typeof mozRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = mozRequestAnimationFrame;\r\n    } else if (typeof msRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = msRequestAnimationFrame;\r\n    } else if (typeof requestAnimationFrame === 'undefined') {\r\n        // via: https://gist.github.com/paulirish/1579671\r\n        var lastTime = 0;\r\n\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = function(callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function() {\r\n                callback(currTime + timeToCall);\r\n            }, timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    }\r\n}\r\n\r\n/*jshint -W079 */\r\nvar cancelAnimationFrame = window.cancelAnimationFrame;\r\nif (typeof cancelAnimationFrame === 'undefined') {\r\n    if (typeof webkitCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = webkitCancelAnimationFrame;\r\n    } else if (typeof mozCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = mozCancelAnimationFrame;\r\n    } else if (typeof msCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = msCancelAnimationFrame;\r\n    } else if (typeof cancelAnimationFrame === 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n    }\r\n}\r\n\r\n// WebAudio API representer\r\nvar AudioContext = window.AudioContext;\r\n\r\nif (typeof AudioContext === 'undefined') {\r\n    if (typeof webkitAudioContext !== 'undefined') {\r\n        /*global AudioContext:true */\r\n        AudioContext = webkitAudioContext;\r\n    }\r\n\r\n    if (typeof mozAudioContext !== 'undefined') {\r\n        /*global AudioContext:true */\r\n        AudioContext = mozAudioContext;\r\n    }\r\n}\r\n\r\n/*jshint -W079 */\r\nvar URL = window.URL;\r\n\r\nif (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\r\n    /*global URL:true */\r\n    URL = webkitURL;\r\n}\r\n\r\nif (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\r\n    if (typeof navigator.webkitGetUserMedia !== 'undefined') {\r\n        navigator.getUserMedia = navigator.webkitGetUserMedia;\r\n    }\r\n\r\n    if (typeof navigator.mozGetUserMedia !== 'undefined') {\r\n        navigator.getUserMedia = navigator.mozGetUserMedia;\r\n    }\r\n}\r\n\r\nvar isEdge = navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveBlob || !!navigator.msSaveOrOpenBlob);\r\nvar isOpera = !!window.opera || navigator.userAgent.indexOf('OPR/') !== -1;\r\nvar isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 && ('netscape' in window) && / rv:/.test(navigator.userAgent);\r\nvar isChrome = (!isOpera && !isEdge && !!navigator.webkitGetUserMedia) || isElectron() || navigator.userAgent.toLowerCase().indexOf('chrome/') !== -1;\r\n\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n\r\nif (isSafari && !isChrome && navigator.userAgent.indexOf('CriOS') !== -1) {\r\n    isSafari = false;\r\n    isChrome = true;\r\n}\r\n\r\nvar MediaStream = window.MediaStream;\r\n\r\nif (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\r\n    MediaStream = webkitMediaStream;\r\n}\r\n\r\n/*global MediaStream:true */\r\nif (typeof MediaStream !== 'undefined') {\r\n    // override \"stop\" method for all browsers\r\n    if (typeof MediaStream.prototype.stop === 'undefined') {\r\n        MediaStream.prototype.stop = function() {\r\n            this.getTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        };\r\n    }\r\n}\r\n\r\n// below function via: http://goo.gl/B3ae8c\r\n/**\r\n * Return human-readable file size.\r\n * @param {number} bytes - Pass bytes and get formatted string.\r\n * @returns {string} - formatted string\r\n * @example\r\n * bytesToSize(1024*1024*5) === '5 GB'\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction bytesToSize(bytes) {\r\n    var k = 1000;\r\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    if (bytes === 0) {\r\n        return '0 Bytes';\r\n    }\r\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10);\r\n    return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\r\n}\r\n\r\n/**\r\n * @param {Blob} file - File or Blob object. This parameter is required.\r\n * @param {string} fileName - Optional file name e.g. \"Recorded-Video.webm\"\r\n * @example\r\n * invokeSaveAsDialog(blob or file, [optional] fileName);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction invokeSaveAsDialog(file, fileName) {\r\n    if (!file) {\r\n        throw 'Blob object is required.';\r\n    }\r\n\r\n    if (!file.type) {\r\n        try {\r\n            file.type = 'video/webm';\r\n        } catch (e) {}\r\n    }\r\n\r\n    var fileExtension = (file.type || 'video/webm').split('/')[1];\r\n    if (fileExtension.indexOf(';') !== -1) {\r\n        // extended mimetype, e.g. 'video/webm;codecs=vp8,opus'\r\n        fileExtension = fileExtension.split(';')[0];\r\n    }\r\n    if (fileName && fileName.indexOf('.') !== -1) {\r\n        var splitted = fileName.split('.');\r\n        fileName = splitted[0];\r\n        fileExtension = splitted[1];\r\n    }\r\n\r\n    var fileFullName = (fileName || (Math.round(Math.random() * 9999999999) + 888888888)) + '.' + fileExtension;\r\n\r\n    if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\r\n        return navigator.msSaveOrOpenBlob(file, fileFullName);\r\n    } else if (typeof navigator.msSaveBlob !== 'undefined') {\r\n        return navigator.msSaveBlob(file, fileFullName);\r\n    }\r\n\r\n    var hyperlink = document.createElement('a');\r\n    hyperlink.href = URL.createObjectURL(file);\r\n    hyperlink.download = fileFullName;\r\n\r\n    hyperlink.style = 'display:none;opacity:0;color:transparent;';\r\n    (document.body || document.documentElement).appendChild(hyperlink);\r\n\r\n    if (typeof hyperlink.click === 'function') {\r\n        hyperlink.click();\r\n    } else {\r\n        hyperlink.target = '_blank';\r\n        hyperlink.dispatchEvent(new MouseEvent('click', {\r\n            view: window,\r\n            bubbles: true,\r\n            cancelable: true\r\n        }));\r\n    }\r\n\r\n    URL.revokeObjectURL(hyperlink.href);\r\n}\r\n\r\n/**\r\n * from: https://github.com/cheton/is-electron/blob/master/index.js\r\n **/\r\nfunction isElectron() {\r\n    // Renderer process\r\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\r\n        return true;\r\n    }\r\n\r\n    // Main process\r\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\r\n        return true;\r\n    }\r\n\r\n    // Detect the user agent when the `nodeIntegration` option is set to true\r\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction getTracks(stream, kind) {\r\n    if (!stream || !stream.getTracks) {\r\n        return [];\r\n    }\r\n\r\n    return stream.getTracks().filter(function(t) {\r\n        return t.kind === (kind || 'audio');\r\n    });\r\n}\r\n\r\nfunction setSrcObject(stream, element) {\r\n    if ('srcObject' in element) {\r\n        element.srcObject = stream;\r\n    } else if ('mozSrcObject' in element) {\r\n        element.mozSrcObject = stream;\r\n    } else {\r\n        element.srcObject = stream;\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Blob} file - File or Blob object.\r\n * @param {function} callback - Callback function.\r\n * @example\r\n * getSeekableBlob(blob or file, callback);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction getSeekableBlob(inputBlob, callback) {\r\n    // EBML.js copyrights goes to: https://github.com/legokichi/ts-ebml\r\n    if (typeof EBML === 'undefined') {\r\n        throw new Error('Please link: https://www.webrtc-experiment.com/EBML.js');\r\n    }\r\n\r\n    var reader = new EBML.Reader();\r\n    var decoder = new EBML.Decoder();\r\n    var tools = EBML.tools;\r\n\r\n    var fileReader = new FileReader();\r\n    fileReader.onload = function(e) {\r\n        var ebmlElms = decoder.decode(this.result);\r\n        ebmlElms.forEach(function(element) {\r\n            reader.read(element);\r\n        });\r\n        reader.stop();\r\n        var refinedMetadataBuf = tools.makeMetadataSeekable(reader.metadatas, reader.duration, reader.cues);\r\n        var body = this.result.slice(reader.metadataSize);\r\n        var newBlob = new Blob([refinedMetadataBuf, body], {\r\n            type: 'video/webm'\r\n        });\r\n\r\n        callback(newBlob);\r\n    };\r\n    fileReader.readAsArrayBuffer(inputBlob);\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.invokeSaveAsDialog = invokeSaveAsDialog;\r\n    RecordRTC.getTracks = getTracks;\r\n    RecordRTC.getSeekableBlob = getSeekableBlob;\r\n    RecordRTC.bytesToSize = bytesToSize;\r\n    RecordRTC.isElectron = isElectron;\r\n}\r\n\r\n// __________ (used to handle stuff like http://goo.gl/xmE5eg) issue #129\r\n// Storage.js\r\n\r\n/**\r\n * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. \"new AudioContext\".\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @example\r\n * Storage.AudioContext === webkitAudioContext\r\n * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\nvar Storage = {};\r\n\r\nif (typeof AudioContext !== 'undefined') {\r\n    Storage.AudioContext = AudioContext;\r\n} else if (typeof webkitAudioContext !== 'undefined') {\r\n    Storage.AudioContext = webkitAudioContext;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.Storage = Storage;\r\n}\n\r\nfunction isMediaRecorderCompatible() {\r\n    if (isFirefox || isSafari || isEdge) {\r\n        return true;\r\n    }\r\n\r\n    var nVer = navigator.appVersion;\r\n    var nAgt = navigator.userAgent;\r\n    var fullVersion = '' + parseFloat(navigator.appVersion);\r\n    var majorVersion = parseInt(navigator.appVersion, 10);\r\n    var nameOffset, verOffset, ix;\r\n\r\n    if (isChrome || isOpera) {\r\n        verOffset = nAgt.indexOf('Chrome');\r\n        fullVersion = nAgt.substring(verOffset + 7);\r\n    }\r\n\r\n    // trim the fullVersion string at semicolon/space if present\r\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\r\n        fullVersion = fullVersion.substring(0, ix);\r\n    }\r\n\r\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\r\n        fullVersion = fullVersion.substring(0, ix);\r\n    }\r\n\r\n    majorVersion = parseInt('' + fullVersion, 10);\r\n\r\n    if (isNaN(majorVersion)) {\r\n        fullVersion = '' + parseFloat(navigator.appVersion);\r\n        majorVersion = parseInt(navigator.appVersion, 10);\r\n    }\r\n\r\n    return majorVersion >= 49;\r\n}\n\r\n// ______________________\r\n// MediaStreamRecorder.js\r\n\r\n/**\r\n * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.\r\n * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://github.com/muaz-khan|Muaz Khan}\r\n * @typedef MediaStreamRecorder\r\n * @class\r\n * @example\r\n * var config = {\r\n *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis\r\n *     audioBitsPerSecond : 256 * 8 * 1024,\r\n *     videoBitsPerSecond : 256 * 8 * 1024,\r\n *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two\r\n *     checkForInactiveTracks: true,\r\n *     timeSlice: 1000, // concatenate intervals based blobs\r\n *     ondataavailable: function() {} // get intervals based blobs\r\n * }\r\n * var recorder = new MediaStreamRecorder(mediaStream, config);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n *\r\n *     // or\r\n *     var blob = recorder.blob;\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {disableLogs:true, initCallback: function, mimeType: \"video/webm\", timeSlice: 1000}\r\n * @throws Will throw an error if first argument \"MediaStream\" is missing. Also throws error if \"MediaRecorder API\" are not supported by the browser.\r\n */\r\n\r\nfunction MediaStreamRecorder(mediaStream, config) {\r\n    var self = this;\r\n\r\n    if (typeof mediaStream === 'undefined') {\r\n        throw 'First argument \"MediaStream\" is required.';\r\n    }\r\n\r\n    if (typeof MediaRecorder === 'undefined') {\r\n        throw 'Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.';\r\n    }\r\n\r\n    config = config || {\r\n        // bitsPerSecond: 256 * 8 * 1024,\r\n        mimeType: 'video/webm'\r\n    };\r\n\r\n    if (config.type === 'audio') {\r\n        if (getTracks(mediaStream, 'video').length && getTracks(mediaStream, 'audio').length) {\r\n            var stream;\r\n            if (!!navigator.mozGetUserMedia) {\r\n                stream = new MediaStream();\r\n                stream.addTrack(getTracks(mediaStream, 'audio')[0]);\r\n            } else {\r\n                // webkitMediaStream\r\n                stream = new MediaStream(getTracks(mediaStream, 'audio'));\r\n            }\r\n            mediaStream = stream;\r\n        }\r\n\r\n        if (!config.mimeType || config.mimeType.toString().toLowerCase().indexOf('audio') === -1) {\r\n            config.mimeType = isChrome ? 'audio/webm' : 'audio/ogg';\r\n        }\r\n\r\n        if (config.mimeType && config.mimeType.toString().toLowerCase() !== 'audio/ogg' && !!navigator.mozGetUserMedia) {\r\n            // forcing better codecs on Firefox (via #166)\r\n            config.mimeType = 'audio/ogg';\r\n        }\r\n    }\r\n\r\n    var arrayOfBlobs = [];\r\n\r\n    /**\r\n     * This method returns array of blobs. Use only with \"timeSlice\". Its useful to preview recording anytime, without using the \"stop\" method.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var arrayOfBlobs = recorder.getArrayOfBlobs();\r\n     * @returns {Array} Returns array of recorded blobs.\r\n     */\r\n    this.getArrayOfBlobs = function() {\r\n        return arrayOfBlobs;\r\n    };\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        // set defaults\r\n        self.blob = null;\r\n        self.clearRecordedData();\r\n        self.timestamps = [];\r\n        allStates = [];\r\n        arrayOfBlobs = [];\r\n\r\n        var recorderHints = config;\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Passing following config over MediaRecorder API.', recorderHints);\r\n        }\r\n\r\n        if (mediaRecorder) {\r\n            // mandatory to make sure Firefox doesn't fails to record streams 3-4 times without reloading the page.\r\n            mediaRecorder = null;\r\n        }\r\n\r\n        if (isChrome && !isMediaRecorderCompatible()) {\r\n            // to support video-only recording on stable\r\n            recorderHints = 'video/vp8';\r\n        }\r\n\r\n        if (typeof MediaRecorder.isTypeSupported === 'function' && recorderHints.mimeType) {\r\n            if (!MediaRecorder.isTypeSupported(recorderHints.mimeType)) {\r\n                if (!config.disableLogs) {\r\n                    console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\r\n                }\r\n\r\n                recorderHints.mimeType = config.type === 'audio' ? 'audio/webm' : 'video/webm';\r\n            }\r\n        }\r\n\r\n        // using MediaRecorder API here\r\n        try {\r\n            mediaRecorder = new MediaRecorder(mediaStream, recorderHints);\r\n\r\n            // reset\r\n            config.mimeType = recorderHints.mimeType;\r\n        } catch (e) {\r\n            // chrome-based fallback\r\n            mediaRecorder = new MediaRecorder(mediaStream);\r\n        }\r\n\r\n        // old hack?\r\n        if (recorderHints.mimeType && !MediaRecorder.isTypeSupported && 'canRecordMimeType' in mediaRecorder && mediaRecorder.canRecordMimeType(recorderHints.mimeType) === false) {\r\n            if (!config.disableLogs) {\r\n                console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\r\n            }\r\n        }\r\n\r\n        // Dispatching OnDataAvailable Handler\r\n        mediaRecorder.ondataavailable = function(e) {\r\n            if (e.data) {\r\n                allStates.push('ondataavailable: ' + bytesToSize(e.data.size));\r\n            }\r\n\r\n            if (typeof config.timeSlice === 'number') {\r\n                if (e.data && e.data.size) {\r\n                    arrayOfBlobs.push(e.data);\r\n                    updateTimeStamp();\r\n\r\n                    if (typeof config.ondataavailable === 'function') {\r\n                        // intervals based blobs\r\n                        var blob = config.getNativeBlob ? e.data : new Blob([e.data], {\r\n                            type: getMimeType(recorderHints)\r\n                        });\r\n                        config.ondataavailable(blob);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (!e.data || !e.data.size || e.data.size < 100 || self.blob) {\r\n                // make sure that stopRecording always getting fired\r\n                // even if there is invalid data\r\n                if (self.recordingCallback) {\r\n                    self.recordingCallback(new Blob([], {\r\n                        type: getMimeType(recorderHints)\r\n                    }));\r\n                    self.recordingCallback = null;\r\n                }\r\n                return;\r\n            }\r\n\r\n            self.blob = config.getNativeBlob ? e.data : new Blob([e.data], {\r\n                type: getMimeType(recorderHints)\r\n            });\r\n\r\n            if (self.recordingCallback) {\r\n                self.recordingCallback(self.blob);\r\n                self.recordingCallback = null;\r\n            }\r\n        };\r\n\r\n        mediaRecorder.onstart = function() {\r\n            allStates.push('started');\r\n        };\r\n\r\n        mediaRecorder.onpause = function() {\r\n            allStates.push('paused');\r\n        };\r\n\r\n        mediaRecorder.onresume = function() {\r\n            allStates.push('resumed');\r\n        };\r\n\r\n        mediaRecorder.onstop = function() {\r\n            allStates.push('stopped');\r\n        };\r\n\r\n        mediaRecorder.onerror = function(error) {\r\n            if (!error) {\r\n                return;\r\n            }\r\n\r\n            if (!error.name) {\r\n                error.name = 'UnknownError';\r\n            }\r\n\r\n            allStates.push('error: ' + error);\r\n\r\n            if (!config.disableLogs) {\r\n                // via: https://w3c.github.io/mediacapture-record/MediaRecorder.html#exception-summary\r\n                if (error.name.toString().toLowerCase().indexOf('invalidstate') !== -1) {\r\n                    console.error('The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.', error);\r\n                } else if (error.name.toString().toLowerCase().indexOf('notsupported') !== -1) {\r\n                    console.error('MIME type (', recorderHints.mimeType, ') is not supported.', error);\r\n                } else if (error.name.toString().toLowerCase().indexOf('security') !== -1) {\r\n                    console.error('MediaRecorder security error', error);\r\n                }\r\n\r\n                // older code below\r\n                else if (error.name === 'OutOfMemory') {\r\n                    console.error('The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'IllegalStreamModification') {\r\n                    console.error('A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'OtherRecordingError') {\r\n                    console.error('Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'GenericError') {\r\n                    console.error('The UA cannot provide the codec or recording option that has been requested.', error);\r\n                } else {\r\n                    console.error('MediaRecorder Error', error);\r\n                }\r\n            }\r\n\r\n            (function(looper) {\r\n                if (!self.manuallyStopped && mediaRecorder && mediaRecorder.state === 'inactive') {\r\n                    delete config.timeslice;\r\n\r\n                    // 10 minutes, enough?\r\n                    mediaRecorder.start(10 * 60 * 1000);\r\n                    return;\r\n                }\r\n\r\n                setTimeout(looper, 1000);\r\n            })();\r\n\r\n            if (mediaRecorder.state !== 'inactive' && mediaRecorder.state !== 'stopped') {\r\n                mediaRecorder.stop();\r\n            }\r\n        };\r\n\r\n        if (typeof config.timeSlice === 'number') {\r\n            updateTimeStamp();\r\n            mediaRecorder.start(config.timeSlice);\r\n        } else {\r\n            // default is 60 minutes; enough?\r\n            // use config => {timeSlice: 1000} otherwise\r\n\r\n            mediaRecorder.start(3.6e+6);\r\n        }\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback(); // old code\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @property {Array} timestamps - Array of time stamps\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * console.log(recorder.timestamps);\r\n     */\r\n    this.timestamps = [];\r\n\r\n    function updateTimeStamp() {\r\n        self.timestamps.push(new Date().getTime());\r\n\r\n        if (typeof config.onTimeStamp === 'function') {\r\n            config.onTimeStamp(self.timestamps[self.timestamps.length - 1], self.timestamps);\r\n        }\r\n    }\r\n\r\n    function getMimeType(secondObject) {\r\n        if (mediaRecorder && mediaRecorder.mimeType) {\r\n            return mediaRecorder.mimeType;\r\n        }\r\n\r\n        return secondObject.mimeType || 'video/webm';\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        self.manuallyStopped = true; // used inside the mediaRecorder.onerror\r\n\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        this.recordingCallback = callback;\r\n\r\n        if (mediaRecorder.state === 'recording') {\r\n            mediaRecorder.stop();\r\n        }\r\n\r\n        if (typeof config.timeSlice === 'number') {\r\n            setTimeout(function() {\r\n                self.blob = new Blob(arrayOfBlobs, {\r\n                    type: getMimeType(config)\r\n                });\r\n\r\n                self.recordingCallback(self.blob);\r\n            }, 100);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        if (mediaRecorder.state === 'recording') {\r\n            mediaRecorder.pause();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        if (mediaRecorder.state === 'paused') {\r\n            mediaRecorder.resume();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (mediaRecorder && mediaRecorder.state === 'recording') {\r\n            self.stop(clearRecordedDataCB);\r\n        }\r\n\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        arrayOfBlobs = [];\r\n        mediaRecorder = null;\r\n        self.timestamps = [];\r\n    }\r\n\r\n    // Reference to \"MediaRecorder\" object\r\n    var mediaRecorder;\r\n\r\n    /**\r\n     * Access to native MediaRecorder API\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @instance\r\n     * @example\r\n     * var internal = recorder.getInternalRecorder();\r\n     * internal.ondataavailable = function() {}; // override\r\n     * internal.stream, internal.onpause, internal.onstop, etc.\r\n     * @returns {Object} Returns internal recording object.\r\n     */\r\n    this.getInternalRecorder = function() {\r\n        return mediaRecorder;\r\n    };\r\n\r\n    function isMediaStreamActive() {\r\n        if ('active' in mediaStream) {\r\n            if (!mediaStream.active) {\r\n                return false;\r\n            }\r\n        } else if ('ended' in mediaStream) { // old hack\r\n            if (mediaStream.ended) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.stop(function() {\r\n     *     var blob = recorder.blob;\r\n     * });\r\n     */\r\n    this.blob = null;\r\n\r\n\r\n    /**\r\n     * Get MediaRecorder readonly state.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var state = recorder.getState();\r\n     * @returns {String} Returns recording state.\r\n     */\r\n    this.getState = function() {\r\n        if (!mediaRecorder) {\r\n            return 'inactive';\r\n        }\r\n\r\n        return mediaRecorder.state || 'inactive';\r\n    };\r\n\r\n    // list of all recording states\r\n    var allStates = [];\r\n\r\n    /**\r\n     * Get MediaRecorder all recording states.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var state = recorder.getAllStates();\r\n     * @returns {Array} Returns all recording states\r\n     */\r\n    this.getAllStates = function() {\r\n        return allStates;\r\n    };\r\n\r\n    // if any Track within the MediaStream is muted or not enabled at any time, \r\n    // the browser will only record black frames \r\n    // or silence since that is the content produced by the Track\r\n    // so we need to stopRecording as soon as any single track ends.\r\n    if (typeof config.checkForInactiveTracks === 'undefined') {\r\n        config.checkForInactiveTracks = false; // disable to minimize CPU usage\r\n    }\r\n\r\n    var self = this;\r\n\r\n    // this method checks if media stream is stopped\r\n    // or if any track is ended.\r\n    (function looper() {\r\n        if (!mediaRecorder || config.checkForInactiveTracks === false) {\r\n            return;\r\n        }\r\n\r\n        if (isMediaStreamActive() === false) {\r\n            if (!config.disableLogs) {\r\n                console.log('MediaStream seems stopped.');\r\n            }\r\n            self.stop();\r\n            return;\r\n        }\r\n\r\n        setTimeout(looper, 1000); // check every second\r\n    })();\r\n\r\n    // for debugging\r\n    this.name = 'MediaStreamRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MediaStreamRecorder = MediaStreamRecorder;\r\n}\r\n\r\n// source code from: http://typedarray.org/wp-content/projects/WebAudioRecorder/script.js\r\n// https://github.com/mattdiamond/Recorderjs#license-mit\r\n// ______________________\r\n// StereoAudioRecorder.js\r\n\r\n/**\r\n * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring \"stereo\" audio-recording in chrome.\r\n * @summary JavaScript standalone object for stereo audio recording.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef StereoAudioRecorder\r\n * @class\r\n * @example\r\n * var recorder = new StereoAudioRecorder(MediaStream, {\r\n *     sampleRate: 44100,\r\n *     bufferSize: 4096\r\n * });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}\r\n */\r\n\r\nfunction StereoAudioRecorder(mediaStream, config) {\r\n    if (!getTracks(mediaStream, 'audio').length) {\r\n        throw 'Your stream has no audio tracks.';\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    var self = this;\r\n\r\n    // variables\r\n    var leftchannel = [];\r\n    var rightchannel = [];\r\n    var recording = false;\r\n    var recordingLength = 0;\r\n    var jsAudioNode;\r\n\r\n    var numberOfAudioChannels = 2;\r\n\r\n    /**\r\n     * Set sample rates such as 8K or 16K. Reference: http://stackoverflow.com/a/28977136/552182\r\n     * @property {number} desiredSampRate - Desired Bits per sample * 1000\r\n     * @memberof StereoAudioRecorder\r\n     * @instance\r\n     * @example\r\n     * var recorder = StereoAudioRecorder(mediaStream, {\r\n     *   desiredSampRate: 16 * 1000 // bits-per-sample * 1000\r\n     * });\r\n     */\r\n    var desiredSampRate = config.desiredSampRate;\r\n\r\n    // backward compatibility\r\n    if (config.leftChannel === true) {\r\n        numberOfAudioChannels = 1;\r\n    }\r\n\r\n    if (config.numberOfAudioChannels === 1) {\r\n        numberOfAudioChannels = 1;\r\n    }\r\n\r\n    if (!numberOfAudioChannels || numberOfAudioChannels < 1) {\r\n        numberOfAudioChannels = 2;\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        console.log('StereoAudioRecorder is set to record number of channels: ' + numberOfAudioChannels);\r\n    }\r\n\r\n    // if any Track within the MediaStream is muted or not enabled at any time, \r\n    // the browser will only record black frames \r\n    // or silence since that is the content produced by the Track\r\n    // so we need to stopRecording as soon as any single track ends.\r\n    if (typeof config.checkForInactiveTracks === 'undefined') {\r\n        config.checkForInactiveTracks = true;\r\n    }\r\n\r\n    function isMediaStreamActive() {\r\n        if (config.checkForInactiveTracks === false) {\r\n            // always return \"true\"\r\n            return true;\r\n        }\r\n\r\n        if ('active' in mediaStream) {\r\n            if (!mediaStream.active) {\r\n                return false;\r\n            }\r\n        } else if ('ended' in mediaStream) { // old hack\r\n            if (mediaStream.ended) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (isMediaStreamActive() === false) {\r\n            throw 'Please make sure MediaStream is active.';\r\n        }\r\n\r\n        resetVariables();\r\n\r\n        isAudioProcessStarted = isPaused = false;\r\n        recording = true;\r\n\r\n        if (typeof config.timeSlice !== 'undefined') {\r\n            looper();\r\n        }\r\n    };\r\n\r\n    function mergeLeftRightBuffers(config, callback) {\r\n        function mergeAudioBuffers(config, cb) {\r\n            var numberOfAudioChannels = config.numberOfAudioChannels;\r\n\r\n            // todo: \"slice(0)\" --- is it causes loop? Should be removed?\r\n            var leftBuffers = config.leftBuffers.slice(0);\r\n            var rightBuffers = config.rightBuffers.slice(0);\r\n            var sampleRate = config.sampleRate;\r\n            var internalInterleavedLength = config.internalInterleavedLength;\r\n            var desiredSampRate = config.desiredSampRate;\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\r\n                rightBuffers = mergeBuffers(rightBuffers, internalInterleavedLength);\r\n\r\n                if (desiredSampRate) {\r\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\r\n                    rightBuffers = interpolateArray(rightBuffers, desiredSampRate, sampleRate);\r\n                }\r\n            }\r\n\r\n            if (numberOfAudioChannels === 1) {\r\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\r\n\r\n                if (desiredSampRate) {\r\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\r\n                }\r\n            }\r\n\r\n            // set sample rate as desired sample rate\r\n            if (desiredSampRate) {\r\n                sampleRate = desiredSampRate;\r\n            }\r\n\r\n            // for changing the sampling rate, reference:\r\n            // http://stackoverflow.com/a/28977136/552182\r\n            function interpolateArray(data, newSampleRate, oldSampleRate) {\r\n                var fitCount = Math.round(data.length * (newSampleRate / oldSampleRate));\r\n                var newData = [];\r\n                var springFactor = Number((data.length - 1) / (fitCount - 1));\r\n                newData[0] = data[0];\r\n                for (var i = 1; i < fitCount - 1; i++) {\r\n                    var tmp = i * springFactor;\r\n                    var before = Number(Math.floor(tmp)).toFixed();\r\n                    var after = Number(Math.ceil(tmp)).toFixed();\r\n                    var atPoint = tmp - before;\r\n                    newData[i] = linearInterpolate(data[before], data[after], atPoint);\r\n                }\r\n                newData[fitCount - 1] = data[data.length - 1];\r\n                return newData;\r\n            }\r\n\r\n            function linearInterpolate(before, after, atPoint) {\r\n                return before + (after - before) * atPoint;\r\n            }\r\n\r\n            function mergeBuffers(channelBuffer, rLength) {\r\n                var result = new Float64Array(rLength);\r\n                var offset = 0;\r\n                var lng = channelBuffer.length;\r\n\r\n                for (var i = 0; i < lng; i++) {\r\n                    var buffer = channelBuffer[i];\r\n                    result.set(buffer, offset);\r\n                    offset += buffer.length;\r\n                }\r\n\r\n                return result;\r\n            }\r\n\r\n            function interleave(leftChannel, rightChannel) {\r\n                var length = leftChannel.length + rightChannel.length;\r\n\r\n                var result = new Float64Array(length);\r\n\r\n                var inputIndex = 0;\r\n\r\n                for (var index = 0; index < length;) {\r\n                    result[index++] = leftChannel[inputIndex];\r\n                    result[index++] = rightChannel[inputIndex];\r\n                    inputIndex++;\r\n                }\r\n                return result;\r\n            }\r\n\r\n            function writeUTFBytes(view, offset, string) {\r\n                var lng = string.length;\r\n                for (var i = 0; i < lng; i++) {\r\n                    view.setUint8(offset + i, string.charCodeAt(i));\r\n                }\r\n            }\r\n\r\n            // interleave both channels together\r\n            var interleaved;\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                interleaved = interleave(leftBuffers, rightBuffers);\r\n            }\r\n\r\n            if (numberOfAudioChannels === 1) {\r\n                interleaved = leftBuffers;\r\n            }\r\n\r\n            var interleavedLength = interleaved.length;\r\n\r\n            // create wav file\r\n            var resultingBufferLength = 44 + interleavedLength * 2;\r\n\r\n            var buffer = new ArrayBuffer(resultingBufferLength);\r\n\r\n            var view = new DataView(buffer);\r\n\r\n            // RIFF chunk descriptor/identifier \r\n            writeUTFBytes(view, 0, 'RIFF');\r\n\r\n            // RIFF chunk length\r\n            // changed \"44\" to \"36\" via #401\r\n            view.setUint32(4, 36 + interleavedLength * 2, true);\r\n\r\n            // RIFF type \r\n            writeUTFBytes(view, 8, 'WAVE');\r\n\r\n            // format chunk identifier \r\n            // FMT sub-chunk\r\n            writeUTFBytes(view, 12, 'fmt ');\r\n\r\n            // format chunk length \r\n            view.setUint32(16, 16, true);\r\n\r\n            // sample format (raw)\r\n            view.setUint16(20, 1, true);\r\n\r\n            // stereo (2 channels)\r\n            view.setUint16(22, numberOfAudioChannels, true);\r\n\r\n            // sample rate \r\n            view.setUint32(24, sampleRate, true);\r\n\r\n            // byte rate (sample rate * block align)\r\n            view.setUint32(28, sampleRate * numberOfAudioChannels * 2, true);\r\n\r\n            // block align (channel count * bytes per sample) \r\n            view.setUint16(32, numberOfAudioChannels * 2, true);\r\n\r\n            // bits per sample \r\n            view.setUint16(34, 16, true);\r\n\r\n            // data sub-chunk\r\n            // data chunk identifier \r\n            writeUTFBytes(view, 36, 'data');\r\n\r\n            // data chunk length \r\n            view.setUint32(40, interleavedLength * 2, true);\r\n\r\n            // write the PCM samples\r\n            var lng = interleavedLength;\r\n            var index = 44;\r\n            var volume = 1;\r\n            for (var i = 0; i < lng; i++) {\r\n                view.setInt16(index, interleaved[i] * (0x7FFF * volume), true);\r\n                index += 2;\r\n            }\r\n\r\n            if (cb) {\r\n                return cb({\r\n                    buffer: buffer,\r\n                    view: view\r\n                });\r\n            }\r\n\r\n            postMessage({\r\n                buffer: buffer,\r\n                view: view\r\n            });\r\n        }\r\n\r\n        if (config.noWorker) {\r\n            mergeAudioBuffers(config, function(data) {\r\n                callback(data.buffer, data.view);\r\n            });\r\n            return;\r\n        }\r\n\r\n\r\n        var webWorker = processInWebWorker(mergeAudioBuffers);\r\n\r\n        webWorker.onmessage = function(event) {\r\n            callback(event.data.buffer, event.data.view);\r\n\r\n            // release memory\r\n            URL.revokeObjectURL(webWorker.workerURL);\r\n\r\n            // kill webworker (or Chrome will kill your page after ~25 calls)\r\n            webWorker.terminate();\r\n        };\r\n\r\n        webWorker.postMessage(config);\r\n    }\r\n\r\n    function processInWebWorker(_function) {\r\n        var workerURL = URL.createObjectURL(new Blob([_function.toString(),\r\n            ';this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n        ], {\r\n            type: 'application/javascript'\r\n        }));\r\n\r\n        var worker = new Worker(workerURL);\r\n        worker.workerURL = workerURL;\r\n        return worker;\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        // stop recording\r\n        recording = false;\r\n\r\n        mergeLeftRightBuffers({\r\n            desiredSampRate: desiredSampRate,\r\n            sampleRate: sampleRate,\r\n            numberOfAudioChannels: numberOfAudioChannels,\r\n            internalInterleavedLength: recordingLength,\r\n            leftBuffers: leftchannel,\r\n            rightBuffers: numberOfAudioChannels === 1 ? [] : rightchannel,\r\n            noWorker: config.noWorker\r\n        }, function(buffer, view) {\r\n            /**\r\n             * @property {Blob} blob - The recorded blob object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var blob = recorder.blob;\r\n             * });\r\n             */\r\n            self.blob = new Blob([view], {\r\n                type: 'audio/wav'\r\n            });\r\n\r\n            /**\r\n             * @property {ArrayBuffer} buffer - The recorded buffer object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var buffer = recorder.buffer;\r\n             * });\r\n             */\r\n            self.buffer = new ArrayBuffer(view.buffer.byteLength);\r\n\r\n            /**\r\n             * @property {DataView} view - The recorded data-view object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var view = recorder.view;\r\n             * });\r\n             */\r\n            self.view = view;\r\n\r\n            self.sampleRate = desiredSampRate || sampleRate;\r\n            self.bufferSize = bufferSize;\r\n\r\n            // recorded audio length\r\n            self.length = recordingLength;\r\n\r\n            isAudioProcessStarted = false;\r\n\r\n            if (callback) {\r\n                callback(self.blob);\r\n            }\r\n        });\r\n    };\r\n\r\n    if (typeof RecordRTC.Storage === 'undefined') {\r\n        RecordRTC.Storage = {\r\n            AudioContextConstructor: null,\r\n            AudioContext: window.AudioContext || window.webkitAudioContext\r\n        };\r\n    }\r\n\r\n    if (!RecordRTC.Storage.AudioContextConstructor || RecordRTC.Storage.AudioContextConstructor.state === 'closed') {\r\n        RecordRTC.Storage.AudioContextConstructor = new RecordRTC.Storage.AudioContext();\r\n    }\r\n\r\n    var context = RecordRTC.Storage.AudioContextConstructor;\r\n\r\n    // creates an audio node from the microphone incoming stream\r\n    var audioInput = context.createMediaStreamSource(mediaStream);\r\n\r\n    var legalBufferValues = [0, 256, 512, 1024, 2048, 4096, 8192, 16384];\r\n\r\n    /**\r\n     * From the spec: This value controls how frequently the audioprocess event is\r\n     * dispatched and how many sample-frames need to be processed each call.\r\n     * Lower values for buffer size will result in a lower (better) latency.\r\n     * Higher values will be necessary to avoid audio breakup and glitches\r\n     * The size of the buffer (in sample-frames) which needs to\r\n     * be processed each time onprocessaudio is called.\r\n     * Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384).\r\n     * @property {number} bufferSize - Buffer-size for how frequently the audioprocess event is dispatched.\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder = new StereoAudioRecorder(mediaStream, {\r\n     *     bufferSize: 4096\r\n     * });\r\n     */\r\n\r\n    // \"0\" means, let chrome decide the most accurate buffer-size for current platform.\r\n    var bufferSize = typeof config.bufferSize === 'undefined' ? 4096 : config.bufferSize;\r\n\r\n    if (legalBufferValues.indexOf(bufferSize) === -1) {\r\n        if (!config.disableLogs) {\r\n            console.log('Legal values for buffer-size are ' + JSON.stringify(legalBufferValues, null, '\\t'));\r\n        }\r\n    }\r\n\r\n    if (context.createJavaScriptNode) {\r\n        jsAudioNode = context.createJavaScriptNode(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\r\n    } else if (context.createScriptProcessor) {\r\n        jsAudioNode = context.createScriptProcessor(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\r\n    } else {\r\n        throw 'WebAudio API has no support on this browser.';\r\n    }\r\n\r\n    // connect the stream to the script processor\r\n    audioInput.connect(jsAudioNode);\r\n\r\n    if (!config.bufferSize) {\r\n        bufferSize = jsAudioNode.bufferSize; // device buffer-size\r\n    }\r\n\r\n    /**\r\n     * The sample rate (in sample-frames per second) at which the\r\n     * AudioContext handles audio. It is assumed that all AudioNodes\r\n     * in the context run at this rate. In making this assumption,\r\n     * sample-rate converters or \"varispeed\" processors are not supported\r\n     * in real-time processing.\r\n     * The sampleRate parameter describes the sample-rate of the\r\n     * linear PCM audio data in the buffer in sample-frames per second.\r\n     * An implementation must support sample-rates in at least\r\n     * the range 22050 to 96000.\r\n     * @property {number} sampleRate - Buffer-size for how frequently the audioprocess event is dispatched.\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder = new StereoAudioRecorder(mediaStream, {\r\n     *     sampleRate: 44100\r\n     * });\r\n     */\r\n    var sampleRate = typeof config.sampleRate !== 'undefined' ? config.sampleRate : context.sampleRate || 44100;\r\n\r\n    if (sampleRate < 22050 || sampleRate > 96000) {\r\n        // Ref: http://stackoverflow.com/a/26303918/552182\r\n        if (!config.disableLogs) {\r\n            console.log('sample-rate must be under range 22050 and 96000.');\r\n        }\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        if (config.desiredSampRate) {\r\n            console.log('Desired sample-rate: ' + config.desiredSampRate);\r\n        }\r\n    }\r\n\r\n    var isPaused = false;\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPaused = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (isMediaStreamActive() === false) {\r\n            throw 'Please make sure MediaStream is active.';\r\n        }\r\n\r\n        if (!recording) {\r\n            if (!config.disableLogs) {\r\n                console.log('Seems recording has been restarted.');\r\n            }\r\n            this.record();\r\n            return;\r\n        }\r\n\r\n        isPaused = false;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        config.checkForInactiveTracks = false;\r\n\r\n        if (recording) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function resetVariables() {\r\n        leftchannel = [];\r\n        rightchannel = [];\r\n        recordingLength = 0;\r\n        isAudioProcessStarted = false;\r\n        recording = false;\r\n        isPaused = false;\r\n        context = null;\r\n\r\n        self.leftchannel = leftchannel;\r\n        self.rightchannel = rightchannel;\r\n        self.numberOfAudioChannels = numberOfAudioChannels;\r\n        self.desiredSampRate = desiredSampRate;\r\n        self.sampleRate = sampleRate;\r\n        self.recordingLength = recordingLength;\r\n\r\n        intervalsBasedBuffers = {\r\n            left: [],\r\n            right: [],\r\n            recordingLength: 0\r\n        };\r\n    }\r\n\r\n    function clearRecordedDataCB() {\r\n        if (jsAudioNode) {\r\n            jsAudioNode.onaudioprocess = null;\r\n            jsAudioNode.disconnect();\r\n            jsAudioNode = null;\r\n        }\r\n\r\n        if (audioInput) {\r\n            audioInput.disconnect();\r\n            audioInput = null;\r\n        }\r\n\r\n        resetVariables();\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'StereoAudioRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var isAudioProcessStarted = false;\r\n\r\n    function onAudioProcessDataAvailable(e) {\r\n        if (isPaused) {\r\n            return;\r\n        }\r\n\r\n        if (isMediaStreamActive() === false) {\r\n            if (!config.disableLogs) {\r\n                console.log('MediaStream seems stopped.');\r\n            }\r\n            jsAudioNode.disconnect();\r\n            recording = false;\r\n        }\r\n\r\n        if (!recording) {\r\n            if (audioInput) {\r\n                audioInput.disconnect();\r\n                audioInput = null;\r\n            }\r\n            return;\r\n        }\r\n\r\n        /**\r\n         * This method is called on \"onaudioprocess\" event's first invocation.\r\n         * @method {function} onAudioProcessStarted\r\n         * @memberof StereoAudioRecorder\r\n         * @example\r\n         * recorder.onAudioProcessStarted: function() { };\r\n         */\r\n        if (!isAudioProcessStarted) {\r\n            isAudioProcessStarted = true;\r\n            if (config.onAudioProcessStarted) {\r\n                config.onAudioProcessStarted();\r\n            }\r\n\r\n            if (config.initCallback) {\r\n                config.initCallback();\r\n            }\r\n        }\r\n\r\n        var left = e.inputBuffer.getChannelData(0);\r\n\r\n        // we clone the samples\r\n        var chLeft = new Float32Array(left);\r\n        leftchannel.push(chLeft);\r\n\r\n        if (numberOfAudioChannels === 2) {\r\n            var right = e.inputBuffer.getChannelData(1);\r\n            var chRight = new Float32Array(right);\r\n            rightchannel.push(chRight);\r\n        }\r\n\r\n        recordingLength += bufferSize;\r\n\r\n        // export raw PCM\r\n        self.recordingLength = recordingLength;\r\n\r\n        if (typeof config.timeSlice !== 'undefined') {\r\n            intervalsBasedBuffers.recordingLength += bufferSize;\r\n            intervalsBasedBuffers.left.push(chLeft);\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                intervalsBasedBuffers.right.push(chRight);\r\n            }\r\n        }\r\n    }\r\n\r\n    jsAudioNode.onaudioprocess = onAudioProcessDataAvailable;\r\n\r\n    // to prevent self audio to be connected with speakers\r\n    if (context.createMediaStreamDestination) {\r\n        jsAudioNode.connect(context.createMediaStreamDestination());\r\n    } else {\r\n        jsAudioNode.connect(context.destination);\r\n    }\r\n\r\n    // export raw PCM\r\n    this.leftchannel = leftchannel;\r\n    this.rightchannel = rightchannel;\r\n    this.numberOfAudioChannels = numberOfAudioChannels;\r\n    this.desiredSampRate = desiredSampRate;\r\n    this.sampleRate = sampleRate;\r\n    self.recordingLength = recordingLength;\r\n\r\n    // helper for intervals based blobs\r\n    var intervalsBasedBuffers = {\r\n        left: [],\r\n        right: [],\r\n        recordingLength: 0\r\n    };\r\n\r\n    // this looper is used to support intervals based blobs (via timeSlice+ondataavailable)\r\n    function looper() {\r\n        if (!recording || typeof config.ondataavailable !== 'function' || typeof config.timeSlice === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (intervalsBasedBuffers.left.length) {\r\n            mergeLeftRightBuffers({\r\n                desiredSampRate: desiredSampRate,\r\n                sampleRate: sampleRate,\r\n                numberOfAudioChannels: numberOfAudioChannels,\r\n                internalInterleavedLength: intervalsBasedBuffers.recordingLength,\r\n                leftBuffers: intervalsBasedBuffers.left,\r\n                rightBuffers: numberOfAudioChannels === 1 ? [] : intervalsBasedBuffers.right\r\n            }, function(buffer, view) {\r\n                var blob = new Blob([view], {\r\n                    type: 'audio/wav'\r\n                });\r\n                config.ondataavailable(blob);\r\n\r\n                setTimeout(looper, config.timeSlice);\r\n            });\r\n\r\n            intervalsBasedBuffers = {\r\n                left: [],\r\n                right: [],\r\n                recordingLength: 0\r\n            };\r\n        } else {\r\n            setTimeout(looper, config.timeSlice);\r\n        }\r\n    }\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.StereoAudioRecorder = StereoAudioRecorder;\r\n}\r\n\r\n// _________________\r\n// CanvasRecorder.js\r\n\r\n/**\r\n * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.\r\n * @summary HTML2Canvas recording into video WebM.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef CanvasRecorder\r\n * @class\r\n * @example\r\n * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.\r\n * @param {object} config - {disableLogs:true, initCallback: function}\r\n */\r\n\r\nfunction CanvasRecorder(htmlElement, config) {\r\n    if (typeof html2canvas === 'undefined') {\r\n        throw 'Please link: https://www.webrtc-experiment.com/screenshot.js';\r\n    }\r\n\r\n    config = config || {};\r\n    if (!config.frameInterval) {\r\n        config.frameInterval = 10;\r\n    }\r\n\r\n    // via DetectRTC.js\r\n    var isCanvasSupportsStreamCapturing = false;\r\n    ['captureStream', 'mozCaptureStream', 'webkitCaptureStream'].forEach(function(item) {\r\n        if (item in document.createElement('canvas')) {\r\n            isCanvasSupportsStreamCapturing = true;\r\n        }\r\n    });\r\n\r\n    var _isChrome = (!!window.webkitRTCPeerConnection || !!window.webkitGetUserMedia) && !!window.chrome;\r\n\r\n    var chromeVersion = 50;\r\n    var matchArray = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\r\n    if (_isChrome && matchArray && matchArray[2]) {\r\n        chromeVersion = parseInt(matchArray[2], 10);\r\n    }\r\n\r\n    if (_isChrome && chromeVersion < 52) {\r\n        isCanvasSupportsStreamCapturing = false;\r\n    }\r\n\r\n    if (config.useWhammyRecorder) {\r\n        isCanvasSupportsStreamCapturing = false;\r\n    }\r\n\r\n    var globalCanvas, mediaStreamRecorder;\r\n\r\n    if (isCanvasSupportsStreamCapturing) {\r\n        if (!config.disableLogs) {\r\n            console.log('Your browser supports both MediRecorder API and canvas.captureStream!');\r\n        }\r\n\r\n        if (htmlElement instanceof HTMLCanvasElement) {\r\n            globalCanvas = htmlElement;\r\n        } else if (htmlElement instanceof CanvasRenderingContext2D) {\r\n            globalCanvas = htmlElement.canvas;\r\n        } else {\r\n            throw 'Please pass either HTMLCanvasElement or CanvasRenderingContext2D.';\r\n        }\r\n    } else if (!!navigator.mozGetUserMedia) {\r\n        if (!config.disableLogs) {\r\n            console.error('Canvas recording is NOT supported in Firefox.');\r\n        }\r\n    }\r\n\r\n    var isRecording;\r\n\r\n    /**\r\n     * This method records Canvas.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        isRecording = true;\r\n\r\n        if (isCanvasSupportsStreamCapturing && !config.useWhammyRecorder) {\r\n            // CanvasCaptureMediaStream\r\n            var canvasMediaStream;\r\n            if ('captureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.captureStream(25); // 25 FPS\r\n            } else if ('mozCaptureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.mozCaptureStream(25);\r\n            } else if ('webkitCaptureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.webkitCaptureStream(25);\r\n            }\r\n\r\n            try {\r\n                var mdStream = new MediaStream();\r\n                mdStream.addTrack(getTracks(canvasMediaStream, 'video')[0]);\r\n                canvasMediaStream = mdStream;\r\n            } catch (e) {}\r\n\r\n            if (!canvasMediaStream) {\r\n                throw 'captureStream API are NOT available.';\r\n            }\r\n\r\n            // Note: Jan 18, 2016 status is that, \r\n            // Firefox MediaRecorder API can't record CanvasCaptureMediaStream object.\r\n            mediaStreamRecorder = new MediaStreamRecorder(canvasMediaStream, {\r\n                mimeType: config.mimeType || 'video/webm'\r\n            });\r\n            mediaStreamRecorder.record();\r\n        } else {\r\n            whammy.frames = [];\r\n            lastTime = new Date().getTime();\r\n            drawCanvasFrame();\r\n        }\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    this.getWebPImages = function(callback) {\r\n        if (htmlElement.nodeName.toLowerCase() !== 'canvas') {\r\n            callback();\r\n            return;\r\n        }\r\n\r\n        var framesLength = whammy.frames.length;\r\n        whammy.frames.forEach(function(frame, idx) {\r\n            var framesRemaining = framesLength - idx;\r\n            if (!config.disableLogs) {\r\n                console.log(framesRemaining + '/' + framesLength + ' frames remaining');\r\n            }\r\n\r\n            if (config.onEncodingCallback) {\r\n                config.onEncodingCallback(framesRemaining, framesLength);\r\n            }\r\n\r\n            var webp = frame.image.toDataURL('image/webp', 1);\r\n            whammy.frames[idx].image = webp;\r\n        });\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Generating WebM');\r\n        }\r\n\r\n        callback();\r\n    };\r\n\r\n    /**\r\n     * This method stops recording Canvas.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        isRecording = false;\r\n\r\n        var that = this;\r\n\r\n        if (isCanvasSupportsStreamCapturing && mediaStreamRecorder) {\r\n            mediaStreamRecorder.stop(callback);\r\n            return;\r\n        }\r\n\r\n        this.getWebPImages(function() {\r\n            /**\r\n             * @property {Blob} blob - Recorded frames in video/webm blob.\r\n             * @memberof CanvasRecorder\r\n             * @example\r\n             * recorder.stop(function() {\r\n             *     var blob = recorder.blob;\r\n             * });\r\n             */\r\n            whammy.compile(function(blob) {\r\n                if (!config.disableLogs) {\r\n                    console.log('Recording finished!');\r\n                }\r\n\r\n                that.blob = blob;\r\n\r\n                if (that.blob.forEach) {\r\n                    that.blob = new Blob([], {\r\n                        type: 'video/webm'\r\n                    });\r\n                }\r\n\r\n                if (callback) {\r\n                    callback(that.blob);\r\n                }\r\n\r\n                whammy.frames = [];\r\n            });\r\n        });\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n\r\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\r\n            mediaStreamRecorder.pause();\r\n            return;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n\r\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\r\n            mediaStreamRecorder.resume();\r\n            return;\r\n        }\r\n\r\n        if (!isRecording) {\r\n            this.record();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (isRecording) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        whammy.frames = [];\r\n        isRecording = false;\r\n        isPausedRecording = false;\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'CanvasRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    function cloneCanvas() {\r\n        //create a new canvas\r\n        var newCanvas = document.createElement('canvas');\r\n        var context = newCanvas.getContext('2d');\r\n\r\n        //set dimensions\r\n        newCanvas.width = htmlElement.width;\r\n        newCanvas.height = htmlElement.height;\r\n\r\n        //apply the old canvas to the new one\r\n        context.drawImage(htmlElement, 0, 0);\r\n\r\n        //return the new canvas\r\n        return newCanvas;\r\n    }\r\n\r\n    function drawCanvasFrame() {\r\n        if (isPausedRecording) {\r\n            lastTime = new Date().getTime();\r\n            return setTimeout(drawCanvasFrame, 500);\r\n        }\r\n\r\n        if (htmlElement.nodeName.toLowerCase() === 'canvas') {\r\n            var duration = new Date().getTime() - lastTime;\r\n            // via #206, by Jack i.e. @Seymourr\r\n            lastTime = new Date().getTime();\r\n\r\n            whammy.frames.push({\r\n                image: cloneCanvas(),\r\n                duration: duration\r\n            });\r\n\r\n            if (isRecording) {\r\n                setTimeout(drawCanvasFrame, config.frameInterval);\r\n            }\r\n            return;\r\n        }\r\n\r\n        html2canvas(htmlElement, {\r\n            grabMouse: typeof config.showMousePointer === 'undefined' || config.showMousePointer,\r\n            onrendered: function(canvas) {\r\n                var duration = new Date().getTime() - lastTime;\r\n                if (!duration) {\r\n                    return setTimeout(drawCanvasFrame, config.frameInterval);\r\n                }\r\n\r\n                // via #206, by Jack i.e. @Seymourr\r\n                lastTime = new Date().getTime();\r\n\r\n                whammy.frames.push({\r\n                    image: canvas.toDataURL('image/webp', 1),\r\n                    duration: duration\r\n                });\r\n\r\n                if (isRecording) {\r\n                    setTimeout(drawCanvasFrame, config.frameInterval);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    var lastTime = new Date().getTime();\r\n\r\n    var whammy = new Whammy.Video(100);\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.CanvasRecorder = CanvasRecorder;\r\n}\n\r\n// _________________\r\n// WhammyRecorder.js\r\n\r\n/**\r\n * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.\r\n * @summary Video recording feature in Chrome.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef WhammyRecorder\r\n * @class\r\n * @example\r\n * var recorder = new WhammyRecorder(mediaStream);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction WhammyRecorder(mediaStream, config) {\r\n\r\n    config = config || {};\r\n\r\n    if (!config.frameInterval) {\r\n        config.frameInterval = 10;\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        console.log('Using frames-interval:', config.frameInterval);\r\n    }\r\n\r\n    /**\r\n     * This method records video.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (!config.width) {\r\n            config.width = 320;\r\n        }\r\n\r\n        if (!config.height) {\r\n            config.height = 240;\r\n        }\r\n\r\n        if (!config.video) {\r\n            config.video = {\r\n                width: config.width,\r\n                height: config.height\r\n            };\r\n        }\r\n\r\n        if (!config.canvas) {\r\n            config.canvas = {\r\n                width: config.width,\r\n                height: config.height\r\n            };\r\n        }\r\n\r\n        canvas.width = config.canvas.width || 320;\r\n        canvas.height = config.canvas.height || 240;\r\n\r\n        context = canvas.getContext('2d');\r\n\r\n        // setting defaults\r\n        if (config.video && config.video instanceof HTMLVideoElement) {\r\n            video = config.video.cloneNode();\r\n\r\n            if (config.initCallback) {\r\n                config.initCallback();\r\n            }\r\n        } else {\r\n            video = document.createElement('video');\r\n\r\n            setSrcObject(mediaStream, video);\r\n\r\n            video.onloadedmetadata = function() { // \"onloadedmetadata\" may NOT work in FF?\r\n                if (config.initCallback) {\r\n                    config.initCallback();\r\n                }\r\n            };\r\n\r\n            video.width = config.video.width;\r\n            video.height = config.video.height;\r\n        }\r\n\r\n        video.muted = true;\r\n        video.play();\r\n\r\n        lastTime = new Date().getTime();\r\n        whammy = new Whammy.Video();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('canvas resolutions', canvas.width, '*', canvas.height);\r\n            console.log('video width/height', video.width || canvas.width, '*', video.height || canvas.height);\r\n        }\r\n\r\n        drawFrames(config.frameInterval);\r\n    };\r\n\r\n    /**\r\n     * Draw and push frames to Whammy\r\n     * @param {integer} frameInterval - set minimum interval (in milliseconds) between each time we push a frame to Whammy\r\n     */\r\n    function drawFrames(frameInterval) {\r\n        frameInterval = typeof frameInterval !== 'undefined' ? frameInterval : 10;\r\n\r\n        var duration = new Date().getTime() - lastTime;\r\n        if (!duration) {\r\n            return setTimeout(drawFrames, frameInterval, frameInterval);\r\n        }\r\n\r\n        if (isPausedRecording) {\r\n            lastTime = new Date().getTime();\r\n            return setTimeout(drawFrames, 100);\r\n        }\r\n\r\n        // via #206, by Jack i.e. @Seymourr\r\n        lastTime = new Date().getTime();\r\n\r\n        if (video.paused) {\r\n            // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\r\n            // Tweak for Android Chrome\r\n            video.play();\r\n        }\r\n\r\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n        whammy.frames.push({\r\n            duration: duration,\r\n            image: canvas.toDataURL('image/webp')\r\n        });\r\n\r\n        if (!isStopDrawing) {\r\n            setTimeout(drawFrames, frameInterval, frameInterval);\r\n        }\r\n    }\r\n\r\n    function asyncLoop(o) {\r\n        var i = -1,\r\n            length = o.length;\r\n\r\n        (function loop() {\r\n            i++;\r\n            if (i === length) {\r\n                o.callback();\r\n                return;\r\n            }\r\n\r\n            // \"setTimeout\" added by Jim McLeod\r\n            setTimeout(function() {\r\n                o.functionToLoop(loop, i);\r\n            }, 1);\r\n        })();\r\n    }\r\n\r\n\r\n    /**\r\n     * remove black frames from the beginning to the specified frame\r\n     * @param {Array} _frames - array of frames to be checked\r\n     * @param {number} _framesToCheck - number of frame until check will be executed (-1 - will drop all frames until frame not matched will be found)\r\n     * @param {number} _pixTolerance - 0 - very strict (only black pixel color) ; 1 - all\r\n     * @param {number} _frameTolerance - 0 - very strict (only black frame color) ; 1 - all\r\n     * @returns {Array} - array of frames\r\n     */\r\n    // pull#293 by @volodalexey\r\n    function dropBlackFrames(_frames, _framesToCheck, _pixTolerance, _frameTolerance, callback) {\r\n        var localCanvas = document.createElement('canvas');\r\n        localCanvas.width = canvas.width;\r\n        localCanvas.height = canvas.height;\r\n        var context2d = localCanvas.getContext('2d');\r\n        var resultFrames = [];\r\n\r\n        var checkUntilNotBlack = _framesToCheck === -1;\r\n        var endCheckFrame = (_framesToCheck && _framesToCheck > 0 && _framesToCheck <= _frames.length) ?\r\n            _framesToCheck : _frames.length;\r\n        var sampleColor = {\r\n            r: 0,\r\n            g: 0,\r\n            b: 0\r\n        };\r\n        var maxColorDifference = Math.sqrt(\r\n            Math.pow(255, 2) +\r\n            Math.pow(255, 2) +\r\n            Math.pow(255, 2)\r\n        );\r\n        var pixTolerance = _pixTolerance && _pixTolerance >= 0 && _pixTolerance <= 1 ? _pixTolerance : 0;\r\n        var frameTolerance = _frameTolerance && _frameTolerance >= 0 && _frameTolerance <= 1 ? _frameTolerance : 0;\r\n        var doNotCheckNext = false;\r\n\r\n        asyncLoop({\r\n            length: endCheckFrame,\r\n            functionToLoop: function(loop, f) {\r\n                var matchPixCount, endPixCheck, maxPixCount;\r\n\r\n                var finishImage = function() {\r\n                    if (!doNotCheckNext && maxPixCount - matchPixCount <= maxPixCount * frameTolerance) {\r\n                        // console.log('removed black frame : ' + f + ' ; frame duration ' + _frames[f].duration);\r\n                    } else {\r\n                        // console.log('frame is passed : ' + f);\r\n                        if (checkUntilNotBlack) {\r\n                            doNotCheckNext = true;\r\n                        }\r\n                        resultFrames.push(_frames[f]);\r\n                    }\r\n                    loop();\r\n                };\r\n\r\n                if (!doNotCheckNext) {\r\n                    var image = new Image();\r\n                    image.onload = function() {\r\n                        context2d.drawImage(image, 0, 0, canvas.width, canvas.height);\r\n                        var imageData = context2d.getImageData(0, 0, canvas.width, canvas.height);\r\n                        matchPixCount = 0;\r\n                        endPixCheck = imageData.data.length;\r\n                        maxPixCount = imageData.data.length / 4;\r\n\r\n                        for (var pix = 0; pix < endPixCheck; pix += 4) {\r\n                            var currentColor = {\r\n                                r: imageData.data[pix],\r\n                                g: imageData.data[pix + 1],\r\n                                b: imageData.data[pix + 2]\r\n                            };\r\n                            var colorDifference = Math.sqrt(\r\n                                Math.pow(currentColor.r - sampleColor.r, 2) +\r\n                                Math.pow(currentColor.g - sampleColor.g, 2) +\r\n                                Math.pow(currentColor.b - sampleColor.b, 2)\r\n                            );\r\n                            // difference in color it is difference in color vectors (r1,g1,b1) <=> (r2,g2,b2)\r\n                            if (colorDifference <= maxColorDifference * pixTolerance) {\r\n                                matchPixCount++;\r\n                            }\r\n                        }\r\n                        finishImage();\r\n                    };\r\n                    image.src = _frames[f].image;\r\n                } else {\r\n                    finishImage();\r\n                }\r\n            },\r\n            callback: function() {\r\n                resultFrames = resultFrames.concat(_frames.slice(endCheckFrame));\r\n\r\n                if (resultFrames.length <= 0) {\r\n                    // at least one last frame should be available for next manipulation\r\n                    // if total duration of all frames will be < 1000 than ffmpeg doesn't work well...\r\n                    resultFrames.push(_frames[_frames.length - 1]);\r\n                }\r\n                callback(resultFrames);\r\n            }\r\n        });\r\n    }\r\n\r\n    var isStopDrawing = false;\r\n\r\n    /**\r\n     * This method stops recording video.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        isStopDrawing = true;\r\n\r\n        var _this = this;\r\n        // analyse of all frames takes some time!\r\n        setTimeout(function() {\r\n            // e.g. dropBlackFrames(frames, 10, 1, 1) - will cut all 10 frames\r\n            // e.g. dropBlackFrames(frames, 10, 0.5, 0.5) - will analyse 10 frames\r\n            // e.g. dropBlackFrames(frames, 10) === dropBlackFrames(frames, 10, 0, 0) - will analyse 10 frames with strict black color\r\n            dropBlackFrames(whammy.frames, -1, null, null, function(frames) {\r\n                whammy.frames = frames;\r\n\r\n                // to display advertisement images!\r\n                if (config.advertisement && config.advertisement.length) {\r\n                    whammy.frames = config.advertisement.concat(whammy.frames);\r\n                }\r\n\r\n                /**\r\n                 * @property {Blob} blob - Recorded frames in video/webm blob.\r\n                 * @memberof WhammyRecorder\r\n                 * @example\r\n                 * recorder.stop(function() {\r\n                 *     var blob = recorder.blob;\r\n                 * });\r\n                 */\r\n                whammy.compile(function(blob) {\r\n                    _this.blob = blob;\r\n\r\n                    if (_this.blob.forEach) {\r\n                        _this.blob = new Blob([], {\r\n                            type: 'video/webm'\r\n                        });\r\n                    }\r\n\r\n                    if (callback) {\r\n                        callback(_this.blob);\r\n                    }\r\n                });\r\n            });\r\n        }, 10);\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n\r\n        if (isStopDrawing) {\r\n            this.record();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (!isStopDrawing) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        whammy.frames = [];\r\n        isStopDrawing = true;\r\n        isPausedRecording = false;\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'WhammyRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n\r\n    var video;\r\n    var lastTime;\r\n    var whammy;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.WhammyRecorder = WhammyRecorder;\r\n}\n\r\n// https://github.com/antimatter15/whammy/blob/master/LICENSE\r\n// _________\r\n// Whammy.js\r\n\r\n// todo: Firefox now supports webp for webm containers!\r\n// their MediaRecorder implementation works well!\r\n// should we provide an option to record via Whammy.js or MediaRecorder API is a better solution?\r\n\r\n/**\r\n * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}\r\n * @summary A real time javascript webm encoder based on a canvas hack.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef Whammy\r\n * @class\r\n * @example\r\n * var recorder = new Whammy().Video(15);\r\n * recorder.add(context || canvas || dataURL);\r\n * var output = recorder.compile();\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\nvar Whammy = (function() {\r\n    // a more abstract-ish API\r\n\r\n    function WhammyVideo(duration) {\r\n        this.frames = [];\r\n        this.duration = duration || 1;\r\n        this.quality = 0.8;\r\n    }\r\n\r\n    /**\r\n     * Pass Canvas or Context or image/webp(string) to {@link Whammy} encoder.\r\n     * @method\r\n     * @memberof Whammy\r\n     * @example\r\n     * recorder = new Whammy().Video(0.8, 100);\r\n     * recorder.add(canvas || context || 'image/webp');\r\n     * @param {string} frame - Canvas || Context || image/webp\r\n     * @param {number} duration - Stick a duration (in milliseconds)\r\n     */\r\n    WhammyVideo.prototype.add = function(frame, duration) {\r\n        if ('canvas' in frame) { //CanvasRenderingContext2D\r\n            frame = frame.canvas;\r\n        }\r\n\r\n        if ('toDataURL' in frame) {\r\n            frame = frame.toDataURL('image/webp', this.quality);\r\n        }\r\n\r\n        if (!(/^data:image\\/webp;base64,/ig).test(frame)) {\r\n            throw 'Input must be formatted properly as a base64 encoded DataURI of type image/webp';\r\n        }\r\n        this.frames.push({\r\n            image: frame,\r\n            duration: duration || this.duration\r\n        });\r\n    };\r\n\r\n    function processInWebWorker(_function) {\r\n        var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n            'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n        ], {\r\n            type: 'application/javascript'\r\n        }));\r\n\r\n        var worker = new Worker(blob);\r\n        URL.revokeObjectURL(blob);\r\n        return worker;\r\n    }\r\n\r\n    function whammyInWebWorker(frames) {\r\n        function ArrayToWebM(frames) {\r\n            var info = checkFrames(frames);\r\n            if (!info) {\r\n                return [];\r\n            }\r\n\r\n            var clusterMaxDuration = 30000;\r\n\r\n            var EBML = [{\r\n                'id': 0x1a45dfa3, // EBML\r\n                'data': [{\r\n                    'data': 1,\r\n                    'id': 0x4286 // EBMLVersion\r\n                }, {\r\n                    'data': 1,\r\n                    'id': 0x42f7 // EBMLReadVersion\r\n                }, {\r\n                    'data': 4,\r\n                    'id': 0x42f2 // EBMLMaxIDLength\r\n                }, {\r\n                    'data': 8,\r\n                    'id': 0x42f3 // EBMLMaxSizeLength\r\n                }, {\r\n                    'data': 'webm',\r\n                    'id': 0x4282 // DocType\r\n                }, {\r\n                    'data': 2,\r\n                    'id': 0x4287 // DocTypeVersion\r\n                }, {\r\n                    'data': 2,\r\n                    'id': 0x4285 // DocTypeReadVersion\r\n                }]\r\n            }, {\r\n                'id': 0x18538067, // Segment\r\n                'data': [{\r\n                    'id': 0x1549a966, // Info\r\n                    'data': [{\r\n                        'data': 1e6, //do things in millisecs (num of nanosecs for duration scale)\r\n                        'id': 0x2ad7b1 // TimecodeScale\r\n                    }, {\r\n                        'data': 'whammy',\r\n                        'id': 0x4d80 // MuxingApp\r\n                    }, {\r\n                        'data': 'whammy',\r\n                        'id': 0x5741 // WritingApp\r\n                    }, {\r\n                        'data': doubleToString(info.duration),\r\n                        'id': 0x4489 // Duration\r\n                    }]\r\n                }, {\r\n                    'id': 0x1654ae6b, // Tracks\r\n                    'data': [{\r\n                        'id': 0xae, // TrackEntry\r\n                        'data': [{\r\n                            'data': 1,\r\n                            'id': 0xd7 // TrackNumber\r\n                        }, {\r\n                            'data': 1,\r\n                            'id': 0x73c5 // TrackUID\r\n                        }, {\r\n                            'data': 0,\r\n                            'id': 0x9c // FlagLacing\r\n                        }, {\r\n                            'data': 'und',\r\n                            'id': 0x22b59c // Language\r\n                        }, {\r\n                            'data': 'V_VP8',\r\n                            'id': 0x86 // CodecID\r\n                        }, {\r\n                            'data': 'VP8',\r\n                            'id': 0x258688 // CodecName\r\n                        }, {\r\n                            'data': 1,\r\n                            'id': 0x83 // TrackType\r\n                        }, {\r\n                            'id': 0xe0, // Video\r\n                            'data': [{\r\n                                'data': info.width,\r\n                                'id': 0xb0 // PixelWidth\r\n                            }, {\r\n                                'data': info.height,\r\n                                'id': 0xba // PixelHeight\r\n                            }]\r\n                        }]\r\n                    }]\r\n                }]\r\n            }];\r\n\r\n            //Generate clusters (max duration)\r\n            var frameNumber = 0;\r\n            var clusterTimecode = 0;\r\n            while (frameNumber < frames.length) {\r\n\r\n                var clusterFrames = [];\r\n                var clusterDuration = 0;\r\n                do {\r\n                    clusterFrames.push(frames[frameNumber]);\r\n                    clusterDuration += frames[frameNumber].duration;\r\n                    frameNumber++;\r\n                } while (frameNumber < frames.length && clusterDuration < clusterMaxDuration);\r\n\r\n                var clusterCounter = 0;\r\n                var cluster = {\r\n                    'id': 0x1f43b675, // Cluster\r\n                    'data': getClusterData(clusterTimecode, clusterCounter, clusterFrames)\r\n                }; //Add cluster to segment\r\n                EBML[1].data.push(cluster);\r\n                clusterTimecode += clusterDuration;\r\n            }\r\n\r\n            return generateEBML(EBML);\r\n        }\r\n\r\n        function getClusterData(clusterTimecode, clusterCounter, clusterFrames) {\r\n            return [{\r\n                'data': clusterTimecode,\r\n                'id': 0xe7 // Timecode\r\n            }].concat(clusterFrames.map(function(webp) {\r\n                var block = makeSimpleBlock({\r\n                    discardable: 0,\r\n                    frame: webp.data.slice(4),\r\n                    invisible: 0,\r\n                    keyframe: 1,\r\n                    lacing: 0,\r\n                    trackNum: 1,\r\n                    timecode: Math.round(clusterCounter)\r\n                });\r\n                clusterCounter += webp.duration;\r\n                return {\r\n                    data: block,\r\n                    id: 0xa3\r\n                };\r\n            }));\r\n        }\r\n\r\n        // sums the lengths of all the frames and gets the duration\r\n\r\n        function checkFrames(frames) {\r\n            if (!frames[0]) {\r\n                postMessage({\r\n                    error: 'Something went wrong. Maybe WebP format is not supported in the current browser.'\r\n                });\r\n                return;\r\n            }\r\n\r\n            var width = frames[0].width,\r\n                height = frames[0].height,\r\n                duration = frames[0].duration;\r\n\r\n            for (var i = 1; i < frames.length; i++) {\r\n                duration += frames[i].duration;\r\n            }\r\n            return {\r\n                duration: duration,\r\n                width: width,\r\n                height: height\r\n            };\r\n        }\r\n\r\n        function numToBuffer(num) {\r\n            var parts = [];\r\n            while (num > 0) {\r\n                parts.push(num & 0xff);\r\n                num = num >> 8;\r\n            }\r\n            return new Uint8Array(parts.reverse());\r\n        }\r\n\r\n        function strToBuffer(str) {\r\n            return new Uint8Array(str.split('').map(function(e) {\r\n                return e.charCodeAt(0);\r\n            }));\r\n        }\r\n\r\n        function bitsToBuffer(bits) {\r\n            var data = [];\r\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\r\n            bits = pad + bits;\r\n            for (var i = 0; i < bits.length; i += 8) {\r\n                data.push(parseInt(bits.substr(i, 8), 2));\r\n            }\r\n            return new Uint8Array(data);\r\n        }\r\n\r\n        function generateEBML(json) {\r\n            var ebml = [];\r\n            for (var i = 0; i < json.length; i++) {\r\n                var data = json[i].data;\r\n\r\n                if (typeof data === 'object') {\r\n                    data = generateEBML(data);\r\n                }\r\n\r\n                if (typeof data === 'number') {\r\n                    data = bitsToBuffer(data.toString(2));\r\n                }\r\n\r\n                if (typeof data === 'string') {\r\n                    data = strToBuffer(data);\r\n                }\r\n\r\n                var len = data.size || data.byteLength || data.length;\r\n                var zeroes = Math.ceil(Math.ceil(Math.log(len) / Math.log(2)) / 8);\r\n                var sizeToString = len.toString(2);\r\n                var padded = (new Array((zeroes * 7 + 7 + 1) - sizeToString.length)).join('0') + sizeToString;\r\n                var size = (new Array(zeroes)).join('0') + '1' + padded;\r\n\r\n                ebml.push(numToBuffer(json[i].id));\r\n                ebml.push(bitsToBuffer(size));\r\n                ebml.push(data);\r\n            }\r\n\r\n            return new Blob(ebml, {\r\n                type: 'video/webm'\r\n            });\r\n        }\r\n\r\n        function toBinStrOld(bits) {\r\n            var data = '';\r\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\r\n            bits = pad + bits;\r\n            for (var i = 0; i < bits.length; i += 8) {\r\n                data += String.fromCharCode(parseInt(bits.substr(i, 8), 2));\r\n            }\r\n            return data;\r\n        }\r\n\r\n        function makeSimpleBlock(data) {\r\n            var flags = 0;\r\n\r\n            if (data.keyframe) {\r\n                flags |= 128;\r\n            }\r\n\r\n            if (data.invisible) {\r\n                flags |= 8;\r\n            }\r\n\r\n            if (data.lacing) {\r\n                flags |= (data.lacing << 1);\r\n            }\r\n\r\n            if (data.discardable) {\r\n                flags |= 1;\r\n            }\r\n\r\n            if (data.trackNum > 127) {\r\n                throw 'TrackNumber > 127 not supported';\r\n            }\r\n\r\n            var out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function(e) {\r\n                return String.fromCharCode(e);\r\n            }).join('') + data.frame;\r\n\r\n            return out;\r\n        }\r\n\r\n        function parseWebP(riff) {\r\n            var VP8 = riff.RIFF[0].WEBP[0];\r\n\r\n            var frameStart = VP8.indexOf('\\x9d\\x01\\x2a'); // A VP8 keyframe starts with the 0x9d012a header\r\n            for (var i = 0, c = []; i < 4; i++) {\r\n                c[i] = VP8.charCodeAt(frameStart + 3 + i);\r\n            }\r\n\r\n            var width, height, tmp;\r\n\r\n            //the code below is literally copied verbatim from the bitstream spec\r\n            tmp = (c[1] << 8) | c[0];\r\n            width = tmp & 0x3FFF;\r\n            tmp = (c[3] << 8) | c[2];\r\n            height = tmp & 0x3FFF;\r\n            return {\r\n                width: width,\r\n                height: height,\r\n                data: VP8,\r\n                riff: riff\r\n            };\r\n        }\r\n\r\n        function getStrLength(string, offset) {\r\n            return parseInt(string.substr(offset + 4, 4).split('').map(function(i) {\r\n                var unpadded = i.charCodeAt(0).toString(2);\r\n                return (new Array(8 - unpadded.length + 1)).join('0') + unpadded;\r\n            }).join(''), 2);\r\n        }\r\n\r\n        function parseRIFF(string) {\r\n            var offset = 0;\r\n            var chunks = {};\r\n\r\n            while (offset < string.length) {\r\n                var id = string.substr(offset, 4);\r\n                var len = getStrLength(string, offset);\r\n                var data = string.substr(offset + 4 + 4, len);\r\n                offset += 4 + 4 + len;\r\n                chunks[id] = chunks[id] || [];\r\n\r\n                if (id === 'RIFF' || id === 'LIST') {\r\n                    chunks[id].push(parseRIFF(data));\r\n                } else {\r\n                    chunks[id].push(data);\r\n                }\r\n            }\r\n            return chunks;\r\n        }\r\n\r\n        function doubleToString(num) {\r\n            return [].slice.call(\r\n                new Uint8Array((new Float64Array([num])).buffer), 0).map(function(e) {\r\n                return String.fromCharCode(e);\r\n            }).reverse().join('');\r\n        }\r\n\r\n        var webm = new ArrayToWebM(frames.map(function(frame) {\r\n            var webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\r\n            webp.duration = frame.duration;\r\n            return webp;\r\n        }));\r\n\r\n        postMessage(webm);\r\n    }\r\n\r\n    /**\r\n     * Encodes frames in WebM container. It uses WebWorkinvoke to invoke 'ArrayToWebM' method.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof Whammy\r\n     * @example\r\n     * recorder = new Whammy().Video(0.8, 100);\r\n     * recorder.compile(function(blob) {\r\n     *    // blob.size - blob.type\r\n     * });\r\n     */\r\n    WhammyVideo.prototype.compile = function(callback) {\r\n        var webWorker = processInWebWorker(whammyInWebWorker);\r\n\r\n        webWorker.onmessage = function(event) {\r\n            if (event.data.error) {\r\n                console.error(event.data.error);\r\n                return;\r\n            }\r\n            callback(event.data);\r\n        };\r\n\r\n        webWorker.postMessage(this.frames);\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * A more abstract-ish API.\r\n         * @method\r\n         * @memberof Whammy\r\n         * @example\r\n         * recorder = new Whammy().Video(0.8, 100);\r\n         * @param {?number} speed - 0.8\r\n         * @param {?number} quality - 100\r\n         */\r\n        Video: WhammyVideo\r\n    };\r\n})();\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.Whammy = Whammy;\r\n}\n\r\n// ______________ (indexed-db)\r\n// DiskStorage.js\r\n\r\n/**\r\n * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.\r\n * @summary Writing blobs into IndexedDB.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @example\r\n * DiskStorage.Store({\r\n *     audioBlob: yourAudioBlob,\r\n *     videoBlob: yourVideoBlob,\r\n *     gifBlob  : yourGifBlob\r\n * });\r\n * DiskStorage.Fetch(function(dataURL, type) {\r\n *     if(type === 'audioBlob') { }\r\n *     if(type === 'videoBlob') { }\r\n *     if(type === 'gifBlob')   { }\r\n * });\r\n * // DiskStorage.dataStoreName = 'recordRTC';\r\n * // DiskStorage.onError = function(error) { };\r\n * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\r\n * @property {function} Fetch - This method fetches stored blobs from IndexedDB.\r\n * @property {function} Store - This method stores blobs in IndexedDB.\r\n * @property {function} onError - This function is invoked for any known/unknown error.\r\n * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\n\r\nvar DiskStorage = {\r\n    /**\r\n     * This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.init();\r\n     */\r\n    init: function() {\r\n        var self = this;\r\n\r\n        if (typeof indexedDB === 'undefined' || typeof indexedDB.open === 'undefined') {\r\n            console.error('IndexedDB API are not available in this browser.');\r\n            return;\r\n        }\r\n\r\n        var dbVersion = 1;\r\n        var dbName = this.dbName || location.href.replace(/\\/|:|#|%|\\.|\\[|\\]/g, ''),\r\n            db;\r\n        var request = indexedDB.open(dbName, dbVersion);\r\n\r\n        function createObjectStore(dataBase) {\r\n            dataBase.createObjectStore(self.dataStoreName);\r\n        }\r\n\r\n        function putInDB() {\r\n            var transaction = db.transaction([self.dataStoreName], 'readwrite');\r\n\r\n            if (self.videoBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.videoBlob, 'videoBlob');\r\n            }\r\n\r\n            if (self.gifBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.gifBlob, 'gifBlob');\r\n            }\r\n\r\n            if (self.audioBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.audioBlob, 'audioBlob');\r\n            }\r\n\r\n            function getFromStore(portionName) {\r\n                transaction.objectStore(self.dataStoreName).get(portionName).onsuccess = function(event) {\r\n                    if (self.callback) {\r\n                        self.callback(event.target.result, portionName);\r\n                    }\r\n                };\r\n            }\r\n\r\n            getFromStore('audioBlob');\r\n            getFromStore('videoBlob');\r\n            getFromStore('gifBlob');\r\n        }\r\n\r\n        request.onerror = self.onError;\r\n\r\n        request.onsuccess = function() {\r\n            db = request.result;\r\n            db.onerror = self.onError;\r\n\r\n            if (db.setVersion) {\r\n                if (db.version !== dbVersion) {\r\n                    var setVersion = db.setVersion(dbVersion);\r\n                    setVersion.onsuccess = function() {\r\n                        createObjectStore(db);\r\n                        putInDB();\r\n                    };\r\n                } else {\r\n                    putInDB();\r\n                }\r\n            } else {\r\n                putInDB();\r\n            }\r\n        };\r\n        request.onupgradeneeded = function(event) {\r\n            createObjectStore(event.target.result);\r\n        };\r\n    },\r\n    /**\r\n     * This method fetches stored blobs from IndexedDB.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.Fetch(function(dataURL, type) {\r\n     *     if(type === 'audioBlob') { }\r\n     *     if(type === 'videoBlob') { }\r\n     *     if(type === 'gifBlob')   { }\r\n     * });\r\n     */\r\n    Fetch: function(callback) {\r\n        this.callback = callback;\r\n        this.init();\r\n\r\n        return this;\r\n    },\r\n    /**\r\n     * This method stores blobs in IndexedDB.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.Store({\r\n     *     audioBlob: yourAudioBlob,\r\n     *     videoBlob: yourVideoBlob,\r\n     *     gifBlob  : yourGifBlob\r\n     * });\r\n     */\r\n    Store: function(config) {\r\n        this.audioBlob = config.audioBlob;\r\n        this.videoBlob = config.videoBlob;\r\n        this.gifBlob = config.gifBlob;\r\n\r\n        this.init();\r\n\r\n        return this;\r\n    },\r\n    /**\r\n     * This function is invoked for any known/unknown error.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.onError = function(error){\r\n     *     alerot( JSON.stringify(error) );\r\n     * };\r\n     */\r\n    onError: function(error) {\r\n        console.error(JSON.stringify(error, null, '\\t'));\r\n    },\r\n\r\n    /**\r\n     * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.dataStoreName = 'recordRTC';\r\n     */\r\n    dataStoreName: 'recordRTC',\r\n    dbName: null\r\n};\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.DiskStorage = DiskStorage;\r\n}\n\r\n// ______________\r\n// GifRecorder.js\r\n\r\n/**\r\n * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef GifRecorder\r\n * @class\r\n * @example\r\n * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     img.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.\r\n * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}\r\n */\r\n\r\nfunction GifRecorder(mediaStream, config) {\r\n    if (typeof GIFEncoder === 'undefined') {\r\n        var script = document.createElement('script');\r\n        script.src = 'https://www.webrtc-experiment.com/gif-recorder.js';\r\n        (document.body || document.documentElement).appendChild(script);\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    var isHTMLObject = mediaStream instanceof CanvasRenderingContext2D || mediaStream instanceof HTMLCanvasElement;\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (typeof GIFEncoder === 'undefined') {\r\n            setTimeout(self.record, 1000);\r\n            return;\r\n        }\r\n\r\n        if (!isLoadedMetaData) {\r\n            setTimeout(self.record, 1000);\r\n            return;\r\n        }\r\n\r\n        if (!isHTMLObject) {\r\n            if (!config.width) {\r\n                config.width = video.offsetWidth || 320;\r\n            }\r\n\r\n            if (!config.height) {\r\n                config.height = video.offsetHeight || 240;\r\n            }\r\n\r\n            if (!config.video) {\r\n                config.video = {\r\n                    width: config.width,\r\n                    height: config.height\r\n                };\r\n            }\r\n\r\n            if (!config.canvas) {\r\n                config.canvas = {\r\n                    width: config.width,\r\n                    height: config.height\r\n                };\r\n            }\r\n\r\n            canvas.width = config.canvas.width || 320;\r\n            canvas.height = config.canvas.height || 240;\r\n\r\n            video.width = config.video.width || 320;\r\n            video.height = config.video.height || 240;\r\n        }\r\n\r\n        // external library to record as GIF images\r\n        gifEncoder = new GIFEncoder();\r\n\r\n        // void setRepeat(int iter) \r\n        // Sets the number of times the set of GIF frames should be played. \r\n        // Default is 1; 0 means play indefinitely.\r\n        gifEncoder.setRepeat(0);\r\n\r\n        // void setFrameRate(Number fps) \r\n        // Sets frame rate in frames per second. \r\n        // Equivalent to setDelay(1000/fps).\r\n        // Using \"setDelay\" instead of \"setFrameRate\"\r\n        gifEncoder.setDelay(config.frameRate || 200);\r\n\r\n        // void setQuality(int quality) \r\n        // Sets quality of color quantization (conversion of images to the \r\n        // maximum 256 colors allowed by the GIF specification). \r\n        // Lower values (minimum = 1) produce better colors, \r\n        // but slow processing significantly. 10 is the default, \r\n        // and produces good color mapping at reasonable speeds. \r\n        // Values greater than 20 do not yield significant improvements in speed.\r\n        gifEncoder.setQuality(config.quality || 10);\r\n\r\n        // Boolean start() \r\n        // This writes the GIF Header and returns false if it fails.\r\n        gifEncoder.start();\r\n\r\n        if (typeof config.onGifRecordingStarted === 'function') {\r\n            config.onGifRecordingStarted();\r\n        }\r\n\r\n        startTime = Date.now();\r\n\r\n        function drawVideoFrame(time) {\r\n            if (self.clearedRecordedData === true) {\r\n                return;\r\n            }\r\n\r\n            if (isPausedRecording) {\r\n                return setTimeout(function() {\r\n                    drawVideoFrame(time);\r\n                }, 100);\r\n            }\r\n\r\n            lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\r\n\r\n            if (typeof lastFrameTime === undefined) {\r\n                lastFrameTime = time;\r\n            }\r\n\r\n            // ~10 fps\r\n            if (time - lastFrameTime < 90) {\r\n                return;\r\n            }\r\n\r\n            if (!isHTMLObject && video.paused) {\r\n                // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\r\n                // Tweak for Android Chrome\r\n                video.play();\r\n            }\r\n\r\n            if (!isHTMLObject) {\r\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n            }\r\n\r\n            if (config.onGifPreview) {\r\n                config.onGifPreview(canvas.toDataURL('image/png'));\r\n            }\r\n\r\n            gifEncoder.addFrame(context);\r\n            lastFrameTime = time;\r\n        }\r\n\r\n        lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     img.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (lastAnimationFrame) {\r\n            cancelAnimationFrame(lastAnimationFrame);\r\n        }\r\n\r\n        endTime = Date.now();\r\n\r\n        /**\r\n         * @property {Blob} blob - The recorded blob object.\r\n         * @memberof GifRecorder\r\n         * @example\r\n         * recorder.stop(function(){\r\n         *     var blob = recorder.blob;\r\n         * });\r\n         */\r\n        this.blob = new Blob([new Uint8Array(gifEncoder.stream().bin)], {\r\n            type: 'image/gif'\r\n        });\r\n\r\n        callback(this.blob);\r\n\r\n        // bug: find a way to clear old recorded blobs\r\n        gifEncoder.stream().bin = [];\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        self.clearedRecordedData = true;\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        if (gifEncoder) {\r\n            gifEncoder.stream().bin = [];\r\n        }\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'GifRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n\r\n    if (isHTMLObject) {\r\n        if (mediaStream instanceof CanvasRenderingContext2D) {\r\n            context = mediaStream;\r\n            canvas = context.canvas;\r\n        } else if (mediaStream instanceof HTMLCanvasElement) {\r\n            context = mediaStream.getContext('2d');\r\n            canvas = mediaStream;\r\n        }\r\n    }\r\n\r\n    var isLoadedMetaData = true;\r\n\r\n    if (!isHTMLObject) {\r\n        var video = document.createElement('video');\r\n        video.muted = true;\r\n        video.autoplay = true;\r\n        video.playsInline = true;\r\n\r\n        isLoadedMetaData = false;\r\n        video.onloadedmetadata = function() {\r\n            isLoadedMetaData = true;\r\n        };\r\n\r\n        setSrcObject(mediaStream, video);\r\n\r\n        video.play();\r\n    }\r\n\r\n    var lastAnimationFrame = null;\r\n    var startTime, endTime, lastFrameTime;\r\n\r\n    var gifEncoder;\r\n\r\n    var self = this;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.GifRecorder = GifRecorder;\r\n}\n\r\n// Last time updated: 2019-06-21 4:09:42 AM UTC\r\n\r\n// ________________________\r\n// MultiStreamsMixer v1.2.2\r\n\r\n// Open-Sourced: https://github.com/muaz-khan/MultiStreamsMixer\r\n\r\n// --------------------------------------------------\r\n// Muaz Khan     - www.MuazKhan.com\r\n// MIT License   - www.WebRTC-Experiment.com/licence\r\n// --------------------------------------------------\r\n\r\nfunction MultiStreamsMixer(arrayOfMediaStreams, elementClass) {\r\n\r\n    var browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\r\n\r\n    (function(that) {\r\n        if (typeof RecordRTC !== 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (!that) {\r\n            return;\r\n        }\r\n\r\n        if (typeof window !== 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (typeof global === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        global.navigator = {\r\n            userAgent: browserFakeUserAgent,\r\n            getUserMedia: function() {}\r\n        };\r\n\r\n        if (!global.console) {\r\n            global.console = {};\r\n        }\r\n\r\n        if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\r\n            global.console.error = global.console.log = global.console.log || function() {\r\n                console.log(arguments);\r\n            };\r\n        }\r\n\r\n        if (typeof document === 'undefined') {\r\n            /*global document:true */\r\n            that.document = {\r\n                documentElement: {\r\n                    appendChild: function() {\r\n                        return '';\r\n                    }\r\n                }\r\n            };\r\n\r\n            document.createElement = document.captureStream = document.mozCaptureStream = function() {\r\n                var obj = {\r\n                    getContext: function() {\r\n                        return obj;\r\n                    },\r\n                    play: function() {},\r\n                    pause: function() {},\r\n                    drawImage: function() {},\r\n                    toDataURL: function() {\r\n                        return '';\r\n                    },\r\n                    style: {}\r\n                };\r\n                return obj;\r\n            };\r\n\r\n            that.HTMLVideoElement = function() {};\r\n        }\r\n\r\n        if (typeof location === 'undefined') {\r\n            /*global location:true */\r\n            that.location = {\r\n                protocol: 'file:',\r\n                href: '',\r\n                hash: ''\r\n            };\r\n        }\r\n\r\n        if (typeof screen === 'undefined') {\r\n            /*global screen:true */\r\n            that.screen = {\r\n                width: 0,\r\n                height: 0\r\n            };\r\n        }\r\n\r\n        if (typeof URL === 'undefined') {\r\n            /*global screen:true */\r\n            that.URL = {\r\n                createObjectURL: function() {\r\n                    return '';\r\n                },\r\n                revokeObjectURL: function() {\r\n                    return '';\r\n                }\r\n            };\r\n        }\r\n\r\n        /*global window:true */\r\n        that.window = global;\r\n    })(typeof global !== 'undefined' ? global : null);\r\n\r\n    // requires: chrome://flags/#enable-experimental-web-platform-features\r\n\r\n    elementClass = elementClass || 'multi-streams-mixer';\r\n\r\n    var videos = [];\r\n    var isStopDrawingFrames = false;\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n    canvas.style.opacity = 0;\r\n    canvas.style.position = 'absolute';\r\n    canvas.style.zIndex = -1;\r\n    canvas.style.top = '-1000em';\r\n    canvas.style.left = '-1000em';\r\n    canvas.className = elementClass;\r\n    (document.body || document.documentElement).appendChild(canvas);\r\n\r\n    this.disableLogs = false;\r\n    this.frameInterval = 10;\r\n\r\n    this.width = 360;\r\n    this.height = 240;\r\n\r\n    // use gain node to prevent echo\r\n    this.useGainNode = true;\r\n\r\n    var self = this;\r\n\r\n    // _____________________________\r\n    // Cross-Browser-Declarations.js\r\n\r\n    // WebAudio API representer\r\n    var AudioContext = window.AudioContext;\r\n\r\n    if (typeof AudioContext === 'undefined') {\r\n        if (typeof webkitAudioContext !== 'undefined') {\r\n            /*global AudioContext:true */\r\n            AudioContext = webkitAudioContext;\r\n        }\r\n\r\n        if (typeof mozAudioContext !== 'undefined') {\r\n            /*global AudioContext:true */\r\n            AudioContext = mozAudioContext;\r\n        }\r\n    }\r\n\r\n    /*jshint -W079 */\r\n    var URL = window.URL;\r\n\r\n    if (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\r\n        /*global URL:true */\r\n        URL = webkitURL;\r\n    }\r\n\r\n    if (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\r\n        if (typeof navigator.webkitGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.webkitGetUserMedia;\r\n        }\r\n\r\n        if (typeof navigator.mozGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.mozGetUserMedia;\r\n        }\r\n    }\r\n\r\n    var MediaStream = window.MediaStream;\r\n\r\n    if (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\r\n        MediaStream = webkitMediaStream;\r\n    }\r\n\r\n    /*global MediaStream:true */\r\n    if (typeof MediaStream !== 'undefined') {\r\n        // override \"stop\" method for all browsers\r\n        if (typeof MediaStream.prototype.stop === 'undefined') {\r\n            MediaStream.prototype.stop = function() {\r\n                this.getTracks().forEach(function(track) {\r\n                    track.stop();\r\n                });\r\n            };\r\n        }\r\n    }\r\n\r\n    var Storage = {};\r\n\r\n    if (typeof AudioContext !== 'undefined') {\r\n        Storage.AudioContext = AudioContext;\r\n    } else if (typeof webkitAudioContext !== 'undefined') {\r\n        Storage.AudioContext = webkitAudioContext;\r\n    }\r\n\r\n    function setSrcObject(stream, element) {\r\n        if ('srcObject' in element) {\r\n            element.srcObject = stream;\r\n        } else if ('mozSrcObject' in element) {\r\n            element.mozSrcObject = stream;\r\n        } else {\r\n            element.srcObject = stream;\r\n        }\r\n    }\r\n\r\n    this.startDrawingFrames = function() {\r\n        drawVideosToCanvas();\r\n    };\r\n\r\n    function drawVideosToCanvas() {\r\n        if (isStopDrawingFrames) {\r\n            return;\r\n        }\r\n\r\n        var videosLength = videos.length;\r\n\r\n        var fullcanvas = false;\r\n        var remaining = [];\r\n        videos.forEach(function(video) {\r\n            if (!video.stream) {\r\n                video.stream = {};\r\n            }\r\n\r\n            if (video.stream.fullcanvas) {\r\n                fullcanvas = video;\r\n            } else {\r\n                // todo: video.stream.active or video.stream.live to fix blank frames issues?\r\n                remaining.push(video);\r\n            }\r\n        });\r\n\r\n        if (fullcanvas) {\r\n            canvas.width = fullcanvas.stream.width;\r\n            canvas.height = fullcanvas.stream.height;\r\n        } else if (remaining.length) {\r\n            canvas.width = videosLength > 1 ? remaining[0].width * 2 : remaining[0].width;\r\n\r\n            var height = 1;\r\n            if (videosLength === 3 || videosLength === 4) {\r\n                height = 2;\r\n            }\r\n            if (videosLength === 5 || videosLength === 6) {\r\n                height = 3;\r\n            }\r\n            if (videosLength === 7 || videosLength === 8) {\r\n                height = 4;\r\n            }\r\n            if (videosLength === 9 || videosLength === 10) {\r\n                height = 5;\r\n            }\r\n            canvas.height = remaining[0].height * height;\r\n        } else {\r\n            canvas.width = self.width || 360;\r\n            canvas.height = self.height || 240;\r\n        }\r\n\r\n        if (fullcanvas && fullcanvas instanceof HTMLVideoElement) {\r\n            drawImage(fullcanvas);\r\n        }\r\n\r\n        remaining.forEach(function(video, idx) {\r\n            drawImage(video, idx);\r\n        });\r\n\r\n        setTimeout(drawVideosToCanvas, self.frameInterval);\r\n    }\r\n\r\n    function drawImage(video, idx) {\r\n        if (isStopDrawingFrames) {\r\n            return;\r\n        }\r\n\r\n        var x = 0;\r\n        var y = 0;\r\n        var width = video.width;\r\n        var height = video.height;\r\n\r\n        if (idx === 1) {\r\n            x = video.width;\r\n        }\r\n\r\n        if (idx === 2) {\r\n            y = video.height;\r\n        }\r\n\r\n        if (idx === 3) {\r\n            x = video.width;\r\n            y = video.height;\r\n        }\r\n\r\n        if (idx === 4) {\r\n            y = video.height * 2;\r\n        }\r\n\r\n        if (idx === 5) {\r\n            x = video.width;\r\n            y = video.height * 2;\r\n        }\r\n\r\n        if (idx === 6) {\r\n            y = video.height * 3;\r\n        }\r\n\r\n        if (idx === 7) {\r\n            x = video.width;\r\n            y = video.height * 3;\r\n        }\r\n\r\n        if (typeof video.stream.left !== 'undefined') {\r\n            x = video.stream.left;\r\n        }\r\n\r\n        if (typeof video.stream.top !== 'undefined') {\r\n            y = video.stream.top;\r\n        }\r\n\r\n        if (typeof video.stream.width !== 'undefined') {\r\n            width = video.stream.width;\r\n        }\r\n\r\n        if (typeof video.stream.height !== 'undefined') {\r\n            height = video.stream.height;\r\n        }\r\n\r\n        context.drawImage(video, x, y, width, height);\r\n\r\n        if (typeof video.stream.onRender === 'function') {\r\n            video.stream.onRender(context, x, y, width, height, idx);\r\n        }\r\n    }\r\n\r\n    function getMixedStream() {\r\n        isStopDrawingFrames = false;\r\n        var mixedVideoStream = getMixedVideoStream();\r\n\r\n        var mixedAudioStream = getMixedAudioStream();\r\n        if (mixedAudioStream) {\r\n            mixedAudioStream.getTracks().filter(function(t) {\r\n                return t.kind === 'audio';\r\n            }).forEach(function(track) {\r\n                mixedVideoStream.addTrack(track);\r\n            });\r\n        }\r\n\r\n        var fullcanvas;\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            if (stream.fullcanvas) {\r\n                fullcanvas = true;\r\n            }\r\n        });\r\n\r\n        // mixedVideoStream.prototype.appendStreams = appendStreams;\r\n        // mixedVideoStream.prototype.resetVideoStreams = resetVideoStreams;\r\n        // mixedVideoStream.prototype.clearRecordedData = clearRecordedData;\r\n\r\n        return mixedVideoStream;\r\n    }\r\n\r\n    function getMixedVideoStream() {\r\n        resetVideoStreams();\r\n\r\n        var capturedStream;\r\n\r\n        if ('captureStream' in canvas) {\r\n            capturedStream = canvas.captureStream();\r\n        } else if ('mozCaptureStream' in canvas) {\r\n            capturedStream = canvas.mozCaptureStream();\r\n        } else if (!self.disableLogs) {\r\n            console.error('Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features');\r\n        }\r\n\r\n        var videoStream = new MediaStream();\r\n\r\n        capturedStream.getTracks().filter(function(t) {\r\n            return t.kind === 'video';\r\n        }).forEach(function(track) {\r\n            videoStream.addTrack(track);\r\n        });\r\n\r\n        canvas.stream = videoStream;\r\n\r\n        return videoStream;\r\n    }\r\n\r\n    function getMixedAudioStream() {\r\n        // via: @pehrsons\r\n        if (!Storage.AudioContextConstructor) {\r\n            Storage.AudioContextConstructor = new Storage.AudioContext();\r\n        }\r\n\r\n        self.audioContext = Storage.AudioContextConstructor;\r\n\r\n        self.audioSources = [];\r\n\r\n        if (self.useGainNode === true) {\r\n            self.gainNode = self.audioContext.createGain();\r\n            self.gainNode.connect(self.audioContext.destination);\r\n            self.gainNode.gain.value = 0; // don't hear self\r\n        }\r\n\r\n        var audioTracksLength = 0;\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            if (!stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                }).length) {\r\n                return;\r\n            }\r\n\r\n            audioTracksLength++;\r\n\r\n            var audioSource = self.audioContext.createMediaStreamSource(stream);\r\n\r\n            if (self.useGainNode === true) {\r\n                audioSource.connect(self.gainNode);\r\n            }\r\n\r\n            self.audioSources.push(audioSource);\r\n        });\r\n\r\n        if (!audioTracksLength) {\r\n            // because \"self.audioContext\" is not initialized\r\n            // that's why we've to ignore rest of the code\r\n            return;\r\n        }\r\n\r\n        self.audioDestination = self.audioContext.createMediaStreamDestination();\r\n        self.audioSources.forEach(function(audioSource) {\r\n            audioSource.connect(self.audioDestination);\r\n        });\r\n        return self.audioDestination.stream;\r\n    }\r\n\r\n    function getVideo(stream) {\r\n        var video = document.createElement('video');\r\n\r\n        setSrcObject(stream, video);\r\n\r\n        video.className = elementClass;\r\n\r\n        video.muted = true;\r\n        video.volume = 0;\r\n\r\n        video.width = stream.width || self.width || 360;\r\n        video.height = stream.height || self.height || 240;\r\n\r\n        video.play();\r\n\r\n        return video;\r\n    }\r\n\r\n    this.appendStreams = function(streams) {\r\n        if (!streams) {\r\n            throw 'First parameter is required.';\r\n        }\r\n\r\n        if (!(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        streams.forEach(function(stream) {\r\n            var newStream = new MediaStream();\r\n\r\n            if (stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                }).length) {\r\n                var video = getVideo(stream);\r\n                video.stream = stream;\r\n                videos.push(video);\r\n\r\n                newStream.addTrack(stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                })[0]);\r\n            }\r\n\r\n            if (stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                }).length) {\r\n                var audioSource = self.audioContext.createMediaStreamSource(stream);\r\n                self.audioDestination = self.audioContext.createMediaStreamDestination();\r\n                audioSource.connect(self.audioDestination);\r\n\r\n                newStream.addTrack(self.audioDestination.stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                })[0]);\r\n            }\r\n\r\n            arrayOfMediaStreams.push(newStream);\r\n        });\r\n    };\r\n\r\n    this.releaseStreams = function() {\r\n        videos = [];\r\n        isStopDrawingFrames = true;\r\n\r\n        if (self.gainNode) {\r\n            self.gainNode.disconnect();\r\n            self.gainNode = null;\r\n        }\r\n\r\n        if (self.audioSources.length) {\r\n            self.audioSources.forEach(function(source) {\r\n                source.disconnect();\r\n            });\r\n            self.audioSources = [];\r\n        }\r\n\r\n        if (self.audioDestination) {\r\n            self.audioDestination.disconnect();\r\n            self.audioDestination = null;\r\n        }\r\n\r\n        if (self.audioContext) {\r\n            self.audioContext.close();\r\n        }\r\n\r\n        self.audioContext = null;\r\n\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        if (canvas.stream) {\r\n            canvas.stream.stop();\r\n            canvas.stream = null;\r\n        }\r\n    };\r\n\r\n    this.resetVideoStreams = function(streams) {\r\n        if (streams && !(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        resetVideoStreams(streams);\r\n    };\r\n\r\n    function resetVideoStreams(streams) {\r\n        videos = [];\r\n        streams = streams || arrayOfMediaStreams;\r\n\r\n        // via: @adrian-ber\r\n        streams.forEach(function(stream) {\r\n            if (!stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                }).length) {\r\n                return;\r\n            }\r\n\r\n            var video = getVideo(stream);\r\n            video.stream = stream;\r\n            videos.push(video);\r\n        });\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'MultiStreamsMixer';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    this.getMixedStream = getMixedStream;\r\n\r\n}\r\n\r\nif (typeof RecordRTC === 'undefined') {\r\n    if (typeof module !== 'undefined' /* && !!module.exports*/ ) {\r\n        module.exports = MultiStreamsMixer;\r\n    }\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('MultiStreamsMixer', [], function() {\r\n            return MultiStreamsMixer;\r\n        });\r\n    }\r\n}\n\r\n// ______________________\r\n// MultiStreamRecorder.js\r\n\r\n/*\r\n * Video conference recording, using captureStream API along with WebAudio and Canvas2D API.\r\n */\r\n\r\n/**\r\n * MultiStreamRecorder can record multiple videos in single container.\r\n * @summary Multi-videos recorder.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef MultiStreamRecorder\r\n * @class\r\n * @example\r\n * var options = {\r\n *     mimeType: 'video/webm'\r\n * }\r\n * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n *\r\n *     // or\r\n *     var blob = recorder.blob;\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStreams} mediaStreams - Array of MediaStreams.\r\n * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: \"video/webm\"}\r\n */\r\n\r\nfunction MultiStreamRecorder(arrayOfMediaStreams, options) {\r\n    arrayOfMediaStreams = arrayOfMediaStreams || [];\r\n    var self = this;\r\n\r\n    var mixer;\r\n    var mediaRecorder;\r\n\r\n    options = options || {\r\n        elementClass: 'multi-streams-mixer',\r\n        mimeType: 'video/webm',\r\n        video: {\r\n            width: 360,\r\n            height: 240\r\n        }\r\n    };\r\n\r\n    if (!options.frameInterval) {\r\n        options.frameInterval = 10;\r\n    }\r\n\r\n    if (!options.video) {\r\n        options.video = {};\r\n    }\r\n\r\n    if (!options.video.width) {\r\n        options.video.width = 360;\r\n    }\r\n\r\n    if (!options.video.height) {\r\n        options.video.height = 240;\r\n    }\r\n\r\n    /**\r\n     * This method records all MediaStreams.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        // github/muaz-khan/MultiStreamsMixer\r\n        mixer = new MultiStreamsMixer(arrayOfMediaStreams, options.elementClass || 'multi-streams-mixer');\r\n\r\n        if (getAllVideoTracks().length) {\r\n            mixer.frameInterval = options.frameInterval || 10;\r\n            mixer.width = options.video.width || 360;\r\n            mixer.height = options.video.height || 240;\r\n            mixer.startDrawingFrames();\r\n        }\r\n\r\n        if (options.previewStream && typeof options.previewStream === 'function') {\r\n            options.previewStream(mixer.getMixedStream());\r\n        }\r\n\r\n        // record using MediaRecorder API\r\n        mediaRecorder = new MediaStreamRecorder(mixer.getMixedStream(), options);\r\n        mediaRecorder.record();\r\n    };\r\n\r\n    function getAllVideoTracks() {\r\n        var tracks = [];\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            getTracks(stream, 'video').forEach(function(track) {\r\n                tracks.push(track);\r\n            });\r\n        });\r\n        return tracks;\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        mediaRecorder.stop(function(blob) {\r\n            self.blob = blob;\r\n\r\n            callback(blob);\r\n\r\n            self.clearRecordedData();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.pause();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.resume();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.clearRecordedData();\r\n            mediaRecorder = null;\r\n        }\r\n\r\n        if (mixer) {\r\n            mixer.releaseStreams();\r\n            mixer = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Add extra media-streams to existing recordings.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\r\n     * @example\r\n     * recorder.addStreams([newAudioStream, newVideoStream]);\r\n     */\r\n    this.addStreams = function(streams) {\r\n        if (!streams) {\r\n            throw 'First parameter is required.';\r\n        }\r\n\r\n        if (!(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        arrayOfMediaStreams.concat(streams);\r\n\r\n        if (!mediaRecorder || !mixer) {\r\n            return;\r\n        }\r\n\r\n        mixer.appendStreams(streams);\r\n\r\n        if (options.previewStream && typeof options.previewStream === 'function') {\r\n            options.previewStream(mixer.getMixedStream());\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Reset videos during live recording. Replace old videos e.g. replace cameras with full-screen.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\r\n     * @example\r\n     * recorder.resetVideoStreams([newVideo1, newVideo2]);\r\n     */\r\n    this.resetVideoStreams = function(streams) {\r\n        if (!mixer) {\r\n            return;\r\n        }\r\n\r\n        if (streams && !(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        mixer.resetVideoStreams(streams);\r\n    };\r\n\r\n    /**\r\n     * Returns MultiStreamsMixer\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * let mixer = recorder.getMixer();\r\n     * mixer.appendStreams([newStream]);\r\n     */\r\n    this.getMixer = function() {\r\n        return mixer;\r\n    };\r\n\r\n    // for debugging\r\n    this.name = 'MultiStreamRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MultiStreamRecorder = MultiStreamRecorder;\r\n}\n\r\n// _____________________\r\n// RecordRTC.promises.js\r\n\r\n/**\r\n * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}\r\n * @summary Promises for {@link RecordRTC}\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTCPromisesHandler\r\n * @class\r\n * @example\r\n * var recorder = new RecordRTCPromisesHandler(mediaStream, options);\r\n * recorder.startRecording()\r\n *         .then(successCB)\r\n *         .catch(errorCB);\r\n * // Note: You can access all RecordRTC API using \"recorder.recordRTC\" e.g. \r\n * recorder.recordRTC.onStateChanged = function(state) {};\r\n * recorder.recordRTC.setRecordingDuration(5000);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\r\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\r\n * @throws Will throw an error if \"new\" keyword is not used to initiate \"RecordRTCPromisesHandler\". Also throws error if first argument \"MediaStream\" is missing.\r\n * @requires {@link RecordRTC}\r\n */\r\n\r\nfunction RecordRTCPromisesHandler(mediaStream, options) {\r\n    if (!this) {\r\n        throw 'Use \"new RecordRTCPromisesHandler()\"';\r\n    }\r\n\r\n    if (typeof mediaStream === 'undefined') {\r\n        throw 'First argument \"MediaStream\" is required.';\r\n    }\r\n\r\n    var self = this;\r\n\r\n    /**\r\n     * @property {Blob} blob - Access/reach the native {@link RecordRTC} object.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * let internal = recorder.recordRTC.getInternalRecorder();\r\n     * alert(internal instanceof MediaStreamRecorder);\r\n     * recorder.recordRTC.onStateChanged = function(state) {};\r\n     */\r\n    self.recordRTC = new RecordRTC(mediaStream, options);\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.startRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.startRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.startRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method stops the recording.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     var blob = recorder.getBlob();\r\n     * }).catch(errorCB);\r\n     */\r\n    this.stopRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.stopRecording(function(url) {\r\n                    self.blob = self.recordRTC.getBlob();\r\n\r\n                    if (!self.blob || !self.blob.size) {\r\n                        reject('Empty blob.', self.blob);\r\n                        return;\r\n                    }\r\n\r\n                    resolve(url);\r\n                });\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.pauseRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.pauseRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.pauseRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.resumeRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.resumeRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.resumeRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns data-url for the recorded blob.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     recorder.getDataURL().then(function(dataURL) {\r\n     *         window.open(dataURL);\r\n     *     }).catch(errorCB);;\r\n     * }).catch(errorCB);\r\n     */\r\n    this.getDataURL = function(callback) {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.getDataURL(function(dataURL) {\r\n                    resolve(dataURL);\r\n                });\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns the recorded blob.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     recorder.getBlob().then(function(blob) {})\r\n     * }).catch(errorCB);\r\n     */\r\n    this.getBlob = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getBlob());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns the internal recording object.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * let internalRecorder = await recorder.getInternalRecorder();\r\n     * if(internalRecorder instanceof MultiStreamRecorder) {\r\n     *     internalRecorder.addStreams([newAudioStream]);\r\n     *     internalRecorder.resetVideoStreams([screenStream]);\r\n     * }\r\n     * @returns {Object} \r\n     */\r\n    this.getInternalRecorder = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getInternalRecorder());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method resets the recorder. So that you can reuse single recorder instance many times.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * await recorder.reset();\r\n     * recorder.startRecording(); // record again\r\n     */\r\n    this.reset = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.reset());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Destroy RecordRTC instance. Clear all recorders and objects.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.destroy().then(successCB).catch(errorCB);\r\n     */\r\n    this.destroy = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.destroy());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Get recorder's readonly state.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * let state = await recorder.getState();\r\n     * // or\r\n     * recorder.getState().then(state => { console.log(state); })\r\n     * @returns {String} Returns recording state.\r\n     */\r\n    this.getState = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getState());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * await recorder.stopRecording();\r\n     * let blob = recorder.getBlob(); // or \"recorder.recordRTC.blob\"\r\n     * invokeSaveAsDialog(blob);\r\n     */\r\n    this.blob = null;\r\n\r\n    /**\r\n     * RecordRTC version number\r\n     * @property {String} version - Release version number.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @static\r\n     * @readonly\r\n     * @example\r\n     * alert(recorder.version);\r\n     */\r\n    this.version = '5.6.2';\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.RecordRTCPromisesHandler = RecordRTCPromisesHandler;\r\n}\n\r\n// ______________________\r\n// WebAssemblyRecorder.js\r\n\r\n/**\r\n * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.\r\n * @summary Video recording feature in Chrome, Firefox and maybe Edge.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef WebAssemblyRecorder\r\n * @class\r\n * @example\r\n * var recorder = new WebAssemblyRecorder(mediaStream);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}\r\n */\r\nfunction WebAssemblyRecorder(stream, config) {\r\n    // based on: github.com/GoogleChromeLabs/webm-wasm\r\n\r\n    if (typeof ReadableStream === 'undefined' || typeof WritableStream === 'undefined') {\r\n        // because it fixes readable/writable streams issues\r\n        console.error('Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js');\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    config.width = config.width || 640;\r\n    config.height = config.height || 480;\r\n    config.frameRate = config.frameRate || 30;\r\n    config.bitrate = config.bitrate || 1200;\r\n    config.realtime = config.realtime || true;\r\n\r\n    function createBufferURL(buffer, type) {\r\n        return URL.createObjectURL(new Blob([buffer], {\r\n            type: type || ''\r\n        }));\r\n    }\r\n\r\n    var finished;\r\n\r\n    function cameraStream() {\r\n        return new ReadableStream({\r\n            start: function(controller) {\r\n                var cvs = document.createElement('canvas');\r\n                var video = document.createElement('video');\r\n                var first = true;\r\n                video.srcObject = stream;\r\n                video.muted = true;\r\n                video.height = config.height;\r\n                video.width = config.width;\r\n                video.volume = 0;\r\n                video.onplaying = function() {\r\n                    cvs.width = config.width;\r\n                    cvs.height = config.height;\r\n                    var ctx = cvs.getContext('2d');\r\n                    var frameTimeout = 1000 / config.frameRate;\r\n                    var cameraTimer = setInterval(function f() {\r\n                        if (finished) {\r\n                            clearInterval(cameraTimer);\r\n                            controller.close();\r\n                        }\r\n\r\n                        if (first) {\r\n                            first = false;\r\n                            if (config.onVideoProcessStarted) {\r\n                                config.onVideoProcessStarted();\r\n                            }\r\n                        }\r\n\r\n                        ctx.drawImage(video, 0, 0);\r\n                        if (controller._controlledReadableStream.state !== 'closed') {\r\n                            try {\r\n                                controller.enqueue(\r\n                                    ctx.getImageData(0, 0, config.width, config.height)\r\n                                );\r\n                            } catch (e) {}\r\n                        }\r\n                    }, frameTimeout);\r\n                };\r\n                video.play();\r\n            }\r\n        });\r\n    }\r\n\r\n    var worker;\r\n\r\n    function startRecording(stream, buffer) {\r\n        if (!config.workerPath && !buffer) {\r\n            finished = false;\r\n\r\n            // is it safe to use @latest ?\r\n\r\n            fetch(\r\n                'https://unpkg.com/webm-wasm@latest/dist/webm-worker.js'\r\n            ).then(function(r) {\r\n                r.arrayBuffer().then(function(buffer) {\r\n                    startRecording(stream, buffer);\r\n                });\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (!config.workerPath && buffer instanceof ArrayBuffer) {\r\n            var blob = new Blob([buffer], {\r\n                type: 'text/javascript'\r\n            });\r\n            config.workerPath = URL.createObjectURL(blob);\r\n        }\r\n\r\n        if (!config.workerPath) {\r\n            console.error('workerPath parameter is missing.');\r\n        }\r\n\r\n        worker = new Worker(config.workerPath);\r\n\r\n        worker.postMessage(config.webAssemblyPath || 'https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm');\r\n        worker.addEventListener('message', function(event) {\r\n            if (event.data === 'READY') {\r\n                worker.postMessage({\r\n                    width: config.width,\r\n                    height: config.height,\r\n                    bitrate: config.bitrate || 1200,\r\n                    timebaseDen: config.frameRate || 30,\r\n                    realtime: config.realtime\r\n                });\r\n\r\n                cameraStream().pipeTo(new WritableStream({\r\n                    write: function(image) {\r\n                        if (finished) {\r\n                            console.error('Got image, but recorder is finished!');\r\n                            return;\r\n                        }\r\n\r\n                        worker.postMessage(image.data.buffer, [image.data.buffer]);\r\n                    }\r\n                }));\r\n            } else if (!!event.data) {\r\n                if (!isPaused) {\r\n                    arrayOfBuffers.push(event.data);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * This method records video.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        arrayOfBuffers = [];\r\n        isPaused = false;\r\n        this.blob = null;\r\n        startRecording(stream);\r\n\r\n        if (typeof config.initCallback === 'function') {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    var isPaused;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPaused = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPaused = false;\r\n    };\r\n\r\n    function terminate(callback) {\r\n        if (!worker) {\r\n            if (callback) {\r\n                callback();\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        // Wait for null event data to indicate that the encoding is complete\r\n        worker.addEventListener('message', function(event) {\r\n            if (event.data === null) {\r\n                worker.terminate();\r\n                worker = null;\r\n\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n            }\r\n        });\r\n\r\n        worker.postMessage(null);\r\n    }\r\n\r\n    var arrayOfBuffers = [];\r\n\r\n    /**\r\n     * This method stops recording video.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        finished = true;\r\n\r\n        var recorder = this;\r\n\r\n        terminate(function() {\r\n            recorder.blob = new Blob(arrayOfBuffers, {\r\n                type: 'video/webm'\r\n            });\r\n\r\n            callback(recorder.blob);\r\n        });\r\n    };\r\n\r\n    // for debugging\r\n    this.name = 'WebAssemblyRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        arrayOfBuffers = [];\r\n        isPaused = false;\r\n        this.blob = null;\r\n\r\n        // todo: if recording-ON then STOP it first\r\n    };\r\n\r\n    /**\r\n     * @property {Blob} blob - The recorded blob object.\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.stop(function(){\r\n     *     var blob = recorder.blob;\r\n     * });\r\n     */\r\n    this.blob = null;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.WebAssemblyRecorder = WebAssemblyRecorder;\r\n}\n","import {downloadRecord} from \"../utils\";\nimport RecordRTC from 'recordrtc';\nimport {EVENTS, FILE_SUFFIX} from \"../constant\";\nimport Emitter from \"../utils/emitter\";\n\nexport default class RecordRTCLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.fileName = '';\n        this.fileType = FILE_SUFFIX.webm;\n        this.isRecording = false;\n        this.recordingTimestamp = 0;\n        this.recordingInterval = null;\n        player.debug.log('Recorder', 'init');\n    }\n\n    setFileName(fileName, fileType) {\n        this.fileName = fileName;\n\n        if (FILE_SUFFIX.mp4 === fileType || FILE_SUFFIX.webm === fileType) {\n            this.fileType = fileType;\n        }\n    }\n\n    get recording() {\n        return this.isRecording;\n    }\n\n    get recordTime() {\n        return this.recordingTimestamp;\n    }\n\n    startRecord() {\n        const debug = this.player.debug;\n        const options = {\n            type: 'video',\n            mimeType: 'video/webm;codecs=h264',\n            onTimeStamp: (timestamp) => {\n                debug.log('Recorder', 'record timestamp :' + timestamp);\n            },\n            disableLogs: !this.player._opt.debug\n        }\n\n        try {\n\n            const stream = this.player.video.$videoElement.captureStream(25);\n            const audioStream = this.player.audio.mediaStreamAudioDestinationNode.stream;\n            if (this.player.hasAudio) {\n                stream.addTrack(audioStream.getAudioTracks()[0]);\n            }\n            this.recorder = RecordRTC(stream, options);\n        } catch (e) {\n            debug.error('Recorder', e);\n            this.emit(EVENTS.recordCreateError);\n        }\n        if (this.recorder) {\n            this.isRecording = true;\n            this.player.emit(EVENTS.recording, true);\n            this.recorder.startRecording();\n            debug.log('Recorder', 'start recording');\n            this.player.emit(EVENTS.recordStart);\n            this.recordingInterval = window.setInterval(() => {\n                this.recordingTimestamp += 1;\n                this.player.emit(EVENTS.recordingTimestamp, this.recordingTimestamp);\n            }, 1000);\n        }\n    }\n\n    stopRecordAndSave() {\n        if (!this.recorder || !this.isRecording) {\n            return;\n        }\n        this.recorder.stopRecording(() => {\n            this.player.debug.log('Recorder', 'stop recording');\n            this.player.emit(EVENTS.recordEnd)\n            downloadRecord(this.recorder.getBlob(), this.fileName, this.fileType);\n            this._reset();\n            this.player.emit(EVENTS.recording, false);\n        })\n    }\n\n    _reset() {\n        this.isRecording = false;\n        this.recordingTimestamp = 0;\n\n        if (this.recorder) {\n            this.recorder.destroy();\n            this.recorder = null;\n        }\n        this.fileName = null;\n        if (this.recordingInterval) {\n            clearInterval(this.recordingInterval);\n        }\n        this.recordingInterval = null;\n    }\n\n    destroy() {\n        this._reset();\n        this.player.debug.log('Recorder', 'destroy');\n    }\n}\n","import RecordRTCLoader from \"./recordRTCLoader\";\n\nexport default class Recorder {\n    constructor(player) {\n        const Loader = Recorder.getLoaderFactory();\n        return new Loader(player);\n    }\n\n    static getLoaderFactory() {\n        return RecordRTCLoader;\n    }\n}\n","import {EVENTS, MEDIA_TYPE, WORKER_CMD_TYPE, WORKER_SEND_TYPE} from \"../constant\";\n\nexport default class DecoderWorker {\n    constructor(player) {\n        this.player = player;\n        this.decoderWorker = new Worker(player._opt.decoder)\n        this._initDecoderWorker();\n        player.debug.log('decoderWorker', 'init')\n    }\n\n    _initDecoderWorker() {\n        const {\n            debug,\n            events: {proxy},\n        } = this.player;\n\n        this.decoderWorker.onmessage = (event) => {\n            const msg = event.data;\n            switch (msg.cmd) {\n                case WORKER_CMD_TYPE.init:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.init);\n                    if (!this.player.loaded) {\n                        this.player.emit(EVENTS.load);\n                    }\n                    this.player.emit(EVENTS.decoderWorkerInit);\n                    this._initWork();\n                    break;\n                case WORKER_CMD_TYPE.videoCode:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.videoCode, msg.code);\n                    this.player.video.updateVideoInfo({\n                        encTypeCode: msg.code\n                    })\n                    break;\n                case WORKER_CMD_TYPE.audioCode:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.audioCode, msg.code);\n                    this.player.audio.updateAudioInfo({\n                        encTypeCode: msg.code\n                    })\n                    break;\n                case WORKER_CMD_TYPE.initVideo:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.initVideo, `width:${msg.w},height:${msg.h}`);\n                    this.player.video.updateVideoInfo({\n                        width: msg.w,\n                        height: msg.h\n                    })\n                    this.player.video.initCanvasViewSize();\n                    break;\n                case WORKER_CMD_TYPE.initAudio:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.initAudio, `channels:${msg.channels},sampleRate:${msg.sampleRate}`);\n                    this.player.audio.updateAudioInfo(msg);\n                    this.player.audio.initScriptNode(msg);\n                    break;\n                case WORKER_CMD_TYPE.render:\n                    // debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.render, `msg ts:${msg.ts}`);\n                    this.player.handleRender();\n                    this.player.video.render(msg);\n                    this.player.emit(EVENTS.timeUpdate, msg.ts)\n                    this.player.updateStats({fps: true, ts: msg.ts, buf: msg.delay})\n                    break;\n                case WORKER_CMD_TYPE.playAudio:\n                    // debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.playAudio, `msg ts:${msg.ts}`);\n                    // 只有在 playing 的时候。\n                    if (this.player.playing) {\n                        this.player.audio.play(msg.buffer, msg.ts);\n                    }\n                    break;\n                default:\n                    this.player[msg.cmd] && this.player[msg.cmd](msg);\n            }\n        }\n    }\n\n    _initWork() {\n        this.decoderWorker.postMessage({\n            cmd: WORKER_SEND_TYPE.init,\n            opt: JSON.stringify(this.player._opt),\n            sampleRate: this.player.audio.audioContext.sampleRate\n        })\n    }\n\n    decodeVideo(arrayBuffer, ts, isIFrame) {\n        const options = {\n            type: MEDIA_TYPE.video,\n            ts: Math.max(ts, 0),\n            isIFrame\n        }\n        // this.player.debug.log('decoderWorker', 'decodeVideo', options);\n        this.decoderWorker.postMessage({\n            cmd: WORKER_SEND_TYPE.decode,\n            buffer: arrayBuffer,\n            options\n        }, [arrayBuffer.buffer])\n    }\n\n    decodeAudio(arrayBuffer, ts) {\n        if (this.player._opt.useWCS && !this.player._opt.useOffscreen) {\n            this._decodeAudioNoDelay(arrayBuffer, ts);\n        } else if (this.player._opt.useMSE) {\n            this._decodeAudioNoDelay(arrayBuffer, ts);\n        } else {\n            this._decodeAudio(arrayBuffer, ts);\n        }\n    }\n\n    //\n    _decodeAudio(arrayBuffer, ts) {\n        const options = {\n            type: MEDIA_TYPE.audio,\n            ts: Math.max(ts, 0)\n        }\n        // this.player.debug.log('decoderWorker', 'decodeAudio',options);\n        this.decoderWorker.postMessage({\n            cmd: WORKER_SEND_TYPE.decode,\n            buffer: arrayBuffer,\n            options\n        }, [arrayBuffer.buffer])\n    }\n\n\n    _decodeAudioNoDelay(arrayBuffer, ts) {\n        // console.log('_decodeAudioNoDelay', arrayBuffer);\n        this.decoderWorker.postMessage({\n            cmd: WORKER_SEND_TYPE.audioDecode,\n            buffer: arrayBuffer,\n            ts: Math.max(ts, 0)\n        }, [arrayBuffer.buffer])\n    }\n\n    destroy() {\n        this.decoderWorker.postMessage({cmd: WORKER_SEND_TYPE.close})\n        this.decoderWorker.terminate();\n        this.decoderWorker = null;\n        this.player.debug.log(`decoderWorker`, 'destroy');\n    }\n}\n","import Emitter from \"../utils/emitter\";\nimport {MEDIA_TYPE} from \"../constant\";\n\nexport default class CommonLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n\n        this.stopId = null;\n        this.firstTimestamp = null;\n        this.startTimestamp = null;\n        this.delay = -1;\n        this.bufferList = [];\n        this.dropping = false;\n        this.initInterval();\n    }\n\n    getDelay(timestamp) {\n        if (!timestamp) {\n            return -1\n        }\n        if (!this.firstTimestamp) {\n            this.firstTimestamp = timestamp\n            this.startTimestamp = Date.now()\n            this.delay = -1;\n        } else {\n            if (timestamp) {\n                this.delay = (Date.now() - this.startTimestamp) - (timestamp - this.firstTimestamp)\n            }\n        }\n        return this.delay\n    }\n\n    resetDelay() {\n        this.firstTimestamp = null;\n        this.startTimestamp = null;\n        this.delay = -1;\n        this.dropping = false;\n    }\n\n    //\n    initInterval() {\n        const videoBuffer = this.player._opt.videoBuffer;\n        this.player.debug.log('common dumex', `init Interval`);\n\n        let _loop = () => {\n            let data;\n            if (this.bufferList.length) {\n                if (this.dropping) {\n                    // this.player.debug.log('common dumex', `is dropping`);\n                    data = this.bufferList.shift();\n                    if (data.type === MEDIA_TYPE.audio && data.payload[1] === 0) {\n                        this._doDecoderDecode(data);\n                    }\n                    while (!data.isIFrame && this.bufferList.length) {\n                        data = this.bufferList.shift();\n                        if (data.type === MEDIA_TYPE.audio && data.payload[1] === 0) {\n                            this._doDecoderDecode(data);\n                        }\n                    }\n                    // i frame\n                    if (data.isIFrame) {\n                        this.dropping = false;\n                        this._doDecoderDecode(data);\n                    }\n                } else {\n                    data = this.bufferList[0];\n                    if (this.getDelay(data.ts) === -1) {\n                        // this.player.debug.log('common dumex', `delay is -1`);\n                        this.bufferList.shift()\n                        this._doDecoderDecode(data);\n                    } else if (this.delay > videoBuffer + 1000) {\n                        // this.player.debug.log('common dumex', `delay is ${this.delay}, set dropping is true`);\n                        this.resetDelay();\n                        this.dropping = true\n                    } else {\n                        while (this.bufferList.length) {\n                            data = this.bufferList[0]\n\n                            if (this.getDelay(data.ts) > videoBuffer) {\n                                // drop frame\n                                this.bufferList.shift()\n                                this._doDecoderDecode(data);\n                            } else {\n                                // this.player.debug.log('common dumex', `delay is ${this.delay}`);\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        _loop();\n        this.stopId = setInterval(_loop, 10)\n    }\n\n    _doDecode(payload, type, ts, isIFrame) {\n        const player = this.player;\n        const {decoderWorker} = player;\n        let options = {\n            ts: ts,\n            type: type,\n            isIFrame: false\n        }\n        // use offscreen\n        if (player._opt.useWCS && !player._opt.useOffscreen) {\n            if (type === MEDIA_TYPE.video) {\n                options.isIFrame = isIFrame;\n            }\n            this.pushBuffer(payload, options)\n        } else if (player._opt.useMSE) {\n            // use mse\n            if (type === MEDIA_TYPE.video) {\n                options.isIFrame = isIFrame;\n            }\n            this.pushBuffer(payload, options)\n        } else {\n            //\n            if (type === MEDIA_TYPE.video) {\n                decoderWorker.decodeVideo(payload, ts, isIFrame);\n            } else if (type === MEDIA_TYPE.audio) {\n                decoderWorker.decodeAudio(payload, ts);\n            }\n        }\n    }\n\n    _doDecoderDecode(data) {\n        const player = this.player;\n        const {decoderWorker, webcodecsDecoder, mseDecoder} = player;\n\n        if (data.type === MEDIA_TYPE.audio) {\n            decoderWorker.decodeAudio(data.payload, data.ts)\n        } else if (data.type === MEDIA_TYPE.video) {\n            if (player._opt.useWCS && !player._opt.useOffscreen) {\n                webcodecsDecoder.decodeVideo(data.payload, data.ts, data.isIFrame);\n            } else if (player._opt.useMSE) {\n                mseDecoder.decodeVideo(data.payload, data.ts, data.isIFrame);\n            }\n        }\n    }\n\n    pushBuffer(payload, options) {\n        // 音频\n        if (options.type === MEDIA_TYPE.audio) {\n            this.bufferList.push({\n                ts: options.ts,\n                payload: payload,\n                type: MEDIA_TYPE.audio,\n            })\n        } else if (options.type === MEDIA_TYPE.video) {\n            this.bufferList.push({\n                ts: options.ts,\n                payload: payload,\n                type: MEDIA_TYPE.video,\n                isIFrame: options.isIFrame\n            })\n        }\n    }\n\n    close() {\n\n    }\n\n    destroy() {\n        if (this.stopId) {\n            clearInterval(this.stopId);\n            this.stopId = null;\n        }\n        this.firstTimestamp = null;\n        this.startTimestamp = null;\n        this.delay = -1;\n        this.bufferList = [];\n        this.dropping = false;\n        this.off();\n    }\n}\n","import {FLV_MEDIA_TYPE, MEDIA_TYPE} from \"../constant\";\nimport CommonLoader from \"./commonLoader\";\n\nexport default class FlvLoader extends CommonLoader {\n    constructor(player) {\n        super(player);\n        this.input = this._inputFlv();\n        this.flvDemux = this.dispatchFlvData(this.input);\n        player.debug.log('FlvDemux', 'init')\n    }\n\n    dispatch(data) {\n        this.flvDemux(data);\n    }\n\n    * _inputFlv() {\n        yield 9;\n        const tmp = new ArrayBuffer(4)\n        const tmp8 = new Uint8Array(tmp)\n        const tmp32 = new Uint32Array(tmp)\n        const player = this.player;\n\n        while (true) {\n            tmp8[3] = 0\n            const t = yield 15\n            const type = t[4]\n            tmp8[0] = t[7]\n            tmp8[1] = t[6]\n            tmp8[2] = t[5]\n            const length = tmp32[0]\n            tmp8[0] = t[10]\n            tmp8[1] = t[9]\n            tmp8[2] = t[8]\n            let ts = tmp32[0]\n            if (ts === 0xFFFFFF) {\n                tmp8[3] = t[11]\n                ts = tmp32[0]\n            }\n            const payload = yield length\n            switch (type) {\n                case FLV_MEDIA_TYPE.audio:\n                    if (player._opt.hasAudio) {\n                        player.updateStats({\n                            abps: payload.byteLength\n                        })\n                        if (payload.byteLength > 0) {\n                            this._doDecode(payload, MEDIA_TYPE.audio, ts)\n                        }\n                    }\n                    break\n                case FLV_MEDIA_TYPE.video:\n                    if (player._opt.hasVideo) {\n                        player.updateStats({\n                            vbps: payload.byteLength\n                        })\n                        const isIFrame = payload[0] >> 4 === 1;\n                        if (payload.byteLength > 0) {\n                            this._doDecode(payload, MEDIA_TYPE.video, ts, isIFrame);\n                        }\n                    }\n                    break\n            }\n        }\n    }\n\n    dispatchFlvData(input) {\n        let need = input.next()\n        let buffer = null\n        return (value) => {\n            let data = new Uint8Array(value)\n            if (buffer) {\n                let combine = new Uint8Array(buffer.length + data.length)\n                combine.set(buffer)\n                combine.set(data, buffer.length)\n                data = combine\n                buffer = null\n            }\n            while (data.length >= need.value) {\n                let remain = data.slice(need.value)\n                need = input.next(data.slice(0, need.value))\n                data = remain\n            }\n            if (data.length > 0) {\n                buffer = data\n            }\n        }\n    }\n\n    close() {\n        this.input && this.input.return(null)\n    }\n\n    destroy() {\n        super.destroy();\n        this.input = null;\n        this.flvDemux = null;\n        this.player.debug.log('FlvDemux', 'destroy')\n    }\n}\n","import {FLV_MEDIA_TYPE, MEDIA_TYPE} from \"../constant\";\nimport CommonLoader from \"./commonLoader\";\n\nexport default class M7sLoader extends CommonLoader {\n    constructor(player) {\n        super(player);\n        player.debug.log('M7sDemux', 'init')\n    }\n\n    dispatch(data) {\n        const player = this.player;\n        const {decoderWorker, webcodecsDecoder, mseDecoder} = player;\n        const dv = new DataView(data)\n        const type = dv.getUint8(0);\n        const ts = dv.getUint32(1, false);\n        switch (type) {\n            case MEDIA_TYPE.audio:\n                if (player._opt.hasAudio) {\n                    const payload = new Uint8Array(data, 5)\n                    player.updateStats({\n                        abps: payload.byteLength\n                    })\n                    if (payload.byteLength > 0) {\n                        this._doDecode(payload, type, ts)\n                    }\n                }\n                break;\n            case MEDIA_TYPE.video:\n                if (player._opt.hasVideo) {\n                    if (dv.byteLength > 5) {\n                        const payload = new Uint8Array(data, 5);\n                        const isIframe = dv.getUint8(5) >> 4 === 1;\n                        player.updateStats({\n                            vbps: payload.byteLength\n                        })\n                        if (payload.byteLength > 0) {\n                            this._doDecode(payload, type, ts, isIframe)\n                        }\n                    }\n                }\n                break;\n        }\n    }\n\n    destroy() {\n        super.destroy();\n        this.player.debug.log('M7sDemux', 'destroy')\n    }\n}\n","import FlvLoader from \"./flvLoader\";\nimport M7sLoader from \"./m7sLoader\";\nimport {DEMUX_TYPE} from \"../constant\";\n\nexport default class Demux {\n    constructor(player) {\n        const Loader = Demux.getLoaderFactory(player._opt.demuxType);\n        return new Loader(player);\n    }\n\n    static getLoaderFactory(type) {\n        if (type === DEMUX_TYPE.m7s) {\n            return M7sLoader;\n        } else if (type === DEMUX_TYPE.flv) {\n            return FlvLoader;\n        }\n    }\n}\n","import {formatVideoDecoderConfigure, noop} from \"../utils\";\nimport Emitter from \"../utils/emitter\";\nimport {ENCODED_VIDEO_TYPE, EVENTS, EVENTS_ERROR, VIDEO_ENC_CODE} from \"../constant\";\n\n\nexport default class WebcodecsDecoder extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.decoder = null;\n        this.initDecoder();\n        player.debug.log('Webcodecs', 'init')\n    }\n\n    initDecoder() {\n        const _this = this;\n        this.decoder = new VideoDecoder({\n            output(videoFrame) {\n                _this.handleDecode(videoFrame)\n            },\n            error(error) {\n                _this.handleError(error)\n            }\n        })\n    }\n\n    handleDecode(videoFrame) {\n        if (!this.isInitInfo) {\n            this.player.video.updateVideoInfo({\n                width: videoFrame.codedWidth,\n                height: videoFrame.codedHeight\n            })\n            this.player.video.initCanvasViewSize();\n            this.isInitInfo = true;\n        }\n\n        this.player.handleRender();\n        this.player.video.render({\n            videoFrame\n        })\n\n        this.player.updateStats({fps: true, ts: 0, buf: this.player.demux.delay})\n\n        // release resource\n        setTimeout(function () {\n            if (videoFrame.close) {\n                videoFrame.close()\n            } else {\n                videoFrame.destroy()\n            }\n        }, 100)\n    }\n\n    handleError(error) {\n        this.player.debug.log('Webcodecs', 'VideoDecoder handleError', error)\n    }\n\n    decodeVideo(payload, ts, isIframe) {\n        // this.player.debug.log('Webcodecs decoder', 'decodeVideo', ts, isIframe);\n        if (!this.hasInit) {\n            if (isIframe && payload[1] === 0) {\n                const videoCodec = (payload[0] & 0x0F);\n                this.player.video.updateVideoInfo({\n                    encTypeCode: videoCodec\n                })\n\n                // 如果解码出来的是\n                if (videoCodec === VIDEO_ENC_CODE.h265) {\n                    this.emit(EVENTS_ERROR.webcodecsH265NotSupport)\n                    return;\n                }\n\n                const config = formatVideoDecoderConfigure(payload.slice(5));\n                this.decoder.configure(config);\n                this.hasInit = true;\n            }\n        } else {\n            const chunk = new EncodedVideoChunk({\n                data: payload.slice(5),\n                timestamp: ts,\n                type: isIframe ? ENCODED_VIDEO_TYPE.key : ENCODED_VIDEO_TYPE.delta\n            })\n            this.decoder.decode(chunk);\n        }\n    }\n\n    destroy() {\n        this.decoder.close();\n        this.decoder = null;\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.off();\n        this.player.debug.log('Webcodecs', 'destroy')\n    }\n}\n","const iconsMap = {\n    play: '播放',\n    pause: '暂停',\n    audio: '',\n    mute: '',\n    screenshot: '截图',\n    loading: '加载',\n    fullscreen: '全屏',\n    fullscreenExit: '退出全屏',\n    record: '录制',\n    recordStop: '停止录制',\n    // movement: '云台控制',\n    // movementEnable: '云台控制', // 启用\n    // transform3D: '3D变换',\n    // transform3DEnable: '3D变换', // 启用\n    // zoomIn: '放大',\n    // zoomOut: '缩小',\n};\n\nexport default Object.keys(iconsMap).reduce((icons, key) => {\n    icons[key] = `<i class=\"jessibuca-icon jessibuca-icon-${key}\"></i>`;\n    if (iconsMap[key]) {\n        icons[key] += `<span class=\"icon-title-tips\"><span class=\"icon-title\">${iconsMap[key]}</span></span>`;\n    }\n\n    return icons;\n}, {});\n","import icons from './icons';\n\nexport default (player, control) => {\n    player.$container.classList.add('jessibuca-controls-show');\n    const options = player._opt;\n    const operateBtns = options.operateBtns;\n\n    player.$container.insertAdjacentHTML(\n        'beforeend',\n        `\n            ${options.background ? `<div class=\"jessibuca-poster\" style=\"background-image: url(${options.background})\"></div>` : ''}\n            <div class=\"jessibuca-loading\">\n                ${icons.loading}\n                ${options.loadingText ? `<div class=\"jessibuca-loading-text\">${options.loadingText}</div>` : ''}\n            </div>\n            ${options.hasControl && operateBtns.play ? `<div class=\"jessibuca-play-big\"></div>` : ''}\n            ${options.hasControl ? `\n                <div class=\"jessibuca-controls\">\n                    <div class=\"jessibuca-controls-bottom\">\n                        <div class=\"jessibuca-controls-left\">\n                            ${options.showBandwidth ? `<div class=\"jessibuca-controls-item jessibuca-speed\"></div>` : ''}\n                        </div>\n                        <div class=\"jessibuca-controls-right\">\n                             ${operateBtns.audio ? `\n                                 <div class=\"jessibuca-controls-item jessibuca-volume\">\n                                     ${icons.audio}\n                                     ${icons.mute}\n                                     <div class=\"jessibuca-volume-panel-wrap\">\n                                          <div class=\"jessibuca-volume-panel\">\n                                                 <div class=\"jessibuca-volume-panel-handle\"></div>\n                                          </div>\n                                          <div class=\"jessibuca-volume-panel-text\"></div>\n                                     </div>\n                                 </div>\n                             ` : ''}\n                             ${operateBtns.play ? `<div class=\"jessibuca-controls-item jessibuca-play\">${icons.play}</div><div class=\"jessibuca-controls-item jessibuca-pause\">${icons.pause}</div>` : ''}\n                             ${operateBtns.screenshot ? `<div class=\"jessibuca-controls-item jessibuca-screenshot\">${icons.screenshot}</div>` : ''}\n                             ${operateBtns.record ? ` <div class=\"jessibuca-controls-item jessibuca-record\">${icons.record}</div><div class=\"jessibuca-controls-item jessibuca-record-stop\">${icons.recordStop}</div>` : ''}\n                             ${operateBtns.fullscreen ? `<div class=\"jessibuca-controls-item jessibuca-fullscreen\">${icons.fullscreen}</div><div class=\"jessibuca-controls-item jessibuca-fullscreen-exit\">${icons.fullscreenExit}</div>` : ''}\n                        </div>\n                    </div>\n                </div>\n            ` : ''}\n\n        `\n    )\n\n    Object.defineProperty(control, '$poster', {\n        value: player.$container.querySelector('.jessibuca-poster'),\n    });\n\n    Object.defineProperty(control, '$loading', {\n        value: player.$container.querySelector('.jessibuca-loading'),\n    });\n\n    Object.defineProperty(control, '$play', {\n        value: player.$container.querySelector('.jessibuca-play'),\n    });\n\n    Object.defineProperty(control, '$playBig', {\n        value: player.$container.querySelector('.jessibuca-play-big'),\n    });\n\n    Object.defineProperty(control, '$pause', {\n        value: player.$container.querySelector('.jessibuca-pause'),\n    });\n\n    Object.defineProperty(control, '$controls', {\n        value: player.$container.querySelector('.jessibuca-controls'),\n    });\n\n    Object.defineProperty(control, '$fullscreen', {\n        value: player.$container.querySelector('.jessibuca-fullscreen'),\n    });\n\n    Object.defineProperty(control, '$fullscreen', {\n        value: player.$container.querySelector('.jessibuca-fullscreen'),\n    });\n\n\n    Object.defineProperty(control, '$volume', {\n        value: player.$container.querySelector('.jessibuca-volume'),\n    });\n\n    Object.defineProperty(control, '$volumePanelWrap', {\n        value: player.$container.querySelector('.jessibuca-volume-panel-wrap'),\n    });\n\n    Object.defineProperty(control, '$volumePanelText', {\n        value: player.$container.querySelector('.jessibuca-volume-panel-text'),\n    });\n\n    Object.defineProperty(control, '$volumePanel', {\n        value: player.$container.querySelector('.jessibuca-volume-panel'),\n    });\n\n    Object.defineProperty(control, '$volumeHandle', {\n        value: player.$container.querySelector('.jessibuca-volume-panel-handle'),\n    });\n\n    Object.defineProperty(control, '$volumeOn', {\n        value: player.$container.querySelector('.jessibuca-icon-audio'),\n    });\n\n    Object.defineProperty(control, '$volumeOff', {\n        value: player.$container.querySelector('.jessibuca-icon-mute'),\n    });\n\n\n    Object.defineProperty(control, '$fullscreen', {\n        value: player.$container.querySelector('.jessibuca-fullscreen'),\n    });\n\n    Object.defineProperty(control, '$fullscreenExit', {\n        value: player.$container.querySelector('.jessibuca-fullscreen-exit'),\n    });\n\n    Object.defineProperty(control, '$record', {\n        value: player.$container.querySelector('.jessibuca-record'),\n    });\n    Object.defineProperty(control, '$recordStop', {\n        value: player.$container.querySelector('.jessibuca-record-stop'),\n    });\n\n    Object.defineProperty(control, '$screenshot', {\n        value: player.$container.querySelector('.jessibuca-screenshot'),\n    });\n\n    Object.defineProperty(control, '$speed', {\n        value: player.$container.querySelector('.jessibuca-speed'),\n    });\n}\n","import {EVENTS} from \"../constant\";\nimport {bpsSize, getStyle, setStyle} from \"../utils\";\nimport screenfull from \"screenfull\";\n\nexport default (player, control) => {\n    const {\n        events: {proxy},\n    } = player;\n\n    const object = document.createElement('object');\n    object.setAttribute('aria-hidden', 'true');\n    object.setAttribute('tabindex', -1);\n    object.type = 'text/html';\n    object.data = 'about:blank';\n\n    setStyle(object, {\n        display: 'block',\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        height: '100%',\n        width: '100%',\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        zIndex: '-1',\n    });\n\n    let playerWidth = player.width;\n    let playerHeight = player.height;\n\n    proxy(object, 'load', () => {\n        proxy(object.contentDocument.defaultView, 'resize', () => {\n            if (player.width !== playerWidth || player.height !== playerHeight) {\n                playerWidth = player.width;\n                playerHeight = player.height;\n                player.emit(EVENTS.resize);\n            }\n        });\n    });\n    player.$container.appendChild(object);\n\n    player.on(EVENTS.destroy, () => {\n        player.$container.removeChild(object);\n    })\n\n    function setVolumeHandle(percentage) {\n        if (percentage === 0) {\n            setStyle(control.$volumeOn, 'display', 'none');\n            setStyle(control.$volumeOff, 'display', 'flex');\n            setStyle(control.$volumeHandle, 'top', `${48}px`);\n        } else {\n            if (control.$volumeHandle && control.$volumePanel) {\n                const panelHeight = getStyle(control.$volumePanel, 'height') || 60;\n                const handleHeight = getStyle(control.$volumeHandle, 'height');\n                const top = panelHeight - (panelHeight - handleHeight) * percentage - handleHeight;\n                setStyle(control.$volumeHandle, 'top', `${top}px`);\n                setStyle(control.$volumeOn, 'display', 'flex');\n                setStyle(control.$volumeOff, 'display', 'none');\n            }\n        }\n        control.$volumePanelText && (control.$volumePanelText.innerHTML = parseInt(percentage * 100))\n    }\n\n    player.on(EVENTS.volumechange, () => {\n        setVolumeHandle(player.volume);\n    });\n\n    player.on(EVENTS.loading, (flag) => {\n        setStyle(control.$loading, 'display', flag ? 'flex' : 'none');\n        setStyle(control.$poster, 'display', 'none')\n\n        if (flag) {\n            setStyle(control.$playBig, 'display', 'none');\n        }\n    })\n\n    try {\n        const screenfullChange = () => {\n            setStyle(control.$fullscreenExit, 'display', player.fullscreen ? 'flex' : 'none');\n            setStyle(control.$fullscreen, 'display', player.fullscreen ? 'none' : 'flex');\n            // control.autoSize();\n        };\n        screenfull.on('change', screenfullChange);\n        player.events.destroys.push(() => {\n            screenfull.off('change', screenfullChange);\n        });\n    } catch (error) {\n        //\n    }\n\n    player.on(EVENTS.recording, () => {\n        setStyle(control.$record, 'display', player.recording ? 'none' : 'flex');\n        setStyle(control.$recordStop, 'display', player.recording ? 'flex' : 'none');\n    })\n\n    //\n    player.on(EVENTS.recordingTimestamp, (timestamp) => {\n        // console.log(timestamp);\n    })\n\n    player.on(EVENTS.playing, (flag) => {\n        setStyle(control.$play, 'display', flag ? 'none' : 'flex');\n        setStyle(control.$playBig, 'display', flag ? 'none' : 'block');\n        setStyle(control.$pause, 'display', flag ? 'flex' : 'none');\n        setStyle(control.$screenshot, 'display', flag ? 'flex' : 'none');\n        setStyle(control.$record, 'display', flag ? 'flex' : 'none');\n        setStyle(control.$fullscreen, 'display', flag ? 'flex' : 'none');\n\n        // 不在播放\n        if (!flag) {\n            control.$speed && (control.$speed.innerHTML = bpsSize(''));\n        }\n    })\n\n\n    player.on(EVENTS.kBps, (rate) => {\n        const bps = bpsSize(rate);\n        control.$speed && (control.$speed.innerHTML = bps);\n    })\n\n\n}\n","export default (player, control) => {\n\n    Object.defineProperty(control, 'controlsRect', {\n        get: () => {\n            return control.$controls.getBoundingClientRect();\n        },\n    });\n\n}\n","import {clamp, setStyle} from \"../utils\";\n\nexport default (player, control) => {\n    const {\n        events: {proxy}\n    } = player;\n\n    function volumeChangeFromEvent(event) {\n        const {bottom: panelBottom, height: panelHeight} = control.$volumePanel.getBoundingClientRect();\n        const {height: handleHeight} = control.$volumeHandle.getBoundingClientRect();\n        const percentage =\n            clamp(panelBottom - event.y - handleHeight / 2, 0, panelHeight - handleHeight / 2) / (panelHeight - handleHeight);\n        return percentage;\n    }\n\n    //\n    proxy(window, ['click', 'contextmenu'], event => {\n        if (event.composedPath().indexOf(player.$container) > -1) {\n            control.isFocus = true;\n        } else {\n            control.isFocus = false;\n        }\n    });\n\n    //\n    proxy(window, 'orientationchange', () => {\n        setTimeout(() => {\n            player.resize();\n        }, 300);\n    });\n\n\n    proxy(control.$controls, 'click', (e) => {\n        e.stopPropagation();\n    })\n\n    proxy(control.$pause, 'click', (e) => {\n        player.pause();\n    })\n    // 监听 play 方法\n    proxy(control.$play, 'click', (e) => {\n        player.play();\n    })\n\n    // 监听 play 方法\n    proxy(control.$playBig, 'click', (e) => {\n        player.play();\n    })\n\n    proxy(control.$volume, 'mouseover', () => {\n        control.$volumePanelWrap.classList.add('jessibuca-volume-panel-wrap-show');\n    })\n\n    proxy(control.$volume, 'mouseout', () => {\n        control.$volumePanelWrap.classList.remove('jessibuca-volume-panel-wrap-show');\n    })\n\n    proxy(control.$volumeOn, 'click', (e) => {\n        e.stopPropagation();\n        setStyle(control.$volumeOn, 'display', 'none');\n        setStyle(control.$volumeOff, 'display', 'block');\n        player.lastVolume = player.volume;\n        player.volume = 0;\n    })\n\n    proxy(control.$volumeOff, 'click', (e) => {\n        e.stopPropagation();\n        setStyle(control.$volumeOn, 'display', 'block');\n        setStyle(control.$volumeOff, 'display', 'none');\n        player.volume = player.lastVolume || 0.5;\n    })\n\n    proxy(control.$screenshot, 'click', (e) => {\n        e.stopPropagation();\n        player.video.screenshot();\n    })\n\n    proxy(control.$volumePanel, 'click', event => {\n        event.stopPropagation();\n        player.volume = volumeChangeFromEvent(event);\n    });\n\n    proxy(control.$volumeHandle, 'mousedown', () => {\n        control.isVolumeDroging = true;\n    });\n\n    proxy(control.$volumeHandle, 'mousemove', event => {\n        if (control.isVolumeDroging) {\n            player.volume = volumeChangeFromEvent(event);\n        }\n    });\n\n    proxy(document, 'mouseup', () => {\n        if (control.isVolumeDroging) {\n            control.isVolumeDroging = false;\n        }\n    });\n\n    proxy(control.$record, 'click', (e) => {\n        e.stopPropagation();\n        player.recording = true;\n    })\n\n    proxy(control.$recordStop, 'click', (e) => {\n        e.stopPropagation();\n        player.recording = false;\n    })\n\n    proxy(control.$fullscreen, 'click', (e) => {\n        e.stopPropagation();\n        player.fullscreen = true;\n    })\n\n    proxy(control.$fullscreenExit, 'click', (e) => {\n        e.stopPropagation();\n        player.fullscreen = false;\n    })\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import template from \"./template\";\nimport observer from './observer';\nimport property from './property';\nimport events from './events';\nimport './style.scss'\n\nexport default class Control {\n    constructor(player) {\n        this.player = player;\n        template(player, this);\n        observer(player, this);\n        property(player, this);\n        events(player, this);\n        this.player.debug.log('Control', 'init');\n    }\n\n    autoSize() {\n        const player = this.player;\n        player.$container.style.padding = '0 0';\n        const playerWidth = player.width;\n        const playerHeight = player.height;\n        const playerRatio = playerWidth / playerHeight;\n        const canvasWidth = player.audio.$videoElement.width;\n        const canvasHeight = player.audio.$videoElement.height;\n        const canvasRatio = canvasWidth / canvasHeight;\n        if (playerRatio > canvasRatio) {\n            const padding = (playerWidth - playerHeight * canvasRatio) / 2;\n            player.$container.style.padding = `0 ${padding}px`;\n        } else {\n            const padding = (playerHeight - playerWidth / canvasRatio) / 2;\n            player.$container.style.padding = `${padding}px 0`;\n        }\n    }\n\n    destroy() {\n        if (this.$poster) {\n            this.player.$container.removeChild(this.$poster);\n        }\n        this.player.$container.removeChild(this.$loading);\n        if (this.$controls) {\n            this.player.$container.removeChild(this.$controls);\n        }\n        this.player.debug.log('control', 'destroy');\n    }\n}\n","export default (player) => {\n\n    const {\n        _opt,\n        debug,\n        events: {proxy},\n    } = player;\n\n\n    if (_opt.supportDblclickFullscreen) {\n        proxy(player.$container, 'dblclick', () => {\n            player.fullscreen = !player.fullscreen;\n        })\n    }\n\n\n    //\n    proxy(document, 'visibilitychange', () => {\n        if (_opt.hiddenAutoPause) {\n            debug.log('visibilitychange', document.visibilityState, player._isPlayingBeforePageHidden)\n\n            if (\"visible\" === document.visibilityState) {\n                if (player._isPlayingBeforePageHidden) {\n                    player.play();\n                }\n            } else {\n                player._isPlayingBeforePageHidden = player.playing;\n                // hidden\n                if (player.playing) {\n                    player.pause();\n                }\n            }\n        }\n    })\n\n    proxy(window, 'fullscreenchange', () => {\n        //\n        if (player.keepScreenOn !== null && \"visible\" === document.visibilityState) {\n            player.enableWakeLock();\n        }\n    })\n}\n","class MP4 {\n\n    static init() {\n        MP4.types = {\n            avc1: [],\n            avcC: [],\n            hvc1: [],\n            hvcC: [],\n            btrt: [],\n            dinf: [],\n            dref: [],\n            esds: [],\n            ftyp: [],\n            hdlr: [],\n            mdat: [],\n            mdhd: [],\n            mdia: [],\n            mfhd: [],\n            minf: [],\n            moof: [],\n            moov: [],\n            mp4a: [],\n            mvex: [],\n            mvhd: [],\n            sdtp: [],\n            stbl: [],\n            stco: [],\n            stsc: [],\n            stsd: [],\n            stsz: [],\n            stts: [],\n            tfdt: [],\n            tfhd: [],\n            traf: [],\n            trak: [],\n            trun: [],\n            trex: [],\n            tkhd: [],\n            vmhd: [],\n            smhd: []\n        };\n\n        for (let name in MP4.types) {\n            if (MP4.types.hasOwnProperty(name)) {\n                MP4.types[name] = [\n                    name.charCodeAt(0),\n                    name.charCodeAt(1),\n                    name.charCodeAt(2),\n                    name.charCodeAt(3)\n                ];\n            }\n        }\n\n        let constants = MP4.constants = {};\n\n        constants.FTYP = new Uint8Array([\n            0x69, 0x73, 0x6F, 0x6D,  // major_brand: isom\n            0x0, 0x0, 0x0, 0x1,   // minor_version: 0x01\n            0x69, 0x73, 0x6F, 0x6D,  // isom\n            0x61, 0x76, 0x63, 0x31   // avc1\n        ]);\n\n        constants.STSD_PREFIX = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x01   // entry_count\n        ]);\n\n        constants.STTS = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00   // entry_count\n        ]);\n\n        constants.STSC = constants.STCO = constants.STTS;\n\n        constants.STSZ = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // sample_size\n            0x00, 0x00, 0x00, 0x00   // sample_count\n        ]);\n\n        constants.HDLR_VIDEO = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // pre_defined\n            0x76, 0x69, 0x64, 0x65,  // handler_type: 'vide'\n            0x00, 0x00, 0x00, 0x00,  // reserved: 3 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x56, 0x69, 0x64, 0x65,\n            0x6F, 0x48, 0x61, 0x6E,\n            0x64, 0x6C, 0x65, 0x72, 0x00  // name: VideoHandler\n        ]);\n\n        constants.HDLR_AUDIO = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // pre_defined\n            0x73, 0x6F, 0x75, 0x6E,  // handler_type: 'soun'\n            0x00, 0x00, 0x00, 0x00,  // reserved: 3 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x53, 0x6F, 0x75, 0x6E,\n            0x64, 0x48, 0x61, 0x6E,\n            0x64, 0x6C, 0x65, 0x72, 0x00  // name: SoundHandler\n        ]);\n\n        constants.DREF = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x01,  // entry_count\n            0x00, 0x00, 0x00, 0x0C,  // entry_size\n            0x75, 0x72, 0x6C, 0x20,  // type 'url '\n            0x00, 0x00, 0x00, 0x01   // version(0) + flags\n        ]);\n\n        // Sound media header\n        constants.SMHD = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00   // balance(2) + reserved(2)\n        ]);\n\n        // video media header\n        constants.VMHD = new Uint8Array([\n            0x00, 0x00, 0x00, 0x01,  // version(0) + flags\n            0x00, 0x00,              // graphicsmode: 2 bytes\n            0x00, 0x00, 0x00, 0x00,  // opcolor: 3 * 2 bytes\n            0x00, 0x00\n        ]);\n    }\n\n    // Generate a box\n    static box(type) {\n        let size = 8;\n        let result = null;\n        let datas = Array.prototype.slice.call(arguments, 1);\n        let arrayCount = datas.length;\n\n        for (let i = 0; i < arrayCount; i++) {\n            size += datas[i].byteLength;\n        }\n\n        result = new Uint8Array(size);\n        result[0] = (size >>> 24) & 0xFF;  // size\n        result[1] = (size >>> 16) & 0xFF;\n        result[2] = (size >>> 8) & 0xFF;\n        result[3] = (size) & 0xFF;\n\n        result.set(type, 4);  // type\n\n        let offset = 8;\n        for (let i = 0; i < arrayCount; i++) {  // data body\n            result.set(datas[i], offset);\n            offset += datas[i].byteLength;\n        }\n\n        return result;\n    }\n\n    // emit ftyp & moov\n    static generateInitSegment(meta) {\n        let ftyp = MP4.box(MP4.types.ftyp, MP4.constants.FTYP);\n        let moov = MP4.moov(meta);\n\n        let result = new Uint8Array(ftyp.byteLength + moov.byteLength);\n        result.set(ftyp, 0);\n        result.set(moov, ftyp.byteLength);\n        return result;\n    }\n\n    // Movie metadata box\n    static moov(meta) {\n        let mvhd = MP4.mvhd(meta.timescale, meta.duration);\n        let trak = MP4.trak(meta);\n        let mvex = MP4.mvex(meta);\n        return MP4.box(MP4.types.moov, mvhd, trak, mvex);\n    }\n\n    // Movie header box\n    static mvhd(timescale, duration) {\n        return MP4.box(MP4.types.mvhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // creation_time\n            0x00, 0x00, 0x00, 0x00,  // modification_time\n            (timescale >>> 24) & 0xFF,  // timescale: 4 bytes\n            (timescale >>> 16) & 0xFF,\n            (timescale >>> 8) & 0xFF,\n            (timescale) & 0xFF,\n            (duration >>> 24) & 0xFF,   // duration: 4 bytes\n            (duration >>> 16) & 0xFF,\n            (duration >>> 8) & 0xFF,\n            (duration) & 0xFF,\n            0x00, 0x01, 0x00, 0x00,  // Preferred rate: 1.0\n            0x01, 0x00, 0x00, 0x00,  // PreferredVolume(1.0, 2bytes) + reserved(2bytes)\n            0x00, 0x00, 0x00, 0x00,  // reserved: 4 + 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x00, 0x00,  // ----begin composition matrix----\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x40, 0x00, 0x00, 0x00,  // ----end composition matrix----\n            0x00, 0x00, 0x00, 0x00,  // ----begin pre_defined 6 * 4 bytes----\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,  // ----end pre_defined 6 * 4 bytes----\n            0xFF, 0xFF, 0xFF, 0xFF   // next_track_ID\n        ]));\n    }\n\n    // Track box\n    static trak(meta) {\n        return MP4.box(MP4.types.trak, MP4.tkhd(meta), MP4.mdia(meta));\n    }\n\n    // Track header box\n    static tkhd(meta) {\n        let trackId = meta.id, duration = meta.duration;\n        let width = meta.presentWidth, height = meta.presentHeight;\n\n        return MP4.box(MP4.types.tkhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x07,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // creation_time\n            0x00, 0x00, 0x00, 0x00,  // modification_time\n            (trackId >>> 24) & 0xFF,  // track_ID: 4 bytes\n            (trackId >>> 16) & 0xFF,\n            (trackId >>> 8) & 0xFF,\n            (trackId) & 0xFF,\n            0x00, 0x00, 0x00, 0x00,  // reserved: 4 bytes\n            (duration >>> 24) & 0xFF, // duration: 4 bytes\n            (duration >>> 16) & 0xFF,\n            (duration >>> 8) & 0xFF,\n            (duration) & 0xFF,\n            0x00, 0x00, 0x00, 0x00,  // reserved: 2 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,  // layer(2bytes) + alternate_group(2bytes)\n            0x00, 0x00, 0x00, 0x00,  // volume(2bytes) + reserved(2bytes)\n            0x00, 0x01, 0x00, 0x00,  // ----begin composition matrix----\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x40, 0x00, 0x00, 0x00,  // ----end composition matrix----\n            (width >>> 8) & 0xFF,    // width and height\n            (width) & 0xFF,\n            0x00, 0x00,\n            (height >>> 8) & 0xFF,\n            (height) & 0xFF,\n            0x00, 0x00\n        ]));\n    }\n\n    static mdia(meta) {\n        return MP4.box(MP4.types.mdia, MP4.mdhd(meta), MP4.hdlr(meta), MP4.minf(meta))\n    }\n\n    // Media header box\n    static mdhd(meta) {\n        let timescale = meta.timescale;\n        let duration = meta.duration;\n        return MP4.box(MP4.types.mdhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // creation_time\n            0x00, 0x00, 0x00, 0x00,  // modification_time\n            (timescale >>> 24) & 0xFF,  // timescale: 4 bytes\n            (timescale >>> 16) & 0xFF,\n            (timescale >>> 8) & 0xFF,\n            (timescale) & 0xFF,\n            (duration >>> 24) & 0xFF,   // duration: 4 bytes\n            (duration >>> 16) & 0xFF,\n            (duration >>> 8) & 0xFF,\n            (duration) & 0xFF,\n            0x55, 0xC4,             // language: und (undetermined)\n            0x00, 0x00              // pre_defined = 0\n        ]));\n    }\n\n    // Media handler reference box\n    static hdlr(meta) {\n        let data = null;\n        if (meta.type === 'audio') {\n            data = MP4.constants.HDLR_AUDIO;\n        } else {\n            data = MP4.constants.HDLR_VIDEO;\n        }\n        return MP4.box(MP4.types.hdlr, data);\n    }\n\n    // Media infomation box\n    static minf(meta) {\n        let xmhd = null;\n        if (meta.type === 'audio') {\n            xmhd = MP4.box(MP4.types.smhd, MP4.constants.SMHD);\n        } else {\n            xmhd = MP4.box(MP4.types.vmhd, MP4.constants.VMHD);\n        }\n        return MP4.box(MP4.types.minf, xmhd, MP4.dinf(), MP4.stbl(meta));\n    }\n\n    // Data infomation box\n    static dinf() {\n        let result = MP4.box(MP4.types.dinf,\n            MP4.box(MP4.types.dref, MP4.constants.DREF)\n        );\n        return result;\n    }\n\n    // Sample table box\n    static stbl(meta) {\n        let result = MP4.box(MP4.types.stbl,  // type: stbl\n            MP4.stsd(meta),  // Sample Description Table\n            MP4.box(MP4.types.stts, MP4.constants.STTS),  // Time-To-Sample\n            MP4.box(MP4.types.stsc, MP4.constants.STSC),  // Sample-To-Chunk\n            MP4.box(MP4.types.stsz, MP4.constants.STSZ),  // Sample size\n            MP4.box(MP4.types.stco, MP4.constants.STCO)   // Chunk offset\n        );\n        return result;\n    }\n\n    static stsdOld(meta) {\n        return meta.type === \"audio\" ?\n            MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp4a(meta)) :\n            meta.videoType === 'avc' ?\n                MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.avc1(meta)) :\n                MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.hvc1(meta))\n    }\n\n    // Sample description box\n    static stsd(meta) {\n        if (meta.type === 'audio') {\n            // else: aac -> mp4a\n            return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp4a(meta));\n        } else {\n            if (meta.videoType === 'avc') {\n                //\n                return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.avc1(meta));\n            } else {\n                //\n                return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.hvc1(meta))\n            }\n        }\n    }\n\n\n    static mp4a(meta) {\n        let channelCount = meta.channelCount;\n        let sampleRate = meta.audioSampleRate;\n\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // reserved(4)\n            0x00, 0x00, 0x00, 0x01,  // reserved(2) + data_reference_index(2)\n            0x00, 0x00, 0x00, 0x00,  // reserved: 2 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, channelCount,      // channelCount(2)\n            0x00, 0x10,              // sampleSize(2)\n            0x00, 0x00, 0x00, 0x00,  // reserved(4)\n            (sampleRate >>> 8) & 0xFF,  // Audio sample rate\n            (sampleRate) & 0xFF,\n            0x00, 0x00\n        ]);\n\n        return MP4.box(MP4.types.mp4a, data, MP4.esds(meta));\n    }\n\n    static esds(meta) {\n        let config = meta.config || [];\n        let configSize = config.length;\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version 0 + flags\n\n            0x03,                    // descriptor_type\n            0x17 + configSize,       // length3\n            0x00, 0x01,              // es_id\n            0x00,                    // stream_priority\n\n            0x04,                    // descriptor_type\n            0x0F + configSize,       // length\n            0x40,                    // codec: mpeg4_audio\n            0x15,                    // stream_type: Audio\n            0x00, 0x00, 0x00,        // buffer_size\n            0x00, 0x00, 0x00, 0x00,  // maxBitrate\n            0x00, 0x00, 0x00, 0x00,  // avgBitrate\n\n            0x05                     // descriptor_type\n        ].concat([\n            configSize\n        ]).concat(\n            config\n        ).concat([\n            0x06, 0x01, 0x02         // GASpecificConfig\n        ]));\n        return MP4.box(MP4.types.esds, data);\n    }\n\n    static avc1(meta) {\n        let avcc = meta.avcc;\n        const width = meta.codecWidth;\n        const height = meta.codecHeight;\n        let data = new Uint8Array([\n            0, 0, 0, 0,\n            0, 0, 0, 1,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            width >>> 8 & 255,\n            width & 255,\n            height >>> 8 & 255,\n            height & 255,\n            0, 72, 0, 0,\n            0, 72, 0, 0,\n            0, 0, 0, 0,\n            0, 1,\n            0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0,\n            0, 24,\n            255, 255]\n        );\n        return MP4.box(MP4.types.avc1, data, MP4.box(MP4.types.avcC, avcc))\n    }\n\n    static hvc1(meta) {\n        let avcc = meta.avcc;\n        const width = meta.codecWidth;\n        const height = meta.codecHeight;\n        let data = new Uint8Array([\n            0, 0, 0, 0,\n            0, 0, 0, 1,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            width >>> 8 & 255,\n            width & 255,\n            height >>> 8 & 255,\n            height & 255,\n            0, 72, 0, 0,\n            0, 72, 0, 0,\n            0, 0, 0, 0,\n            0, 1,\n            0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0,\n            0, 24,\n            255, 255\n        ]);\n        return MP4.box(MP4.types.hvc1, data, MP4.box(MP4.types.hvcC, avcc))\n    }\n\n    // Movie Extends box\n\n    static mvex(meta) {\n        return MP4.box(MP4.types.mvex, MP4.trex(meta))\n    }\n\n    // Track Extends box\n    static trex(meta) {\n        let trackId = meta.id;\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            (trackId >>> 24) & 0xFF, // track_ID\n            (trackId >>> 16) & 0xFF,\n            (trackId >>> 8) & 0xFF,\n            (trackId) & 0xFF,\n            0x00, 0x00, 0x00, 0x01,  // default_sample_description_index\n            0x00, 0x00, 0x00, 0x00,  // default_sample_duration\n            0x00, 0x00, 0x00, 0x00,  // default_sample_size\n            0x00, 0x01, 0x00, 0x01   // default_sample_flags\n        ]);\n        return MP4.box(MP4.types.trex, data);\n    }\n\n    // Movie fragment box\n    static moof(track, baseMediaDecodeTime) {\n        return MP4.box(MP4.types.moof, MP4.mfhd(track.sequenceNumber), MP4.traf(track, baseMediaDecodeTime))\n    }\n\n    static mfhd(sequenceNumber) {\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,\n            (sequenceNumber >>> 24) & 0xFF,  // sequence_number: int32\n            (sequenceNumber >>> 16) & 0xFF,\n            (sequenceNumber >>> 8) & 0xFF,\n            (sequenceNumber) & 0xFF\n        ]);\n        return MP4.box(MP4.types.mfhd, data);\n    }\n\n    // Track fragment box\n    static traf(track, baseMediaDecodeTime) {\n        let trackId = track.id;\n\n        // Track fragment header box\n        let tfhd = MP4.box(MP4.types.tfhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) & flags\n            (trackId >>> 24) & 0xFF, // track_ID\n            (trackId >>> 16) & 0xFF,\n            (trackId >>> 8) & 0xFF,\n            (trackId) & 0xFF\n        ]));\n        // Track Fragment Decode Time\n        let tfdt = MP4.box(MP4.types.tfdt, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) & flags\n            (baseMediaDecodeTime >>> 24) & 0xFF,  // baseMediaDecodeTime: int32\n            (baseMediaDecodeTime >>> 16) & 0xFF,\n            (baseMediaDecodeTime >>> 8) & 0xFF,\n            (baseMediaDecodeTime) & 0xFF\n        ]));\n        let sdtp = MP4.sdtp(track);\n        let trun = MP4.trun(track, sdtp.byteLength + 16 + 16 + 8 + 16 + 8 + 8);\n\n        return MP4.box(MP4.types.traf, tfhd, tfdt, trun, sdtp);\n    }\n\n    // Sample Dependency Type box\n    static sdtpOld(A) {\n        let e = new Uint8Array(4 + 1),\n            t = A.flags;\n        return e[4] = t.isLeading << 6 | t.dependsOn << 4 | t.isDependedOn << 2 | t.hasRedundancy, MP4.box(MP4.types.sdtp, e)\n    }\n\n    static sdtp(track) {\n        let data = new Uint8Array(4 + 1);\n        let flags = track.flags;\n        data[4] = flags.isLeading << 6\n            | flags.dependsOn << 4\n            | flags.isDependedOn << 2\n            | flags.hasRedundancy;\n        return MP4.box(MP4.types.sdtp, data);\n    }\n\n    static trun(track, offset) {\n        let dataSize = 12 + 16;\n        let data = new Uint8Array(dataSize);\n        offset += 8 + dataSize;\n\n        data.set([\n            0x00, 0x00, 0x0F, 0x01,      // version(0) & flags\n            0x00, 0x00, 0x00, 0x01, // sample_count\n            (offset >>> 24) & 0xFF,      // data_offset\n            (offset >>> 16) & 0xFF,\n            (offset >>> 8) & 0xFF,\n            (offset) & 0xFF\n        ], 0);\n\n        let duration = track.duration;\n        let size = track.size;\n        let flags = track.flags;\n        let cts = track.cts;\n\n        data.set([\n            (duration >>> 24) & 0xFF,  // sample_duration\n            (duration >>> 16) & 0xFF,\n            (duration >>> 8) & 0xFF,\n            (duration) & 0xFF,\n            (size >>> 24) & 0xFF,      // sample_size\n            (size >>> 16) & 0xFF,\n            (size >>> 8) & 0xFF,\n            (size) & 0xFF,\n            (flags.isLeading << 2) | flags.dependsOn,  // sample_flags\n            (flags.isDependedOn << 6) | (flags.hasRedundancy << 4) | flags.isNonSync,\n            0x00, 0x00,                // sample_degradation_priority\n            (cts >>> 24) & 0xFF,       // sample_composition_time_offset\n            (cts >>> 16) & 0xFF,\n            (cts >>> 8) & 0xFF,\n            (cts) & 0xFF\n        ], 12);\n\n        return MP4.box(MP4.types.trun, data);\n    }\n\n\n    static mdat(data) {\n        return MP4.box(MP4.types.mdat, data)\n    }\n}\n\nMP4.init();\n\nexport default MP4;\n","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n// Exponential-Golomb buffer decoder\nclass ExpGolomb {\n\n    constructor(uint8array) {\n        this.TAG = 'ExpGolomb';\n\n        this._buffer = uint8array;\n        this._buffer_index = 0;\n        this._total_bytes = uint8array.byteLength;\n        this._total_bits = uint8array.byteLength * 8;\n        this._current_word = 0;\n        this._current_word_bits_left = 0;\n    }\n\n    destroy() {\n        this._buffer = null;\n    }\n\n    _fillCurrentWord() {\n        let buffer_bytes_left = this._total_bytes - this._buffer_index;\n        if (buffer_bytes_left <= 0) {\n            // throw new IllegalStateException('ExpGolomb: _fillCurrentWord() but no bytes available');\n        }\n\n        let bytes_read = Math.min(4, buffer_bytes_left);\n        let word = new Uint8Array(4);\n        word.set(this._buffer.subarray(this._buffer_index, this._buffer_index + bytes_read));\n        this._current_word = new DataView(word.buffer).getUint32(0, false);\n\n        this._buffer_index += bytes_read;\n        this._current_word_bits_left = bytes_read * 8;\n    }\n\n    readBits(bits) {\n        if (bits > 32) {\n            // throw new InvalidArgumentException('ExpGolomb: readBits() bits exceeded max 32bits!');\n        }\n\n        if (bits <= this._current_word_bits_left) {\n            let result = this._current_word >>> (32 - bits);\n            this._current_word <<= bits;\n            this._current_word_bits_left -= bits;\n            return result;\n        }\n\n        let result = this._current_word_bits_left ? this._current_word : 0;\n        result = result >>> (32 - this._current_word_bits_left);\n        let bits_need_left = bits - this._current_word_bits_left;\n\n        this._fillCurrentWord();\n        let bits_read_next = Math.min(bits_need_left, this._current_word_bits_left);\n\n        let result2 = this._current_word >>> (32 - bits_read_next);\n        this._current_word <<= bits_read_next;\n        this._current_word_bits_left -= bits_read_next;\n\n        result = (result << bits_read_next) | result2;\n        return result;\n    }\n\n    readBool() {\n        return this.readBits(1) === 1;\n    }\n\n    readByte() {\n        return this.readBits(8);\n    }\n\n    _skipLeadingZero() {\n        let zero_count;\n        for (zero_count = 0; zero_count < this._current_word_bits_left; zero_count++) {\n            if (0 !== (this._current_word & (0x80000000 >>> zero_count))) {\n                this._current_word <<= zero_count;\n                this._current_word_bits_left -= zero_count;\n                return zero_count;\n            }\n        }\n        this._fillCurrentWord();\n        return zero_count + this._skipLeadingZero();\n    }\n\n    readUEG() {  // unsigned exponential golomb\n        let leading_zeros = this._skipLeadingZero();\n        return this.readBits(leading_zeros + 1) - 1;\n    }\n\n    readSEG() {  // signed exponential golomb\n        let value = this.readUEG();\n        if (value & 0x01) {\n            return (value + 1) >>> 1;\n        } else {\n            return -1 * (value >>> 1);\n        }\n    }\n\n}\n\nexport default ExpGolomb;\n","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ExpGolomb from './exp-golomb.js';\n\nclass SPSParser {\n\n    static _ebsp2rbsp(uint8array) {\n        let src = uint8array;\n        let src_length = src.byteLength;\n        let dst = new Uint8Array(src_length);\n        let dst_idx = 0;\n\n        for (let i = 0; i < src_length; i++) {\n            if (i >= 2) {\n                // Unescape: Skip 0x03 after 00 00\n                if (src[i] === 0x03 && src[i - 1] === 0x00 && src[i - 2] === 0x00) {\n                    continue;\n                }\n            }\n            dst[dst_idx] = src[i];\n            dst_idx++;\n        }\n\n        return new Uint8Array(dst.buffer, 0, dst_idx);\n    }\n\n    // 解析 SPS\n    // https://zhuanlan.zhihu.com/p/27896239\n    static parseSPS(uint8array) {\n        let rbsp = SPSParser._ebsp2rbsp(uint8array);\n        let gb = new ExpGolomb(rbsp);\n\n        gb.readByte();\n        // 标识当前H.264码流的profile。\n        // 我们知道，H.264中定义了三种常用的档次profile： 基准档次：baseline profile;主要档次：main profile; 扩展档次：extended profile;\n\n        let profile_idc = gb.readByte();  // profile_idc\n        gb.readByte();  // constraint_set_flags[5] + reserved_zero[3]\n        // 标识当前码流的Level。编码的Level定义了某种条件下的最大视频分辨率、最大视频帧率等参数，码流所遵从的level由level_idc指定。\n        let level_idc = gb.readByte();  // level_idc\n        // 表示当前的序列参数集的id。通过该id值，图像参数集pps可以引用其代表的sps中的参数。\n        gb.readUEG();  // seq_parameter_set_id\n\n        let profile_string = SPSParser.getProfileString(profile_idc);\n\n        let level_string = SPSParser.getLevelString(level_idc);\n\n        let chroma_format_idc = 1;\n        let chroma_format = 420;\n        let chroma_format_table = [0, 420, 422, 444];\n        let bit_depth = 8;\n\n        //\n        if (profile_idc === 100 || profile_idc === 110 || profile_idc === 122 ||\n            profile_idc === 244 || profile_idc === 44 || profile_idc === 83 ||\n            profile_idc === 86 || profile_idc === 118 || profile_idc === 128 ||\n            profile_idc === 138 || profile_idc === 144) {\n            //\n            chroma_format_idc = gb.readUEG();\n\n            if (chroma_format_idc === 3) {\n                gb.readBits(1);  // separate_colour_plane_flag\n            }\n            if (chroma_format_idc <= 3) {\n                chroma_format = chroma_format_table[chroma_format_idc];\n            }\n\n            bit_depth = gb.readUEG() + 8;  // bit_depth_luma_minus8\n            gb.readUEG();  // bit_depth_chroma_minus8\n            gb.readBits(1);  // qpprime_y_zero_transform_bypass_flag\n            if (gb.readBool()) {  // seq_scaling_matrix_present_flag\n                let scaling_list_count = (chroma_format_idc !== 3) ? 8 : 12;\n                for (let i = 0; i < scaling_list_count; i++) {\n                    if (gb.readBool()) {  // seq_scaling_list_present_flag\n                        if (i < 6) {\n                            SPSParser._skipScalingList(gb, 16);\n                        } else {\n                            SPSParser._skipScalingList(gb, 64);\n                        }\n                    }\n                }\n            }\n        }\n        // 用于计算MaxFrameNum的值。计算公式为MaxFrameNum = 2^(log2_max_frame_num_minus4 +\n        gb.readUEG();  // log2_max_frame_num_minus4\n        // 表示解码picture order count(POC)的方法。POC是另一种计量图像序号的方式，与frame_num有着不同的计算方法。该语法元素的取值为0、1或2。\n        let pic_order_cnt_type = gb.readUEG();\n        if (pic_order_cnt_type === 0) {\n            gb.readUEG();  // log2_max_pic_order_cnt_lsb_minus_4\n        } else if (pic_order_cnt_type === 1) {\n            gb.readBits(1);  // delta_pic_order_always_zero_flag\n            gb.readSEG();  // offset_for_non_ref_pic\n            gb.readSEG();  // offset_for_top_to_bottom_field\n            let num_ref_frames_in_pic_order_cnt_cycle = gb.readUEG();\n            for (let i = 0; i < num_ref_frames_in_pic_order_cnt_cycle; i++) {\n                gb.readSEG();  // offset_for_ref_frame\n            }\n        }\n        // 用于表示参考帧的最大数目。\n        let ref_frames = gb.readUEG();  // max_num_ref_frames\n        // 标识位，说明frame_num中是否允许不连续的值。\n        gb.readBits(1);  // gaps_in_frame_num_value_allowed_flag\n        // 用于计算图像的宽度。单位为宏块个数，因此图像的实际宽度为:\n        let pic_width_in_mbs_minus1 = gb.readUEG();\n        // 使用PicHeightInMapUnits来度量视频中一帧图像的高度。\n        // PicHeightInMapUnits并非图像明确的以像素或宏块为单位的高度，而需要考虑该宏块是帧编码或场编码。PicHeightInMapUnits的计算方式为：\n        let pic_height_in_map_units_minus1 = gb.readUEG();\n        // 标识位，说明宏块的编码方式。当该标识位为0时，宏块可能为帧编码或场编码；\n        // 该标识位为1时，所有宏块都采用帧编码。根据该标识位取值不同，PicHeightInMapUnits的含义也不同，\n        // 为0时表示一场数据按宏块计算的高度，为1时表示一帧数据按宏块计算的高度。\n        let frame_mbs_only_flag = gb.readBits(1);\n        if (frame_mbs_only_flag === 0) {\n            // 标识位，说明是否采用了宏块级的帧场自适应编码。当该标识位为0时，不存在帧编码和场编码之间的切换；当标识位为1时，宏块可能在帧编码和场编码模式之间进行选择。\n            gb.readBits(1);  // mb_adaptive_frame_field_flag\n        }\n        // 标识位，用于B_Skip、B_Direct模式运动矢量的推导计算。\n        gb.readBits(1);  // direct_8x8_inference_flag\n\n        let frame_crop_left_offset = 0;\n        let frame_crop_right_offset = 0;\n        let frame_crop_top_offset = 0;\n        let frame_crop_bottom_offset = 0;\n\n        let frame_cropping_flag = gb.readBool();\n        if (frame_cropping_flag) {\n            frame_crop_left_offset = gb.readUEG();\n            frame_crop_right_offset = gb.readUEG();\n            frame_crop_top_offset = gb.readUEG();\n            frame_crop_bottom_offset = gb.readUEG();\n        }\n\n        let sar_width = 1, sar_height = 1;\n        let fps = 0, fps_fixed = true, fps_num = 0, fps_den = 0;\n        // 标识位，说明SPS中是否存在VUI信息。\n        let vui_parameters_present_flag = gb.readBool();\n        if (vui_parameters_present_flag) {\n            if (gb.readBool()) {  // aspect_ratio_info_present_flag\n                let aspect_ratio_idc = gb.readByte();\n                let sar_w_table = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2];\n                let sar_h_table = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33,  99, 3, 2, 1];\n\n                if (aspect_ratio_idc > 0 && aspect_ratio_idc < 16) {\n                    sar_width = sar_w_table[aspect_ratio_idc - 1];\n                    sar_height = sar_h_table[aspect_ratio_idc - 1];\n                } else if (aspect_ratio_idc === 255) {\n                    sar_width = gb.readByte() << 8 | gb.readByte();\n                    sar_height = gb.readByte() << 8 | gb.readByte();\n                }\n            }\n\n            if (gb.readBool()) {  // overscan_info_present_flag\n                gb.readBool();  // overscan_appropriate_flag\n            }\n            if (gb.readBool()) {  // video_signal_type_present_flag\n                gb.readBits(4);  // video_format & video_full_range_flag\n                if (gb.readBool()) {  // colour_description_present_flag\n                    gb.readBits(24);  // colour_primaries & transfer_characteristics & matrix_coefficients\n                }\n            }\n            if (gb.readBool()) {  // chroma_loc_info_present_flag\n                gb.readUEG();  // chroma_sample_loc_type_top_field\n                gb.readUEG();  // chroma_sample_loc_type_bottom_field\n            }\n            if (gb.readBool()) {  // timing_info_present_flag\n                let num_units_in_tick = gb.readBits(32);\n                let time_scale = gb.readBits(32);\n                fps_fixed = gb.readBool();  // fixed_frame_rate_flag\n\n                fps_num = time_scale;\n                fps_den = num_units_in_tick * 2;\n                fps = fps_num / fps_den;\n            }\n        }\n\n        let sarScale = 1;\n        if (sar_width !== 1 || sar_height !== 1) {\n            sarScale = sar_width / sar_height;\n        }\n\n        let crop_unit_x = 0, crop_unit_y = 0;\n        if (chroma_format_idc === 0) {\n            crop_unit_x = 1;\n            crop_unit_y = 2 - frame_mbs_only_flag;\n        } else {\n            let sub_wc = (chroma_format_idc === 3) ? 1 : 2;\n            let sub_hc = (chroma_format_idc === 1) ? 2 : 1;\n            crop_unit_x = sub_wc;\n            crop_unit_y = sub_hc * (2 - frame_mbs_only_flag);\n        }\n\n        let codec_width = (pic_width_in_mbs_minus1 + 1) * 16;\n        let codec_height = (2 - frame_mbs_only_flag) * ((pic_height_in_map_units_minus1 + 1) * 16);\n\n        codec_width -= (frame_crop_left_offset + frame_crop_right_offset) * crop_unit_x;\n        codec_height -= (frame_crop_top_offset + frame_crop_bottom_offset) * crop_unit_y;\n\n        let present_width = Math.ceil(codec_width * sarScale);\n\n        gb.destroy();\n        gb = null;\n\n\n        // 解析出来的SPS 内容。\n        return {\n            profile_string: profile_string,  // baseline, high, high10, ...\n            level_string: level_string,  // 3, 3.1, 4, 4.1, 5, 5.1, ...\n            bit_depth: bit_depth,  // 8bit, 10bit, ...\n            ref_frames: ref_frames,\n            chroma_format: chroma_format,  // 4:2:0, 4:2:2, ...\n            chroma_format_string: SPSParser.getChromaFormatString(chroma_format),\n\n            frame_rate: {\n                fixed: fps_fixed,\n                fps: fps,\n                fps_den: fps_den,\n                fps_num: fps_num\n            },\n\n            sar_ratio: {\n                width: sar_width,\n                height: sar_height\n            },\n\n            codec_size: {\n                width: codec_width,\n                height: codec_height\n            },\n\n            present_size: {\n                width: present_width,\n                height: codec_height\n            }\n        };\n    }\n\n    static _skipScalingList(gb, count) {\n        let last_scale = 8, next_scale = 8;\n        let delta_scale = 0;\n        for (let i = 0; i < count; i++) {\n            if (next_scale !== 0) {\n                delta_scale = gb.readSEG();\n                next_scale = (last_scale + delta_scale + 256) % 256;\n            }\n            last_scale = (next_scale === 0) ? last_scale : next_scale;\n        }\n    }\n\n    // profile_idc = 66 → baseline profile;\n    // profile_idc = 77 → main profile;\n    // profile_idc = 88 → extended profile;\n    // 在新版的标准中，还包括了High、High 10、High 4:2:2、High 4:4:4、High 10 Intra、High\n    // 4:2:2 Intra、High 4:4:4 Intra、CAVLC 4:4:4 Intra\n    static getProfileString(profile_idc) {\n        switch (profile_idc) {\n            case 66:\n                return 'Baseline';\n            case 77:\n                return 'Main';\n            case 88:\n                return 'Extended';\n            case 100:\n                return 'High';\n            case 110:\n                return 'High10';\n            case 122:\n                return 'High422';\n            case 244:\n                return 'High444';\n            default:\n                return 'Unknown';\n        }\n    }\n\n    static getLevelString(level_idc) {\n        return (level_idc / 10).toFixed(1);\n    }\n\n    static getChromaFormatString(chroma) {\n        switch (chroma) {\n            case 420:\n                return '4:2:0';\n            case 422:\n                return '4:2:2';\n            case 444:\n                return '4:4:4';\n            default:\n                return 'Unknown';\n        }\n    }\n\n}\n\nexport default SPSParser;","import SPSParser from './h264-sps-parser.js';\n\n//\nexport function parseAVCDecoderConfigurationRecord(arrayBuffer) {\n    const meta = {}\n    const v = new DataView(arrayBuffer.buffer);\n    let version = v.getUint8(0);  // configurationVersion\n    let avcProfile = v.getUint8(1);  // avcProfileIndication\n    let profileCompatibility = v.getUint8(2);  // profile_compatibil\n    let avcLevel = v.getUint8(3);  // AVCLevelIndication\n\n    if (version !== 1 || avcProfile === 0) {\n        // this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord');\n\n        return;\n    }\n\n    const _naluLengthSize = (v.getUint8(4) & 3) + 1;  // lengthSizeMinusOne\n\n    if (_naluLengthSize !== 3 && _naluLengthSize !== 4) {  // holy shit!!!\n        // this._onError(DemuxErrors.FORMAT_ERROR, `Flv: Strange NaluLengthSizeMinusOne: ${_naluLengthSize - 1}`);\n        return;\n    }\n    let spsCount = v.getUint8(5) & 31;  // numOfSequenceParameterSets\n\n    if (spsCount === 0) {\n        // this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No SPS');\n        return;\n    } else if (spsCount > 1) {\n        // Log.w(this.TAG, `Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ${spsCount}`);\n    }\n\n    let offset = 6;\n    for (let i = 0; i < spsCount; i++) {\n        let len = v.getUint16(offset, false);  // sequenceParameterSetLength\n        offset += 2;\n\n        if (len === 0) {\n            continue;\n        }\n\n        // Notice: Nalu without startcode header (00 00 00 01)\n        let sps = new Uint8Array(arrayBuffer.buffer, offset, len);\n        offset += len;\n        // flv.js作者选择了自己来解析这个数据结构，也是迫不得已，因为JS环境下没有ffmpeg，解析这个结构主要是为了提取 sps和pps。虽然理论上sps允许有多个，但其实一般就一个。\n        // packetTtype 为 1 表示 NALU，NALU= network abstract layer unit，这是H.264的概念，网络抽象层数据单元，其实简单理解就是一帧视频数据。\n        // pps的信息没什么用，所以作者只实现了sps的分析器，说明作者下了很大功夫去学习264的标准，其中的Golomb解码还是挺复杂的，能解对不容易，我在PC和手机平台都是用ffmpeg去解析的。\n        // SPS里面包括了视频分辨率，帧率，profile level等视频重要信息。\n        let config = SPSParser.parseSPS(sps);\n        if (i !== 0) {\n            // ignore other sps's config\n            continue;\n        }\n\n        meta.codecWidth = config.codec_size.width;\n        meta.codecHeight = config.codec_size.height;\n        meta.presentWidth = config.present_size.width;\n        meta.presentHeight = config.present_size.height;\n\n        meta.profile = config.profile_string;\n        meta.level = config.level_string;\n        meta.bitDepth = config.bit_depth;\n        meta.chromaFormat = config.chroma_format;\n        meta.sarRatio = config.sar_ratio;\n        meta.frameRate = config.frame_rate;\n\n        if (config.frame_rate.fixed === false ||\n            config.frame_rate.fps_num === 0 ||\n            config.frame_rate.fps_den === 0) {\n            meta.frameRate = {};\n        }\n\n        let fps_den = meta.frameRate.fps_den;\n        let fps_num = meta.frameRate.fps_num;\n\n        meta.refSampleDuration = meta.timescale * (fps_den / fps_num);\n\n        let codecArray = sps.subarray(1, 4);\n\n        let codecString = 'avc1.';\n        for (let j = 0; j < 3; j++) {\n            let h = codecArray[j].toString(16);\n            if (h.length < 2) {\n                h = '0' + h;\n            }\n            codecString += h;\n        }\n        // codec\n        meta.codec = codecString;\n    }\n\n    let ppsCount = v.getUint8(offset);  // numOfPictureParameterSets\n    if (ppsCount === 0) {\n        // this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No PPS');\n        return;\n    } else if (ppsCount > 1) {\n        // Log.w(this.TAG, `Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ${ppsCount}`);\n    }\n\n    offset++;\n    for (let i = 0; i < ppsCount; i++) {\n        let len = v.getUint16(offset, false);  // pictureParameterSetLength\n        offset += 2;\n\n        if (len === 0) {\n            continue;\n        }\n        let pps = new Uint8Array(arrayBuffer.buffer, offset, len);\n\n        // pps is useless for extracting video information\n        offset += len;\n    }\n\n    meta.videoType = 'avc';\n\n    // meta.avcc = arrayBuffer;\n    return meta;\n}\n","class SPSParser {\n    static parseSPS(uint8array) {\n\n    }\n}\n\nexport default SPSParser\n","import {H265_NAL_TYPE} from \"../constant\";\nimport SPSParser from \"./h265-sps-parser\";\n\nexport function parseHEVCDecoderConfigurationRecord(arrayBuffer) {\n    const meta = {}\n    meta.videoType = 'hevc'\n    let offset = 28 - 5;\n    //\n    const vpsTag = arrayBuffer[offset];\n\n    if (vpsTag !== H265_NAL_TYPE.vps) {\n        return meta;\n    }\n\n    offset += 2;\n    offset += 1;\n    const vpsLength = arrayBuffer[offset + 1] | (arrayBuffer[offset] << 8);\n    offset += 2;\n    const vpsData = arrayBuffer.slice(offset, (offset + vpsLength));\n    console.log(Uint8Array.from(vpsData));\n    offset += vpsLength;\n\n    const spsTag = arrayBuffer[offset]\n    if (spsTag !== H265_NAL_TYPE.sps) {\n        return meta;\n    }\n    offset += 2;\n    offset += 1;\n    const spsLength = arrayBuffer[offset + 1] | (arrayBuffer[offset] << 8);\n\n    offset += 2;\n    const spsData = arrayBuffer.slice(offset, (offset + spsLength))\n    console.log(Uint8Array.from(spsData));\n\n    offset += spsLength;\n\n    const ppsTag = arrayBuffer[offset];\n\n    if (ppsTag !== H265_NAL_TYPE.pps) {\n        return meta;\n    }\n    offset += 2;\n    offset += 1;\n    const ppsLength = arrayBuffer[offset + 1] | (arrayBuffer[offset] << 8);\n    offset += 2;\n    const ppsData = arrayBuffer.slice(offset, (offset + ppsLength))\n    console.log(Uint8Array.from(ppsData));\n\n    let sps = Uint8Array.from(spsData);\n    let config = SPSParser.parseSPS(sps);\n\n    meta.codecWidth = config.codec_size.width;\n    meta.codecHeight = config.codec_size.height;\n    meta.presentWidth = config.present_size.width;\n    meta.presentHeight = config.present_size.height;\n\n    meta.profile = config.profile_string;\n    meta.level = config.level_string;\n    meta.bitDepth = config.bit_depth;\n    meta.chromaFormat = config.chroma_format;\n    meta.sarRatio = config.sar_ratio;\n\n    return meta;\n}\n","import Emitter from \"../utils/emitter\";\nimport {EVENTS, EVENTS_ERROR, FRAG_DURATION, MEDIA_SOURCE_STATE, MP4_CODECS, VIDEO_ENC_CODE} from \"../constant\";\nimport MP4 from \"../remux/fmp4-generator\";\nimport {parseAVCDecoderConfigurationRecord} from \"../utils/h264\";\nimport {parseHEVCDecoderConfigurationRecord} from \"../utils/h265\";\n\nexport default class MseDecoder extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.isAvc = true;\n        this.mediaSource = new window.MediaSource();\n        this.sourceBuffer = null;\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.cacheTrack = {};\n        this.timeInit = false;\n        this.sequenceNumber = 0;\n        this.mediaSourceOpen = false;\n        this.bufferList = [];\n        this.dropping = false;\n        this.player.video.$videoElement.src = window.URL.createObjectURL(this.mediaSource);\n        const {\n            debug,\n            events: {proxy},\n        } = player;\n\n\n        proxy(this.mediaSource, 'sourceopen', () => {\n            this.mediaSourceOpen = true;\n            this.player.emit(EVENTS.mseSourceOpen)\n        })\n\n        proxy(this.mediaSource, 'sourceclose', () => {\n            this.player.emit(EVENTS.mseSourceClose);\n        })\n\n        player.debug.log('MediaSource', 'init')\n    }\n\n    get state() {\n        return this.mediaSource.readyState\n    }\n\n    get isStateOpen() {\n        return this.state === MEDIA_SOURCE_STATE.open;\n    }\n\n    get isStateClosed() {\n        return this.state === MEDIA_SOURCE_STATE.closed;\n    }\n\n    get isStateEnded() {\n        return this.state === MEDIA_SOURCE_STATE.ended;\n    }\n\n    get duration() {\n        return this.mediaSource.duration\n    }\n\n    set duration(duration) {\n        this.mediaSource.duration = duration\n    }\n\n    decodeVideo(payload, ts, isIframe) {\n        const player = this.player;\n\n        if (!this.hasInit) {\n            if (isIframe && payload[1] === 0) {\n                const videoCodec = (payload[0] & 0x0F);\n                player.video.updateVideoInfo({\n                    encTypeCode: videoCodec\n                })\n\n                // 如果解码出来的是\n                if (videoCodec === VIDEO_ENC_CODE.h265) {\n                    this.emit(EVENTS_ERROR.mediaSourceH265NotSupport)\n                    return;\n                }\n\n                this._decodeConfigurationRecord(payload, ts, isIframe, videoCodec)\n                this.hasInit = true;\n            }\n        } else {\n            this._decodeVideo(payload, ts, isIframe);\n        }\n    }\n\n    _doDecode() {\n        const bufferItem = this.bufferList.shift();\n        if (bufferItem) {\n            this._decodeVideo(bufferItem.payload, bufferItem.ts, bufferItem.isIframe);\n        }\n    }\n\n\n    _decodeConfigurationRecord(payload, ts, isIframe, videoCodec) {\n        let data = payload.slice(5);\n        let config = {};\n\n        if (videoCodec === VIDEO_ENC_CODE.h264) {\n            config = parseAVCDecoderConfigurationRecord(data)\n        } else if (videoCodec === VIDEO_ENC_CODE.h265) {\n            config = parseHEVCDecoderConfigurationRecord(data);\n        }\n        const metaData = {\n            id: 1, // video tag data\n            type: 'video',\n            timescale: 1000,\n            duration: 0,\n            avcc: data,\n            codecWidth: config.codecWidth,\n            codecHeight: config.codecHeight,\n            videoType: config.videoType\n        }\n        // ftyp\n        const metaBox = MP4.generateInitSegment(metaData);\n        this.isAvc = true;\n        this.appendBuffer(metaBox.buffer);\n        this.sequenceNumber = 0;\n        this.cacheTrack = null;\n        this.timeInit = false;\n    }\n\n    //\n    _decodeVideo(payload, ts, isIframe) {\n        const player = this.player;\n        let arrayBuffer = payload.slice(5);\n        let bytes = arrayBuffer.byteLength;\n        let cts = 0;\n        let dts = ts;\n\n        const $video = player.video.$videoElement;\n\n        if ($video.buffered.length > 1) {\n            this.removeBuffer($video.buffered.start(0), $video.buffered.end(0));\n            this.timeInit = false;\n        }\n        if ($video.drop && dts - this.cacheTrack.dts > 1000) {\n            $video.drop = false;\n            this.cacheTrack = {};\n        } else if (this.cacheTrack && dts > this.cacheTrack.dts) {\n            // 需要额外加8个size\n            let mdatBytes = 8 + this.cacheTrack.size;\n            let mdatbox = new Uint8Array(mdatBytes);\n            mdatbox[0] = mdatBytes >>> 24 & 255;\n            mdatbox[1] = mdatBytes >>> 16 & 255;\n            mdatbox[2] = mdatBytes >>> 8 & 255;\n            mdatbox[3] = mdatBytes & 255;\n            mdatbox.set(MP4.types.mdat, 4);\n            mdatbox.set(this.cacheTrack.data, 8);\n\n            this.cacheTrack.duration = dts - this.cacheTrack.dts;\n            // moof\n            let moofbox = MP4.moof(this.cacheTrack, this.cacheTrack.dts);\n            let result = new Uint8Array(moofbox.byteLength + mdatbox.byteLength);\n            result.set(moofbox, 0);\n            result.set(mdatbox, moofbox.byteLength);\n            // appendBuffer\n            this.appendBuffer(result.buffer)\n            player.handleRender();\n            player.updateStats({fps: true, ts: ts, buf: player.demux.delay})\n        } else {\n            player.debug.log('MediaSource', 'timeInit set false , cacheTrack = {}');\n            this.timeInit = false;\n            this.cacheTrack = {};\n        }\n\n        this.cacheTrack.id = 1;\n        this.cacheTrack.sequenceNumber = ++this.sequenceNumber;\n        this.cacheTrack.size = bytes;\n        this.cacheTrack.dts = dts;\n        this.cacheTrack.cts = cts;\n        this.cacheTrack.isKeyframe = isIframe;\n        this.cacheTrack.data = arrayBuffer;\n        //\n        this.cacheTrack.flags = {\n            isLeading: 0,\n            dependsOn: isIframe ? 2 : 1,\n            isDependedOn: isIframe ? 1 : 0,\n            hasRedundancy: 0,\n            isNonSync: isIframe ? 0 : 1\n        }\n\n        //\n        if (!this.timeInit && $video.buffered.length === 1) {\n            player.debug.log('MediaSource', 'timeInit set true');\n            this.timeInit = true;\n            $video.currentTime = $video.buffered.end(0);\n        }\n\n        if (!this.isInitInfo && $video.videoWidth > 0 && $video.videoHeight > 0) {\n            player.debug.log('MediaSource', `updateVideoInfo: ${$video.videoWidth},${$video.videoHeight}`);\n            player.video.updateVideoInfo({\n                width: $video.videoWidth,\n                height: $video.videoHeight\n            })\n            player.video.initCanvasViewSize();\n            this.isInitInfo = true;\n        }\n    }\n\n    appendBuffer(buffer) {\n        const {\n            debug,\n            events: {proxy},\n        } = this.player;\n\n        if (this.sourceBuffer === null) {\n            this.sourceBuffer = this.mediaSource.addSourceBuffer(MP4_CODECS.avc);\n            proxy(this.sourceBuffer, 'error', (error) => {\n                this.player.emit(EVENTS.mseSourceBufferError, error);\n            })\n        }\n\n        if (this.sourceBuffer.updating === false && this.isStateOpen) {\n            this.sourceBuffer.appendBuffer(buffer);\n            return;\n        }\n\n        if (this.isStateClosed) {\n            this.player.emit(EVENTS.mseSourceBufferError, 'mediaSource is not attached to video or mediaSource is closed')\n        } else if (this.isStateEnded) {\n            this.player.emit(EVENTS.mseSourceBufferError, 'mediaSource is closed')\n        } else {\n            if (this.sourceBuffer.updating === true) {\n                this.player.emit(EVENTS.mseSourceBufferBusy);\n                this.dropSourceBuffer(true);\n            }\n        }\n    }\n\n    stop() {\n        if (this.isStateOpen) {\n            if (this.sourceBuffer) {\n                this.sourceBuffer.abort();\n            }\n        }\n        this.endOfStream();\n    }\n\n    dropSourceBuffer(flag) {\n        const video = this.player.video;\n        const $video = video.$videoElement;\n        this.dropping = flag;\n        if ($video.buffered.length > 0) {\n            if ($video.buffered.end(0) - $video.currentTime > 1) {\n                $video.currentTime = $video.buffered.end(0);\n            }\n        }\n    }\n\n\n    removeBuffer(start, end) {\n\n        if (this.isStateOpen && this.sourceBuffer.updating === false) {\n            try {\n                this.sourceBuffer.remove(start, end)\n            } catch (e) {\n                console.error(e)\n            }\n        }\n    }\n\n    endOfStream() {\n        if (this.isStateOpen) {\n            this.mediaSource.endOfStream();\n        }\n    }\n\n    destroy() {\n        this.stop();\n        this.bufferList = [];\n        this.mediaSource = null;\n        this.mediaSourceOpen = false;\n        this.sourceBuffer = null;\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.sequenceNumber = 0;\n        this.cacheTrack = null;\n        this.timeInit = false;\n        this.off();\n        this.player.debug.log('MediaSource', 'destroy')\n    }\n}\n","// tks: https://github.com/richtr/NoSleep.js\n\nconst WEBM = \"data:video/webm;base64,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\";\nconst MP4 = \"data:video/mp4;base64,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\";\n\n\n// Detect iOS browsers < version 10\nconst\n    oldIOS = () =>\n        typeof navigator !== \"undefined\" &&\n        parseFloat(\n            (\n                \"\" +\n                (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(\n                    navigator.userAgent\n                ) || [0, \"\"])[1]\n            )\n                .replace(\"undefined\", \"3_2\")\n                .replace(\"_\", \".\")\n                .replace(\"_\", \"\")\n        ) < 10 &&\n        !window.MSStream;\n\n// Detect native Wake Lock API support\nconst nativeWakeLock = () => \"wakeLock\" in navigator;\n\nexport default class NoSleep {\n    constructor(player) {\n        this.player = player;\n        this.enabled = false;\n        if (nativeWakeLock()) {\n            this._wakeLock = null;\n            const handleVisibilityChange = () => {\n                if (this._wakeLock !== null && document.visibilityState === \"visible\") {\n                    this.enable();\n                }\n            };\n            document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n            document.addEventListener(\"fullscreenchange\", handleVisibilityChange);\n        } else if (oldIOS()) {\n            this.noSleepTimer = null;\n        } else {\n            // Set up no sleep video element\n            this.noSleepVideo = document.createElement(\"video\");\n\n            this.noSleepVideo.setAttribute(\"title\", \"No Sleep\");\n            this.noSleepVideo.setAttribute(\"playsinline\", \"\");\n\n            this._addSourceToVideo(this.noSleepVideo, \"webm\", WEBM);\n            this._addSourceToVideo(this.noSleepVideo, \"mp4\", MP4);\n\n            this.noSleepVideo.addEventListener(\"loadedmetadata\", () => {\n                if (this.noSleepVideo.duration <= 1) {\n                    // webm source\n                    this.noSleepVideo.setAttribute(\"loop\", \"\");\n                } else {\n                    // mp4 source\n                    this.noSleepVideo.addEventListener(\"timeupdate\", () => {\n                        if (this.noSleepVideo.currentTime > 0.5) {\n                            this.noSleepVideo.currentTime = Math.random();\n                        }\n                    });\n                }\n            });\n        }\n    }\n\n    _addSourceToVideo(element, type, dataURI) {\n        var source = document.createElement(\"source\");\n        source.src = dataURI;\n        source.type = `video/${type}`;\n        element.appendChild(source);\n    }\n\n    get isEnabled() {\n        return this.enabled;\n    }\n\n    enable() {\n        const debug = this.player.debug;\n        if (nativeWakeLock()) {\n            return navigator.wakeLock\n                .request(\"screen\")\n                .then((wakeLock) => {\n                    this._wakeLock = wakeLock;\n                    this.enabled = true;\n                    debug.log('wakeLock', 'Wake Lock active.')\n                    this._wakeLock.addEventListener(\"release\", () => {\n                        // ToDo: Potentially emit an event for the page to observe since\n                        // Wake Lock releases happen when page visibility changes.\n                        // (https://web.dev/wakelock/#wake-lock-lifecycle)\n                        debug.log('wakeLock', 'Wake Lock released.')\n                    });\n                })\n                .catch((err) => {\n                    this.enabled = false;\n                    debug.error('wakeLock', `${err.name}, ${err.message}`)\n                    throw err;\n                });\n        } else if (oldIOS()) {\n            this.disable();\n            this.noSleepTimer = window.setInterval(() => {\n                if (!document.hidden) {\n                    window.location.href = window.location.href.split(\"#\")[0];\n                    window.setTimeout(window.stop, 0);\n                }\n            }, 15000);\n            this.enabled = true;\n            return Promise.resolve();\n        } else {\n            let playPromise = this.noSleepVideo.play();\n            return playPromise\n                .then((res) => {\n                    this.enabled = true;\n                    return res;\n                })\n                .catch((err) => {\n                    this.enabled = false;\n                    throw err;\n                });\n        }\n    }\n\n    disable() {\n        const debug = this.player.debug;\n        if (nativeWakeLock()) {\n            if (this._wakeLock) {\n                this._wakeLock.release();\n            }\n            this._wakeLock = null;\n        } else if (oldIOS()) {\n            if (this.noSleepTimer) {\n                debug.warn('wakeLock', 'NoSleep now disabled for older iOS devices.')\n\n                window.clearInterval(this.noSleepTimer);\n                this.noSleepTimer = null;\n            }\n        } else {\n            this.noSleepVideo.pause();\n        }\n        this.enabled = false;\n    }\n}\n","function assembleUrl (path) {\n    const url = new URL(path)\n    if (url.origin && url.origin !== 'null') {\n        return `${window.location.origin}/api/webrtc/play?streamPath=${url.pathname.substr(1)}`\n    } else {\n        let pathname = url.pathname\n        let streamPath = ''\n        let index = 0\n        if (url.pathname.startsWith('//')) {\n            pathname = url.pathname.substr(2)\n        }\n\n        index = pathname.indexOf('/')\n        streamPath = pathname.substring(index + 1)\n\n        if (pathname) {\n            return `${window.location.origin}/webrtc_api/webrtc/play?streamPath=${streamPath}`\n        } else {\n            console.log('url is Error for webRTC！')\n        }\n    }\n}\n\nasync function WebRTCVideo(player) {\n    let pc = new RTCPeerConnection();\n    const streamPath =  assembleUrl(player._opt.url)\n    const $video = player.$container.$videoElement\n    const pcConfig = {\n        iceConnectionState: pc && pc.iceConnectionState,\n        stream: null,\n        localSDP: \"\",\n        remoteSDP: \"\",\n        remoteSDPURL: \"\",\n        localSDPURL: \"\",\n        streamPath: \"\"\n    }\n\n    pc.addTransceiver('video',{\n        direction: 'recvonly'\n    });\n\n    pcConfig.streamPath = streamPath;\n\n    pc.onsignalingstatechange = e => {\n        //console.log(e);\n    };\n\n    pc.oniceconnectionstatechange = e => {\n        pcConfig.iceConnectionState = pc.iceConnectionState;\n    };\n\n    pc.onicecandidate = event => {\n        // console.log(event)\n    };\n\n    pc.ontrack = event => {\n        console.log('event: => ', event);\n        if (event.track.kind == \"video\") {\n            pcConfig.stream = event.streams[0];\n            $video.srcObject = pcConfig.stream\n            $video.play()\n        }\n    };\n\n    await pc.setLocalDescription(await pc.createOffer());\n\n    pcConfig.localSDP = pc.localDescription.sdp;\n\n    pcConfig.localSDPURL = URL.createObjectURL(\n        new Blob([pcConfig.localSDP], { type: \"text/plain\" })\n    );\n\n    const result = await fetch(pcConfig.streamPath, {\n        method: \"POST\",\n        body: JSON.stringify(pc.localDescription.toJSON()),\n        headers: {\n            'Content-Type': 'application/json;charset=UTF-8'\n        }\n    }).then(res => res.json());\n\n    if (result.errmsg) {\n        console.error(result.errmsg);\n        return;\n    } else {\n        pcConfig.remoteSDP = result.sdp;\n        pcConfig.remoteSDPURL = URL.createObjectURL(new Blob([pcConfig.remoteSDP], { type: \"text/plain\" }));\n    }\n\n    await pc.setRemoteDescription(new RTCSessionDescription(result));\n\n}\n\nexport default WebRTCVideo;\n","import {DEFAULT_PLAYER_OPTIONS, EVENTS, EVENTS_ERROR, JESSIBUCA_EVENTS} from \"../constant\";\nimport Debug from \"../utils/debug\";\nimport Events from \"../utils/events\";\nimport property from './property';\nimport events from './events';\nimport {fpsStatus, isEmpty, isFullScreen, isNotEmpty, now, supportMSE, supportOffscreenV2, supportWCS} from \"../utils\";\nimport Video from \"../video\";\nimport Audio from \"../audio\";\nimport Stream from \"../stream\";\nimport Recorder from \"../recorder\";\nimport DecoderWorker from \"../worker/index\";\nimport Emitter from \"../utils/emitter\";\nimport Demux from \"../demux\";\nimport WebcodecsDecoder from \"../decoder/webcodecs\";\nimport Control from \"../control\";\nimport './style.scss'\nimport observer from \"./observer\";\nimport MseDecoder from \"../decoder/mediaSource\";\nimport NoSleep from \"../utils/noSleep\";\nimport useWebRTC from './useWebRTC'\n\nexport default class Player extends Emitter {\n    constructor(container, options) {\n        super()\n        this.$container = container;\n        this._opt = Object.assign({}, DEFAULT_PLAYER_OPTIONS, options)\n        this.debug = new Debug(this);\n\n\n        if (this._opt.useWCS) {\n            this._opt.useWCS = supportWCS();\n        }\n\n        if (this._opt.useMSE) {\n            this._opt.useMSE = supportMSE();\n        }\n\n        // 如果使用mse则强制不允许 webcodecs\n        if (this._opt.useMSE) {\n            if (this._opt.useWCS) {\n                this.debug.log('Player', 'useWCS set true->false')\n            }\n\n            if (!this._opt.forceNoOffscreen) {\n                this.debug.log('Player', 'forceNoOffscreen set false->true')\n            }\n\n            this._opt.useWCS = false;\n            this._opt.forceNoOffscreen = true;\n        } else if (this._opt.useWCS) {\n\n        }\n\n\n        if (!this._opt.forceNoOffscreen) {\n            if (!supportOffscreenV2()) {\n                this._opt.forceNoOffscreen = true;\n                this._opt.useOffscreen = false;\n            } else {\n                this._opt.useOffscreen = true;\n            }\n        }\n\n\n        this._opt.hasControl = this._hasControl();\n        //\n        this._loading = false;\n        this._playing = false;\n        this._hasLoaded = false;\n\n        //\n        this._checkHeartTimeout = null;\n        this._checkLoadingTimeout = null;\n\n        //\n        this._startBpsTime = null;\n        this._isPlayingBeforePageHidden = false;\n        this._stats = {\n            buf: 0, // 当前缓冲区时长，单位毫秒,\n            fps: 0, // 当前视频帧率\n            abps: 0, // 当前音频码率，单位bit\n            vbps: 0, // 当前视频码率，单位bit\n            ts: 0 // 当前视频帧pts，单位毫秒\n        }\n\n        //\n        this._videoTimestamp = 0;\n        this._audioTimestamp = 0;\n\n        property(this);\n\n        this.events = new Events(this);\n        this.video = new Video(this);\n        this.audio = new Audio(this);\n        this.recorder = new Recorder(this);\n        this.decoderWorker = new DecoderWorker(this);\n\n\n        this.stream = null;\n        this.demux = null;\n\n\n        if (this._opt.useWCS) {\n            this.webcodecsDecoder = new WebcodecsDecoder(this)\n        }\n\n        if (this._opt.useMSE) {\n            this.mseDecoder = new MseDecoder(this);\n        }\n\n        //\n        this.control = new Control(this);\n\n        this.keepScreenOn = new NoSleep(this);\n\n\n        events(this);\n        observer(this);\n\n\n        if (this._opt.useWCS) {\n            this.debug.log('Player', 'use WCS')\n        }\n\n        if (this._opt.useMSE) {\n            this.debug.log('Player', 'use MSE')\n        }\n\n        if (this._opt.useOffscreen) {\n            this.debug.log('Player', 'use offscreen')\n        }\n\n        if (typeof this._opt.controlReset === 'function') {\n            this._opt.controlReset(this)\n        }\n\n        this.debug.log('Player options', this._opt);\n    }\n\n\n    set fullscreen(value) {\n        this.emit(EVENTS.fullscreen, value);\n    }\n\n    get fullscreen() {\n        return isFullScreen() || this.webFullscreen;\n    }\n\n    set webFullscreen(value) {\n        this.emit(EVENTS.webFullscreen, value);\n    }\n\n    get webFullscreen() {\n        return this.$container.classList.contains('jessibuca-fullscreen-web')\n    }\n\n    get loaded() {\n        return this._hasLoaded;\n    }\n\n    //\n    set playing(value) {\n\n        if (value) {\n            // 将loading 设置为 false\n            this.loading = false;\n        }\n\n        if (this.playing !== value) {\n            this._playing = value;\n            this.emit(EVENTS.playing, value);\n            this.emit(EVENTS.volumechange, this.volume);\n\n            if (value) {\n                this.emit(EVENTS.play);\n            } else {\n                this.emit(EVENTS.pause);\n            }\n        }\n\n    }\n\n    get playing() {\n        return this._playing;\n    }\n\n    get volume() {\n        return this.audio.volume;\n    }\n\n    set volume(value) {\n        this.audio.setVolume(value);\n    }\n\n    set loading(value) {\n        if (this.loading !== value) {\n            this._loading = value;\n            this.emit(EVENTS.loading, this._loading);\n        }\n    }\n\n    get loading() {\n        return this._loading;\n    }\n\n    set recording(value) {\n        if (this.playing) {\n            if (value) {\n                this.recorder.startRecord();\n            } else {\n                this.recorder.stopRecordAndSave();\n            }\n        }\n    }\n\n    get recording() {\n        return this.recorder.recording;\n    }\n\n    set audioTimestamp(value) {\n        if (value === null) {\n            return;\n        }\n        this._audioTimestamp = value;\n    }\n\n    //\n    get audioTimestamp() {\n        return this._audioTimestamp;\n    }\n\n    //\n    set videoTimestamp(value) {\n        if (value === null) {\n            return;\n        }\n        this._videoTimestamp = value;\n        // just for wasm\n        if (!this._opt.useWCS && !this._opt.useMSE) {\n            if (this.audioTimestamp && this.videoTimestamp) {\n                this.audio.emit(EVENTS.videoSyncAudio, {\n                    audioTimestamp: this.audioTimestamp,\n                    videoTimestamp: this.videoTimestamp,\n                    diff: this.audioTimestamp - this.videoTimestamp\n                })\n            }\n        }\n    }\n\n    //\n    get videoTimestamp() {\n        return this._videoTimestamp;\n    }\n\n\n    /**\n     *\n     * @param options\n     */\n    updateOption(options) {\n        this._opt = Object.assign({}, this._opt, options)\n    }\n\n    /**\n     *\n     * @returns {Promise<unknown>}\n     */\n    init() {\n        return new Promise((resolve, reject) => {\n            if (!this.stream) {\n                this.stream = new Stream(this);\n            }\n\n            if (!this.demux) {\n                this.demux = new Demux(this);\n            }\n\n            if (this._opt.useWCS) {\n                if (!this.webcodecsDecoder) {\n                    this.webcodecsDecoder = new WebcodecsDecoder(this)\n                }\n            }\n\n            if (this._opt.useMSE) {\n                if (!this.mseDecoder) {\n                    this.mseDecoder = new MseDecoder(this);\n                }\n            }\n\n            if (!this.decoderWorker) {\n                this.decoderWorker = new DecoderWorker(this);\n\n                this.once(EVENTS.decoderWorkerInit, () => {\n                    resolve()\n                })\n            } else {\n                resolve()\n            }\n\n        })\n    }\n\n\n    /**\n     *\n     * @param url\n     * @returns {Promise<unknown>}\n     */\n    play(url) {\n        return new Promise((resolve, reject) => {\n            if (!url && !this._opt.url) {\n                return reject();\n            }\n\n            this.loading = true;\n            this.playing = false;\n            if (!url) {\n                url = this._opt.url;\n            }\n            this._opt.url = url;\n\n            this.clearCheckHeartTimeout();\n\n            console.log('useWebRTC', this)\n\n            // 使用WebRTC\n            if (this._opt.useWebRTC) {\n                // 不静音\n                if (this._opt.isNotMute) {\n                    this.mute(false);\n                }\n\n                useWebRTC(this);\n            } else {\n\n                this.init().then(() => {\n                    //\n                    if (this._opt.isNotMute) {\n                        this.mute(false);\n                    }\n\n\n                    if (this.webcodecsDecoder) {\n                        this.webcodecsDecoder.once(EVENTS_ERROR.webcodecsH265NotSupport, () => {\n                            this.emit(EVENTS_ERROR.webcodecsH265NotSupport)\n                            this.emit(EVENTS.error, EVENTS_ERROR.webcodecsH265NotSupport);\n                        })\n                    }\n\n                    if (this.mseDecoder) {\n                        this.mseDecoder.once(EVENTS_ERROR.mediaSourceH265NotSupport, () => {\n                            this.emit(EVENTS_ERROR.mediaSourceH265NotSupport)\n                            this.emit(EVENTS.error, EVENTS_ERROR.mediaSourceH265NotSupport);\n                        })\n                    }\n\n                    this.enableWakeLock();\n\n                    this.stream.fetchStream(url);\n\n                    //\n                    this.checkLoadingTimeout();\n                    // fetch error\n                    this.stream.once(EVENTS_ERROR.fetchError, (error) => {\n                        reject(error)\n                    })\n\n                    // ws\n                    this.stream.once(EVENTS_ERROR.websocketError, (error) => {\n                        reject(error)\n                    })\n\n                    // success\n                    this.stream.once(EVENTS.streamSuccess, () => {\n                        resolve();\n                        //\n                        if (this._opt.useMSE) {\n                            this.video.play();\n                        }\n                    })\n\n                }).catch((e) => {\n                    reject(e)\n                })\n            }\n\n        })\n    }\n\n    /**\n     *\n     */\n    close() {\n        return new Promise((resolve, reject) => {\n            this._close().then(() => {\n                this.video.clearView();\n                resolve()\n            })\n        })\n    }\n\n    _close() {\n        return new Promise((resolve, reject) => {\n            //\n            if (this.stream) {\n                this.stream.destroy();\n                this.stream = null;\n            }\n\n            if (this.demux) {\n                this.demux.destroy();\n                this.demux = null;\n            }\n\n            //\n            if (this.decoderWorker) {\n                this.decoderWorker.destroy();\n                this.decoderWorker = null;\n            }\n\n            if (this.webcodecsDecoder) {\n                this.webcodecsDecoder.destroy();\n                this.webcodecsDecoder = null;\n            }\n\n            if (this.mseDecoder) {\n                this.mseDecoder.destroy();\n                this.mseDecoder = null;\n            }\n\n\n            this.clearCheckHeartTimeout();\n            this.clearCheckLoadingTimeout();\n            this.playing = false;\n            this.loading = false;\n            this.recording = false;\n            // release audio buffer\n            this.audio.pause();\n            // release lock\n            this.releaseWakeLock();\n            // reset stats\n            this.resetStats();\n            //\n            this._audioTimestamp = 0;\n            this._videoTimestamp = 0;\n            //\n            setTimeout(() => {\n                resolve()\n            }, 0)\n        })\n    }\n\n    /**\n     *\n     * @param flag {boolean} 是否清除画面\n     * @returns {Promise<unknown>}\n     */\n    pause(flag) {\n        if (flag) {\n            return this.close();\n        } else {\n            return this._close();\n        }\n    }\n\n    /**\n     *\n     * @param flag\n     */\n    mute(flag) {\n        this.audio.mute(flag)\n    }\n\n    /**\n     *\n     */\n    resize() {\n        this.video.resize();\n    }\n\n    /**\n     *\n     * @param fileName\n     * @param fileType\n     */\n    startRecord(fileName, fileType) {\n        if (this.recording) {\n            return;\n        }\n\n        this.recorder.setFileName(fileName, fileType);\n        this.recording = true;\n    }\n\n    /**\n     *\n     */\n    stopRecordAndSave() {\n        if (this.recording) {\n            this.recording = false;\n        }\n    }\n\n    _hasControl() {\n        let result = false;\n\n        let hasBtnShow = false;\n        Object.keys(this._opt.operateBtns).forEach((key) => {\n            if (this._opt.operateBtns[key]) {\n                hasBtnShow = true;\n            }\n        });\n\n        if (this._opt.showBandwidth || this._opt.text || hasBtnShow) {\n            result = true;\n        }\n\n        return result;\n    }\n\n    checkHeart() {\n        this.clearCheckHeartTimeout();\n        this.checkHeartTimeout();\n    }\n\n    // 心跳检查，如果渲染间隔暂停了多少时间之后，就会抛出异常\n    checkHeartTimeout() {\n        this._checkHeartTimeout = setTimeout(() => {\n            this.pause(false).then(() => {\n                this.emit(EVENTS.timeout, EVENTS.delayTimeout);\n                this.emit(EVENTS.delayTimeout);\n            });\n        }, this._opt.heartTimeout * 1000)\n    }\n\n    //\n    clearCheckHeartTimeout() {\n        if (this._checkHeartTimeout) {\n            clearTimeout(this._checkHeartTimeout);\n            this._checkHeartTimeout = null;\n        }\n    }\n\n    // loading 等待时间\n    checkLoadingTimeout() {\n        this._checkLoadingTimeout = setTimeout(() => {\n            this.pause(false).then(() => {\n                this.emit(EVENTS.timeout, EVENTS.loadingTimeout);\n                this.emit(EVENTS.loadingTimeout);\n            });\n        }, this._opt.loadingTimeout * 1000)\n    }\n\n    clearCheckLoadingTimeout() {\n        if (this._checkLoadingTimeout) {\n            clearTimeout(this._checkLoadingTimeout);\n            this._checkLoadingTimeout = null;\n        }\n    }\n\n    handleRender() {\n        if (this.loading) {\n            this.emit(EVENTS.start);\n            this.loading = false;\n            this.clearCheckLoadingTimeout();\n        }\n        if (!this.playing) {\n            this.playing = true;\n        }\n        this.checkHeart();\n    }\n\n\n    //\n    updateStats(options) {\n        options = options || {};\n\n        if (!this._startBpsTime) {\n            this._startBpsTime = now();\n        }\n\n        if (isNotEmpty(options.ts)) {\n            this._stats.ts = options.ts;\n        }\n\n        if (isNotEmpty(options.buf)) {\n            this._stats.buf = options.buf;\n        }\n\n        if (options.fps) {\n            this._stats.fps += 1;\n        }\n        if (options.abps) {\n            this._stats.abps += options.abps;\n        }\n        if (options.vbps) {\n            this._stats.vbps += options.vbps;\n        }\n\n        const _nowTime = now();\n        const timestamp = _nowTime - this._startBpsTime;\n\n        if (timestamp < 1 * 1000) {\n            return;\n        }\n\n        this.emit(EVENTS.stats, this._stats);\n        this.emit(EVENTS.performance, fpsStatus(this._stats.fps));\n        this._stats.fps = 0;\n        this._stats.abps = 0;\n        this._stats.vbps = 0;\n        this._startBpsTime = _nowTime;\n    }\n\n    resetStats() {\n        this._startBpsTime = null;\n        this._stats = {\n            buf: 0, //ms\n            fps: 0,\n            abps: 0,\n            vbps: 0,\n            ts: 0\n        }\n    }\n\n    enableWakeLock() {\n        if (this._opt.keepScreenOn) {\n            this.keepScreenOn.enable();\n        }\n    }\n\n    releaseWakeLock() {\n        if (this._opt.keepScreenOn) {\n            this.keepScreenOn.disable();\n        }\n    }\n\n    destroy() {\n        this._loading = false;\n        this._playing = false;\n        this._hasLoaded = false;\n\n\n        if (this.decoderWorker) {\n            this.decoderWorker.destroy();\n            this.decoderWorker = null;\n        }\n        if (this.video) {\n            this.video.destroy();\n            this.video = null;\n        }\n\n        if (this.audio) {\n            this.audio.destroy();\n            this.audio = null;\n        }\n\n        if (this.stream) {\n            this.stream.destroy();\n            this.stream = null;\n        }\n\n        if (this.recorder) {\n            this.recorder.destroy();\n            this.recorder = null;\n        }\n\n        if (this.control) {\n            this.control.destroy();\n            this.control = null;\n        }\n\n        if (this.webcodecsDecoder) {\n            this.webcodecsDecoder.destroy();\n            this.webcodecsDecoder = null;\n        }\n\n        if (this.mseDecoder) {\n            this.mseDecoder.destroy();\n            this.mseDecoder = null;\n        }\n\n        if (this.demux) {\n            this.demux.destroy();\n            this.demux = null;\n        }\n\n\n        if (this.events) {\n            this.events.destroy();\n            this.events = null;\n        }\n\n        this.clearCheckHeartTimeout();\n        this.clearCheckLoadingTimeout();\n        //\n        this.releaseWakeLock();\n        this.keepScreenOn = null;\n        // reset stats\n        this.resetStats();\n        this._audioTimestamp = 0;\n        this._videoTimestamp = 0;\n\n        // 其他没法解耦的，通过 destroy 方式\n        this.emit('destroy');\n        // 接触所有绑定事件\n        this.off();\n\n        this.debug.log('play', 'destroy end');\n    }\n\n}\n","/**\n *  =====================================================================\n * @tencent/aegis-web-sdk@1.24.48 (c) 2021 Tencent Application Monitor.\n * Author pumpkincai.\n * Last Release Time Wed Dec 29 2021 23:00:35 GMT+0800 (GMT+08:00).\n * Released under the MIT License.\n * Thanks for supporting TAM & Aegis!\n * =====================================================================\n **/\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e=\"undefined\"!=typeof globalThis?globalThis:e||self).Aegis=t()}(this,function(){\"use strict\";var t,n;function e(e){this.name=\"__st\"+(1e9*Math.random()>>>0)+t+\"__\",null==e||e.forEach(this.add,this),t+=1}Array.prototype.find||Object.defineProperty(Array.prototype,\"find\",{configurable:!0,writable:!0,value:function(e){if(null===this)throw new TypeError('\"this\" is null or not defined');var t=Object(this),n=t.length>>>0;if(\"function\"!=typeof e)throw new TypeError(\"predicate must be a function\");for(var i=arguments[1],o=0;o<n;){var r=t[o];if(e.call(i,r,o,t))return r;o+=1}}}),String.prototype.startsWith||Object.defineProperty(String.prototype,\"startsWith\",{value:function(e,t){return this.substring(t=!t||t<0?0:+t,t+e.length)===e}}),window.WeakSet||(t=Date.now()%1e9,e.prototype.add=function(e){var t=this.name;return e[t]||Object.defineProperty(e,t,{value:!0,writable:!0}),this},e.prototype.delete=function(e){return!!e[this.name]&&!(e[this.name]=void 0)},e.prototype.has=function(e){return!!e[this.name]},n=e,Object.defineProperty(window,\"WeakSet\",{value:function(e){return new n(e)}})),Object.assign||Object.defineProperty(Object,\"assign\",{enumerable:!1,configurable:!0,writable:!0,value:function(e){if(null==e)throw new TypeError(\"Cannot convert first argument to object\");for(var t=Object(e),n=1;n<arguments.length;n++)if(null!=(i=arguments[n]))for(var i=Object(i),o=Object.keys(Object(i)),r=0,s=o.length;r<s;r++){var a=o[r],u=Object.getOwnPropertyDescriptor(i,a);null!=u&&u.enumerable&&(t[a]=i[a])}return t}});var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},E=function(){return(E=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function u(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var i=Array(e),o=0,t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}function R(e){return(e=Array.isArray(e)?e:[e]).map(function(t,n){return Object.getOwnPropertyNames(t).map(function(e){return o(e)+\"[\"+n+\"]=\"+(void 0===t[e]?\"\":o(t[e]))}).join(\"&\")}).join(\"&\")+(e.length?\"&count=\"+e.length:\"\")}var h,r=(s.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},s.prototype.on=function(e,t,n){if(void 0===n&&(n=0),this){var i=this.eventsList[e];return(i||(this.eventsList[e]=[],i=this.eventsList[e]),-1!==this.indexOf(i,t))?this:(i.push({name:e,type:n||0,callback:t}),this)}},s.prototype.one=function(e,t){this.on(e,t,1)},s.prototype.remove=function(e,t){if(this){var n=this.eventsList[e];if(!n)return null;if(t)return n.length&&(t=this.indexOf(n,t),n.splice(t,1)),this;try{delete this.eventsList[e]}catch(e){}return null}},s.prototype.clear=function(){this.eventsList={}},s),o=function(t){try{return encodeURIComponent(decodeURIComponent(t))}catch(e){return t}};function s(){var s=this;this.emit=function(e,t){if(s){var n;if(null!=(i=s.eventsList[e])&&i.length)for(var i=i.slice(),o=0;o<i.length;o++){n=i[o];try{var r=n.callback.apply(s,[t]);if(1===n.type&&s.remove(e,n.callback),!1===r)break}catch(e){throw e}}return s}},this.eventsList={}}(se=h=h||{})[se.number=-1]=\"number\",se.string=\"\";function a(e,t){return\"number\"==typeof e||\"string\"==typeof e?e:t?h.string:h.number}function g(e,t){return\"string\"==typeof e?e.split(\"?\")[t?1:0]||\"\":e}function v(e){return\"string\"==typeof e&&e.startsWith(\"//\")?\"undefined\"!=typeof location&&\"https:\"===location.protocol:/^https/.test(e)}function d(t){return l.some(function(e){return-1!==t.indexOf(e)})}var O,T,c,l=[\"application/octet-stream\",\"application/xhtml+xml\",\"application/xml\",\"application/pdf\",\"application/pkcs12\",\"application/javascript\",\"application/ecmascript\",\"application/vnd.mspowerpoint\",\"application/ogg\",\"text/html\",\"text/css\",\"text/javascript\",\"image\",\"audio\",\"video\"],f=[\"ret\",\"retcode\",\"code\",\"errcode\"],m=function(e,t,n){var i;try{if(\"function\"==typeof(null==t?void 0:t.retCodeHandler)){var o=t.retCodeHandler(e,null==n?void 0:n.url,null==n?void 0:n.ctx)||{};return{code:void 0===(r=o.code)?\"unknown\":r,isErr:o.isErr}}\"string\"==typeof e&&(e=JSON.parse(e)),\"function\"==typeof(null===(i=null==t?void 0:t.ret)||void 0===i?void 0:i.join)&&(f=[].concat(t.ret.map(function(e){return e.toLowerCase()})));var r,s=Object.getOwnPropertyNames(e).filter(function(e){return-1!==f.indexOf(e.toLowerCase())});return s.length?{code:\"\"+(r=Number(e[s[0]])),isErr:0!==r}:{code:\"unknown\",isErr:!1}}catch(e){return{code:\"unknown\",isErr:!1}}},S=function(e){if(\"string\"==typeof e)return e;try{return(JSON.stringify(e,(i=[],o=[],function(e,t){if(t instanceof Error)return\"Error.message: \"+t.message+\" \\n  Error.stack: \"+t.stack;if(\"object\"==typeof t&&null!==t){var n=i.indexOf(t);if(-1!==n)return\"[Circular \"+o[n]+\"]\";i.push(t),o.push(e||\"root\")}return t}),4)||\"undefined\").replace(/\"/gim,\"\")}catch(e){return\"error happen when aegis stringify: \\n \"+e.message+\" \\n \"+e.stack}var i,o},y=function(n,i){void 0===i&&(i=3);var o,r,s,a=\"\";return Array.isArray(n)?(a+=\"[\",o=n.length,n.forEach(function(e,t){a+=\"object\"==typeof e&&1<i?y(e,i-1):w(e),a+=t===o-1?\"\":\",\"}),a+=\"]\"):n instanceof Object?(a=\"{\",r=Object.keys(n),s=r.length,r.forEach(function(e,t){\"object\"==typeof n[e]&&1<i?a+='\"'+e+'\":'+y(n[e],i-1):a+=p(e,n[e]),a+=t===s-1||t<s-1&&void 0===n[r[t+1]]?\"\":\",\"}),a+=\"}\"):a+=n,a},p=function(e,t){var n=typeof t,i=\"\";return\"string\"==n||\"object\"==n?i+='\"'+e+'\":\"'+t+'\"':\"function\"==typeof t?i+='\"'+e+'\":\"function '+t.name+'\"':\"symbol\"==typeof t?i+='\"'+e+'\":\"symbol\"':\"number\"!=typeof t&&\"boolean\"!=n||(i+='\"'+e+'\": '+t),i},w=function(e){var t=typeof e;return\"\"+(\"undefined\"==t||\"symbol\"==t||\"function\"==t?\"null\":\"string\"==t||\"object\"==t?'\"'+e+'\"':e)},b=(x.prototype.sourceURL=function(){return this.data.responseURL},x.prototype.status=function(){return Number(this.data.status)},x.prototype.headers=function(){var e=this.data.getAllResponseHeaders().split(\"\\n\"),n={};return e.forEach(function(e){var t;e&&(e=(t=e.split(\": \"))[0],t=t[1].trim(),n[e]=t)}),n},x),L=(P.prototype.sourceURL=function(){return this.data.url},P.prototype.status=function(){return Number(this.data.status)},P.prototype.headers=function(){var n={};return this.data.headers.forEach(function(e,t){n[t]=e}),n},P);function P(e,t){this.type=\"fetch\",this.data=e||{},this.data.response=t}function x(e){this.type=\"xhr\",this.data=e}(Be=O=O||{}).INFO_ALL=\"-1\",Be.API_RESPONSE=\"1\",Be.INFO=\"2\",Be.ERROR=\"4\",Be.PROMISE_ERROR=\"8\",Be.AJAX_ERROR=\"16\",Be.SCRIPT_ERROR=\"32\",Be.IMAGE_ERROR=\"64\",Be.CSS_ERROR=\"128\",Be.CONSOLE_ERROR=\"256\",Be.MEDIA_ERROR=\"512\",Be.RET_ERROR=\"1024\",Be.REPORT=\"2048\",Be.PV=\"4096\",Be.EVENT=\"8192\",Be.PAGE_NOT_FOUND_ERROR=\"16384\",(Fe={})[Fe.android=1]=\"android\",Fe[Fe.ios=2]=\"ios\",Fe[Fe.windows=3]=\"windows\",Fe[Fe.macos=4]=\"macos\",Fe[Fe.linux=5]=\"linux\",Fe[Fe.devtools=6]=\"devtools\",Fe[Fe.other=100]=\"other\",(we={})[we.unknown=100]=\"unknown\",we[we.wifi=1]=\"wifi\",we[we.net2g=2]=\"net2g\",we[we.net3g=3]=\"net3g\",we[we.net4g=4]=\"net4g\",we[we.net5g=5]=\"net5g\",we[we.net6g=6]=\"net6g\",(Re=T=T||{}).LOG=\"log\",Re.SPEED=\"speed\",Re.PERFORMANCE=\"performance\",Re.OFFLINE=\"offline\",Re.WHITE_LIST=\"whiteList\",Re.VITALS=\"vitals\",Re.PV=\"pv\",Re.CUSTOM_PV=\"customPV\",Re.EVENT=\"event\",Re.CUSTOM=\"custom\",Re.SDK_ERROR=\"sdkError\",Re.SET_DATA=\"setData\",(Te=c=c||{}).production=\"production\",Te.gray=\"gray\",Te.pre=\"pre\",Te.daily=\"daily\",Te.local=\"local\",Te.test=\"test\",Te.others=\"others\";function C(e){return e.filter(function(n,i){return\"static\"!==n.type||!e.find(function(e,t){return i!==t&&n.url===e.url&&200===n.status})})}function I(e){e.level===O.INFO_ALL&&(e.level=O.INFO)}function A(o){return function(e,t){o.lifeCycle.emit(\"modifyRequest\",e);var n=o.config.modifyRequest;if(\"function\"==typeof n)try{var i=n(e);\"object\"==typeof i&&\"url\"in i&&(e=i)}catch(e){console.error(e)}t(e)}}function N(i){return function(e,t){i.lifeCycle.emit(\"afterRequest\",e);var n=i.config.afterRequest;\"function\"==typeof n&&!1===n(e)||t(e)}}function k(){}function _(t,n){Object.getOwnPropertyNames(t).forEach(function(e){\"function\"==typeof t[e]&&\"constructor\"!==e&&(n?n[e]=\"sendPipeline\"===e?function(){return function(){}}:function(){}:t[e]=function(){})})}function U(t){if(t.payload){var n={};return Object.keys(t).forEach(function(e){\"payload\"!==e&&(n[e]=t[e])}),n}return t}function j(){return void 0!==window.performance&&\"function\"==typeof performance.clearResourceTimings&&\"function\"==typeof performance.getEntriesByType&&\"function\"==typeof performance.now}function q(t){if(ie.find(function(e){return e.name===t.name}))throw new Error(\"name '\"+t.name+\"' is already in hackXHR option list\");var n,i;ie.push(t),!ne&&window.XMLHttpRequest&&(ne=!0,n=window.XMLHttpRequest.prototype.send,i=window.XMLHttpRequest.prototype.open,window.XMLHttpRequest.prototype.open=function(){if(this.aegisMethod=arguments[0],this.aegisUrl=arguments[1],this.aegisXhrStartTime=Date.now(),!this.sendByAegis)for(var e=0;e<ie.length;e++){var t=ie[e];try{\"function\"==typeof t.open&&t.open(this)}catch(e){}}return i.apply(this,arguments)},window.XMLHttpRequest.prototype.send=function(){if(!this.sendByAegis)for(var e=0;e<ie.length;e++){var t=ie[e];try{\"function\"==typeof t.send&&t.send(this,arguments[0])}catch(e){}}return n.apply(this,arguments)})}function F(t){var e=ie.findIndex(function(e){return e.name===t.name});-1!==e&&ie.splice(e,1)}var D,H,M=function(i,o){return function(e,t){var n=o.logCreated;if(\"function\"!=typeof n)return i(\"beforeWrite\",e),t(e);e=e.filter(function(e){return!1!==n(e)});return i(\"beforeWrite\",e),t(e)}},B=function(e,n){var i,o=[],r=e.config;return e.lifeCycle.on(\"destroy\",function(){o.length=0}),function(e,t){if(o.push(e),n&&o.length>=n)return o=C(o),t(o.splice(0,o.length)),void(i&&clearTimeout(i));i&&clearTimeout(i),i=setTimeout(function(){i=null,0<(o=C(o)).length&&t(o.splice(0,o.length))},r.delay)}},V=function(e,t){return Array.isArray(e)?t(e.map(function(e){return E(E({},e),{msg:\"string\"==typeof e.msg?e.msg:[].concat(e.msg).map(S).join(\" \")})})):t(E(E({},e),{msg:\"string\"==typeof e.msg?e.msg:S(e.msg)}))},W=function(s){var e,a=!1,u=!1,t=!1,c=[];return s.lifeCycle.on(\"onConfigChange\",function(){e&&clearTimeout(e),e=setTimeout(function(){var e,n;!t&&s.config&&(t=!0,e=s.config.whiteListUrl,(n=void 0===e?\"\":e)&&s.sendPipeline([function(e,t){t({url:n,type:T.WHITE_LIST,success:function(e){u=!0;try{var t=e.data||JSON.parse(e),n=t.retcode,i=t.result,o=void 0===i?{}:i;if(0===n){if(a=o.is_in_white_list,s.isWhiteList=a,o.shutdown)return void s.destroy();0<=o.rate&&o.rate<=1&&(s.config.random=o.rate,s.isGetSample=!1)}s.isWhiteList&&c.length?$(s)(c.splice(0),function(){}):!s.isWhiteList&&c.length&&(c.length=0);var r=s.config.onWhitelist;\"function\"==typeof r&&r(a)}catch(e){}},fail:function(e){\"403 forbidden\"===e&&s.destroy(),u=!0}})}],T.WHITE_LIST)(null),t=!1)},s.config.uin?50:500)}),s.lifeCycle.on(\"destroy\",function(){c.length=0}),function(e,t){var n;a||null!==(n=null===(n=s.config)||void 0===n?void 0:n.api)&&void 0!==n&&n.reportRequest?t(e.concat(c.splice(0)).map(function(e){return I(e),e})):(e=e.filter(function(e){return e.level!==O.INFO&&e.level!==O.API_RESPONSE?(I(e),!0):(u||(c.push(e),200<=c.length&&(c.length=200)),!1)})).length&&t(e)}},X=function(i){return setTimeout(function(){var e=i.config.pvUrl,n=void 0===e?\"\":e;n&&i.sendPipeline([function(e,t){t({url:n,type:T.PV,fail:function(e){\"403 forbidden\"===e&&i.destroy()}})}],T.PV)(null)},100),function(e,t){t(e)}},G=function(o){var r={};return function(e,t){var n,i;o.speedSample?(i=\"object\"==typeof o.repeat?o.repeat:{repeat:o.repeat},n=+i.speed||+i.repeat||5,Array.isArray(e)?(i=e.filter(function(e){var t=!r[e.url]||r[e.url]<n;return r[e.url]=1+~~r[e.url],t})).length&&t(i):(!r[e.url]||r[e.url]<n)&&(r[e.url]=1+~~r[e.url],t(e))):t(e)}},J=function(i){var o={};return function(e,t){var n=\"number\"==typeof i.repeat?i.repeat:5;if(0===n)return t(e);t(e.filter(function(e){return e.level!==O.ERROR&&e.level!==O.PROMISE_ERROR&&e.level!==O.AJAX_ERROR&&e.level!==O.SCRIPT_ERROR&&e.level!==O.IMAGE_ERROR&&e.level!==O.CSS_ERROR&&e.level!==O.MEDIA_ERROR||(o[e.msg]=o[e.msg]||0,o[e.msg]+=1,!(o[e.msg]>n))}))}},$=function(i){return function(e){return i.sendPipeline([function(e,n){return n({url:i.config.url||\"\",data:R(e),method:\"post\",contentType:\"application/x-www-form-urlencoded\",type:T.LOG,log:e,requestConfig:{timeout:5e3},success:function(){var t=i.config.onReport;\"function\"==typeof t&&e.forEach(function(e){t(e)}),\"function\"==typeof n&&n([])},fail:function(e){\"403 forbidden\"===e&&i.destroy()}})}],T.LOG)(e)}},K=function(n){if(!n||!n.reduce||!n.length)throw new TypeError(\"createPipeline need at least one function param\");return 1===n.length?function(e,t){n[0](e,t||k)}:n.reduce(function(n,i){return function(e,t){return void 0===t&&(t=k),n(e,function(e){return null==i?void 0:i(e,t)})}})},Q=(Object.defineProperty(ue.prototype,\"__version__\",{get:function(){return console.warn(\"__version__ has discard, please use version\"),\"1.24.48\"},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,\"LogType\",{get:function(){return console.warn(\"LogType has discard, please use logType\"),O},enumerable:!1,configurable:!0}),ue.prototype.init=function(e){this.setConfig(e);for(var t=0;t<ue.installedPlugins.length;t++)try{ue.installedPlugins[t].patch(this)}catch(e){this.sendSDKError(e)}this.lifeCycle.emit(\"onInited\")},ue.prototype.setConfig=function(e){Object.assign(this.config,e);var t=this.config,n=t.id,i=t.uin,o=t.version,r=t.ext1,s=t.ext2,a=t.ext3,e=t.aid,t=t.env,u=void 0===t?\"production\":t,t=this.bean.id!==n||this.bean.uin!==i||this.bean.aid!==e;return this.bean.id=n||\"\",this.bean.uin=i||\"\",this.bean.version=o||\"1.24.48\",this.bean.aid=e||\"\",this.bean.env=function(){switch(u){case c.production:case c.gray:case c.pre:case c.daily:case c.local:case c.others:return 1;default:return}}()?u:c.others,r&&(this.bean.ext1=encodeURIComponent(r)),s&&(this.bean.ext2=encodeURIComponent(s)),a&&(this.bean.ext3=encodeURIComponent(a)),t&&this.lifeCycle.emit(\"onConfigChange\",this.config),this.config},ue.use=function(e){-1===ue.installedPlugins.indexOf(e)&&e.aegisPlugin&&ue.installedPlugins.push(e)},ue.unuse=function(e){e=ue.installedPlugins.indexOf(e);-1!==e&&ue.installedPlugins.splice(e,1)},ue.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:O.INFO,msg:e};1===e.length&&e[0].msg&&Object.assign(n,E({},e[0]),{level:O.INFO}),this.normalLogPipeline(n)},ue.prototype.infoAll=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:O.INFO_ALL,msg:e};1===e.length&&e[0].msg&&Object.assign(n,E({},e[0]),{level:O.INFO_ALL}),this.normalLogPipeline(n)},ue.prototype.report=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:O.REPORT,msg:e};1===e.length&&e[0].msg&&Object.assign(n,E({},e[0])),this.normalLogPipeline(n)},ue.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n={level:O.ERROR,msg:e};1===e.length&&e[0].msg&&Object.assign(n,E({},e[0]),{level:O.ERROR}),this.normalLogPipeline(n)},ue.prototype.speedLogPipeline=function(e){throw new Error('You need to override \"speedLogPipeline\" method')},ue.prototype.reportPv=function(n){var i,o=this;n&&(console.warn(\"reportPv is deprecated, please use reportEvent\"),i=\"\"+Object.getOwnPropertyNames(this.bean).filter(function(e){return\"id\"!==e}).map(function(e){return e+\"=\"+o.bean[e]}).join(\"&\"),this.sendPipeline([function(e,t){t({url:o.config.url+\"/\"+n+\"?\"+i,addBean:!1,type:T.CUSTOM_PV,fail:function(e){\"403 forbidden\"===e&&o.destroy()}})}],T.CUSTOM_PV)(null))},ue.prototype.reportEvent=function(e){e&&((e=\"string\"==typeof e?{name:e,ext1:this.config.ext1||\"\",ext2:this.config.ext2||\"\",ext3:this.config.ext3||\"\"}:e).name?this.eventPipeline(e):console.warn(\"reportEvent params error\"))},ue.prototype.reportTime=function(e,t){if(\"object\"==typeof e)return this.reportT(e);\"string\"==typeof e?\"number\"==typeof t?t<0||6e4<t?console.warn(\"reportTime: duration must between 0 and 60000\"):this.submitCustomTime(e,t):console.warn(\"reportTime: second param must be number\"):console.warn(\"reportTime: first param must be a string\")},ue.prototype.reportT=function(e){var t=e.name,n=e.duration,i=e.ext1,o=void 0===i?\"\":i,r=e.ext2,i=void 0===r?\"\":r,r=e.ext3,r=void 0===r?\"\":r,e=e.from;if(\"string\"==typeof t&&\"number\"==typeof n&&\"string\"==typeof o&&\"string\"==typeof i&&\"string\"==typeof r){if(!(n<0||6e4<n))return this.submitCustomTime(t,n,o,i,r,void 0===e?\"\":e);console.warn(\"reportTime: duration must between 0 and 60000\")}else console.warn(\"reportTime: params error\")},ue.prototype.time=function(e){\"string\"==typeof e?this.timeMap[e]?console.warn(\"Timer \"+e+\" already exists\"):this.timeMap[e]=Date.now():console.warn(\"time: first param must be a string\")},ue.prototype.timeEnd=function(e){\"string\"==typeof e?this.timeMap[e]?(this.submitCustomTime(e,Date.now()-this.timeMap[e]),delete this.timeMap[e]):console.warn(\"Timer \"+e+\" does not exist\"):console.warn(\"timeEnd: first param must be a string\")},ue.prototype.submitCustomTime=function(e,t,n,i,o,r){this.customTimePipeline({name:e,duration:t,ext1:n||this.config.ext1,ext2:i||this.config.ext2,ext3:o||this.config.ext3,from:r||void 0})},ue.prototype.extendBean=function(e,t){this.bean[e]=t},ue.prototype.sendPipeline=function(e,t){var n,r,s,a=this;return K(u([function(e,t){if(\"number\"!=typeof n.config.random&&(console.warn(\"random must in [0, 1], default is 1.\"),n.config.random=1),!n.isHidden||!n.isGetSample)if(n.isGetSample)n.isHidden||t(e);else{if(n.isGetSample=!0,Math.random()<n.config.random)return n.isHidden=!1,t(e);n.isHidden=!0}},(s=t,function(e,t){var n=Array.isArray(e),i=n?e:[e];r.lifeCycle.emit(\"beforeRequest\",e);var o=r.config.beforeRequest;(i=\"function\"==typeof o?i.map(function(t){try{var e=o({logs:t,logType:s});return(null==e?void 0:e.logType)===s&&null!=e&&e.logs?e.logs:!1!==e&&t}catch(e){return t}}).filter(function(e){return!1!==e}):i).length&&(i=function(e,t){if(!Array.isArray(e)||e.length<=1)return e;var n=[],i=[];return!(i=\"string\"==typeof t?[t]:t)||i.length<=0||(i.forEach(function(t){e.forEach(function(e){null!=e&&e[t]&&n.push(t)})}),0<n.length&&(e=e.map(function(e){var t={};return n.forEach(function(e){t[e]=\"\"}),E(E({},t),e)}))),e}(i,[\"ext1\",\"ext2\",\"ext3\"]),t(n?i:i[0]))})],e,[A(r=n=this),function(i,o){a.request(i,function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];o({isErr:!1,result:t,logType:null==i?void 0:i.type,logs:null==i?void 0:i.log}),null===(e=null==i?void 0:i.success)||void 0===e||e.call.apply(e,u([i],t))},function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];o({isErr:!0,result:t,logType:null==i?void 0:i.type,logs:null==i?void 0:i.log}),null===(e=null==i?void 0:i.fail)||void 0===e||e.call.apply(e,u([i],t))})},N(this)]))},ue.prototype.send=function(e,o,r){var t=this;return K([A(this),function(n,i){t.request(n,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i({isErr:!1,result:e,logType:n.type,logs:n.log}),null==o||o.apply(void 0,e)},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i({isErr:!0,result:e,logType:n.type,logs:n.log}),null==r||r.apply(void 0,e)})},N(this)])(e)},ue.prototype.request=function(e,t,n){throw new Error('You need to override \"request\" method')},ue.prototype.sendSDKError=function(e){var n=this;this.sendPipeline([function(e,t){t({url:n.config.url+\"?id=1085&msg[0]=\"+encodeURIComponent(S(e))+\"&level[0]=2&from=\"+n.config.id+\"&count=1&version=\"+n.config.id+\"(1.24.48)\",addBean:!1,method:\"get\",type:T.SDK_ERROR,log:e})}],T.SDK_ERROR)(e)},ue.prototype.destroy=function(e){void 0===e&&(e=!1);var t,n,i=ue.instances.indexOf(this);-1!==i&&ue.instances.splice(i,1);for(var o=ue.installedPlugins.length-1;0<=o;o--)try{ue.installedPlugins[o].unpatch(this)}catch(e){this.sendSDKError(e)}if(this.lifeCycle.emit(\"destroy\"),this.lifeCycle.clear(),e)t=this,n=Object.getOwnPropertyDescriptors(t),Object.keys(n).forEach(function(e){n[e].writable&&(t[e]=null)}),Object.setPrototypeOf(this,null);else{for(var r=this;r.constructor!==Object&&_(r,this),r=Object.getPrototypeOf(r););0===ue.instances.length&&(e=Object.getPrototypeOf(this).constructor,_(e),_(ue))}},ue.version=\"1.24.48\",ue.instances=[],ue.logType=O,ue.environment=c,ue.installedPlugins=[],ue),Y=(ae.prototype.patch=function(e){this.canUse(e)&&this.exist(e)&&(this.instances.push(e),this.triggerInit(e),this.triggerOnNewAegis(e))},ae.prototype.unpatch=function(e){e=this.instances.indexOf(e);-1!==e&&this.instances.splice(e,1)},ae.prototype.countInstance=function(){return this.instances.length},ae.prototype.uninstall=function(){var e;null===(e=null===(e=this.option)||void 0===e?void 0:e.destroy)||void 0===e||e.apply(this)},ae.prototype.walk=function(n){var i=this;this.instances.forEach(function(e){var t=i.canUse(e);t&&n(e,t)})},ae.prototype.canUse=function(e){e=this.getConfig(e);return!(!e||\"object\"!=typeof e)||!!e},ae.prototype.getConfig=function(e){return null===(e=e.config)||void 0===e?void 0:e[this.name]},ae.prototype.exist=function(e){return-1===this.instances.indexOf(e)},ae.prototype.triggerInit=function(e){var t;this.inited||(this.inited=!0,null===(t=null===(t=this.option)||void 0===t?void 0:t.init)||void 0===t||t.call(this.option,this.getConfig(e)))},ae.prototype.triggerOnNewAegis=function(e){var t;null===(t=null===(t=this.option)||void 0===t?void 0:t.onNewAegis)||void 0===t||t.call(this.option,e,this.getConfig(e))},ae),z=new Y({name:\"aid\",aid:\"\",init:function(e){try{var t=!0!==e&&e||window.localStorage.getItem(\"AEGIS_ID\");t||(t=\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return(\"x\"===e?t:3&t|8).toString(16)}),window.localStorage.setItem(\"AEGIS_ID\",t)),this.aid=t}catch(e){}},onNewAegis:function(e){e.bean.aid=this.aid,e.config.aid=this.aid}}),Z=function(e,t){var n,i={fetch:[],static:[]},o=new FormData;return Array.isArray(e)?e.forEach(function(e){var t=U(e);i[e.type].push(t)}):(n=U(e),i[e.type].push(n)),o.append(\"payload\",JSON.stringify(E({duration:i},t))),o},ee=new Y({name:\"reportAssetSpeed\"}),te=ee=new Y({name:\"reportAssetSpeed\",collectCur:0,ASSETS_INITIATOR_TYPE:[\"img\",\"css\",\"script\",\"link\",\"audio\",\"video\"],onNewAegis:function(e){var t=this;j()&&(this.collectSuccessLog(e),this.collectFailLog(e),performance.onresourcetimingbufferfull=function(){t.collectCur=0,performance.clearResourceTimings()})},publish:function(t){this.$walk(function(e){e.speedLogPipeline(t)})},collectSuccessLog:function(e){function n(e){for(var t=0,n=e.length;t<n;t++){var i=e[t];-1!==o.ASSETS_INITIATOR_TYPE.indexOf(i.initiatorType)&&-1===i.name.indexOf(\"cdn-go.cn/aegis/aegis-sdk\")&&o.publish(o.generateLog(i,r))}}var t,i,o=this,r=e.config;\"function\"==typeof window.PerformanceObserver?(n(performance.getEntriesByType(\"resource\")),(t=new window.PerformanceObserver(function(e){n(e.getEntries())})).observe({entryTypes:[\"resource\"]}),e.lifeCycle.on(\"destroy\",function(){0===ee.countInstance()&&t.disconnect()})):(i=setInterval(function(){var e=performance.getEntriesByType(\"resource\"),t=e.slice(o.collectCur);o.collectCur=e.length,n(t)},3e3),e.lifeCycle.on(\"destroy\",function(){0===ee.countInstance()&&clearInterval(i)}))},collectFailLog:function(e){function t(e){var t,n;e&&(e=e.target||e.srcElement,t=(null==e?void 0:e.src)||(null==e?void 0:e.href),e=null==e?void 0:e.tagName,t&&\"string\"==typeof t&&(\"IMG\"===e&&-1<window.location.href.indexOf(t)||(e=\"function\"==typeof(null===(e=o.api)||void 0===e?void 0:e.resourceTypeHandler)?null===(n=o.api)||void 0===n?void 0:n.resourceTypeHandler(t):\"\",n=performance.getEntriesByType(\"resource\").find(function(e){return e.name===t}),e={url:g(t),status:400,duration:Number(((null==n?void 0:n.duration)||0).toFixed(2)),method:\"get\",type:e||\"static\",isHttps:v(t),urlQuery:g(t,!0),domainLookup:0,connectTime:0},i.publish(e))))}var i=this,o=e.config;window.document.addEventListener(\"error\",t,!0),e.lifeCycle.on(\"destroy\",function(){0===ee.countInstance()&&window.document.removeEventListener(\"error\",t,!0)})},generateLog:function(e,t){var n,i=\"function\"==typeof(null===(n=t.api)||void 0===n?void 0:n.resourceTypeHandler)?null===(i=t.api)||void 0===i?void 0:i.resourceTypeHandler(e.name):\"\";return{url:g(e.name),method:\"get\",duration:Number(e.duration.toFixed(2)),status:200,type:i||\"static\",isHttps:v(e.name),urlQuery:g(e.name,!0),domainLookup:a(e.domainLookupEnd-e.domainLookupStart),connectTime:a(e.connectEnd-e.connectStart)}},destroy:function(){this.option.publish=function(){}}}),ne=!1,ie=[],oe=!1,re=[],se=(new Y({name:\"reportApiSpeed\"}),new Y({name:\"reportApiSpeed\",override:!1,onNewAegis:function(e){this.override||(this.override=!0,this.overrideFetch(e.config),this.overrideXhr(e.config))},overrideFetch:function(l){var f=this,e={name:this.name,then:function(r,s,a,u){var e,c,t,n;l.hostUrl&&-1<a.indexOf(l.hostUrl)||(c={url:r.url,isHttps:v(r.url),method:(null==u?void 0:u.method)||\"get\",duration:s,type:\"fetch\",status:r.status||0},\"fetch\"!==(n=\"function\"==typeof(null===(e=l.api)||void 0===e?void 0:e.resourceTypeHandler)?null===(t=l.api)||void 0===t?void 0:t.resourceTypeHandler(r.url):n)&&\"static\"!==n&&(t=r.headers?r.headers.get(\"content-type\"):\"\",n=r.ok&&\"string\"==typeof t&&d(t)?\"static\":\"fetch\"),\"fetch\"===n?r.clone().text().then(function(e){var t=null===(o=l.api)||void 0===o?void 0:o.apiDetail,n=r.status<=0||400<=r.status,i=m(e,l.api,{url:a,ctx:r}),o=i.code,i=i.isErr,t=(n?\"FETCH_ERROR: \"+e+\" \\n\\n\":\"\")+\"req url: \"+a+\" \\n                                \\nreq method: \"+((null==u?void 0:u.method)||\"get\")+\" \\n                                \\nreq param: \"+(t?y(null==u?void 0:u.body):\"\")+\" \\n                                \\nres duration: \"+s+\" \\n                                \\nres status: \"+(r.status||0)+\" \\n                                \\nres retcode: \"+o+\"\\n                                \\nres data: \"+(t?e:\"\");c.payload=new L(r,e),c.ret=o,c.isErr=+i,f.publishNormalLog({msg:t,level:n?O.AJAX_ERROR:i?O.RET_ERROR:O.API_RESPONSE,code:o})}):Object.assign(c,{type:\"static\",urlQuery:g(r.url,!0),domainLookup:h.number,connectTime:h.number}),f.publishSpeed(c))},catch:function(e,t,n,i){if(!(l.hostUrl&&-1<n.indexOf(l.hostUrl))){var o={url:n,isHttps:v(n),method:(null==i?void 0:i.method)||\"get\",duration:t,type:\"fetch\",status:0};f.publishSpeed(o);o=null===(o=l.api)||void 0===o?void 0:o.apiDetail,i=\"AJAX_ERROR: \"+e+\"\\n                          \\nres status: 0\\n                          \\nres duration: \"+t+\"\\n                          \\nreq url: \"+n+\"\\n                          \\nreq method: \"+((null==i?void 0:i.method)||\"get\")+\"\\n                          \\nreq param: \"+(o?y(null==i?void 0:i.body):\"\");throw f.publishNormalLog({msg:i,level:O.AJAX_ERROR,code:-400}),e}}};this.hackFetchOptions=e,function(t){if(re.find(function(e){return e.name===t.name}))throw new Error(\"name '\"+t.name+\"' is already in hackFetch option list\");var s;re.push(t),!oe&&window.fetch&&(oe=!0,s=window.fetch,window.fetch=function(e,i){void 0===i&&(i={});for(var o=\"string\"==typeof e?e:e.url,t=0;t<re.length;t++){var n=re[t];try{\"function\"==typeof n.beforeFetch&&n.beforeFetch(o,i)}catch(e){}}var r=Date.now();return s(e,i).then(function(e){for(var t=0;t<re.length;t++){var n=re[t];try{\"function\"==typeof n.then&&n.then(e,Date.now()-r,o,i)}catch(e){}}return e}).catch(function(e){for(var t=0;t<re.length;t++){var n=re[t];try{\"function\"==typeof n.catch&&n.catch(e,Date.now()-r,o,i)}catch(e){}}throw e})})}(this.hackFetchOptions)},getRequestType:function(e,t,n){var i,o=\"function\"==typeof(null===(i=e.api)||void 0===i?void 0:i.resourceTypeHandler)?null===(o=e.api)||void 0===o?void 0:o.resourceTypeHandler(n):\"\";return\"fetch\"!==o&&\"static\"!==o&&(n=t.getResponseHeader(\"content-type\"),o=400<=t.status||\"string\"!=typeof n||!d(n)?\"fetch\":\"static\"),o},overrideXhr:function(d){var p=this,e={name:this.name,send:function(c,l){var f=Date.now();c.addEventListener(\"loadend\",function(){var e,t=c.aegisUrl;if(t){var n=Date.now()-f,i={url:t,isHttps:v(t),status:c.status||0,method:c.aegisMethod||\"get\",type:\"fetch\",duration:n,payload:new b(c)};if(\"fetch\"===p.getRequestType(d,c,t))try{var o=null===(e=d.api)||void 0===e?void 0:e.apiDetail,r=m(c.response,d.api,{url:t,ctx:c}),s=r.code,a=r.isErr,u=\"req url: \"+t+\" \\n                                \\nreq method: \"+i.method+\" \\n                                \\nreq param: \"+(o?y(l):\"\")+\" \\n                                \\nres duration: \"+n+\" \\n                                \\nres status: \"+i.status+\" \\n                                \\nres retcode: \"+s+\"\\n                                \\nres data: \"+(o?y(c.response):\"\");i.ret=s,i.isErr=+a,p.publishNormalLog({msg:u,level:a?O.RET_ERROR:O.API_RESPONSE,code:s})}catch(e){i.ret=\"unknown\"}else Object.assign(i,{type:\"static\",urlQuery:g(t,!0),domainLookup:h.number,connectTime:h.number});p.publishSpeed(i)}})}};this.hackXHROptions=e,q(this.hackXHROptions)},publishSpeed:function(n){var i=this;n.url=g(n.url),this.$walk(function(e){var t=i.$getConfig(e);\"fetch\"===n.type&&t&&\"function\"==typeof t.urlHandler?e.speedLogPipeline(E(E({},n),{url:encodeURIComponent(t.urlHandler(n.url,n.payload))})):e.speedLogPipeline(n)})},publishNormalLog:function(t){this.$walk(function(e){e.normalLogPipeline(t)})},destroy:function(){var t,e;this.option.publishSpeed=function(){},this.option.publishNormalLog=function(){},this.option.hackXHROptions&&F(this.option.hackXHROptions),this.option.hackFetchOptions&&(t=this.option.hackFetchOptions,-1!==(e=re.findIndex(function(e){return e.name===t.name}))&&re.splice(e,1))}}));function ae(e){this.aegisPlugin=!0,this.name=\"\",this.instances=[],this.inited=!1,e.$walk=this.walk.bind(this),e.$getConfig=this.getConfig.bind(this),this.option=e,this.name=e.name}function ue(e){var n,t,o=this;this.isGetSample=!1,this.isHidden=!1,this.config={version:0,delay:1e3,onError:!0,repeat:5,random:1,aid:!0,device:!0,pagePerformance:!0,webVitals:!0,speedSample:!0,hostUrl:\"https://aegis.qq.com\",env:\"production\",url:\"\",offlineUrl:\"\",whiteListUrl:\"\",pvUrl:\"\",speedUrl:\"\",customTimeUrl:\"\",performanceUrl:\"\",webVitalsUrl:\"\",eventUrl:\"\"},this.isWhiteList=!1,this.lifeCycle=new r,this.bean={},this.normalLogPipeline=K([B(this,5),V,function(e,t){var i=n.config;t(e=e.map(function(e){var t,n=i.maxLength||204800;try{if(!e.msg||e.msg.length<=n)return e;e.msg=null===(t=e.msg)||void 0===t?void 0:t.substring(0,n)}catch(t){e.msg=S(e.msg).substring(0,i.maxLength)}return e}))},J((n=this).config),M(this.lifeCycle.emit,this.config),X(this),W(this),function(e,t){var n=JSON.parse(JSON.stringify(e));o.lifeCycle.emit(\"beforeReport\",n);var i=o.config.beforeReport;(e=\"function\"==typeof i?e.filter(function(e){return!1!==i(e)}):e).length&&t(e)},$(this)]),this.eventPipeline=K([B(this,5),function(e){o.sendPipeline([function(e,t){var n=e.map(function(e){return{name:e.name,ext1:e.ext1||o.config.ext1||\"\",ext2:e.ext2||o.config.ext2||\"\",ext3:e.ext3||o.config.ext3||\"\"}});t({url:o.config.eventUrl+\"?payload=\"+encodeURIComponent(JSON.stringify(n)),type:T.EVENT,log:e,fail:function(e){\"403 forbidden\"===e&&o.destroy()}})}],T.EVENT)(e)}]),this.timeMap={},this.customTimePipeline=K([B(this,5),function(e){return o.sendPipeline([function(e,t){t({url:o.config.customTimeUrl+\"?payload=\"+encodeURIComponent(JSON.stringify({custom:e})),type:T.CUSTOM,log:e,fail:function(e){\"403 forbidden\"===e&&o.destroy()}})}],T.CUSTOM)(e)}]),this.config=(t=this.config,void 0===(e=e.hostUrl)&&(e=\"https://aegis.qq.com\"),t.url=t.url||e+\"/collect\",t.offlineUrl=t.offlineUrl||e+\"/offline\",t.whiteListUrl=t.whiteListUrl||e+\"/collect/whitelist\",t.pvUrl=t.pvUrl||e+\"/collect/pv\",t.eventUrl=t.eventUrl||e+\"/collect/events\",t.speedUrl=t.speedUrl||e+\"/speed\",t.customTimeUrl=t.customTimeUrl||e+\"/speed/custom\",t.performanceUrl=t.performanceUrl||e+\"/speed/performance\",t.webVitalsUrl=t.webVitalsUrl||e+\"/speed/webvitals\",t.setDataReportUrl=t.SetDataReportUrl||e+\"/speed/miniProgramData\",t),ue.instances.push(this)}(Be=D=D||{})[Be.unknown=100]=\"unknown\",Be[Be.wifi=1]=\"wifi\",Be[Be.net2g=2]=\"net2g\",Be[Be.net3g=3]=\"net3g\",Be[Be.net4g=4]=\"net4g\",Be[Be.net5g=5]=\"net5g\",Be[Be.net6g=6]=\"net6g\",(Fe=H=H||{})[Fe.android=1]=\"android\",Fe[Fe.ios=2]=\"ios\",Fe[Fe.windows=3]=\"windows\",Fe[Fe.macos=4]=\"macos\",Fe[Fe.linux=5]=\"linux\",Fe[Fe.other=100]=\"other\";var ce,le,fe,de,pe,he,ge,ve,me,ye,we=new Y({name:\"device\",onNewAegis:function(e){e.extendBean(\"platform\",this.getPlatform()),e.extendBean(\"netType\",D.unknown),this.getDpi(e),this.refreshNetworkTypeToBean(e)},getDpi:function(e){e.extendBean(\"vp\",window.innerWidth+\" * \"+window.innerHeight),window.screen&&e.extendBean(\"sr\",window.screen.width+\" * \"+window.screen.height)},getPlatform:function(){var t={android:/\\bAndroid\\s*([^;]+)/,ios:/\\b(iPad|iPhone|iPod)\\b.*? OS ([\\d_]+)/,windows:/\\b(Windows NT)/,macos:/\\b(Mac OS)/,linux:/\\b(Linux)/i},e=Object.keys(t).find(function(e){return t[e].test(navigator.userAgent)});return e?H[e]:H.other},refreshNetworkTypeToBean:function(t){var n=this,e=t.config;e&&(\"function\"==typeof e.getNetworkType?e.getNetworkType:be)(function(e){D[e]||(e=D.unknown),t.extendBean(\"netType\",e),n.NetworkRefreshTimer=setTimeout(function(){n.refreshNetworkTypeToBean(t),clearTimeout(n.NetworkRefreshTimer)},1e4)})}}),be=function(e){var t=\"\",n=navigator.userAgent.match(/NetType\\/(\\w+)/);n?t=n[1]:navigator.connection&&(t=navigator.connection.effectiveType||navigator.connection.type),e((t=t=t||\"unknown\",0<=(t=String(t).toLowerCase()).indexOf(\"4g\")?D.net4g:0<=t.indexOf(\"wifi\")?D.wifi:0<=t.indexOf(\"5g\")?D.net5g:0<=t.indexOf(\"6g\")?D.net6g:0<=t.indexOf(\"3g\")?D.net3g:0<=t.indexOf(\"2g\")?D.net2g:D.unknown))},Ee=new Y({name:\"onError\"}),Re=Ee=new Y({name:\"onError\",onNewAegis:function(e){this.startListen(e)},startListen:function(r){var i=this,n=window.onerror;window.onerror=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];i.publishErrorLog({msg:(S(e[0])||\"\")+\" @ (\"+(S(e[1])||\"\")+\":\"+(e[2]||0)+\":\"+(e[3]||0)+\")\\n          \\n\"+S(e[4]||\"\"),level:O.ERROR}),null==n||n.call.apply(n,u([window],e))};function e(e){e=e&&S(e.reason),i.publishErrorLog({msg:\"PROMISE_ERROR: \"+e,level:O.PROMISE_ERROR})}window.addEventListener(\"unhandledrejection\",e);function t(e){if(e=(null==e?void 0:e.target)||(null==e?void 0:e.srcElement)){var t=e.src||e.href,e=e.tagName;if(\"string\"==typeof t&&e){var n={msg:e+\" load fail: \"+t,level:O.INFO};switch(e.toLowerCase()){case\"script\":n.level=O.SCRIPT_ERROR;break;case\"link\":n.level=O.CSS_ERROR;break;case\"img\":if(-1<window.location.href.indexOf(t))return;n.level=O.IMAGE_ERROR;break;case\"audio\":case\"video\":n.level=O.MEDIA_ERROR;break;default:return}i.publishErrorLog(n)}}}window.document.addEventListener(\"error\",t,!0),r.lifeCycle.on(\"destroy\",function(){0===Ee.countInstance()&&(window.document.removeEventListener(\"unhandledrejection\",e),window.document.removeEventListener(\"error\",t,!0))});var s=this,o={name:this.name,send:function(i,o){i.addEventListener(\"loadend\",function(){var e,t,n=\"\";this.failType?n=this.failType:this.status?400<=this.status&&(n=\"error\"):n=\"failed\",r.config.hostUrl&&this.aegisUrl&&-1<this.aegisUrl.indexOf(r.config.hostUrl)||(t=null===(e=r.config.api)||void 0===e?void 0:e.apiDetail,n&&(e=i.aegisUrl,e=m(i.response,r.config.api,{url:e,ctx:i}).code,s.publishErrorLog({msg:\"AJAX_ERROR: request \"+n+\"\\n                      \\nres status: \"+(this.status||0)+\"\\n                      \\nres retcode: \"+e+\"\\n                      \\nres duration: \"+(Date.now()-i.aegisXhrStartTime)+\"\\n                      \\nreq url: \"+this.aegisUrl+\"\\n                      \\nreq method: \"+this.aegisMethod+\"\\n                      \\nreq param: \"+(t?y(o):\"\")+\"\\n                      \\nres data: \"+(t?null===(t=(t=i).responseType&&\"text\"!==t.responseType?\"\":t.responseText)||void 0===t?void 0:t.slice(0,1e3):\"\"),level:O.AJAX_ERROR})))}),i.addEventListener(\"timeout\",function(){i.failType=\"timeout\"}),i.addEventListener(\"error\",function(){i.failType=\"error\"}),i.addEventListener(\"abort\",function(){i.failType=\"abort\"})}};this.hackXHROptions=o,q(this.hackXHROptions)},publishErrorLog:function(t){this.$walk(function(e){e.normalLogPipeline(t)})},destroy:function(){this.option.publishErrorLog=function(){},this.option.hackXHROptions&&F(this.option.hackXHROptions)}}),Oe=(new Y({name:\"pagePerformance\"}),1),Te=new Y({name:\"pagePerformance\",onNewAegis:function(i){var o=this;if(j())if(ce)this.publish(ce,i);else try{this.getFirstScreenTiming(i,function(e){var t,n=performance.timing;n&&(t=n.loadEventStart-n.domInteractive,ce={dnsLookup:n.domainLookupEnd-n.domainLookupStart,tcp:n.connectEnd-n.connectStart,ssl:0===n.secureConnectionStart?0:n.requestStart-n.secureConnectionStart,ttfb:n.responseStart-n.requestStart,contentDownload:n.responseEnd-n.responseStart,domParse:n.domInteractive-n.domLoading,resourceDownload:t=t<0?1070:t,firstScreenTiming:Math.floor(e)},o.publish(ce,i))})}catch(i){}},publish:function(e,s){var a=this;s.sendPipeline([function(e,t){var n,i=[];for(n in e)i.push(n+\"=\"+e[n]);var o=a.$getConfig(s);if(o){var r=-1===s.config.performanceUrl.indexOf(\"?\")?\"?\":\"&\";return\"function\"==typeof o.urlHandler?t({url:s.config.performanceUrl+r+i.join(\"&\")+\"&from=\"+(encodeURIComponent(o.urlHandler())||window.location.href),beanFilter:[\"from\"],type:T.PERFORMANCE,log:e}):t({url:s.config.performanceUrl+r+i.join(\"&\"),type:T.PERFORMANCE,log:e})}}],T.PERFORMANCE)(e)},getFirstScreenTiming:function(r,n){r.lifeCycle.on(\"destroy\",function(){f&&clearTimeout(f)});var i=[\"script\",\"style\",\"link\",\"br\"],s=[],a=this,u={},c=new MutationObserver(function(e){var t={roots:[],rootsDomNum:[],time:performance.now()};e.forEach(function(e){e&&e.addedNodes&&e.addedNodes.forEach&&e.addedNodes.forEach(function(e){1===e.nodeType&&(e.hasAttribute(\"AEGIS-FIRST-SCREEN-TIMING\")||e.querySelector(\"[AEGIS-FIRST-SCREEN-TIMING]\"))?(Object.prototype.hasOwnProperty.apply(u,[t.time])||(u[t.time]=[]),u[t.time].push(e)):1!==e.nodeType||-1!==i.indexOf(e.nodeName.toLocaleLowerCase())||a.isEleInArray(e,t.roots)||e.hasAttribute(\"AEGIS-IGNORE-FIRST-SCREEN-TIMING\")||(t.roots.push(e),t.rootsDomNum.push(a.walkAndCount(e)||0))})}),t.roots.length&&s.push(t)});c.observe(document,{childList:!0,subtree:!0});var l=function(){var e,i=0,o=0,t=Object.keys(u).filter(function(e){return u[+e].find(function(e){return a.isInFirstScreen(e)})});t.length?(o=Math.max.apply(null,t),(\"object\"!=typeof(null===(t=r.config)||void 0===t?void 0:t.pagePerformance)||null!==(e=r.config.pagePerformance)&&void 0!==e&&e.firstScreenInfo)&&(r.firstScreenInfo={element:null===(e=u[o])||void 0===e?void 0:e[0],timing:o,markDoms:u})):s.forEach(function(e){for(var t,n=0;n<e.roots.length;n++)e.rootsDomNum[n]>i&&a.isInFirstScreen(e.roots[n])&&(i=e.rootsDomNum[n],o=e.time,(\"object\"!=typeof(null===(t=r.config)||void 0===t?void 0:t.pagePerformance)||null!==(t=r.config.pagePerformance)&&void 0!==t&&t.firstScreenInfo)&&(r.firstScreenInfo={element:e.roots[n],timing:o}))}),!o&&Oe?f=setTimeout(function(){return l()},3e3):(c.disconnect(),null==n||n(o)),--Oe},f=setTimeout(function(){return l()},3e3)},isEleInArray:function(e,t){return!(!e||e===document.documentElement)&&(-1!==t.indexOf(e)||this.isEleInArray(e.parentElement,t))},isInFirstScreen:function(e){if(!e||\"function\"!=typeof e.getBoundingClientRect)return!1;var t=e.getBoundingClientRect(),n=window.innerHeight,e=window.innerWidth;return 0<=t.left&&t.left<e&&0<=t.top&&t.top<n&&0<t.width&&0<t.height},walkAndCount:function(e){var t=0;if(e&&1===e.nodeType){t+=1;var n=e.children;if(null!=n&&n.length)for(var i=0;i<n.length;i++)t+=this.walkAndCount(n[i])}return t}});function Se(){pe=[],fe=-1,le=null,me(addEventListener)}function Le(e,t){le||(le=t,fe=e,de=new Date,me(removeEventListener),ve())}function Pe(e){var t,n,i,o;function r(){Le(n,i),o()}function s(){o()}e.cancelable&&(t=(1e12<e.timeStamp?new Date:performance.now())-e.timeStamp,\"pointerdown\"==e.type?(n=t,i=e,o=function(){removeEventListener(\"pointerup\",r,he),removeEventListener(\"pointercancel\",s,he)},addEventListener(\"pointerup\",r,he),addEventListener(\"pointercancel\",s,he)):Le(t,e))}he={passive:!0,capture:!0},ge=new Date,ve=function(){var t;0<=fe&&fe<de-ge&&(t={entryType:\"first-input\",name:le.type,target:le.target,cancelable:le.cancelable,startTime:le.timeStamp,processingStart:le.timeStamp+fe},pe.forEach(function(e){e(t)}),pe=[])},me=function(t){[\"mousedown\",\"keydown\",\"touchstart\",\"pointerdown\"].forEach(function(e){return t(e,Pe,he)})},ye=\"hidden\"===document.visibilityState?0:1/0,addEventListener(\"visibilitychange\",function e(t){\"hidden\"===document.visibilityState&&(ye=t.timeStamp,removeEventListener(\"visibilitychange\",e,!0))},!0),Se(),self.webVitals={firstInputPolyfill:function(e){pe.push(e),ve()},resetFirstInputPolyfill:Se,get firstHiddenTime(){return ye}};function xe(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:\"v1-\".concat(Date.now(),\"-\").concat(Math.floor(8999999999999*Math.random())+1e12)}}function Ce(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if(\"first-input\"===e&&!(\"PerformanceEventTiming\"in self))return;var n=new PerformanceObserver(function(e){return e.getEntries().map(t)});return n.observe({type:e,buffered:!0}),n}}catch(e){}}function Ie(t,n){function i(e){\"pagehide\"!==e.type&&\"hidden\"!==document.visibilityState||(t(e),n&&(removeEventListener(\"visibilitychange\",i,!0),removeEventListener(\"pagehide\",i,!0)))}addEventListener(\"visibilitychange\",i,!0),addEventListener(\"pagehide\",i,!0)}function Ae(t){addEventListener(\"pageshow\",function(e){e.persisted&&t(e)},!0)}function Ne(e,t,n){var i;return function(){0<=t.value&&(n||De.has(t)||\"hidden\"===document.visibilityState)&&(t.delta=t.value-(i||0),!t.delta&&void 0!==i||(i=t.value,e(t)))}}function ke(){Ie(function(e){e=e.timeStamp;He=e},!0)}function _e(){return He<0&&((He=self.webVitals.firstHiddenTime)===1/0&&ke(),Ae(function(){setTimeout(function(){He=\"hidden\"===document.visibilityState?0:1/0,ke()},0)})),{get timeStamp(){return He}}}function Ue(e){var t=e.name,e=e.value;Me[t]=e}var je,qe,Fe,De=new(\"function\"==typeof WeakSet?WeakSet:Set),He=-1,Me=(new Y({name:\"webVitals\"}),{FCP:-1,LCP:-1,FID:-1,CLS:-1}),Be=new Y({name:\"webVitals\",onNewAegis:function(e){var t,n,i,o,r,s,a,u,c,l,f,d,p,h,g,v,m,y,w,b,E,R,O;if(j()&&\"function\"==typeof window.PerformanceObserver)try{y=Ue,b=_e(),E=xe(\"FCP\"),R=performance.getEntriesByName(\"first-contentful-paint\")[0],O=R?null:Ce(\"paint\",P),(R||O)&&(w=Ne(y,E,void 0),R&&P(R),Ae(function(e){E=xe(\"FCP\"),w=Ne(y,E,void 0),requestAnimationFrame(function(){requestAnimationFrame(function(){E.value=performance.now()-e.timeStamp,De.add(E),w()})})})),d=Ue,g=_e(),v=xe(\"LCP\"),(m=Ce(\"largest-contentful-paint\",L))&&(p=Ne(d,v,void 0),h=function(){De.has(v)||(m.takeRecords().map(L),m.disconnect(),De.add(v),p())},[\"keydown\",\"click\"].forEach(function(e){addEventListener(e,h,{once:!0,capture:!0})}),Ie(h,!0),Ae(function(e){v=xe(\"LCP\"),p=Ne(d,v,void 0),requestAnimationFrame(function(){requestAnimationFrame(function(){v.value=performance.now()-e.timeStamp,De.add(v),p()})})})),a=Ue,u=_e(),c=xe(\"FID\"),l=Ce(\"first-input\",S),f=Ne(a,c,void 0),l&&Ie(function(){l.takeRecords().map(S),l.disconnect()},!0),l||window.webVitals.firstInputPolyfill(S),Ae(function(){c=xe(\"FID\"),f=Ne(a,c,void 0),window.webVitals.resetFirstInputPolyfill(),window.webVitals.firstInputPolyfill(S)}),i=Ue,r=xe(\"CLS\",0),(s=Ce(\"layout-shift\",T))&&(o=Ne(i,r,void 0),Ie(function(){s.takeRecords().map(T),o()}),Ae(function(){r=xe(\"CLS\",0),o=Ne(i,r,void 0)})),t=this.publish.bind(this,e),n=function(e){\"pagehide\"!==e.type&&\"hidden\"!==document.visibilityState||(t(e),removeEventListener(\"visibilitychange\",n,!0),removeEventListener(\"pagehide\",n,!0))},addEventListener(\"visibilitychange\",n,!0),addEventListener(\"pagehide\",n,!0)}catch(e){}function T(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),o())}function S(e){e.startTime<u.timeStamp&&(c.value=e.processingStart-e.startTime,c.entries.push(e),De.add(c),f())}function L(e){var t=e.startTime;t<g.timeStamp&&(v.value=t,v.entries.push(e)),p()}function P(e){\"first-contentful-paint\"===e.name&&(O&&O.disconnect(),e.startTime<b.timeStamp&&(E.value=e.startTime,E.entries.push(e),De.add(E),w()))}},publish:function(r){r.sendPipeline([function(e,t){var n,i=[];for(n in e)i.push(n+\"=\"+e[n]);var o=-1===r.config.performanceUrl.indexOf(\"?\")?\"?\":\"&\";t({url:r.config.webVitalsUrl+o+i.join(\"&\"),type:T.VITALS,log:e,sendBeacon:!0})}],T.VITALS)(Me)},destroy:function(){this.option.publish=function(){}}}),Ve=0,We=(i(qe=Ge,Fe=je=Q),qe.prototype=null===Fe?Object.create(Fe):(Je.prototype=Fe.prototype,new Je),Ge.prototype.getBean=function(t){var n=this;return void 0===t&&(t=[]),\"\"+Object.getOwnPropertyNames(this.bean).filter(function(e){return-1===t.indexOf(e)}).map(function(e){return e+\"=\"+n.bean[e]}).join(\"&\")},Ge.prototype.resetRequesting=function(){this.requesting=!1;var e=this.requestQueue.shift();e&&this.request(e.options,e.success,e.fail)},Ge.prototype.request=function(e,t,n){var i=this;if(e&&\"string\"==typeof e.url&&\"\"!==e.url&&this.bean.id)if(this.requesting)this.requestQueue.push({options:e,success:t,fail:n});else{this.requesting=!0;var o=e.url;!1!==e.addBean&&(o=o+(-1===o.indexOf(\"?\")?\"?\":\"&\")+this.getBean(e.beanFilter)),e.url=o;var r=e.method||\"get\",o=this.config.onBeforeRequest;if(!(e=o?o(e,this):e))return this.resetRequesting(),console.log(\"Sending request blocked\");if(!e.url)return this.resetRequesting(),console.warn(\"Please handle the parameters reasonably, options.url is necessary\");if(navigator.sendBeacon&&e.sendBeacon)return this.resetRequesting(),navigator.sendBeacon(e.url,e.data);var s=new XMLHttpRequest;s.sendByAegis=!0,Object.assign(s,{timeout:5e3},e.requestConfig),s.addEventListener(\"readystatechange\",function(){4===s.readyState&&(i.resetRequesting(),400<=s.status||0===s.status?null==n||n(s.response):null==t||t(s.response))}),\"get\"===r.toLocaleLowerCase()?(s.open(\"get\",function(e,n){if(\"string\"!=typeof e)return\"\";if(\"object\"==typeof n&&n){var t=Object.getOwnPropertyNames(n).map(function(e){var t=n[e];return e+\"=\"+(\"string\"==typeof t?encodeURIComponent(t):encodeURIComponent(JSON.stringify(t)))}).join(\"&\").replace(/eval/gi,\"evaI\");return e+(-1===e.indexOf(\"?\")?\"?\":\"&\")+t}return e}(e.url,e.data)),s.send()):(s.open(\"post\",e.url),e.contentType&&s.setRequestHeader(\"Content-Type\",e.contentType),\"string\"==typeof e.data&&(e.data=e.data.replace(/eval/gi,\"evaI\")),s.send(e.data))}},Ge.useAsyncPlugin=function(s,e){var t=(e=void 0===e?{}:e).exportsConstructor,a=void 0===t?\"aegis-plugin-\"+Ve:t,t=e.onAegisInit,u=void 0===t?function(){}:t,e=e.onAegisInitAndPluginLoaded,c=void 0===e?function(){}:e;if(Ve+=1,\"string\"!=typeof s)throw new TypeError(\"useAsyncPlugin first param must be string\");if(\"function\"!=typeof u||\"function\"!=typeof c)throw new TypeError(\"onAegisInit and onAegisInitAndPluginLoaded must be function\");this.use(new Y({name:\"asyncPlugin\",onNewAegis:function(t){try{u(t),Ge.asyncPlugin[s]?c(t,window[Ge.asyncPlugin[s]]):(e=s,n=a,i=function(e){e||(Ge.asyncPlugin[s]=a,e=window[a],c(t,e))},o=document.createElement(\"script\"),r=document.head,\"function\"==typeof n&&(i=n,n=\"\"),o.src=e,o.setAttribute(\"name\",n),o.name=n,o.setAttribute(\"crossorigin\",\"anonymous\"),o.crossorigin=\"anonymous\",o.defer=!0,o.hasLoaded=!1,o.onreadystatechange=function(){o.hasLoaded||o.readyState&&\"loaded\"!==o.readyState&&\"complete\"!==o.readyState||(o.hasLoaded=!0,\"function\"==typeof i&&i(!1),setTimeout(function(){r.contains(o)&&r.removeChild(o)}))},o.onload=o.onreadystatechange,o.onerror=function(){\"function\"==typeof i&&i(!0),setTimeout(function(){r.contains(o)&&r.removeChild(o)})},\"complete\"===document.readyState?r.appendChild(o):window.addEventListener(\"load\",function(){r.appendChild(o)}))}catch(e){console.log(\"error on below is caused by \"+s+\" \"),console.error(e)}var e,n,i,o,r}}))},Ge.prototype.uploadLogs=function(e,t){this.lifeCycle.emit(\"uploadLogs\",e=void 0===e?{}:e,t=void 0===t?{}:t)},Ge.sessionID=\"session-\"+Date.now(),Ge.asyncPlugin={},Ge.urls={aegisCollect:\"https://aegis.qq.com/collect\",flog:\"https://cdn-go.cn/vasdev/web_webpersistance_v2/v1.8.2/flog.core.min.js\",shadowLog:\"\"},Ge),Xe=new Y({name:\"offlineLog\"}),Q=Xe=new Y({name:\"offlineLog\",onNewAegis:function(e){var t=We.urls.flog,h=e.config,g=[],v=null,m=null,y=function(e){m=e},w=function(e){g=g.concat(e)},b=function(e,t){v={conds:e=void 0===e?{}:e,params:t=void 0===t?{}:t}};We.useAsyncPlugin(t,{exportsConstructor:\"Flog\",onAegisInit:function(e){e.lifeCycle.on(\"beforeWrite\",w),e.lifeCycle.on(\"uploadLogs\",b),e.lifeCycle.on(\"onConfigChange\",y)},onAegisInitAndPluginLoaded:function(i,e){var t,n,o,r,s,a=h.dbConfig,u=void 0===a?{}:a,c=h.url,l=void 0===c?We.urls.aegisCollect:c,f=h.offlineLogExp,d=void 0===f?3:f,a=h.id,c=h.uin;null===(f=i.lifeCycle)||void 0===f||f.remove(\"beforeWrite\",w),null===(f=i.lifeCycle)||void 0===f||f.remove(\"uploadLogs\",b),null===(f=i.lifeCycle)||void 0===f||f.remove(\"onConfigChange\",y);u=Object.assign({lookupUrl:l+\"/offlineAuto?id=\"+a,preservedDay:d,id:a,uin:c,aid:(null===(c=i.bean)||void 0===c?void 0:c.aid)||\"\",beforeRequest:i.config.beforeRequest,afterRequest:i.config.afterRequest},u,{sessionId:We.sessionID});try{var p=new e(u);g.forEach(function(e){p.add(E(E({},e),{level:e.level===O.INFO_ALL?O.INFO:e.level}))}),null===(t=i.lifeCycle)||void 0===t||t.on(\"beforeWrite\",function(e){(e=void 0===e?[]:e).forEach(function(e){p.add(E(E({},e),{level:e.level===O.INFO_ALL?O.INFO:e.level}))})}),null===(n=i.lifeCycle)||void 0===n||n.on(\"uploadLogs\",function(e,t){var n;void 0===e&&(e={}),void 0===t&&(t={}),p.uploadLogs(Object.assign({id:h.id,uin:h.uin,aid:null===(n=i.bean)||void 0===n?void 0:n.aid},e),t)}),null===(o=i.lifeCycle)||void 0===o||o.on(\"onConfigChange\",function(e){p.setConfig(e)}),null===(r=i.lifeCycle)||void 0===r||r.on(\"destroy\",function(){0===Xe.countInstance()&&(g.length=0,\"function\"==typeof((v=null)==p?void 0:p.destroy)&&p.destroy())}),p.on(\"PERREVENT\",function(e){i.sendPipeline([function(e,t){var n=R({msg:S(e),level:O.INFO});t({type:T.OFFLINE,data:n,contentType:\"application/x-www-form-urlencoded\",method:\"post\",addBean:!1,url:h.url+\"?id=893&sessionId=\"+We.sessionID+\"&uin=\"+h.uin+\"&from=\"+h.id+\"&count=1&version=1.24.48\",log:e})}],T.OFFLINE)(e)}),m&&(p.setConfig(m),m=null),v&&(null===(s=i.lifeCycle)||void 0===s||s.emit(\"uploadLogs\",v.conds,v.params),v=null),i.flog=p}catch(i){console.log(i)}}})}}),Fe=(new Y({name:\"spa\"}),new Y({name:\"spa\",init:function(){history.pushState=this.wr(\"pushState\")||history.pushState,history.replaceState=this.wr(\"replaceState\")||history.replaceState;var e=(null===(e=location.href)||void 0===e?void 0:e.split(\"?\"))[0];this.$fireUrl=e,this.sendPv=this.sendPv.bind(this),this.onPageChange()},onPageChange:function(){window.addEventListener(\"replaceState\",this.sendPv),window.addEventListener(\"pushState\",this.sendPv),window.addEventListener(\"popstate\",this.sendPv)},wr:function(n){var i=history[n];return\"function\"==typeof i&&!history.__hasWrittenByTamSpa&&(Object.defineProperty(history,\"__hasWrittenByTamSpa\",{value:!0,enumerable:!1}),function(){var e=i.apply(this,arguments),t=null;return\"function\"==typeof Event?t=new Event(n):(t=document.createEvent(\"HTMLEvents\")).initEvent(n,!1,!0),window.dispatchEvent(t),e})},sendPv:function(){var n=this;setTimeout(function(){var t=location.href,e=(null===(e=location.href)||void 0===e?void 0:e.split(\"?\"))[0];e&&e!==n.$fireUrl&&(n.$walk(function(e){e.send({url:e.config.pvUrl+\"?from=\"+encodeURIComponent(t),beanFilter:[\"from\"],type:T.WHITE_LIST})}),n.$fireUrl=e)},0)},destroy:function(){window.removeEventListener(\"replaceState\",this.option.sendPv),window.removeEventListener(\"pushState\",this.option.sendPv),window.removeEventListener(\"popstate\",this.option.sendPv)}}));function Ge(e){var t,n,i,r=je.call(this,e)||this;r.requestQueue=[],r.requesting=!1,r.speedLogPipeline=K([G(r.config),B(r),(i=r,function(t,n){be(function(e){i.extendBean(\"netType\",e),n(t)})}),function(e,t){r.lifeCycle.emit(\"beforeReportSpeed\",e);var o=r.config.beforeReportSpeed;if((e=\"function\"==typeof o?e.filter(function(e){var t,n,i=!1!==o(e);return\"fetch\"===e.type&&void 0===e.ret&&e.payload&&(t=(n=m(e.payload.data.response,r.config.api,{url:e.payload.data.url,ctx:e.payload.data})||{}).code,n=n.isErr,e.ret=t,e.isErr=+n),i}):e).length)return t(e)},function(e){return r.sendPipeline([function(e,t){t({type:T.SPEED,url:\"\"+r.config.speedUrl,method:\"post\",data:Z(e,r.bean),log:e})}],T.SPEED)(e)}]),e.asyncPlugin=!0;try{\"undefined\"!=typeof document&&(e.uin=e.uin||(null!==(t=document.cookie.match(/\\buin=\\D+(\\d*)/))&&void 0!==t?t:[])[1]||(null!==(n=document.cookie.match(/\\bilive_uin=\\D*(\\d+)/))&&void 0!==n?n:[])[1]||\"\"),r.init(e),r.extendBean(\"sessionId\",Ge.sessionID),r.extendBean(\"from\",encodeURIComponent(e.pageUrl||location.href)),\"undefined\"!=typeof document&&r.extendBean(\"referer\",encodeURIComponent(document.referrer||\"\")),e.ext1&&r.extendBean(\"ext1\",e.ext1),e.ext2&&r.extendBean(\"ext2\",e.ext2),e.ext3&&r.extendBean(\"ext3\",e.ext3)}catch(e){console.warn(e),console.log(\"%cThe above error occurred in the process of initializing Aegis, which will affect your normal use of Aegis.\\nIt is recommended that you contact us for feedback and thank you for your support.\",\"color: red\"),r.sendSDKError(e)}return r}function Je(){this.constructor=qe}return new Y({name:\"ie\"}),We.use(Re),We.use(se),We.use(te),We.use(Te),We.use(Be),We.use(z),We.use(we),We.use(Q),We.use(Fe),We});\n","import Player from './player';\nimport Events from \"./utils/events\";\nimport {DEMUX_TYPE, EVENTS, EVENTS_ERROR, JESSIBUCA_EVENTS, PLAYER_PLAY_PROTOCOL, SCALE_MODE_TYPE} from \"./constant\";\nimport {isEmpty, isNotEmpty, supportWCS, uuid16} from \"./utils\";\nimport Emitter from \"./utils/emitter\";\nimport Aegis from \"aegis-web-sdk\";\n\n\nclass Jessibuca extends Emitter {\n    static ERROR = EVENTS_ERROR\n\n    static TIMEOUT = {\n        loadingTimeout: EVENTS.loadingTimeout,\n        delayTimeout: EVENTS.delayTimeout,\n    }\n\n    constructor(options) {\n        super()\n        let _opt = options;\n        let $container = options.container;\n        if (typeof options.container === 'string') {\n            $container = document.querySelector(options.container);\n        }\n        if (!$container) {\n            throw new Error('Jessibuca need container option');\n            return;\n        }\n\n        console.log('-------------------------', options);\n        $container.classList.add('jessibuca-container');\n\n        delete _opt.container;\n\n        // s -> ms\n        if (isNotEmpty(_opt.videoBuffer)) {\n            _opt.videoBuffer = Number(_opt.videoBuffer) * 1000\n        }\n\n        // setting\n        if (isNotEmpty(_opt.timeout)) {\n            if (isEmpty(_opt.loadingTimeout)) {\n                _opt.loadingTimeout = _opt.timeout;\n            }\n\n            if (isEmpty(_opt.heartTimeout)) {\n                _opt.heartTimeout = _opt.timeout\n            }\n        }\n\n        this._opt = _opt;\n        this.$container = $container;\n        this.href = null;\n        this.events = new Events(this);\n        this.player = new Player($container, _opt);\n        this._bindEvents();\n        this._initAegis();\n    }\n\n    _initAegis() {\n        /*const aegis = new Aegis({\n            id: '3ogWGfLmpllRGka9pY', // 上报 id\n            // uin: uuid16(), // 用户唯一 ID（可选）\n            reportApiSpeed: false, // 接口测速\n            reportAssetSpeed: false, // 静态资源测速\n            spa: false // spa 应用页面跳转的时候开启 pv 计算\n        });*/\n    }\n\n    _bindEvents() {\n        // 对外的事件\n        Object.keys(JESSIBUCA_EVENTS).forEach((key) => {\n            this.player.on(JESSIBUCA_EVENTS[key], (value) => {\n                this.emit(key, value)\n            })\n        })\n    }\n\n    /**\n     * 是否开启控制台调试打印\n     * @param value {Boolean}\n     */\n    setDebug(value) {\n        this.player.updateOption({\n            isDebug: !!value\n        })\n    }\n\n    /**\n     *\n     */\n    mute() {\n        this.player.mute(true);\n    }\n\n    /**\n     *\n     */\n    cancelMute() {\n        this.player.mute(false);\n    }\n\n    /**\n     *\n     * @param value {number}\n     */\n    setVolume(value) {\n        this.player.volume = value;\n    }\n\n    /**\n     *\n     */\n    audioResume() {\n        this.player.audio.audioEnabled(true);\n    }\n\n    /**\n     * 设置超时时长, 单位秒 在连接成功之前和播放中途,如果超过设定时长无数据返回,则回调timeout事件\n     * @param value {number}\n     */\n    setTimeout(time) {\n        time = Number(time);\n        this.player.updateOption({\n            timeout: time,\n            loadingTimeout: time,\n            heartTimeout: time\n        })\n    }\n\n    /**\n     *\n     * @param type {number}: 0,1,2\n     */\n    setScaleMode(type) {\n        type = Number(type);\n        let options = {\n            isFullResize: false,\n            isResize: false\n        }\n        switch (type) {\n            case SCALE_MODE_TYPE.full:\n                options.isFullResize = false;\n                options.isResize = false;\n                break;\n            case SCALE_MODE_TYPE.auto:\n                options.isFullResize = false;\n                options.isResize = true;\n                break;\n            case SCALE_MODE_TYPE.fullAuto:\n                options.isFullResize = true;\n                options.isResize = true;\n                break;\n        }\n\n        this.player.updateOption(options);\n        this.resize();\n    }\n\n    /**\n     *\n     * @returns {Promise<commander.ParseOptionsResult.unknown>}\n     */\n    pause() {\n        return this.player.pause();\n    }\n\n    /**\n     *\n     */\n    close() {\n        // clear url\n        this._opt.url = '';\n        return this.player.close();\n    }\n\n\n    /**\n     *\n     */\n    clearView() {\n        this.player.video.clearView()\n    }\n\n    /**\n     *\n     * @param url {string}\n     * @returns {Promise<unknown>}\n     */\n    play(url) {\n        return new Promise((resolve, reject) => {\n            if (!url && !this._opt.url) {\n                this.emit(EVENTS.error, EVENTS_ERROR.playError)\n                reject();\n                return;\n            }\n\n            if (url) {\n                // url 相等的时候。\n                if (this._opt.url) {\n                    // 存在相同的 url\n                    if (url === this._opt.url) {\n                        // 正在播放\n                        if (this.player.playing) {\n                            resolve();\n                        } else {\n                            // pause ->  play\n                            this.clearView();\n                            this.player.play(this._opt.url).then(() => {\n                                resolve();\n                            }).catch(() => {\n                                this.player.pause().then(() => {\n                                    reject();\n                                })\n                            })\n                        }\n                    } else {\n                        // url 发生改变了\n                        this.player.pause().then(() => {\n                            // 清除 画面\n                            this.clearView();\n                            return this._play(url);\n                        }).catch(() => {\n                            reject();\n                        })\n                    }\n                } else {\n                    return this._play(url);\n                }\n            } else {\n                //  url 不存在的时候\n                //  就是从 play -> pause -> play\n                this.player.play(this._opt.url).then(() => {\n                    resolve();\n                }).catch(() => {\n                    this.player.pause().then(() => {\n                        reject();\n                    })\n                })\n            }\n        })\n    }\n\n    /**\n     *\n     * @param url {string}\n     * @returns {Promise<unknown>}\n     * @private\n     */\n    _play(url) {\n        return new Promise((resolve, reject) => {\n            this._opt.url = url;\n            //  新的url\n            const isHttp = url.indexOf(\"http\") === 0;\n            //\n            const protocol = isHttp ? PLAYER_PLAY_PROTOCOL.fetch : PLAYER_PLAY_PROTOCOL.websocket\n            //\n            const demuxType = (isHttp || url.indexOf(\".flv\") !== -1 || this._opt.isFlv) ? DEMUX_TYPE.flv : DEMUX_TYPE.m7s;\n\n            this.player.updateOption({\n                protocol,\n                demuxType\n            })\n\n            this.player.once(EVENTS_ERROR.mediaSourceH265NotSupport, () => {\n                this.close();\n            })\n\n            this.player.once(EVENTS_ERROR.webcodecsH265NotSupport, () => {\n                this.close();\n            })\n\n            if (this.hasLoaded()) {\n                this.player.play(url).then(() => {\n                    resolve();\n                }).catch(() => {\n                    this.player.pause().then(() => {\n                        reject();\n                    })\n                })\n            } else {\n                this.player.once(EVENTS.decoderWorkerInit, () => {\n                    this.player.play(url).then(() => {\n                        resolve();\n                    }).catch(() => {\n                        this.player.pause().then(() => {\n                            reject();\n                        })\n                    })\n                })\n            }\n        })\n    }\n\n    /**\n     *\n     */\n    resize() {\n        this.player.resize();\n    }\n\n    /**\n     *\n     * @param time {number} s\n     */\n    setBufferTime(time) {\n        time = Number(time)\n        // s -> ms\n        this.player.updateOption({\n            videoBuffer: time * 1000\n        })\n    }\n\n    /**\n     *\n     * @param deg {number}\n     */\n    setRotate(deg) {\n        deg = parseInt(deg, 10)\n        const list = [0, 90, 270];\n        if (this._opt.rotate === deg || list.indexOf(deg) === -1) {\n            return;\n        }\n        this.player.updateOption({\n            rotate: deg\n        })\n        this.resize();\n    }\n\n    /**\n     *\n     * @returns {boolean}\n     */\n    hasLoaded() {\n        return this.player.loaded;\n    }\n\n    /**\n     *\n     */\n    setKeepScreenOn() {\n        this.player.updateOption({\n            keepScreenOn: true\n        })\n    }\n\n    /**\n     *\n     * @param flag {Boolean}\n     */\n    setFullscreen(flag) {\n        const fullscreen = !!flag;\n        if (this.player.fullscreen !== fullscreen) {\n            this.player.fullscreen = fullscreen;\n        }\n    }\n\n    /**\n     *\n     * @param filename {string}\n     * @param format {string}\n     * @param quality {number}\n     * @param type {string} download,base64,blob\n     */\n    screenshot(filename, format, quality, type) {\n        return this.player.video.screenshot(filename, format, quality, type)\n    }\n\n    /**\n     *\n     * @param fileName {string}\n     * @param fileType {string}\n     * @returns {Promise<unknown>}\n     */\n    startRecord(fileName, fileType) {\n        return new Promise((resolve, reject) => {\n            if (this.player.playing) {\n                this.player.startRecord(fileName, fileType)\n                resolve();\n            } else {\n                reject();\n            }\n        })\n    }\n\n    stopRecordAndSave() {\n        if (this.player.recording) {\n            this.player.stopRecordAndSave();\n        }\n    }\n\n    /**\n     *\n     * @returns {Boolean}\n     */\n    isPlaying() {\n        return this.player.playing;\n    }\n\n    /**\n     * 是否静音状态\n     * @returns {Boolean}\n     */\n    isMute() {\n        return this.player.audio.isMute;\n    }\n\n    /**\n     * 是否在录制视频\n     * @returns {*}\n     */\n    isRecording() {\n        return this.player.recorder.recording;\n    }\n\n    /**\n     *\n     */\n    destroy() {\n        this.player.destroy();\n        this.player = null;\n        this.off();\n    }\n}\n\n\nwindow.Jessibuca = Jessibuca;\nwindow.Sullivan  = Jessibuca;\n\nexport default Jessibuca;\n"],"names":["PLAYER_PLAY_PROTOCOL","websocket","fetch","DEMUX_TYPE","flv","m7s","DEFAULT_PLAYER_OPTIONS","videoBuffer","isResize","isFullResize","isFlv","debug","loadingTimeout","heartTimeout","timeout","supportDblclickFullscreen","showBandwidth","keepScreenOn","isNotMute","hasAudio","hasVideo","useWebRTC","operateBtns","fullscreen","screenshot","play","audio","record","hasControl","loadingText","background","decoder","url","rotate","forceNoOffscreen","hiddenAutoPause","protocol","demuxType","useWCS","useMSE","useOffscreen","WORKER_CMD_TYPE","init","initVideo","render","playAudio","print","printErr","initAudio","kBps","decode","audioCode","videoCode","MEDIA_TYPE","video","FLV_MEDIA_TYPE","WORKER_SEND_TYPE","audioDecode","videoDecode","close","EVENTS","webFullscreen","decoderWorkerInit","playing","pause","mute","load","loading","videoInfo","timeUpdate","audioInfo","log","error","delayTimeout","stats","performance","recording","recordingTimestamp","recordStart","recordEnd","recordCreateError","buffer","videoFrame","start","metadata","resize","streamEnd","streamSuccess","streamMessage","streamError","volumechange","destroy","mseSourceOpen","mseSourceClose","mseSourceBufferError","mseSourceBufferBusy","videoWaiting","videoTimeUpdate","videoSyncAudio","JESSIBUCA_EVENTS","EVENTS_ERROR","playError","fetchError","websocketError","webcodecsH265NotSupport","mediaSourceH265NotSupport","wasmDecodeError","WEBSOCKET_STATUS","notConnect","open","SCREENSHOT_TYPE","download","base64","blob","VIDEO_ENC_TYPE","VIDEO_ENC_CODE","h264","h265","AUDIO_ENC_TYPE","H265_NAL_TYPE","vps","sps","pps","CONTROL_HEIGHT","SCALE_MODE_TYPE","full","auto","fullAuto","FILE_SUFFIX","mp4","webm","CANVAS_RENDER_TYPE","webcodecs","webgl","offscreen","ENCODED_VIDEO_TYPE","key","delta","MP4_CODECS","avc","hev","MEDIA_SOURCE_STATE","ended","closed","AUDIO_SYNC_VIDEO_DIFF","Debug","constructor","master","name","_opt","args","console","warn","Events","destroys","proxy","bind","target","callback","option","Array","isArray","map","item","addEventListener","removeEventListener","push","forEach","event","player","Object","defineProperty","get","clientRect","$container","getBoundingClientRect","width","Math","max","clientWidth","height","clientHeight","rect","document","window","isCommonjs","module","exports","fn","val","fnMap","i","l","length","ret","eventNameMap","change","fullscreenchange","fullscreenerror","screenfull","request","element","options","Promise","resolve","reject","onFullScreenEntered","off","on","documentElement","returnPromise","requestFullscreen","then","catch","exit","isFullscreen","onFullScreenExit","exitFullscreen","toggle","onchange","onerror","eventName","raw","isEnabled","defineProperties","Boolean","fullscreenElement","enumerable","fullscreenEnabled","noop","supportOffscreen","$canvas","transferControlToOffscreen","supportOffscreenV2","OffscreenCanvas","createContextGL","gl","validContextNames","nameIndex","contextName","contextOptions","preserveDrawingBuffer","getContext","e","getParameter","dataURLToFile","dataURL","arr","split","bstr","atob","type","replace","n","u8arr","Uint8Array","charCodeAt","File","downloadImg","content","fileName","aLink","createElement","href","URL","createObjectURL","click","revokeObjectURL","now","Date","getTime","WebAssembly","instantiate","Module","of","Instance","clamp","num","a","b","min","setStyle","value","keys","style","getStyle","numberType","getComputedStyle","getPropertyValue","parseFloat","getNowTime","calculationRate","totalSize","lastTime","size","thisTime","diffTime","downloadRecord","suffix","supportWCS","formatVideoDecoderConfigure","avcC","codecArray","subarray","codecString","j","h","toString","codec","description","isFullScreen","mozIsFullScreen","webkitIsFullScreen","bpsSize","toFixed","fpsStatus","fps","result","createEmptyImageBitmap","$canvasElement","createImageBitmap","supportMSE","MediaSource","isTypeSupported","isEmpty","undefined","isNotEmpty","screenfullChange","emit","events","_hasLoaded","classList","add","bodyHeight","bodyWidth","body","playerHeight","playerWidth","$videoElement","bodyRatio","playerRatio","needSpin","scale","transform","remove","ignoreList","includes","Emitter","ctx","once","self","listener","apply","_","evtArr","slice","data","evts","liveEvents","len","vertexShaderScript","join","fragmentShaderScript","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","vertexPosBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","vertexPosRef","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","texturePosBuffer","texturePosRef","_initTexture","index","textureRef","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","uniform1i","getUniformLocation","yTextureRef","uTextureRef","vTextureRef","w","y","u","v","viewport","activeTexture","TEXTURE0","texImage2D","LUMINANCE","UNSIGNED_BYTE","TEXTURE1","TEXTURE2","drawArrays","TRIANGLE_STRIP","deleteProgram","deleteBuffer","deleteTexture","CommonLoader","updateVideoInfo","encTypeCode","encType","CanvasVideoLoader","position","top","left","appendChild","context2D","contextGl","contextGlRender","contextGlDestroy","bitmaprenderer","renderType","_initCanvasRender","_initContextGl","createWebGL","_initContext2D","_supportOffscreen","_bindOffscreen","initCanvasViewSize","msg","videoTimestamp","ts","transferFromImageBitmap","output","drawImage","filename","format","quality","formatType","png","jpeg","webp","encoderOptions","Number","toDataURL","file","clearView","imageBitMap","clear","COLOR_BUFFER_BIT","clearRect","resizeWidth","resizeHeight","wScale","hScale","removeChild","VideoLoader","muted","$video","canvas","videoWidth","videoHeight","context","objectFill","objectFit","Video","Loader","getLoaderFactory","opt","AudioContextLoader","bufferList","scriptNode","hasInitScriptNode","audioContextChannel","audioContext","AudioContext","webkitAudioContext","gainNode","createGain","source","createBufferSource","connect","destination","noteOn","audioBufferSourceNode","mediaStreamAudioDestinationNode","createMediaStreamDestination","audioEnabled","gain","audioSyncVideoOption","diff","channels","sampleRate","audioTimestamp","updateAudioInfo","isPlaying","isMute","isStateSuspended","volume","bufferSize","initScriptNode","createScriptProcessor","onaudioprocess","audioProcessingEvent","outputBuffer","bufferItem","shift","channel","nowBuffering","getChannelData","flag","setVolume","isNaN","setValueAtTime","currentTime","closeAudio","disconnect","state","resume","suspend","isStateRunning","Audio","FetchLoader","abortController","AbortController","streamRate","rate","fetchStream","demux","signal","res","reader","getReader","fetchNext","read","done","byteLength","dispatch","abort","WebsocketLoader","socket","socketStatus","wsUrl","_createWebSocket","WebSocket","binaryType","_handleMessage","message","Stream","RecordRTC","mediaStream","config","RecordRTCConfiguration","startRecording","config2","disableLogs","version","mediaRecorder","clearRecordedData","setState","recordingDuration","handleRecordingDuration","initRecorder","initCallback","Recorder","GetRecorderType","stopRecording","warningLog","resumeRecording","setTimeout","stop","_callback","__blob","call","bytesToSize","autoWriteToDisk","getDataURL","parameter","DiskStorage","Store","pauseRecording","readFile","_blob","postMessage","FileReaderSync","readAsDataURL","_mediaRecorder","Worker","navigator","mozGetUserMedia","webWorker","processInWebWorker","onmessage","FileReader","onload","_function","Blob","worker","counter","onRecordingStopped","onStateChanged","WARNING","returnObject","setRecordingDuration","getBlob","toURL","getInternalRecorder","save","invokeSaveAsDialog","getFromDisk","setAdvertisementArray","arrayOfWebPImages","advertisement","duration","image","reset","getState","disableLogsCache","Storage","AudioContextConstructor","prop","Fetch","_type","writeToDisk","gif","audioDataURL","videoDataURL","gifDataURL","audioBlob","videoBlob","gifBlob","recorderType","WhammyRecorder","CanvasRecorder","WebAssemblyRecorder","GifRecorder","StereoAudioRecorder","MediaStreamRecorder","getTracks","MediaRecorder","prototype","mimeType","bitsPerSecond","recorder","isChrome","isEdge","isOpera","ReadableStream","isMediaRecorderCompatible","MultiStreamRecorder","isSafari","MRecordRTC","addStream","_mediaStream","mediaType","audioRecorder","numberOfAudioChannels","timeSlice","onTimeStamp","newStream","videoTrack","isFirefox","MediaStream","addTrack","videoRecorder","frameInterval","workerPath","webAssemblyPath","frameRate","bitrate","isSingleRecorder","gifRecorder","blobURL","_audioDataURL","_videoDataURL","callback00","webkitURL","browserFakeUserAgent","that","global","userAgent","getUserMedia","arguments","captureStream","mozCaptureStream","obj","HTMLVideoElement","location","hash","screen","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","currTime","timeToCall","id","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","mozAudioContext","webkitGetUserMedia","indexOf","msSaveBlob","msSaveOrOpenBlob","opera","toLowerCase","test","isElectron","webkitMediaStream","track","bytes","k","sizes","parseInt","floor","pow","toPrecision","fileExtension","splitted","fileFullName","round","random","hyperlink","dispatchEvent","MouseEvent","view","bubbles","cancelable","process","versions","electron","stream","kind","filter","t","setSrcObject","srcObject","mozSrcObject","getSeekableBlob","inputBlob","EBML","Error","Reader","Decoder","tools","fileReader","ebmlElms","refinedMetadataBuf","makeMetadataSeekable","metadatas","cues","metadataSize","newBlob","readAsArrayBuffer","nAgt","fullVersion","appVersion","majorVersion","verOffset","ix","substring","arrayOfBlobs","getArrayOfBlobs","timestamps","allStates","recorderHints","canRecordMimeType","ondataavailable","updateTimeStamp","getNativeBlob","getMimeType","recordingCallback","onstart","onpause","onresume","onstop","looper","manuallyStopped","timeslice","secondObject","clearRecordedDataCB","isMediaStreamActive","active","getAllStates","checkForInactiveTracks","leftchannel","rightchannel","recordingLength","jsAudioNode","desiredSampRate","leftChannel","resetVariables","isAudioProcessStarted","isPaused","mergeLeftRightBuffers","mergeAudioBuffers","cb","leftBuffers","rightBuffers","internalInterleavedLength","mergeBuffers","interpolateArray","newSampleRate","oldSampleRate","fitCount","newData","springFactor","tmp","before","after","ceil","atPoint","linearInterpolate","channelBuffer","rLength","Float64Array","offset","lng","set","interleave","rightChannel","inputIndex","writeUTFBytes","string","setUint8","interleaved","interleavedLength","resultingBufferLength","ArrayBuffer","DataView","setUint32","setUint16","setInt16","noWorker","workerURL","terminate","audioInput","createMediaStreamSource","legalBufferValues","JSON","stringify","createJavaScriptNode","intervalsBasedBuffers","right","onAudioProcessDataAvailable","onAudioProcessStarted","inputBuffer","chLeft","chRight","htmlElement","html2canvas","isCanvasSupportsStreamCapturing","_isChrome","webkitRTCPeerConnection","chrome","chromeVersion","matchArray","match","useWhammyRecorder","globalCanvas","mediaStreamRecorder","HTMLCanvasElement","CanvasRenderingContext2D","isRecording","canvasMediaStream","webkitCaptureStream","mdStream","whammy","frames","drawCanvasFrame","getWebPImages","nodeName","framesLength","frame","idx","framesRemaining","onEncodingCallback","compile","isPausedRecording","cloneCanvas","newCanvas","grabMouse","showMousePointer","onrendered","Whammy","cloneNode","onloadedmetadata","drawFrames","paused","isStopDrawing","asyncLoop","o","loop","functionToLoop","dropBlackFrames","_frames","_framesToCheck","_pixTolerance","_frameTolerance","localCanvas","context2d","resultFrames","checkUntilNotBlack","endCheckFrame","sampleColor","r","g","maxColorDifference","sqrt","pixTolerance","frameTolerance","doNotCheckNext","f","matchPixCount","endPixCheck","maxPixCount","finishImage","Image","imageData","getImageData","pix","currentColor","colorDifference","src","concat","_this","WhammyVideo","whammyInWebWorker","ArrayToWebM","info","checkFrames","clusterMaxDuration","doubleToString","frameNumber","clusterTimecode","clusterFrames","clusterDuration","clusterCounter","cluster","getClusterData","generateEBML","block","makeSimpleBlock","discardable","invisible","keyframe","lacing","trackNum","timecode","numToBuffer","parts","reverse","strToBuffer","str","bitsToBuffer","bits","pad","substr","json","ebml","zeroes","sizeToString","padded","flags","out","String","fromCharCode","parseWebP","riff","VP8","RIFF","WEBP","frameStart","c","getStrLength","unpadded","parseRIFF","chunks","indexedDB","dbVersion","dbName","db","createObjectStore","dataBase","dataStoreName","putInDB","transaction","objectStore","put","getFromStore","portionName","onsuccess","onError","setVersion","onupgradeneeded","GIFEncoder","script","isHTMLObject","isLoadedMetaData","offsetWidth","offsetHeight","gifEncoder","setRepeat","setDelay","setQuality","onGifRecordingStarted","drawVideoFrame","time","clearedRecordedData","lastAnimationFrame","lastFrameTime","onGifPreview","addFrame","bin","autoplay","playsInline","MultiStreamsMixer","arrayOfMediaStreams","elementClass","videos","isStopDrawingFrames","opacity","zIndex","className","useGainNode","startDrawingFrames","drawVideosToCanvas","videosLength","fullcanvas","remaining","x","onRender","getMixedStream","mixedVideoStream","getMixedVideoStream","mixedAudioStream","getMixedAudioStream","resetVideoStreams","capturedStream","videoStream","audioSources","audioTracksLength","audioSource","audioDestination","getVideo","appendStreams","streams","releaseStreams","mixer","getAllVideoTracks","previewStream","tracks","addStreams","getMixer","RecordRTCPromisesHandler","recordRTC","WritableStream","realtime","finished","cameraStream","controller","cvs","first","onplaying","frameTimeout","cameraTimer","setInterval","clearInterval","onVideoProcessStarted","_controlledReadableStream","enqueue","arrayBuffer","timebaseDen","pipeTo","write","arrayOfBuffers","RecordRTCLoader","fileType","recordingInterval","setFileName","recordTime","startRecord","timestamp","audioStream","getAudioTracks","stopRecordAndSave","_reset","DecoderWorker","decoderWorker","_initDecoderWorker","cmd","loaded","_initWork","code","handleRender","updateStats","buf","delay","decodeVideo","isIFrame","decodeAudio","_decodeAudioNoDelay","_decodeAudio","stopId","firstTimestamp","startTimestamp","dropping","initInterval","getDelay","resetDelay","_loop","payload","_doDecoderDecode","_doDecode","pushBuffer","webcodecsDecoder","mseDecoder","FlvLoader","input","_inputFlv","flvDemux","dispatchFlvData","tmp8","tmp32","Uint32Array","abps","vbps","need","next","combine","remain","return","M7sLoader","dv","getUint8","getUint32","isIframe","Demux","WebcodecsDecoder","hasInit","isInitInfo","initDecoder","VideoDecoder","handleDecode","handleError","codedWidth","codedHeight","videoCodec","configure","chunk","EncodedVideoChunk","iconsMap","fullscreenExit","recordStop","reduce","icons","control","insertAdjacentHTML","querySelector","object","setAttribute","display","overflow","pointerEvents","contentDocument","defaultView","setVolumeHandle","percentage","$volumeOn","$volumeOff","$volumeHandle","$volumePanel","panelHeight","handleHeight","$volumePanelText","innerHTML","$loading","$poster","$playBig","$fullscreenExit","$fullscreen","$record","$recordStop","$play","$pause","$screenshot","$speed","bps","$controls","volumeChangeFromEvent","bottom","panelBottom","composedPath","isFocus","stopPropagation","$volume","$volumePanelWrap","lastVolume","isVolumeDroging","styleInject","css","ref","insertAt","head","getElementsByTagName","firstChild","insertBefore","styleSheet","cssText","createTextNode","Control","template","observer","property","autoSize","padding","canvasWidth","canvasHeight","canvasRatio","visibilityState","_isPlayingBeforePageHidden","enableWakeLock","MP4","types","avc1","hvc1","hvcC","btrt","dinf","dref","esds","ftyp","hdlr","mdat","mdhd","mdia","mfhd","minf","moof","moov","mp4a","mvex","mvhd","sdtp","stbl","stco","stsc","stsd","stsz","stts","tfdt","tfhd","traf","trak","trun","trex","tkhd","vmhd","smhd","hasOwnProperty","constants","FTYP","STSD_PREFIX","STTS","STSC","STCO","STSZ","HDLR_VIDEO","HDLR_AUDIO","DREF","SMHD","VMHD","box","datas","arrayCount","generateInitSegment","meta","timescale","trackId","presentWidth","presentHeight","xmhd","stsdOld","videoType","channelCount","audioSampleRate","configSize","avcc","codecWidth","codecHeight","baseMediaDecodeTime","sequenceNumber","sdtpOld","A","isLeading","dependsOn","isDependedOn","hasRedundancy","dataSize","cts","isNonSync","ExpGolomb","uint8array","TAG","_buffer","_buffer_index","_total_bytes","_total_bits","_current_word","_current_word_bits_left","_fillCurrentWord","buffer_bytes_left","bytes_read","word","readBits","bits_need_left","bits_read_next","result2","readBool","readByte","_skipLeadingZero","zero_count","readUEG","leading_zeros","readSEG","SPSParser","_ebsp2rbsp","src_length","dst","dst_idx","parseSPS","rbsp","gb","profile_idc","level_idc","profile_string","getProfileString","level_string","getLevelString","chroma_format_idc","chroma_format","chroma_format_table","bit_depth","scaling_list_count","_skipScalingList","pic_order_cnt_type","num_ref_frames_in_pic_order_cnt_cycle","ref_frames","pic_width_in_mbs_minus1","pic_height_in_map_units_minus1","frame_mbs_only_flag","frame_crop_left_offset","frame_crop_right_offset","frame_crop_top_offset","frame_crop_bottom_offset","frame_cropping_flag","sar_width","sar_height","fps_fixed","fps_num","fps_den","vui_parameters_present_flag","aspect_ratio_idc","sar_w_table","sar_h_table","num_units_in_tick","time_scale","sarScale","crop_unit_x","crop_unit_y","sub_wc","sub_hc","codec_width","codec_height","present_width","chroma_format_string","getChromaFormatString","frame_rate","fixed","sar_ratio","codec_size","present_size","count","last_scale","next_scale","delta_scale","chroma","parseAVCDecoderConfigurationRecord","avcProfile","_naluLengthSize","spsCount","getUint16","profile","level","bitDepth","chromaFormat","sarRatio","refSampleDuration","ppsCount","parseHEVCDecoderConfigurationRecord","vpsTag","vpsLength","vpsData","from","spsTag","spsLength","spsData","ppsTag","ppsLength","ppsData","MseDecoder","isAvc","mediaSource","sourceBuffer","cacheTrack","timeInit","mediaSourceOpen","readyState","isStateOpen","isStateClosed","isStateEnded","_decodeConfigurationRecord","_decodeVideo","metaData","metaBox","appendBuffer","dts","buffered","removeBuffer","end","drop","mdatBytes","mdatbox","moofbox","isKeyframe","addSourceBuffer","updating","dropSourceBuffer","endOfStream","WEBM","oldIOS","exec","MSStream","nativeWakeLock","NoSleep","enabled","_wakeLock","handleVisibilityChange","enable","noSleepTimer","noSleepVideo","_addSourceToVideo","dataURI","wakeLock","err","disable","hidden","playPromise","release","assembleUrl","path","origin","pathname","streamPath","startsWith","WebRTCVideo","pc","RTCPeerConnection","pcConfig","iceConnectionState","localSDP","remoteSDP","remoteSDPURL","localSDPURL","addTransceiver","direction","onsignalingstatechange","oniceconnectionstatechange","onicecandidate","ontrack","setLocalDescription","createOffer","localDescription","sdp","method","toJSON","headers","errmsg","setRemoteDescription","RTCSessionDescription","Player","container","assign","_hasControl","_loading","_playing","_checkHeartTimeout","_checkLoadingTimeout","_startBpsTime","_stats","_videoTimestamp","_audioTimestamp","controlReset","contains","updateOption","clearCheckHeartTimeout","checkLoadingTimeout","_close","clearCheckLoadingTimeout","releaseWakeLock","resetStats","hasBtnShow","text","checkHeart","checkHeartTimeout","_nowTime","this","find","configurable","writable","TypeError","WeakSet","delete","has","s","getOwnPropertyDescriptor","setPrototypeOf","__proto__","E","R","getOwnPropertyNames","eventsList","one","splice","encodeURIComponent","decodeURIComponent","se","number","d","some","O","T","m","retCodeHandler","isErr","parse","S","stack","p","sourceURL","responseURL","status","getAllResponseHeaders","trim","L","P","response","Be","INFO_ALL","API_RESPONSE","INFO","ERROR","PROMISE_ERROR","AJAX_ERROR","SCRIPT_ERROR","IMAGE_ERROR","CSS_ERROR","CONSOLE_ERROR","MEDIA_ERROR","RET_ERROR","REPORT","PV","EVENT","PAGE_NOT_FOUND_ERROR","Fe","android","ios","windows","macos","linux","devtools","other","we","unknown","wifi","net2g","net3g","net4g","net5g","net6g","Re","LOG","SPEED","PERFORMANCE","OFFLINE","WHITE_LIST","VITALS","CUSTOM_PV","CUSTOM","SDK_ERROR","SET_DATA","Te","production","gray","pre","daily","local","others","C","I","lifeCycle","modifyRequest","N","afterRequest","U","clearResourceTimings","getEntriesByType","q","ie","ne","XMLHttpRequest","send","aegisMethod","aegisUrl","aegisXhrStartTime","sendByAegis","F","findIndex","D","H","M","logCreated","B","V","W","whiteListUrl","sendPipeline","success","retcode","is_in_white_list","isWhiteList","shutdown","isGetSample","$","onWhitelist","fail","uin","api","reportRequest","X","pvUrl","G","speedSample","repeat","speed","J","contentType","requestConfig","onReport","K","Q","ue","setConfig","installedPlugins","patch","sendSDKError","ext1","ext2","ext3","aid","env","bean","use","aegisPlugin","unuse","normalLogPipeline","infoAll","report","speedLogPipeline","reportPv","addBean","reportEvent","eventPipeline","reportTime","reportT","submitCustomTime","timeMap","timeEnd","customTimePipeline","extendBean","isHidden","beforeRequest","logs","logType","instances","unpatch","getOwnPropertyDescriptors","getPrototypeOf","environment","Y","ae","canUse","exist","triggerInit","triggerOnNewAegis","countInstance","uninstall","walk","getConfig","inited","onNewAegis","z","localStorage","getItem","setItem","Z","static","FormData","append","ee","te","collectCur","ASSETS_INITIATOR_TYPE","collectSuccessLog","collectFailLog","onresourcetimingbufferfull","publish","$walk","initiatorType","generateLog","PerformanceObserver","getEntries","observe","entryTypes","srcElement","tagName","resourceTypeHandler","isHttps","urlQuery","domainLookup","connectTime","domainLookupEnd","domainLookupStart","connectEnd","connectStart","oe","re","override","overrideFetch","overrideXhr","hostUrl","ok","clone","apiDetail","publishNormalLog","publishSpeed","hackFetchOptions","beforeFetch","getRequestType","getResponseHeader","hackXHROptions","$getConfig","urlHandler","device","pagePerformance","webVitals","offlineUrl","speedUrl","customTimeUrl","performanceUrl","webVitalsUrl","eventUrl","maxLength","beforeReport","custom","setDataReportUrl","SetDataReportUrl","ce","le","fe","de","pe","he","ge","ve","me","ye","getPlatform","getDpi","refreshNetworkTypeToBean","innerWidth","innerHeight","getNetworkType","be","NetworkRefreshTimer","connection","effectiveType","Ee","startListen","publishErrorLog","reason","failType","responseType","responseText","Oe","getFirstScreenTiming","timing","loadEventStart","domInteractive","dnsLookup","tcp","ssl","secureConnectionStart","requestStart","ttfb","responseStart","contentDownload","responseEnd","domParse","domLoading","resourceDownload","firstScreenTiming","beanFilter","MutationObserver","roots","rootsDomNum","addedNodes","nodeType","hasAttribute","toLocaleLowerCase","isEleInArray","walkAndCount","childList","subtree","isInFirstScreen","firstScreenInfo","markDoms","parentElement","children","Se","Le","Pe","timeStamp","passive","capture","entryType","startTime","processingStart","firstInputPolyfill","resetFirstInputPolyfill","firstHiddenTime","xe","entries","Ce","supportedEntryTypes","Ie","Ae","persisted","Ne","De","ke","He","_e","Ue","Me","je","qe","Set","FCP","LCP","FID","CLS","getEntriesByName","takeRecords","hadRecentInput","sendBeacon","Ve","We","Ge","create","Je","getBean","resetRequesting","requesting","requestQueue","onBeforeRequest","setRequestHeader","useAsyncPlugin","exportsConstructor","onAegisInit","onAegisInitAndPluginLoaded","asyncPlugin","crossorigin","defer","hasLoaded","onreadystatechange","uploadLogs","sessionID","urls","aegisCollect","flog","shadowLog","Xe","conds","params","dbConfig","offlineLogExp","lookupUrl","preservedDay","sessionId","history","pushState","wr","replaceState","$fireUrl","sendPv","onPageChange","__hasWrittenByTamSpa","Event","createEvent","initEvent","beforeReportSpeed","cookie","pageUrl","referrer","Jessibuca","_bindEvents","_initAegis","setDebug","isDebug","cancelMute","audioResume","setScaleMode","_play","isHttp","setBufferTime","setRotate","deg","list","setKeepScreenOn","setFullscreen","Sullivan"],"mappings":";;;;;;;;;;;;;;;;;CAAA,SAAS,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;CAC1C,EAAE,IAAI,GAAG,IAAI,GAAG,EAAE;CAClB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;CACpC,MAAM,KAAK,EAAE,KAAK;CAClB,MAAM,UAAU,EAAE,IAAI;CACtB,MAAM,YAAY,EAAE,IAAI;CACxB,MAAM,QAAQ,EAAE,IAAI;CACpB,KAAK,CAAC,CAAC;CACP,GAAG,MAAM;CACT,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;CACrB,GAAG;AACH;CACA,EAAE,OAAO,GAAG,CAAC;CACb,CAAC;AACD;CACA,cAAc,GAAG,eAAe,EAAE,yBAAyB,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO;;;;;CCf9G;CACO,MAAMA,oBAAoB,GAAG;CAChCC,EAAAA,SAAS,EAAE,CADqB;CAEhCC,EAAAA,KAAK,EAAE;CAFyB,CAA7B;CAKA,MAAMC,UAAU,GAAG;CACtBC,EAAAA,GAAG,EAAE,KADiB;CAEtBC,EAAAA,GAAG,EAAE;CAFiB,CAAnB;;CAOA,MAAMC,sBAAsB,GAAG;CAClCC,EAAAA,WAAW,EAAE,IADqB;CACf;CACnBC,EAAAA,QAAQ,EAAE,IAFwB;CAGlCC,EAAAA,YAAY,EAAE,KAHoB;CAGb;CACrBC,EAAAA,KAAK,EAAE,KAJ2B;CAKlCC,EAAAA,KAAK,EAAE,KAL2B;CAMlCC,EAAAA,cAAc,EAAE,EANkB;CAMd;CACpBC,EAAAA,YAAY,EAAE,EAPoB;CAOf;CACnBC,EAAAA,OAAO,EAAE,EARyB;CAQrB;CACbC,EAAAA,yBAAyB,EAAE,KATO;CAUlCC,EAAAA,aAAa,EAAE,KAVmB;CAUZ;CACtBC,EAAAA,YAAY,EAAE,KAXoB;CAYlCC,EAAAA,SAAS,EAAE,KAZuB;CAalCC,EAAAA,QAAQ,EAAE,IAbwB;CAclCC,EAAAA,QAAQ,EAAE,IAdwB;CAelCC,EAAAA,SAAS,EAAE,IAfuB;CAgBlCC,EAAAA,WAAW,EAAE;CACTC,IAAAA,UAAU,EAAE,KADH;CAETC,IAAAA,UAAU,EAAE,KAFH;CAGTC,IAAAA,IAAI,EAAE,KAHG;CAITC,IAAAA,KAAK,EAAE,KAJE;CAKT;CACAC,IAAAA,MAAM,EAAE,KANC;CAQT;CACA;CACA;CACA;CACA;;CAZS,GAhBqB;CA8BlCC,EAAAA,UAAU,EAAE,KA9BsB;CA+BlCC,EAAAA,WAAW,EAAE,EA/BqB;CAgClCC,EAAAA,UAAU,EAAE,EAhCsB;CAiClCC,EAAAA,OAAO,EAAE,YAjCyB;CAkClCC,EAAAA,GAAG,EAAE,EAlC6B;CAkC1B;CACRC,EAAAA,MAAM,EAAE,CAnC0B;CAoClC;CACAC,EAAAA,gBAAgB,EAAE,IArCgB;CAqCV;CACxBC,EAAAA,eAAe,EAAE,KAtCiB;CAuClCC,EAAAA,QAAQ,EAAEpC,oBAAoB,CAACE,KAvCG;CAwClCmC,EAAAA,SAAS,EAAElC,UAAU,CAACC,GAxCY;CAwCP;CAC3BkC,EAAAA,MAAM,EAAE,KAzC0B;CAyCnB;CACfC,EAAAA,MAAM,EAAE,KA1C0B;CA0CnB;CACfC,EAAAA,YAAY,EAAE,KA3CoB;;CAAA,CAA/B;CA+CA,MAAMC,eAAe,GAAG;CAC3BC,EAAAA,IAAI,EAAE,MADqB;CAE3BC,EAAAA,SAAS,EAAE,WAFgB;CAG3BC,EAAAA,MAAM,EAAE,QAHmB;CAI3BC,EAAAA,SAAS,EAAE,WAJgB;CAK3BC,EAAAA,KAAK,EAAE,OALoB;CAM3BC,EAAAA,QAAQ,EAAE,UANiB;CAO3BC,EAAAA,SAAS,EAAE,WAPgB;CAQ3BC,EAAAA,IAAI,EAAE,MARqB;CAS3BC,EAAAA,MAAM,EAAE,QATmB;CAU3BC,EAAAA,SAAS,EAAE,WAVgB;CAW3BC,EAAAA,SAAS,EAAE;CAXgB,CAAxB;CAcA,MAAMC,UAAU,GAAG;CACtB3B,EAAAA,KAAK,EAAE,CADe;CAEtB4B,EAAAA,KAAK,EAAE;CAFe,CAAnB;CAKA,MAAMC,cAAc,GAAG;CAC1B7B,EAAAA,KAAK,EAAE,CADmB;CAE1B4B,EAAAA,KAAK,EAAE;CAFmB,CAAvB;CAKA,MAAME,gBAAgB,GAAG;CAC5Bd,EAAAA,IAAI,EAAE,MADsB;CAE5BQ,EAAAA,MAAM,EAAE,QAFoB;CAG5BO,EAAAA,WAAW,EAAE,aAHe;CAI5BC,EAAAA,WAAW,EAAE,aAJe;CAK5BC,EAAAA,KAAK,EAAE;CALqB,CAAzB;;CAUA,MAAMC,MAAM,GAAG;CAClBrC,EAAAA,UAAU,EAAE,cADM;CAElBsC,EAAAA,aAAa,EAAE,eAFG;CAGlBC,EAAAA,iBAAiB,EAAE,mBAHD;CAIlBrC,EAAAA,IAAI,EAAE,MAJY;CAKlBsC,EAAAA,OAAO,EAAE,SALS;CAMlBC,EAAAA,KAAK,EAAE,OANW;CAOlBC,EAAAA,IAAI,EAAE,MAPY;CAQlBC,EAAAA,IAAI,EAAE,MARY;CASlBC,EAAAA,OAAO,EAAE,SATS;CAUlBC,EAAAA,SAAS,EAAE,WAVO;CAWlBC,EAAAA,UAAU,EAAE,YAXM;CAYlBC,EAAAA,SAAS,EAAE,WAZO;CAalBC,EAAAA,GAAG,EAAE,KAba;CAclBC,EAAAA,KAAK,EAAE,OAdW;CAelBvB,EAAAA,IAAI,EAAE,MAfY;CAgBlBnC,EAAAA,OAAO,EAAE,SAhBS;CAiBlB2D,EAAAA,YAAY,EAAE,cAjBI;CAkBlB7D,EAAAA,cAAc,EAAE,gBAlBE;CAmBlB8D,EAAAA,KAAK,EAAE,OAnBW;CAoBlBC,EAAAA,WAAW,EAAE,aApBK;CAqBlBhD,EAAAA,MAAM,EAAE,QArBU;CAsBlBiD,EAAAA,SAAS,EAAE,WAtBO;CAuBlBC,EAAAA,kBAAkB,EAAE,oBAvBF;CAwBlBC,EAAAA,WAAW,EAAE,aAxBK;CAyBlBC,EAAAA,SAAS,EAAE,WAzBO;CA0BlBC,EAAAA,iBAAiB,EAAE,mBA1BD;CA2BlBC,EAAAA,MAAM,EAAE,QA3BU;CA4BlBC,EAAAA,UAAU,EAAE,YA5BM;CA6BlBC,EAAAA,KAAK,EAAE,OA7BW;CA8BlBC,EAAAA,QAAQ,EAAE,UA9BQ;CA+BlBC,EAAAA,MAAM,EAAE,QA/BU;CAgClBC,EAAAA,SAAS,EAAE,WAhCO;CAiClBC,EAAAA,aAAa,EAAE,eAjCG;CAkClBC,EAAAA,aAAa,EAAE,eAlCG;CAmClBC,EAAAA,WAAW,EAAE,aAnCK;CAoClBC,EAAAA,YAAY,EAAE,cApCI;CAqClBC,EAAAA,OAAO,EAAE,SArCS;CAsClBC,EAAAA,aAAa,EAAE,eAtCG;CAuClBC,EAAAA,cAAc,EAAE,gBAvCE;CAwClBC,EAAAA,oBAAoB,EAAE,sBAxCJ;CAyClBC,EAAAA,mBAAmB,EAAE,qBAzCH;CA0ClBC,EAAAA,YAAY,EAAE,cA1CI;CA2ClBC,EAAAA,eAAe,EAAE,iBA3CC;CA4ClBC,EAAAA,cAAc,EAAE;CA5CE,CAAf;CAgDA,MAAMC,gBAAgB,GAAG;CAC5BjC,EAAAA,IAAI,EAAEN,MAAM,CAACM,IADe;CAE5BG,EAAAA,UAAU,EAAET,MAAM,CAACS,UAFS;CAG5BD,EAAAA,SAAS,EAAER,MAAM,CAACQ,SAHU;CAI5BE,EAAAA,SAAS,EAAEV,MAAM,CAACU,SAJU;CAK5BE,EAAAA,KAAK,EAAEZ,MAAM,CAACY,KALc;CAM5BvB,EAAAA,IAAI,EAAEW,MAAM,CAACX,IANe;CAO5BsB,EAAAA,GAAG,EAAEX,MAAM,CAACW,GAPgB;CAQ5BY,EAAAA,KAAK,EAAEvB,MAAM,CAACuB,KARc;CAS5BrE,EAAAA,OAAO,EAAE8C,MAAM,CAAC9C,OATY;CAU5BF,EAAAA,cAAc,EAAEgD,MAAM,CAAChD,cAVK;CAW5B6D,EAAAA,YAAY,EAAEb,MAAM,CAACa,YAXO;CAY5BlD,EAAAA,UAAU,EAAE,YAZgB;CAa5BE,EAAAA,IAAI,EAAEmC,MAAM,CAACnC,IAbe;CAc5BuC,EAAAA,KAAK,EAAEJ,MAAM,CAACI,KAdc;CAe5BC,EAAAA,IAAI,EAAEL,MAAM,CAACK,IAfe;CAgB5BS,EAAAA,KAAK,EAAEd,MAAM,CAACc,KAhBc;CAiB5BC,EAAAA,WAAW,EAAEf,MAAM,CAACe,WAjBQ;CAkB5BE,EAAAA,kBAAkB,EAAEjB,MAAM,CAACiB,kBAlBC;CAmB5BC,EAAAA,WAAW,EAAElB,MAAM,CAACkB,WAnBQ;CAoB5BC,EAAAA,SAAS,EAAEnB,MAAM,CAACmB;CApBU,CAAzB;CAuBA,MAAMqB,YAAY,GAAG;CACxBC,EAAAA,SAAS,EAAE,2BADa;CAExBC,EAAAA,UAAU,EAAE,YAFY;CAGxBC,EAAAA,cAAc,EAAE,gBAHQ;CAIxBC,EAAAA,uBAAuB,EAAE,yBAJD;CAKxBC,EAAAA,yBAAyB,EAAE,2BALH;CAMxBC,EAAAA,eAAe,EAAE;CANO,CAArB;CAUA,MAAMC,gBAAgB,GAAG;CAC5BC,EAAAA,UAAU,EAAE,YADgB;CAE5BC,EAAAA,IAAI,EAAE,MAFsB;CAG5BlD,EAAAA,KAAK,EAAE,OAHqB;CAI5Ba,EAAAA,KAAK,EAAE;CAJqB,CAAzB;CAcA,MAAMsC,eAAe,GAAG;CAC3BC,EAAAA,QAAQ,EAAE,UADiB;CAE3BC,EAAAA,MAAM,EAAE,QAFmB;CAG3BC,EAAAA,IAAI,EAAE;CAHqB,CAAxB;CAOA,MAAMC,cAAc,GAAG;CAC1B,KAAG,WADuB;CACV;CAChB,MAAI,YAFsB;;CAAA,CAAvB;CAKA,MAAMC,cAAc,GAAG;CAC1BC,EAAAA,IAAI,EAAE,CADoB;CAE1BC,EAAAA,IAAI,EAAE;CAFoB,CAAvB;CAMA,MAAMC,cAAc,GAAG;CAC1B,MAAI,KADsB;CAE1B,KAAG,MAFuB;CAG1B,KAAG;CAHuB,CAAvB;CAMA,MAAMC,aAAa,GAAG;CACzBC,EAAAA,GAAG,EAAE,EADoB;CAEzBC,EAAAA,GAAG,EAAE,EAFoB;CAGzBC,EAAAA,GAAG,EAAE;CAHoB,CAAtB;CAMA,MAAMC,cAAc,GAAG,EAAvB;CAEA,MAAMC,eAAe,GAAG;CAC3BC,EAAAA,IAAI,EAAE,CADqB;CAClB;CACTC,EAAAA,IAAI,EAAE,CAFqB;CAElB;CACTC,EAAAA,QAAQ,EAAE,CAHiB;;CAAA,CAAxB;CAOA,MAAMC,aAAW,GAAG;CACvBC,EAAAA,GAAG,EAAE,KADkB;CAEvBC,EAAAA,IAAI,EAAE;CAFiB,CAApB;CAMA,MAAMC,kBAAkB,GAAG;CAC9BC,EAAAA,SAAS,EAAE,WADmB;CAE9BC,EAAAA,KAAK,EAAE,OAFuB;CAG9BC,EAAAA,SAAS,EAAE;CAHmB,CAA3B;CAMA,MAAMC,kBAAkB,GAAG;CAC9BC,EAAAA,GAAG,EAAE,KADyB;CAE9BC,EAAAA,KAAK,EAAE;CAFuB,CAA3B;CAMA,MAAMC,UAAU,GAAG;CACtBC,EAAAA,GAAG,EAAE,iCADiB;CAEtBC,EAAAA,GAAG,EAAE;CAFiB,CAAnB;CAMA,MAAMC,kBAAkB,GAAG;CAC9BC,EAAAA,KAAK,EAAE,OADuB;CAE9BjC,EAAAA,IAAI,EAAE,MAFwB;CAG9BkC,EAAAA,MAAM,EAAE;CAHsB,CAA3B;CAWA,MAAMC,qBAAqB,GAAG,GAA9B;;CCvQQ,MAAMC,KAAN,CAAY;CACvBC,EAAAA,WAAW,CAACC,MAAD,EAAS;CAChB,SAAK5E,GAAL,GAAW,UAAC6E,IAAD,EAAmB;CAC1B,UAAID,MAAM,CAACE,IAAP,CAAY1I,KAAhB,EAAuB;CAAA,0CADN2I,IACM;CADNA,UAAAA,IACM;CAAA;;CACnBC,QAAAA,OAAO,CAAChF,GAAR,CAAa,eAAc6E,IAAK,GAAhC,EAAoC,GAAGE,IAAvC;CACH;CACJ,KAJD;;CAMA,SAAKE,IAAL,GAAY,UAACJ,IAAD,EAAmB;CAC3B,UAAID,MAAM,CAACE,IAAP,CAAY1I,KAAhB,EAAuB;CAAA,2CADL2I,IACK;CADLA,UAAAA,IACK;CAAA;;CACnBC,QAAAA,OAAO,CAACC,IAAR,CAAc,eAAcJ,IAAK,GAAjC,EAAqC,GAAGE,IAAxC;CACH;CACJ,KAJD;;CAMA,SAAK9E,KAAL,GAAa,UAAC4E,IAAD,EAAmB;CAC5B,UAAID,MAAM,CAACE,IAAP,CAAY1I,KAAhB,EAAuB;CAAA,2CADJ2I,IACI;CADJA,UAAAA,IACI;CAAA;;CACnBC,QAAAA,OAAO,CAAC/E,KAAR,CAAe,eAAc4E,IAAK,GAAlC,EAAsC,GAAGE,IAAzC;CACH;CACJ,KAJD;CAKH;;CAnBsB;;CCAZ,MAAMG,MAAN,CAAa;CACxBP,EAAAA,WAAW,CAACC,MAAD,EAAS;CAChB,SAAKO,QAAL,GAAgB,EAAhB;CACA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;CACA,SAAKT,MAAL,GAAcA,MAAd;CACH;;CAEDQ,EAAAA,KAAK,CAACE,MAAD,EAAST,IAAT,EAAeU,QAAf,EAAsC;CAAA,QAAbC,MAAa,uEAAJ,EAAI;;CACvC,QAAI,CAACF,MAAL,EAAa;CACT;CACH;;CACD,QAAIG,KAAK,CAACC,OAAN,CAAcb,IAAd,CAAJ,EAAyB;CACrB,aAAOA,IAAI,CAACc,GAAL,CAASC,IAAI,IAAI,KAAKR,KAAL,CAAWE,MAAX,EAAmBM,IAAnB,EAAyBL,QAAzB,EAAmCC,MAAnC,CAAjB,CAAP;CACH;;CACDF,IAAAA,MAAM,CAACO,gBAAP,CAAwBhB,IAAxB,EAA8BU,QAA9B,EAAwCC,MAAxC;;CACA,UAAMpE,OAAO,GAAG,MAAMkE,MAAM,CAACQ,mBAAP,CAA2BjB,IAA3B,EAAiCU,QAAjC,EAA2CC,MAA3C,CAAtB;;CACA,SAAKL,QAAL,CAAcY,IAAd,CAAmB3E,OAAnB;CACA,WAAOA,OAAP;CACH;;CAEDA,EAAAA,OAAO,GAAG;CACN,SAAKwD,MAAL,CAAYxI,KAAZ,CAAkB4D,GAAlB,CAAuB,QAAvB,EAAgC,SAAhC;CACA,SAAKmF,QAAL,CAAca,OAAd,CAAsBC,KAAK,IAAIA,KAAK,EAApC;CACH;;CAvBuB;;ACA5B,mBAAgBC,MAAD,IAAY;CACvBC,EAAAA,MAAM,CAACC,cAAP,CAAsBF,MAAtB,EAA8B,MAA9B,EAAsC;CAClCG,IAAAA,GAAG,EAAE,MAAM;CACP,YAAMC,UAAU,GAAGJ,MAAM,CAACK,UAAP,CAAkBC,qBAAlB,EAAnB;CACAF,MAAAA,UAAU,CAACG,KAAX,GAAmBC,IAAI,CAACC,GAAL,CAASL,UAAU,CAACG,KAApB,EAA2BP,MAAM,CAACK,UAAP,CAAkBK,WAA7C,CAAnB;CACAN,MAAAA,UAAU,CAACO,MAAX,GAAoBH,IAAI,CAACC,GAAL,CAASL,UAAU,CAACO,MAApB,EAA4BX,MAAM,CAACK,UAAP,CAAkBO,YAA9C,CAApB;CACA,aAAOR,UAAP;CACH;CANiC,GAAtC;CASA,GAAC,QAAD,EAAW,QAAX,EAAqB,MAArB,EAA6B,OAA7B,EAAsC,KAAtC,EAA6C,OAA7C,EAAsDN,OAAtD,CAA8D/B,GAAG,IAAI;CACjEkC,IAAAA,MAAM,CAACC,cAAP,CAAsBF,MAAtB,EAA8BjC,GAA9B,EAAmC;CAC/BoC,MAAAA,GAAG,EAAE,MAAM;CACP,eAAOH,MAAM,CAACa,IAAP,CAAY9C,GAAZ,CAAP;CACH;CAH8B,KAAnC;CAKH,GAND;CAOH,CAjBD;;;CCAA;CACA;CACA;CACA;CACA;CACA,GAAC,YAAY;;CAGZ,QAAI+C,QAAQ,GAAG,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACD,QAAd,KAA2B,WAA5D,GAA0EC,MAAM,CAACD,QAAjF,GAA4F,EAA3G;CACA,QAAIE,UAAU,GAAoCC,MAAM,CAACC,OAAzD;;CAEA,QAAIC,EAAE,GAAI,YAAY;CACrB,UAAIC,GAAJ;CAEA,UAAIC,KAAK,GAAG,CACX,CACC,mBADD,EAEC,gBAFD,EAGC,mBAHD,EAIC,mBAJD,EAKC,kBALD,EAMC,iBAND,CADW;CAUX,OACC,yBADD,EAEC,sBAFD,EAGC,yBAHD,EAIC,yBAJD,EAKC,wBALD,EAMC,uBAND,CAVW;CAoBX,OACC,yBADD,EAEC,wBAFD,EAGC,gCAHD,EAIC,wBAJD,EAKC,wBALD,EAMC,uBAND,CApBW,EA6BX,CACC,sBADD,EAEC,qBAFD,EAGC,sBAHD,EAIC,sBAJD,EAKC,qBALD,EAMC,oBAND,CA7BW,EAqCX,CACC,qBADD,EAEC,kBAFD,EAGC,qBAHD,EAIC,qBAJD,EAKC,oBALD,EAMC,mBAND,CArCW,CAAZ;CA+CA,UAAIC,CAAC,GAAG,CAAR;CACA,UAAIC,CAAC,GAAGF,KAAK,CAACG,MAAd;CACA,UAAIC,GAAG,GAAG,EAAV;;CAEA,aAAOH,CAAC,GAAGC,CAAX,EAAcD,CAAC,EAAf,EAAmB;CAClBF,QAAAA,GAAG,GAAGC,KAAK,CAACC,CAAD,CAAX;;CACA,YAAIF,GAAG,IAAIA,GAAG,CAAC,CAAD,CAAH,IAAUN,QAArB,EAA+B;CAC9B,eAAKQ,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGF,GAAG,CAACI,MAApB,EAA4BF,CAAC,EAA7B,EAAiC;CAChCG,YAAAA,GAAG,CAACJ,KAAK,CAAC,CAAD,CAAL,CAASC,CAAT,CAAD,CAAH,GAAmBF,GAAG,CAACE,CAAD,CAAtB;CACA;;CACD,iBAAOG,GAAP;CACA;CACD;;CAED,aAAO,KAAP;CACA,KAjEQ,EAAT;;CAmEA,QAAIC,YAAY,GAAG;CAClBC,MAAAA,MAAM,EAAER,EAAE,CAACS,gBADO;CAElB7H,MAAAA,KAAK,EAAEoH,EAAE,CAACU;CAFQ,KAAnB;CAKA,QAAIC,UAAU,GAAG;CAChBC,MAAAA,OAAO,EAAE,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;CACpC,eAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;CAC7C,cAAIC,mBAAmB,GAAG,YAAY;CACrC,iBAAKC,GAAL,CAAS,QAAT,EAAmBD,mBAAnB;CACAF,YAAAA,OAAO;CACP,WAHyB,CAGxBhD,IAHwB,CAGnB,IAHmB,CAA1B;;CAKA,eAAKoD,EAAL,CAAQ,QAAR,EAAkBF,mBAAlB;CAEAL,UAAAA,OAAO,GAAGA,OAAO,IAAIlB,QAAQ,CAAC0B,eAA9B;CAEA,cAAIC,aAAa,GAAGT,OAAO,CAACb,EAAE,CAACuB,iBAAJ,CAAP,CAA8BT,OAA9B,CAApB;;CAEA,cAAIQ,aAAa,YAAYP,OAA7B,EAAsC;CACrCO,YAAAA,aAAa,CAACE,IAAd,CAAmBN,mBAAnB,EAAwCO,KAAxC,CAA8CR,MAA9C;CACA;CACD,SAfkB,CAejBjD,IAfiB,CAeZ,IAfY,CAAZ,CAAP;CAgBA,OAlBe;CAmBhB0D,MAAAA,IAAI,EAAE,YAAY;CACjB,eAAO,IAAIX,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;CAC7C,cAAI,CAAC,KAAKU,YAAV,EAAwB;CACvBX,YAAAA,OAAO;CACP;CACA;;CAED,cAAIY,gBAAgB,GAAG,YAAY;CAClC,iBAAKT,GAAL,CAAS,QAAT,EAAmBS,gBAAnB;CACAZ,YAAAA,OAAO;CACP,WAHsB,CAGrBhD,IAHqB,CAGhB,IAHgB,CAAvB;;CAKA,eAAKoD,EAAL,CAAQ,QAAR,EAAkBQ,gBAAlB;CAEA,cAAIN,aAAa,GAAG3B,QAAQ,CAACK,EAAE,CAAC6B,cAAJ,CAAR,EAApB;;CAEA,cAAIP,aAAa,YAAYP,OAA7B,EAAsC;CACrCO,YAAAA,aAAa,CAACE,IAAd,CAAmBI,gBAAnB,EAAqCH,KAArC,CAA2CR,MAA3C;CACA;CACD,SAlBkB,CAkBjBjD,IAlBiB,CAkBZ,IAlBY,CAAZ,CAAP;CAmBA,OAvCe;CAwChB8D,MAAAA,MAAM,EAAE,UAAUjB,OAAV,EAAmBC,OAAnB,EAA4B;CACnC,eAAO,KAAKa,YAAL,GAAoB,KAAKD,IAAL,EAApB,GAAkC,KAAKd,OAAL,CAAaC,OAAb,EAAsBC,OAAtB,CAAzC;CACA,OA1Ce;CA2ChBiB,MAAAA,QAAQ,EAAE,UAAU7D,QAAV,EAAoB;CAC7B,aAAKkD,EAAL,CAAQ,QAAR,EAAkBlD,QAAlB;CACA,OA7Ce;CA8ChB8D,MAAAA,OAAO,EAAE,UAAU9D,QAAV,EAAoB;CAC5B,aAAKkD,EAAL,CAAQ,OAAR,EAAiBlD,QAAjB;CACA,OAhDe;CAiDhBkD,MAAAA,EAAE,EAAE,UAAUxC,KAAV,EAAiBV,QAAjB,EAA2B;CAC9B,YAAI+D,SAAS,GAAG1B,YAAY,CAAC3B,KAAD,CAA5B;;CACA,YAAIqD,SAAJ,EAAe;CACdtC,UAAAA,QAAQ,CAACnB,gBAAT,CAA0ByD,SAA1B,EAAqC/D,QAArC,EAA+C,KAA/C;CACA;CACD,OAtDe;CAuDhBiD,MAAAA,GAAG,EAAE,UAAUvC,KAAV,EAAiBV,QAAjB,EAA2B;CAC/B,YAAI+D,SAAS,GAAG1B,YAAY,CAAC3B,KAAD,CAA5B;;CACA,YAAIqD,SAAJ,EAAe;CACdtC,UAAAA,QAAQ,CAAClB,mBAAT,CAA6BwD,SAA7B,EAAwC/D,QAAxC,EAAkD,KAAlD;CACA;CACD,OA5De;CA6DhBgE,MAAAA,GAAG,EAAElC;CA7DW,KAAjB;;CAgEA,QAAI,CAACA,EAAL,EAAS;CACR,UAAIH,UAAJ,EAAgB;CACfC,QAAAA,cAAA,GAAiB;CAACqC,UAAAA,SAAS,EAAE;CAAZ,SAAjB;CACA,OAFD,MAEO;CACNvC,QAAAA,MAAM,CAACe,UAAP,GAAoB;CAACwB,UAAAA,SAAS,EAAE;CAAZ,SAApB;CACA;;CAED;CACA;;CAEDrD,IAAAA,MAAM,CAACsD,gBAAP,CAAwBzB,UAAxB,EAAoC;CACnCgB,MAAAA,YAAY,EAAE;CACb3C,QAAAA,GAAG,EAAE,YAAY;CAChB,iBAAOqD,OAAO,CAAC1C,QAAQ,CAACK,EAAE,CAACsC,iBAAJ,CAAT,CAAd;CACA;CAHY,OADqB;CAMnCzB,MAAAA,OAAO,EAAE;CACR0B,QAAAA,UAAU,EAAE,IADJ;CAERvD,QAAAA,GAAG,EAAE,YAAY;CAChB,iBAAOW,QAAQ,CAACK,EAAE,CAACsC,iBAAJ,CAAf;CACA;CAJO,OAN0B;CAYnCH,MAAAA,SAAS,EAAE;CACVI,QAAAA,UAAU,EAAE,IADF;CAEVvD,QAAAA,GAAG,EAAE,YAAY;;CAEhB,iBAAOqD,OAAO,CAAC1C,QAAQ,CAACK,EAAE,CAACwC,iBAAJ,CAAT,CAAd;CACA;CALS;CAZwB,KAApC;;CAqBA,QAAI3C,UAAJ,EAAgB;CACfC,MAAAA,cAAA,GAAiBa,UAAjB;CACA,KAFD,MAEO;CACNf,MAAAA,MAAM,CAACe,UAAP,GAAoBA,UAApB;CACA;CACD,GAlLD;;;;CCHO,SAAS8B,IAAT,GAAgB;CAIhB,SAASC,gBAAT,CAA0BC,OAA1B,EAAmC;CACtC,SAAO,OAAOA,OAAO,CAACC,0BAAf,KAA8C,UAArD;CACH;CAGM,SAASC,kBAAT,GAA8B;CACjC,SAAO,OAAOC,eAAP,KAA2B,WAAlC;CACH;CAGM,SAASC,eAAT,CAAyBJ,OAAzB,EAAkC;CACrC,MAAIK,EAAE,GAAG,IAAT;CAEA,QAAMC,iBAAiB,GAAG,CAAC,OAAD,EAAU,oBAAV,EAAgC,WAAhC,EAA6C,WAA7C,CAA1B;CACA,MAAIC,SAAS,GAAG,CAAhB;;CAEA,SAAO,CAACF,EAAD,IAAOE,SAAS,GAAGD,iBAAiB,CAAC5C,MAA5C,EAAoD;CAChD,UAAM8C,WAAW,GAAGF,iBAAiB,CAACC,SAAD,CAArC;;CAEA,QAAI;CACA,UAAIE,cAAc,GAAG;CAACC,QAAAA,qBAAqB,EAAE;CAAxB,OAArB;CACAL,MAAAA,EAAE,GAAGL,OAAO,CAACW,UAAR,CAAmBH,WAAnB,EAAgCC,cAAhC,CAAL;CACH,KAHD,CAGE,OAAOG,CAAP,EAAU;CACRP,MAAAA,EAAE,GAAG,IAAL;CACH;;CAED,QAAI,CAACA,EAAD,IAAO,OAAOA,EAAE,CAACQ,YAAV,KAA2B,UAAtC,EAAkD;CAC9CR,MAAAA,EAAE,GAAG,IAAL;CACH;;CAED,MAAEE,SAAF;CACH;;CAGD,SAAOF,EAAP;CACH;CAeM,SAASS,aAAT,GAAqC;CAAA,MAAdC,OAAc,uEAAJ,EAAI;CACxC,QAAMC,GAAG,GAAGD,OAAO,CAACE,KAAR,CAAc,GAAd,CAAZ;CACA,QAAMC,IAAI,GAAGC,IAAI,CAACH,GAAG,CAAC,CAAD,CAAJ,CAAjB;CACA,QAAMI,IAAI,GAAGJ,GAAG,CAAC,CAAD,CAAH,CAAOK,OAAP,CAAe,OAAf,EAAwB,EAAxB,EAA4BA,OAA5B,CAAoC,SAApC,EAA+C,EAA/C,CAAb;CACA,MAAIC,CAAC,GAAGJ,IAAI,CAACxD,MAAb;CAAA,MAAqB6D,KAAK,GAAG,IAAIC,UAAJ,CAAeF,CAAf,CAA7B;;CACA,SAAOA,CAAC,EAAR,EAAY;CACRC,IAAAA,KAAK,CAACD,CAAD,CAAL,GAAWJ,IAAI,CAACO,UAAL,CAAgBH,CAAhB,CAAX;CACH;;CACD,SAAO,IAAII,IAAJ,CAAS,CAACH,KAAD,CAAT,EAAkB,MAAlB,EAA0B;CAACH,IAAAA;CAAD,GAA1B,CAAP;CACH;CAaM,SAASO,WAAT,CAAqBC,OAArB,EAA8BC,QAA9B,EAAwC;CAC3C,QAAMC,KAAK,GAAG9E,QAAQ,CAAC+E,aAAT,CAAuB,GAAvB,CAAd;CACAD,EAAAA,KAAK,CAACtJ,QAAN,GAAiBqJ,QAAjB;CACAC,EAAAA,KAAK,CAACE,IAAN,GAAaC,GAAG,CAACC,eAAJ,CAAoBN,OAApB,CAAb;CACAE,EAAAA,KAAK,CAACK,KAAN;CACAF,EAAAA,GAAG,CAACG,eAAJ,CAAoBR,OAApB;CACH;CAQM,SAASS,GAAT,GAAe;CAClB,SAAO,IAAIC,IAAJ,GAAWC,OAAX,EAAP;CACH;CAE4B,CAAC,MAAM;CAChC,MAAI;CACA,QAAI,OAAOC,WAAP,KAAuB,QAAvB,IACG,OAAOA,WAAW,CAACC,WAAnB,KAAmC,UAD1C,EACsD;CAClD,YAAMtF,MAAM,GAAG,IAAIqF,WAAW,CAACE,MAAhB,CAAuBlB,UAAU,CAACmB,EAAX,CAAc,GAAd,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD,CAAvB,CAAf;CACA,UAAIxF,MAAM,YAAYqF,WAAW,CAACE,MAAlC,EACI,OAAO,IAAIF,WAAW,CAACI,QAAhB,CAAyBzF,MAAzB,aAA4CqF,WAAW,CAACI,QAA/D;CACP;CACJ,GAPD,CAOE,OAAOhC,CAAP,EAAU;;CAEZ,SAAO,KAAP;CACH,CAX4B;CAatB,SAASiC,KAAT,CAAeC,GAAf,EAAoBC,CAApB,EAAuBC,CAAvB,EAA0B;CAC7B,SAAOtG,IAAI,CAACC,GAAL,CAASD,IAAI,CAACuG,GAAL,CAASH,GAAT,EAAcpG,IAAI,CAACC,GAAL,CAASoG,CAAT,EAAYC,CAAZ,CAAd,CAAT,EAAwCtG,IAAI,CAACuG,GAAL,CAASF,CAAT,EAAYC,CAAZ,CAAxC,CAAP;CACH;CAEM,SAASE,QAAT,CAAkBhF,OAAlB,EAA2BjE,GAA3B,EAAgCkJ,KAAhC,EAAuC;CAC1C,MAAI,CAACjF,OAAL,EAAc;CACV;CACH;;CACD,MAAI,OAAOjE,GAAP,KAAe,QAAnB,EAA6B;CACzBkC,IAAAA,MAAM,CAACiH,IAAP,CAAYnJ,GAAZ,EAAiB+B,OAAjB,CAAyBJ,IAAI,IAAI;CAC7BsH,MAAAA,QAAQ,CAAChF,OAAD,EAAUtC,IAAV,EAAgB3B,GAAG,CAAC2B,IAAD,CAAnB,CAAR;CACH,KAFD;CAGH;;CACDsC,EAAAA,OAAO,CAACmF,KAAR,CAAcpJ,GAAd,IAAqBkJ,KAArB;CACA,SAAOjF,OAAP;CACH;CAGM,SAASoF,QAAT,CAAkBpF,OAAlB,EAA2BjE,GAA3B,EAAmD;CAAA,MAAnBsJ,UAAmB,uEAAN,IAAM;;CACtD,MAAI,CAACrF,OAAL,EAAc;CACV,WAAO,CAAP;CACH;;CAED,QAAMiF,KAAK,GAAGK,gBAAgB,CAACtF,OAAD,EAAU,IAAV,CAAhB,CAAgCuF,gBAAhC,CAAiDxJ,GAAjD,CAAd;CACA,SAAOsJ,UAAU,GAAGG,UAAU,CAACP,KAAD,CAAb,GAAuBA,KAAxC;CACH;CAEM,SAASQ,UAAT,GAAsB;CACzB,MAAIvN,WAAW,IAAI,OAAOA,WAAW,CAACiM,GAAnB,KAA2B,UAA9C,EAA0D;CACtD,WAAOjM,WAAW,CAACiM,GAAZ,EAAP;CACH;;CACD,SAAOC,IAAI,CAACD,GAAL,EAAP;CACH;CAEM,SAASuB,eAAT,CAAyBrI,QAAzB,EAAmC;CACtC,MAAIsI,SAAS,GAAG,CAAhB;CACA,MAAIC,QAAQ,GAAGH,UAAU,EAAzB;CACA,SAAOI,IAAI,IAAI;CACXF,IAAAA,SAAS,IAAIE,IAAb;CACA,UAAMC,QAAQ,GAAGL,UAAU,EAA3B;CACA,UAAMM,QAAQ,GAAGD,QAAQ,GAAGF,QAA5B;;CACA,QAAIG,QAAQ,IAAI,IAAhB,EAAsB;CAClB1I,MAAAA,QAAQ,CAAEsI,SAAS,GAAGI,QAAb,GAAyB,IAA1B,CAAR;CACAH,MAAAA,QAAQ,GAAGE,QAAX;CACAH,MAAAA,SAAS,GAAG,CAAZ;CACH;CACJ,GATD;CAUH;CAEM,SAASK,cAAT,CAAwBxL,IAAxB,EAA8BmC,IAA9B,EAAoCsJ,MAApC,EAA4C;CAC/C,QAAM1Q,GAAG,GAAGwJ,MAAM,CAACgF,GAAP,CAAWC,eAAX,CAA2BxJ,IAA3B,CAAZ;CACA,QAAMqK,CAAC,GAAG/F,QAAQ,CAAC+E,aAAT,CAAuB,GAAvB,CAAV;CACAgB,EAAAA,CAAC,CAACf,IAAF,GAASvO,GAAT;CACAsP,EAAAA,CAAC,CAACvK,QAAF,GAAa,CAACqC,IAAI,IAAIwH,GAAG,EAAZ,IAAkB,GAAlB,IAAyB8B,MAAM,IAAI1K,WAAW,CAACE,IAA/C,CAAb;CACAoJ,EAAAA,CAAC,CAACZ,KAAF;CACAlF,EAAAA,MAAM,CAACgF,GAAP,CAAWG,eAAX,CAA2B3O,GAA3B;CACH;;CAqDM,SAAS2Q,UAAT,GAAsB;CACzB,SAAO,kBAAkBnH,MAAzB;CACH;CAmDM,SAASoH,2BAAT,CAAqCC,IAArC,EAA2C;CAC9C,MAAIC,UAAU,GAAGD,IAAI,CAACE,QAAL,CAAc,CAAd,EAAiB,CAAjB,CAAjB;CACA,MAAIC,WAAW,GAAG,OAAlB;;CACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;CACxB,QAAIC,CAAC,GAAGJ,UAAU,CAACG,CAAD,CAAV,CAAcE,QAAd,CAAuB,EAAvB,CAAR;;CACA,QAAID,CAAC,CAACjH,MAAF,GAAW,CAAf,EAAkB;CACdiH,MAAAA,CAAC,GAAG,MAAMA,CAAV;CACH;;CACDF,IAAAA,WAAW,IAAIE,CAAf;CACH;;CAED,SAAO;CACHE,IAAAA,KAAK,EAAEJ,WADJ;CAEHK,IAAAA,WAAW,EAAER;CAFV,GAAP;CAIH;CAEM,SAASS,YAAT,GAAwB;CAC3B,SAAO/H,QAAQ,CAAC+H,YAAT,IAAyB/H,QAAQ,CAACgI,eAAlC,IAAqDhI,QAAQ,CAACiI,kBAArE;CACH;CAEM,SAASC,OAAT,CAAiB/B,KAAjB,EAAwB;CAC3B,MAAI,QAAQA,KAAR,IAAiBA,KAAK,KAAK,EAA/B,EAAmC;CAC/B,WAAO,QAAP;CACH;;CACD,MAAIY,IAAI,GAAGL,UAAU,CAACP,KAAD,CAArB;CACAY,EAAAA,IAAI,GAAGA,IAAI,CAACoB,OAAL,CAAa,CAAb,CAAP;CACA,SAAOpB,IAAI,GAAG,MAAd;CACH;CAGM,SAASqB,SAAT,CAAmBC,GAAnB,EAAwB;CAC3B,MAAIC,MAAM,GAAG,CAAb;;CACA,MAAID,GAAG,IAAI,EAAX,EAAe;CACXC,IAAAA,MAAM,GAAG,CAAT;CACH,GAFD,MAEO,IAAID,GAAG,IAAI,EAAX,EAAe;CAClBC,IAAAA,MAAM,GAAG,CAAT;CACH;;CAED,SAAOA,MAAP;CACH;CAEM,SAASC,sBAAT,CAAgC9I,KAAhC,EAAuCI,MAAvC,EAA+C;CAClD,QAAM2I,cAAc,GAAGxI,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAvB;CACAyD,EAAAA,cAAc,CAAC/I,KAAf,GAAuBA,KAAvB;CACA+I,EAAAA,cAAc,CAAC3I,MAAf,GAAwBA,MAAxB;CACA,SAAO4I,iBAAiB,CAACD,cAAD,EAAiB,CAAjB,EAAoB,CAApB,EAAuB/I,KAAvB,EAA8BI,MAA9B,CAAxB;CACH;CAGM,SAAS6I,UAAT,GAAsB;CACzB,SAAOzI,MAAM,CAAC0I,WAAP,IAAsB1I,MAAM,CAAC0I,WAAP,CAAmBC,eAAnB,CAAmCzL,UAAU,CAACC,GAA9C,CAA7B;CACH;CAmBM,SAASyL,OAAT,CAAiB1C,KAAjB,EAAwB;CAC3B,SAAOA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK2C,SAAnC;CACH;CAEM,SAASC,UAAT,CAAoB5C,KAApB,EAA2B;CAC9B,SAAO,CAAC0C,OAAO,CAAC1C,KAAD,CAAf;CACH;;ACxVD,iBAAgBjH,MAAD,IAAY;CAGvB,MAAI;CACA,UAAM8J,gBAAgB,GAAG,MAAM;CAC3B9J,MAAAA,MAAM,CAAC+J,IAAP,CAAYrO,gBAAgB,CAAC5E,UAA7B,EAAyCkJ,MAAM,CAAClJ,UAAhD,EAD2B;;CAI3B,UAAI,CAACkJ,MAAM,CAAClJ,UAAZ,EAAwB;CACpBkJ,QAAAA,MAAM,CAACpF,MAAP;CACH,OAFD,MAEO;CACH,YAAGoF,MAAM,CAACpB,IAAP,CAAY9G,MAAf,EAAsB;CAClBkI,UAAAA,MAAM,CAACpF,MAAP;CACH;CACJ;CAEJ,KAZD;;CAaAkH,IAAAA,UAAU,CAACS,EAAX,CAAc,QAAd,EAAwBuH,gBAAxB;CACA9J,IAAAA,MAAM,CAACgK,MAAP,CAAc/K,QAAd,CAAuBY,IAAvB,CAA4B,MAAM;CAC9BiC,MAAAA,UAAU,CAACQ,GAAX,CAAe,QAAf,EAAyBwH,gBAAzB;CACH,KAFD;CAGH,GAlBD,CAkBE,OAAO/P,KAAP,EAAc;CAEf,GAvBsB;;;CAyBvBiG,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACE,iBAAjB,EAAoC,MAAM;CACtC2G,IAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,QAAjB,EAA2B,YAA3B;CACAkG,IAAAA,MAAM,CAACiK,UAAP,GAAoB,IAApB;CACH,GAHD,EAzBuB;;CA+BvBjK,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACnC,IAAjB,EAAuB,MAAM;CACzBgJ,IAAAA,MAAM,CAACtG,OAAP,GAAiB,KAAjB;CACH,GAFD,EA/BuB;;CAoCvBsG,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACrC,UAAjB,EAA8BmQ,KAAD,IAAW;CACpC,QAAIA,KAAJ,EAAW;CACP,UAAI;CACAnF,QAAAA,UAAU,CAACC,OAAX,CAAmB/B,MAAM,CAACK,UAA1B,EAAsCsC,IAAtC,CAA2C,MAAM,EAAjD,EAEGC,KAFH,CAEU8B,CAAD,IAAO;CACZ1E,UAAAA,MAAM,CAAC5G,aAAP,GAAuB,IAAvB;CACH,SAJD;CAMH,OAPD,CAOE,OAAOsL,CAAP,EAAU;CACR1E,QAAAA,MAAM,CAAC5G,aAAP,GAAuB,IAAvB;CACH;CACJ,KAXD,MAWO;CACH,UAAI;CACA0I,QAAAA,UAAU,CAACe,IAAX,GAAkBF,IAAlB,CAAuB,MAAM,EAA7B,EACGC,KADH,CACS,MAAM;CACX5C,UAAAA,MAAM,CAAC5G,aAAP,GAAuB,KAAvB;CAEH,SAJD;CAKH,OAND,CAME,OAAOsL,CAAP,EAAU;CACR1E,QAAAA,MAAM,CAAC5G,aAAP,GAAuB,KAAvB;CACH;CACJ;CACJ,GAvBD;CAyBA4G,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACC,aAAjB,EAAiC6N,KAAD,IAAW;CACvC,QAAIA,KAAJ,EAAW;CACPjH,MAAAA,MAAM,CAACK,UAAP,CAAkB6J,SAAlB,CAA4BC,GAA5B,CAAgC,+BAAhC;CACA,YAAM;CAACvJ,QAAAA,YAAY,EAAEwJ,UAAf;CAA2B1J,QAAAA,WAAW,EAAE2J;CAAxC,UAAqDvJ,QAAQ,CAACwJ,IAApE;CACA,YAAM;CAAC1J,QAAAA,YAAY,EAAE2J,YAAf;CAA6B7J,QAAAA,WAAW,EAAE8J;CAA1C,UAAyDxK,MAAM,CAACnH,KAAP,CAAa4R,aAA5E;CACA,YAAMC,SAAS,GAAGL,SAAS,GAAGD,UAA9B;CACA,YAAMO,WAAW,GAAGH,WAAW,GAAGD,YAAlC;CACA,YAAMK,QAAQ,GAAGF,SAAS,GAAGC,WAA7B;;CACA,UAAIC,QAAJ,EAAc;CACV,cAAMC,KAAK,GAAGrK,IAAI,CAACuG,GAAL,CAASqD,UAAU,GAAGI,WAAtB,EAAmCH,SAAS,GAAGE,YAA/C,CAAd;CACAvK,QAAAA,MAAM,CAACnH,KAAP,CAAa4R,aAAb,CAA2BtD,KAA3B,CAAiC2D,SAAjC,GAA8C,uBAAsBD,KAAM,IAAGA,KAAM,GAAnF;CACH;CAEJ,KAZD,MAYO;CACH7K,MAAAA,MAAM,CAACK,UAAP,CAAkB6J,SAAlB,CAA4Ba,MAA5B,CAAmC,+BAAnC;CACA/K,MAAAA,MAAM,CAACnH,KAAP,CAAa4R,aAAb,CAA2BtD,KAA3B,CAAiC2D,SAAjC,GAA6C,IAA7C;CACH;CACJ,GAjBD,EA7DuB;;CAiFvB9K,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACyB,MAAjB,EAAyB,MAAM;CAC3BoF,IAAAA,MAAM,CAACnH,KAAP,CAAa+B,MAAb;CACH,GAFD;;CAKA,MAAIoF,MAAM,CAACpB,IAAP,CAAY1I,KAAhB,EAAuB;CACnB,UAAM8U,UAAU,GAAG,CAAC7R,MAAM,CAACS,UAAR,CAAnB;CACAqG,IAAAA,MAAM,CAACiH,IAAP,CAAY/N,MAAZ,EAAoB2G,OAApB,CAA6B/B,GAAD,IAAS;CACjCiC,MAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAAC4E,GAAD,CAAhB,EAAwBkJ,KAAD,IAAW;CAC9B,YAAI+D,UAAU,CAACC,QAAX,CAAoBlN,GAApB,CAAJ,EAA8B;CAC1B;CACH;;CAEDiC,QAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,eAAjB,EAAkCX,MAAM,CAAC4E,GAAD,CAAxC,EAA+CkJ,KAA/C;CACH,OAND;CAOH,KARD;CAUAhH,IAAAA,MAAM,CAACiH,IAAP,CAAYvL,YAAZ,EAA0BmE,OAA1B,CAAmC/B,GAAD,IAAS;CACvCiC,MAAAA,MAAM,CAACuC,EAAP,CAAU5G,YAAY,CAACoC,GAAD,CAAtB,EAA8BkJ,KAAD,IAAW;CACpCjH,QAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,oBAAjB,EAAuC6B,YAAY,CAACoC,GAAD,CAAnD,EAA0DkJ,KAA1D;CACH,OAFD;CAGH,KAJD;CAKH;CACJ,CAxGD;;CCJe,MAAMiE,OAAN,CAAc;CACzB3I,EAAAA,EAAE,CAAC5D,IAAD,EAAOwC,EAAP,EAAWgK,GAAX,EAAgB;CACd,UAAMzG,CAAC,GAAG,KAAKA,CAAL,KAAW,KAAKA,CAAL,GAAS,EAApB,CAAV;CACA,KAACA,CAAC,CAAC/F,IAAD,CAAD,KAAY+F,CAAC,CAAC/F,IAAD,CAAD,GAAU,EAAtB,CAAD,EAA4BkB,IAA5B,CAAiC;CAACsB,MAAAA,EAAD;CAAKgK,MAAAA;CAAL,KAAjC;CACA,WAAO,IAAP;CACH;;CAEDC,EAAAA,IAAI,CAACzM,IAAD,EAAOwC,EAAP,EAAWgK,GAAX,EAAgB;CAChB,UAAME,IAAI,GAAG,IAAb;;CAEA,aAASC,QAAT,GAA2B;CACvBD,MAAAA,IAAI,CAAC/I,GAAL,CAAS3D,IAAT,EAAe2M,QAAf;;CADuB,wCAANzM,IAAM;CAANA,QAAAA,IAAM;CAAA;;CAEvBsC,MAAAA,EAAE,CAACoK,KAAH,CAASJ,GAAT,EAActM,IAAd;CACH;;CAEDyM,IAAAA,QAAQ,CAACE,CAAT,GAAarK,EAAb;CACA,WAAO,KAAKoB,EAAL,CAAQ5D,IAAR,EAAc2M,QAAd,EAAwBH,GAAxB,CAAP;CACH;;CAEDpB,EAAAA,IAAI,CAACpL,IAAD,EAAgB;CAChB,UAAM8M,MAAM,GAAG,CAAC,CAAC,KAAK/G,CAAL,KAAW,KAAKA,CAAL,GAAS,EAApB,CAAD,EAA0B/F,IAA1B,KAAmC,EAApC,EAAwC+M,KAAxC,EAAf;;CADgB,uCAANC,IAAM;CAANA,MAAAA,IAAM;CAAA;;CAEhB,SAAK,IAAIrK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGmK,MAAM,CAACjK,MAA3B,EAAmCF,CAAC,IAAI,CAAxC,EAA2C;CACvCmK,MAAAA,MAAM,CAACnK,CAAD,CAAN,CAAUH,EAAV,CAAaoK,KAAb,CAAmBE,MAAM,CAACnK,CAAD,CAAN,CAAU6J,GAA7B,EAAkCQ,IAAlC;CACH;;CACD,WAAO,IAAP;CACH;;CAEDrJ,EAAAA,GAAG,CAAC3D,IAAD,EAAOU,QAAP,EAAiB;CAChB,UAAMqF,CAAC,GAAG,KAAKA,CAAL,KAAW,KAAKA,CAAL,GAAS,EAApB,CAAV;;CAEA,QAAI,CAAC/F,IAAL,EAAW;CACPsB,MAAAA,MAAM,CAACiH,IAAP,CAAYxC,CAAZ,EAAe5E,OAAf,CAAwB/B,GAAD,IAAS;CAC5B,eAAO2G,CAAC,CAAC3G,GAAD,CAAR;CACH,OAFD;CAGA,aAAO,KAAK2G,CAAZ;CACA;CACH;;CAED,UAAMkH,IAAI,GAAGlH,CAAC,CAAC/F,IAAD,CAAd;CACA,UAAMkN,UAAU,GAAG,EAAnB;;CACA,QAAID,IAAI,IAAIvM,QAAZ,EAAsB;CAClB,WAAK,IAAIiC,CAAC,GAAG,CAAR,EAAWwK,GAAG,GAAGF,IAAI,CAACpK,MAA3B,EAAmCF,CAAC,GAAGwK,GAAvC,EAA4CxK,CAAC,IAAI,CAAjD,EAAoD;CAChD,YAAIsK,IAAI,CAACtK,CAAD,CAAJ,CAAQH,EAAR,KAAe9B,QAAf,IAA2BuM,IAAI,CAACtK,CAAD,CAAJ,CAAQH,EAAR,CAAWqK,CAAX,KAAiBnM,QAAhD,EAA0DwM,UAAU,CAAChM,IAAX,CAAgB+L,IAAI,CAACtK,CAAD,CAApB;CAC7D;CACJ;;CACD,QAAIuK,UAAU,CAACrK,MAAf,EAAuB;CACnBkD,MAAAA,CAAC,CAAC/F,IAAD,CAAD,GAAUkN,UAAV;CACH,KAFD,MAEO;CACH,aAAOnH,CAAC,CAAC/F,IAAD,CAAR;CACH;;CACD,WAAO,IAAP;CACH;;CAnDwB;;ACA7B,oBAAgBwF,EAAD,IAAQ;CACnB,MAAI4H,kBAAkB,GAAG,CACrB,2BADqB,EAErB,4BAFqB,EAGrB,4BAHqB,EAKrB,aALqB,EAMrB,GANqB,EAOrB,0BAPqB,EAQrB,+BARqB,EASrB,GATqB,EAUvBC,IAVuB,CAUlB,IAVkB,CAAzB;CAYA,MAAIC,oBAAoB,GAAG,CACvB,wBADuB,EAEvB,kCAFuB,EAGvB,6BAHuB,EAIvB,6BAJuB,EAKvB,6BALuB,EAMvB,2BANuB,EAOvB,GAPuB,EAQvB,gDARuB,EASvB,qDATuB,EAUvB,6CAVuB,EAWvB,YAXuB,EAYvB,IAZuB,EAcvB,mBAduB,EAevB,uDAfuB,EAgBvB,uDAhBuB,EAiBvB,uDAjBuB,EAkBvB,4CAlBuB,EAmBvB,GAnBuB,EAoBzBD,IApByB,CAoBpB,IApBoB,CAA3B;CAsBA,MAAIE,YAAY,GAAG/H,EAAE,CAACgI,YAAH,CAAgBhI,EAAE,CAACiI,aAAnB,CAAnB;CACAjI,EAAAA,EAAE,CAACkI,YAAH,CAAgBH,YAAhB,EAA8BH,kBAA9B;CACA5H,EAAAA,EAAE,CAACmI,aAAH,CAAiBJ,YAAjB;;CACA,MAAI,CAAC/H,EAAE,CAACoI,kBAAH,CAAsBL,YAAtB,EAAoC/H,EAAE,CAACqI,cAAvC,CAAL,EAA6D;CACzD1N,IAAAA,OAAO,CAAChF,GAAR,CAAY,sCAAsCqK,EAAE,CAACsI,gBAAH,CAAoBP,YAApB,CAAlD;CACH;;CAED,MAAIQ,cAAc,GAAGvI,EAAE,CAACgI,YAAH,CAAgBhI,EAAE,CAACwI,eAAnB,CAArB;CACAxI,EAAAA,EAAE,CAACkI,YAAH,CAAgBK,cAAhB,EAAgCT,oBAAhC;CACA9H,EAAAA,EAAE,CAACmI,aAAH,CAAiBI,cAAjB;;CACA,MAAI,CAACvI,EAAE,CAACoI,kBAAH,CAAsBG,cAAtB,EAAsCvI,EAAE,CAACqI,cAAzC,CAAL,EAA+D;CAC3D1N,IAAAA,OAAO,CAAChF,GAAR,CAAY,wCAAwCqK,EAAE,CAACsI,gBAAH,CAAoBC,cAApB,CAApD;CACH;;CAED,MAAIE,OAAO,GAAGzI,EAAE,CAAC0I,aAAH,EAAd;CACA1I,EAAAA,EAAE,CAAC2I,YAAH,CAAgBF,OAAhB,EAAyBV,YAAzB;CACA/H,EAAAA,EAAE,CAAC2I,YAAH,CAAgBF,OAAhB,EAAyBF,cAAzB;CACAvI,EAAAA,EAAE,CAAC4I,WAAH,CAAeH,OAAf;;CACA,MAAI,CAACzI,EAAE,CAAC6I,mBAAH,CAAuBJ,OAAvB,EAAgCzI,EAAE,CAAC8I,WAAnC,CAAL,EAAsD;CAClDnO,IAAAA,OAAO,CAAChF,GAAR,CAAY,gCAAgCqK,EAAE,CAAC+I,iBAAH,CAAqBN,OAArB,CAA5C;CACH;;CAEDzI,EAAAA,EAAE,CAACgJ,UAAH,CAAcP,OAAd,EAzDmB;;CA4DnB,MAAIQ,eAAe,GAAGjJ,EAAE,CAACkJ,YAAH,EAAtB;CACAlJ,EAAAA,EAAE,CAACmJ,UAAH,CAAcnJ,EAAE,CAACoJ,YAAjB,EAA+BH,eAA/B;CACAjJ,EAAAA,EAAE,CAACqJ,UAAH,CAAcrJ,EAAE,CAACoJ,YAAjB,EAA+B,IAAIE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAA/B,EAA+EtJ,EAAE,CAACuJ,WAAlF;CAEA,MAAIC,YAAY,GAAGxJ,EAAE,CAACyJ,iBAAH,CAAqBhB,OAArB,EAA8B,WAA9B,CAAnB;CACAzI,EAAAA,EAAE,CAAC0J,uBAAH,CAA2BF,YAA3B;CACAxJ,EAAAA,EAAE,CAAC2J,mBAAH,CAAuBH,YAAvB,EAAqC,CAArC,EAAwCxJ,EAAE,CAAC4J,KAA3C,EAAkD,KAAlD,EAAyD,CAAzD,EAA4D,CAA5D;CAEA,MAAIC,gBAAgB,GAAG7J,EAAE,CAACkJ,YAAH,EAAvB;CACAlJ,EAAAA,EAAE,CAACmJ,UAAH,CAAcnJ,EAAE,CAACoJ,YAAjB,EAA+BS,gBAA/B;CACA7J,EAAAA,EAAE,CAACqJ,UAAH,CAAcrJ,EAAE,CAACoJ,YAAjB,EAA+B,IAAIE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAA/B,EAA2EtJ,EAAE,CAACuJ,WAA9E;CAEA,MAAIO,aAAa,GAAG9J,EAAE,CAACyJ,iBAAH,CAAqBhB,OAArB,EAA8B,YAA9B,CAApB;CACAzI,EAAAA,EAAE,CAAC0J,uBAAH,CAA2BI,aAA3B;CACA9J,EAAAA,EAAE,CAAC2J,mBAAH,CAAuBG,aAAvB,EAAsC,CAAtC,EAAyC9J,EAAE,CAAC4J,KAA5C,EAAmD,KAAnD,EAA0D,CAA1D,EAA6D,CAA7D;;CAEA,WAASG,YAAT,CAAsBvP,IAAtB,EAA4BwP,KAA5B,EAAmC;CAC/B,QAAIC,UAAU,GAAGjK,EAAE,CAACkK,aAAH,EAAjB;CACAlK,IAAAA,EAAE,CAACmK,WAAH,CAAenK,EAAE,CAACoK,UAAlB,EAA8BH,UAA9B;CACAjK,IAAAA,EAAE,CAACqK,aAAH,CAAiBrK,EAAE,CAACoK,UAApB,EAAgCpK,EAAE,CAACsK,kBAAnC,EAAuDtK,EAAE,CAACuK,MAA1D;CACAvK,IAAAA,EAAE,CAACqK,aAAH,CAAiBrK,EAAE,CAACoK,UAApB,EAAgCpK,EAAE,CAACwK,kBAAnC,EAAuDxK,EAAE,CAACuK,MAA1D;CACAvK,IAAAA,EAAE,CAACqK,aAAH,CAAiBrK,EAAE,CAACoK,UAApB,EAAgCpK,EAAE,CAACyK,cAAnC,EAAmDzK,EAAE,CAAC0K,aAAtD;CACA1K,IAAAA,EAAE,CAACqK,aAAH,CAAiBrK,EAAE,CAACoK,UAApB,EAAgCpK,EAAE,CAAC2K,cAAnC,EAAmD3K,EAAE,CAAC0K,aAAtD;CACA1K,IAAAA,EAAE,CAACmK,WAAH,CAAenK,EAAE,CAACoK,UAAlB,EAA8B,IAA9B;CACApK,IAAAA,EAAE,CAAC4K,SAAH,CAAa5K,EAAE,CAAC6K,kBAAH,CAAsBpC,OAAtB,EAA+BjO,IAA/B,CAAb,EAAmDwP,KAAnD;CACA,WAAOC,UAAP;CACH;;CAED,MAAIa,WAAW,GAAGf,YAAY,CAAC,UAAD,EAAa,CAAb,CAA9B;;CACA,MAAIgB,WAAW,GAAGhB,YAAY,CAAC,UAAD,EAAa,CAAb,CAA9B;;CACA,MAAIiB,WAAW,GAAGjB,YAAY,CAAC,UAAD,EAAa,CAAb,CAA9B;;CAEA,SAAO;CACH/V,IAAAA,MAAM,EAAE,UAAUiX,CAAV,EAAa3G,CAAb,EAAgB4G,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;CAC7BpL,MAAAA,EAAE,CAACqL,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkBJ,CAAlB,EAAqB3G,CAArB;CACAtE,MAAAA,EAAE,CAACsL,aAAH,CAAiBtL,EAAE,CAACuL,QAApB;CACAvL,MAAAA,EAAE,CAACmK,WAAH,CAAenK,EAAE,CAACoK,UAAlB,EAA8BU,WAA9B;CACA9K,MAAAA,EAAE,CAACwL,UAAH,CAAcxL,EAAE,CAACoK,UAAjB,EAA6B,CAA7B,EAAgCpK,EAAE,CAACyL,SAAnC,EAA8CR,CAA9C,EAAiD3G,CAAjD,EAAoD,CAApD,EAAuDtE,EAAE,CAACyL,SAA1D,EAAqEzL,EAAE,CAAC0L,aAAxE,EAAuFR,CAAvF;CACAlL,MAAAA,EAAE,CAACsL,aAAH,CAAiBtL,EAAE,CAAC2L,QAApB;CACA3L,MAAAA,EAAE,CAACmK,WAAH,CAAenK,EAAE,CAACoK,UAAlB,EAA8BW,WAA9B;CACA/K,MAAAA,EAAE,CAACwL,UAAH,CAAcxL,EAAE,CAACoK,UAAjB,EAA6B,CAA7B,EAAgCpK,EAAE,CAACyL,SAAnC,EAA8CR,CAAC,GAAG,CAAlD,EAAqD3G,CAAC,GAAG,CAAzD,EAA4D,CAA5D,EAA+DtE,EAAE,CAACyL,SAAlE,EAA6EzL,EAAE,CAAC0L,aAAhF,EAA+FP,CAA/F;CACAnL,MAAAA,EAAE,CAACsL,aAAH,CAAiBtL,EAAE,CAAC4L,QAApB;CACA5L,MAAAA,EAAE,CAACmK,WAAH,CAAenK,EAAE,CAACoK,UAAlB,EAA8BY,WAA9B;CACAhL,MAAAA,EAAE,CAACwL,UAAH,CAAcxL,EAAE,CAACoK,UAAjB,EAA6B,CAA7B,EAAgCpK,EAAE,CAACyL,SAAnC,EAA8CR,CAAC,GAAG,CAAlD,EAAqD3G,CAAC,GAAG,CAAzD,EAA4D,CAA5D,EAA+DtE,EAAE,CAACyL,SAAlE,EAA6EzL,EAAE,CAAC0L,aAAhF,EAA+FN,CAA/F;CACApL,MAAAA,EAAE,CAAC6L,UAAH,CAAc7L,EAAE,CAAC8L,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;CACH,KAbE;CAcH/U,IAAAA,OAAO,EAAE,YAAY;CACjB,UAAI;CACAiJ,QAAAA,EAAE,CAAC+L,aAAH,CAAiBtD,OAAjB;CAEAzI,QAAAA,EAAE,CAACgM,YAAH,CAAgB/C,eAAhB;CACAjJ,QAAAA,EAAE,CAACgM,YAAH,CAAgBnC,gBAAhB;CAEA7J,QAAAA,EAAE,CAACiM,aAAH,CAAiBnB,WAAjB;CACA9K,QAAAA,EAAE,CAACiM,aAAH,CAAiBlB,WAAjB;CACA/K,QAAAA,EAAE,CAACgM,YAAH,CAAgBhB,WAAhB;CACH,OATD,CASE,OAAOzK,CAAP,EAAU;CAEX;CAEJ;CA5BE,GAAP;CA8BH,CA1HD;;CCGe,MAAM2L,cAAN,SAA2BnF,OAA3B,CAAmC;CAC9CzM,EAAAA,WAAW,GAAG;CACV;CACA,SAAKxG,IAAL,GAAY,KAAZ;CACH,GAJ6C;;;CAO9CqY,EAAAA,eAAe,CAAC3E,IAAD,EAAO;CAClB,QAAIA,IAAI,CAAC4E,WAAT,EAAsB;CAClB,WAAK5W,SAAL,CAAe6W,OAAf,GAAyB/T,cAAc,CAACkP,IAAI,CAAC4E,WAAN,CAAvC;CACH;;CAED,QAAI5E,IAAI,CAACpL,KAAT,EAAgB;CACZ,WAAK5G,SAAL,CAAe4G,KAAf,GAAuBoL,IAAI,CAACpL,KAA5B;CACH;;CAED,QAAIoL,IAAI,CAAChL,MAAT,EAAiB;CACb,WAAKhH,SAAL,CAAegH,MAAf,GAAwBgL,IAAI,CAAChL,MAA7B;CACH,KAXiB;;;CAclB,QAAI,KAAKhH,SAAL,CAAe6W,OAAf,IAA0B,KAAK7W,SAAL,CAAegH,MAAzC,IAAmD,KAAKhH,SAAL,CAAe4G,KAAlE,IAA2E,CAAC,KAAKtI,IAArF,EAA2F;CACvF,WAAK+H,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACQ,SAAxB,EAAmC,KAAKA,SAAxC;CACA,WAAK1B,IAAL,GAAY,IAAZ;CACH;CACJ;;CAzB6C;;CCGnC,MAAMwY,iBAAN,SAAgCJ,cAAhC,CAA6C;CAExD5R,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,UAAMsJ,cAAc,GAAGxI,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAvB;CACAyD,IAAAA,cAAc,CAACnC,KAAf,CAAqBuJ,QAArB,GAAgC,UAAhC;CACApH,IAAAA,cAAc,CAACnC,KAAf,CAAqBwJ,GAArB,GAA2B,CAA3B;CACArH,IAAAA,cAAc,CAACnC,KAAf,CAAqByJ,IAArB,GAA4B,CAA5B;CACA,SAAKnG,aAAL,GAAqBnB,cAArB;CACAtJ,IAAAA,MAAM,CAACK,UAAP,CAAkBwQ,WAAlB,CAA8B,KAAKpG,aAAnC;CAEA,SAAKqG,SAAL,GAAiB,IAAjB;CACA,SAAKC,SAAL,GAAiB,IAAjB;CACA,SAAKC,eAAL,GAAuB,IAAvB;CACA,SAAKC,gBAAL,GAAwB,IAAxB;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKC,UAAL,GAAkB,IAAlB;CACA,SAAKxX,SAAL,GAAiB;CACb4G,MAAAA,KAAK,EAAE,EADM;CAEbI,MAAAA,MAAM,EAAE,EAFK;CAGb6P,MAAAA,OAAO,EAAE;CAHI,KAAjB,CAhBgB;;CAsBhB,SAAKY,iBAAL;;CACA,SAAKpR,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,aAAtB,EAAqC,MAArC;CACH;;CAGDuX,EAAAA,cAAc,GAAG;CACb,SAAKN,SAAL,GAAiB7M,eAAe,CAAC,KAAKuG,aAAN,CAAhC;CACA,UAAM7M,KAAK,GAAG0T,WAAW,CAAC,KAAKP,SAAN,CAAzB;CACA,SAAKC,eAAL,GAAuBpT,KAAK,CAACzF,MAA7B;CACA,SAAK8Y,gBAAL,GAAwBrT,KAAK,CAAC1C,OAA9B;CACH;;CAEDqW,EAAAA,cAAc,GAAG;CACb,SAAKT,SAAL,GAAiB,KAAKrG,aAAL,CAAmBhG,UAAnB,CAA8B,IAA9B,CAAjB;CACH,GAtCuD;;;CA0CxD2M,EAAAA,iBAAiB,GAAG;CAChB,QAAI,KAAKpR,MAAL,CAAYpB,IAAZ,CAAiB/G,MAAjB,IAA2B,CAAC,KAAK2Z,iBAAL,EAAhC,EAA0D;CACtD,WAAKL,UAAL,GAAkBzT,kBAAkB,CAACC,SAArC;;CACA,WAAK4T,cAAL;CACH,KAHD,MAGO,IAAI,KAAKC,iBAAL,EAAJ,EAA8B;CACjC,WAAKL,UAAL,GAAkBzT,kBAAkB,CAACG,SAArC;;CACA,WAAK4T,cAAL;CACH,KAHM,MAGA;CACH,WAAKN,UAAL,GAAkBzT,kBAAkB,CAACE,KAArC;;CACA,WAAKyT,cAAL;CACH;CACJ;;CAEDG,EAAAA,iBAAiB,GAAG;CAChB,WAAO3N,gBAAgB,CAAC,KAAK4G,aAAN,CAAhB,IAAwC,KAAKzK,MAAL,CAAYpB,IAAZ,CAAiB7G,YAAhE;CACH,GAzDuD;;;CA4DxD0Z,EAAAA,cAAc,GAAG;CACb,SAAKP,cAAL,GAAsB,KAAKzG,aAAL,CAAmBhG,UAAnB,CAA8B,gBAA9B,CAAtB;CACH;;CAEDiN,EAAAA,kBAAkB,GAAG;CACjB,SAAKjH,aAAL,CAAmBlK,KAAnB,GAA2B,KAAK5G,SAAL,CAAe4G,KAA1C;CACA,SAAKkK,aAAL,CAAmB9J,MAAnB,GAA4B,KAAKhH,SAAL,CAAegH,MAA3C;CACA,SAAK/F,MAAL;CACH,GApEuD;;;CAuExDzC,EAAAA,MAAM,CAACwZ,GAAD,EAAM;CACR,SAAK3R,MAAL,CAAY4R,cAAZ,GAA6BD,GAAG,CAACE,EAAjC;;CACA,YAAQ,KAAKV,UAAb;CACI,WAAKzT,kBAAkB,CAACG,SAAxB;CACI,aAAKqT,cAAL,CAAoBY,uBAApB,CAA4CH,GAAG,CAACnX,MAAhD;CACA;;CACJ,WAAKkD,kBAAkB,CAACE,KAAxB;CACI,aAAKoT,eAAL,CAAqB,KAAKvG,aAAL,CAAmBlK,KAAxC,EAA+C,KAAKkK,aAAL,CAAmB9J,MAAlE,EAA0EgR,GAAG,CAACI,MAAJ,CAAW,CAAX,CAA1E,EAAyFJ,GAAG,CAACI,MAAJ,CAAW,CAAX,CAAzF,EAAwGJ,GAAG,CAACI,MAAJ,CAAW,CAAX,CAAxG;CACA;;CACJ,WAAKrU,kBAAkB,CAACC,SAAxB;CACI,aAAKmT,SAAL,CAAekB,SAAf,CAAyBL,GAAG,CAAClX,UAA7B,EAAyC,CAAzC,EAA4C,CAA5C,EAA+C,KAAKgQ,aAAL,CAAmBlK,KAAlE,EAAyE,KAAKkK,aAAL,CAAmB9J,MAA5F;CACA;CATR;CAWH;;CAED5J,EAAAA,UAAU,CAACkb,QAAD,EAAWC,MAAX,EAAmBC,OAAnB,EAA4BjN,IAA5B,EAAkC;CACxC+M,IAAAA,QAAQ,GAAGA,QAAQ,IAAI9L,GAAG,EAA1B;CACAjB,IAAAA,IAAI,GAAGA,IAAI,IAAI7I,eAAe,CAACC,QAA/B;CACA,UAAM8V,UAAU,GAAG;CACfC,MAAAA,GAAG,EAAE,WADU;CAEfC,MAAAA,IAAI,EAAE,YAFS;CAGfC,MAAAA,IAAI,EAAE;CAHS,KAAnB;CAKA,QAAIC,cAAc,GAAG,IAArB;;CACA,QAAI,CAACJ,UAAU,CAACF,MAAD,CAAX,IAAuB7V,eAAe,CAAC6V,MAAD,CAA1C,EAAoD;CAChDhN,MAAAA,IAAI,GAAGgN,MAAP;CACAA,MAAAA,MAAM,GAAG,KAAT;CACAC,MAAAA,OAAO,GAAGvI,SAAV;CACH;;CAED,QAAI,OAAOuI,OAAP,KAAmB,QAAvB,EAAiC;CAC7BjN,MAAAA,IAAI,GAAGiN,OAAP;CACAA,MAAAA,OAAO,GAAGvI,SAAV;CACH;;CAED,QAAI,OAAOuI,OAAP,KAAmB,WAAvB,EAAoC;CAChCK,MAAAA,cAAc,GAAGC,MAAM,CAACN,OAAD,CAAvB;CACH;;CACD,UAAMtN,OAAO,GAAG,KAAK4F,aAAL,CAAmBiI,SAAnB,CAA6BN,UAAU,CAACF,MAAD,CAAV,IAAsBE,UAAU,CAACC,GAA9D,EAAmEG,cAAnE,CAAhB;CAEA,UAAMG,IAAI,GAAG/N,aAAa,CAACC,OAAD,CAA1B;;CACA,QAAIK,IAAI,KAAK7I,eAAe,CAACE,MAA7B,EAAqC;CACjC,aAAOsI,OAAP;CACH,KAFD,MAEO,IAAIK,IAAI,KAAK7I,eAAe,CAACG,IAA7B,EAAmC;CACtC,aAAOmW,IAAP;CACH,KAFM,MAEA,IAAIzN,IAAI,KAAK7I,eAAe,CAACC,QAA7B,EAAuC;CAC1CmJ,MAAAA,WAAW,CAACkN,IAAD,EAAOV,QAAP,CAAX;CACH;CACJ,GAvHuD;;;CA0HxDW,EAAAA,SAAS,GAAG;CACR,YAAQ,KAAKzB,UAAb;CACI,WAAKzT,kBAAkB,CAACG,SAAxB;CACIwL,QAAAA,sBAAsB,CAAC,KAAKoB,aAAL,CAAmBlK,KAApB,EAA2B,KAAKkK,aAAL,CAAmB9J,MAA9C,CAAtB,CAA4EgC,IAA5E,CAAkFkQ,WAAD,IAAiB;CAC9F,eAAK3B,cAAL,CAAoBY,uBAApB,CAA4Ce,WAA5C;CACH,SAFD;CAGA;;CACJ,WAAKnV,kBAAkB,CAACE,KAAxB;CACI,aAAKmT,SAAL,CAAe+B,KAAf,CAAqB,KAAK/B,SAAL,CAAegC,gBAApC;CACA;;CACJ,WAAKrV,kBAAkB,CAACC,SAAxB;CACI,aAAKmT,SAAL,CAAekC,SAAf,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B,KAAKvI,aAAL,CAAmBlK,KAAlD,EAAyD,KAAKkK,aAAL,CAAmB9J,MAA5E;CACA;CAXR;CAaH;;CAED/F,EAAAA,MAAM,GAAG;CACL,SAAKoF,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,aAAtB,EAAqC,QAArC;CACA,UAAMwF,MAAM,GAAG,KAAKU,MAAL,CAAYpB,IAA3B;CACA,UAAM2B,KAAK,GAAG,KAAKP,MAAL,CAAYO,KAA1B;CACA,QAAII,MAAM,GAAG,KAAKX,MAAL,CAAYW,MAAzB;;CACA,QAAIrB,MAAM,CAACnI,UAAX,EAAuB;CACnBwJ,MAAAA,MAAM,IAAIzD,cAAV;CACH;;CACD,QAAI+V,WAAW,GAAG,KAAKxI,aAAL,CAAmBlK,KAArC;CACA,QAAI2S,YAAY,GAAG,KAAKzI,aAAL,CAAmB9J,MAAtC;CACA,UAAMnJ,MAAM,GAAG8H,MAAM,CAAC9H,MAAtB;CACA,QAAIoZ,IAAI,GAAI,CAACrQ,KAAK,GAAG0S,WAAT,IAAwB,CAApC;CACA,QAAItC,GAAG,GAAI,CAAChQ,MAAM,GAAGuS,YAAV,IAA0B,CAArC;;CACA,QAAI1b,MAAM,KAAK,GAAX,IAAkBA,MAAM,KAAK,EAAjC,EAAqC;CACjCyb,MAAAA,WAAW,GAAG,KAAKxI,aAAL,CAAmB9J,MAAjC;CACAuS,MAAAA,YAAY,GAAG,KAAKzI,aAAL,CAAmBlK,KAAlC;CACH;;CAED,UAAM4S,MAAM,GAAG5S,KAAK,GAAG0S,WAAvB;CACA,UAAMG,MAAM,GAAGzS,MAAM,GAAGuS,YAAxB;CAEA,QAAIrI,KAAK,GAAGsI,MAAM,GAAGC,MAAT,GAAkBA,MAAlB,GAA2BD,MAAvC,CArBK;;CAuBL,QAAI,CAAC7T,MAAM,CAACvJ,QAAZ,EAAsB;CAClB,UAAIod,MAAM,KAAKC,MAAf,EAAuB;CACnBvI,QAAAA,KAAK,GAAGsI,MAAM,GAAG,GAAT,GAAeC,MAAvB;CACH;CACJ,KA3BI;;;CA6BL,QAAI9T,MAAM,CAACtJ,YAAX,EAAyB;CACrB6U,MAAAA,KAAK,GAAGsI,MAAM,GAAGC,MAAT,GAAkBD,MAAlB,GAA2BC,MAAnC;CACH;;CACD,QAAItI,SAAS,GAAG,WAAWD,KAAX,GAAmB,GAAnC;;CAEA,QAAIrT,MAAJ,EAAY;CACRsT,MAAAA,SAAS,IAAI,aAAatT,MAAb,GAAsB,MAAnC;CACH;;CAED,SAAKiT,aAAL,CAAmBtD,KAAnB,CAAyB2D,SAAzB,GAAqCA,SAArC;CACA,SAAKL,aAAL,CAAmBtD,KAAnB,CAAyByJ,IAAzB,GAAgCA,IAAI,GAAG,IAAvC;CACA,SAAKnG,aAAL,CAAmBtD,KAAnB,CAAyBwJ,GAAzB,GAA+BA,GAAG,GAAG,IAArC;CACH;;CAEDzV,EAAAA,OAAO,GAAG;CACN,QAAI,KAAK6V,SAAT,EAAoB;CAChB,WAAKA,SAAL,GAAiB,IAAjB;CACH;;CAED,QAAI,KAAKD,SAAT,EAAoB;CAChB,WAAKA,SAAL,GAAiB,IAAjB;CACH;;CAED,QAAI,KAAKE,eAAT,EAA0B;CACtB,WAAKC,gBAAL,IAAyB,KAAKA,gBAAL,EAAzB;CACA,WAAKA,gBAAL,GAAwB,IAAxB;CACA,WAAKD,eAAL,GAAuB,IAAvB;CACH;;CACD,QAAI,KAAKE,cAAT,EAAyB;CACrB,WAAKA,cAAL,GAAsB,IAAtB;CACH;;CAED,SAAKC,UAAL,GAAkB,IAAlB;CAEA,SAAKxX,SAAL,GAAiB;CACb4G,MAAAA,KAAK,EAAE,EADM;CAEbI,MAAAA,MAAM,EAAE,EAFK;CAGb6P,MAAAA,OAAO,EAAE,EAHI;CAIbD,MAAAA,WAAW,EAAE;CAJA,KAAjB;CAOA,SAAKvQ,MAAL,CAAYK,UAAZ,CAAuBgT,WAAvB,CAAmC,KAAK5I,aAAxC;CACA,SAAKxS,IAAL,GAAY,KAAZ;CACA,SAAKqK,GAAL;CACA,SAAKtC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAuB,mBAAvB,EAA2C,SAA3C;CACH;;CApNuD;;CCD7C,MAAMwZ,WAAN,SAA0BjD,cAA1B,CAAuC;CAClD5R,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,UAAMyK,aAAa,GAAG3J,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAtB;CACA4E,IAAAA,aAAa,CAAC8I,KAAd,GAAsB,IAAtB;CACA9I,IAAAA,aAAa,CAACtD,KAAd,CAAoBuJ,QAApB,GAA+B,UAA/B;CACAjG,IAAAA,aAAa,CAACtD,KAAd,CAAoBwJ,GAApB,GAA0B,CAA1B;CACAlG,IAAAA,aAAa,CAACtD,KAAd,CAAoByJ,IAApB,GAA2B,CAA3B;CACA5Q,IAAAA,MAAM,CAACK,UAAP,CAAkBwQ,WAAlB,CAA8BpG,aAA9B;CACAzK,IAAAA,MAAM,CAACK,UAAP,CAAkBoK,aAAlB,GAAkCA,aAAlC;CACA,SAAKA,aAAL,GAAqBA,aAArB;CACA,SAAK9Q,SAAL,GAAiB;CACb4G,MAAAA,KAAK,EAAE,EADM;CAEbI,MAAAA,MAAM,EAAE,EAFK;CAGb6P,MAAAA,OAAO,EAAE;CAHI,KAAjB;CAKA,SAAK5V,MAAL;CAEA,UAAM;CAACsE,MAAAA;CAAD,QAAU,KAAKc,MAAL,CAAYgK,MAA5B;CAEA9K,IAAAA,KAAK,CAAC,KAAKuL,aAAN,EAAqB,SAArB,EAAgC,MAAM;CACvC,WAAKzK,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,OAAtB,EAA+B,SAA/B;CACH,KAFI,CAAL;CAIAoF,IAAAA,KAAK,CAAC,KAAKuL,aAAN,EAAqB,SAArB,EAAgC,MAAM;CACvC,WAAKzK,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACoC,YAAxB;CACH,KAFI,CAAL;CAIA2D,IAAAA,KAAK,CAAC,KAAKuL,aAAN,EAAqB,YAArB,EAAoC1K,KAAD,IAAW;CAElD,KAFI,CAAL;CAIA,SAAKC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,OAAtB,EAA+B,MAA/B;CACH;;CAED9C,EAAAA,IAAI,GAAG;CACH;CACA,SAAKyT,aAAL,CAAmBzT,IAAnB;CACH;;CAED4b,EAAAA,SAAS,GAAG;;CAIZ7b,EAAAA,UAAU,CAACkb,QAAD,EAAWC,MAAX,EAAmBC,OAAnB,EAA4BjN,IAA5B,EAAkC;CACxC+M,IAAAA,QAAQ,GAAGA,QAAQ,IAAI9L,GAAG,EAA1B;CACAjB,IAAAA,IAAI,GAAGA,IAAI,IAAI7I,eAAe,CAACC,QAA/B;CACA,UAAM8V,UAAU,GAAG;CACfC,MAAAA,GAAG,EAAE,WADU;CAEfC,MAAAA,IAAI,EAAE,YAFS;CAGfC,MAAAA,IAAI,EAAE;CAHS,KAAnB;CAKA,QAAIC,cAAc,GAAG,IAArB;;CACA,QAAI,CAACJ,UAAU,CAACF,MAAD,CAAX,IAAuB7V,eAAe,CAAC6V,MAAD,CAA1C,EAAoD;CAChDhN,MAAAA,IAAI,GAAGgN,MAAP;CACAA,MAAAA,MAAM,GAAG,KAAT;CACAC,MAAAA,OAAO,GAAGvI,SAAV;CACH;;CACD,QAAI,OAAOuI,OAAP,KAAmB,QAAvB,EAAiC;CAC7BjN,MAAAA,IAAI,GAAGiN,OAAP;CACAA,MAAAA,OAAO,GAAGvI,SAAV;CACH;;CAED,QAAI,OAAOuI,OAAP,KAAmB,WAAvB,EAAoC;CAChCK,MAAAA,cAAc,GAAGC,MAAM,CAACN,OAAD,CAAvB;CACH;;CACD,UAAMqB,MAAM,GAAG,KAAK/I,aAApB;CACA,QAAIgJ,MAAM,GAAG3S,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACA4N,IAAAA,MAAM,CAAClT,KAAP,GAAeiT,MAAM,CAACE,UAAtB;CACAD,IAAAA,MAAM,CAAC9S,MAAP,GAAgB6S,MAAM,CAACG,WAAvB;CACA,UAAMC,OAAO,GAAGH,MAAM,CAAChP,UAAP,CAAkB,IAAlB,CAAhB;CACAmP,IAAAA,OAAO,CAAC5B,SAAR,CAAkBwB,MAAlB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgCC,MAAM,CAAClT,KAAvC,EAA8CkT,MAAM,CAAC9S,MAArD;CACA,UAAMkE,OAAO,GAAG4O,MAAM,CAACf,SAAP,CAAiBrW,eAAe,CAAC6V,MAAD,CAAf,IAA2B7V,eAAe,CAACgW,GAA5D,EAAiEG,cAAjE,CAAhB;CACA,UAAMG,IAAI,GAAG/N,aAAa,CAACC,OAAD,CAA1B;;CACA,QAAIK,IAAI,KAAK7I,eAAe,CAACE,MAA7B,EAAqC;CACjC,aAAOsI,OAAP;CACH,KAFD,MAEO,IAAIK,IAAI,KAAK7I,eAAe,CAACG,IAA7B,EAAmC;CACtC,aAAOmW,IAAP;CACH,KAFM,MAEA,IAAIzN,IAAI,KAAK7I,eAAe,CAACC,QAA7B,EAAuC;CAC1CmJ,MAAAA,WAAW,CAACkN,IAAD,EAAOV,QAAP,CAAX;CACH;CACJ;;CAEDP,EAAAA,kBAAkB,GAAG;CACjB,SAAK9W,MAAL;CACH;;CAEDA,EAAAA,MAAM,GAAG;CACL,SAAK6P,aAAL,CAAmBlK,KAAnB,GAA2B,KAAKP,MAAL,CAAYO,KAAvC;CACA,SAAKkK,aAAL,CAAmB9J,MAAnB,GAA4B,KAAKX,MAAL,CAAYpB,IAAZ,CAAiBzH,UAAjB,GAA8B,KAAK6I,MAAL,CAAYW,MAAZ,GAAqBzD,cAAnD,GAAoE,KAAK8C,MAAL,CAAYW,MAA5G;CACA,UAAMrB,MAAM,GAAG,KAAKU,MAAL,CAAYpB,IAA3B;CACA,QAAIiV,UAAU,GAAG,SAAjB;CACA,UAAMrc,MAAM,GAAG8H,MAAM,CAAC9H,MAAtB,CALK;CAQL;CAEA;;CACA,QAAI,CAAC8H,MAAM,CAACvJ,QAAZ,EAAsB;CAClB8d,MAAAA,UAAU,GAAG,MAAb;CACH,KAbI;;;CAgBL,QAAIvU,MAAM,CAACtJ,YAAX,EAAyB;CACrB6d,MAAAA,UAAU,GAAG,MAAb;CACH;;CACD,SAAKpJ,aAAL,CAAmBtD,KAAnB,CAAyB2M,SAAzB,GAAqCD,UAArC;CACA,UAAM/I,SAAS,GAAG,KAAKL,aAAL,CAAmBtD,KAAnB,CAAyB2D,SAA3C;;CACA,QAAIA,SAAJ,EAAe;CACX,WAAKL,aAAL,CAAmBtD,KAAnB,CAAyB2D,SAAzB,GAAqCA,SAArC;CACH,KAFD,MAEO;CACH,WAAKL,aAAL,CAAmBtD,KAAnB,CAAyB2D,SAAzB,GAAqC,YAAYtT,MAAZ,GAAqB,MAA1D;CACH;CAEJ;;CAGD0D,EAAAA,OAAO,GAAG;CACN,SAAK8E,MAAL,CAAYK,UAAZ,CAAuBgT,WAAvB,CAAmC,KAAK5I,aAAxC;CACA,SAAKxS,IAAL,GAAY,KAAZ;CACA,SAAKqK,GAAL;CACA,SAAKtC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,OAAtB,EAA+B,SAA/B;CACH;;CA3HiD;;CCFvC,MAAMia,KAAN,CAAY;CACvBtV,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAMgU,MAAM,GAAGD,KAAK,CAACE,gBAAN,CAAuBjU,MAAM,CAACpB,IAA9B,CAAf;CACA,WAAO,IAAIoV,MAAJ,CAAWhU,MAAX,CAAP;CACH;;CAEsB,SAAhBiU,gBAAgB,CAACC,GAAD,EAAM;CACzB,QAAIA,GAAG,CAACpc,MAAR,EAAgB;CACZ,aAAOwb,WAAP;CACH,KAFD,MAEO;CACH,aAAO7C,iBAAP;CACH;CACJ;;CAZsB;;CCCZ,MAAM0D,kBAAN,SAAiCjJ,OAAjC,CAAyC;CACpDzM,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKoU,UAAL,GAAkB,EAAlB;CACA,SAAKpU,MAAL,GAAcA,MAAd;CACA,SAAKqU,UAAL,GAAkB,IAAlB;CACA,SAAKC,iBAAL,GAAyB,KAAzB;CACA,SAAKC,mBAAL,GAA2B,IAA3B;CAEA,SAAKC,YAAL,GAAoB,KAAKzT,MAAM,CAAC0T,YAAP,IAAuB1T,MAAM,CAAC2T,kBAAnC,GAApB,CARgB;;CAUhB,SAAKC,QAAL,GAAgB,KAAKH,YAAL,CAAkBI,UAAlB,EAAhB,CAVgB;CAYhB;;CACA,UAAMC,MAAM,GAAG,KAAKL,YAAL,CAAkBM,kBAAlB,EAAf,CAbgB;;CAehBD,IAAAA,MAAM,CAACra,MAAP,GAAgB,KAAKga,YAAL,CAAkBnH,YAAlB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,KAArC,CAAhB,CAfgB;CAiBhB;;CACAwH,IAAAA,MAAM,CAACE,OAAP,CAAe,KAAKP,YAAL,CAAkBQ,WAAjC,EAlBgB;CAoBhB;;CACA,QAAIH,MAAM,CAACI,MAAX,EAAmB;CACfJ,MAAAA,MAAM,CAACI,MAAP,CAAc,CAAd;CACH,KAFD,MAEO;CACHJ,MAAAA,MAAM,CAACna,KAAP,CAAa,CAAb;CACH;;CACD,SAAKwa,qBAAL,GAA6BL,MAA7B,CA1BgB;;CA4BhB,SAAKM,+BAAL,GAAuC,KAAKX,YAAL,CAAkBY,4BAAlB,EAAvC,CA5BgB;;CA8BhB,SAAKC,YAAL,CAAkB,IAAlB,EA9BgB;;CAgChB,SAAKV,QAAL,CAAcW,IAAd,CAAmBrO,KAAnB,GAA2B,CAA3B;CAEA,SAAK3N,OAAL,GAAe,KAAf,CAlCgB;;CAoChB,SAAKic,oBAAL,GAA4B;CACxBC,MAAAA,IAAI,EAAE;CADkB,KAA5B;CAKA,SAAK3b,SAAL,GAAiB;CACb2W,MAAAA,OAAO,EAAE,EADI;CAEbiF,MAAAA,QAAQ,EAAE,EAFG;CAGbC,MAAAA,UAAU,EAAE;CAHC,KAAjB;CAKA,SAAKzd,IAAL,GAAY,KAAZ,CA9CgB;;CAiDhB,SAAKsK,EAAL,CAAQpJ,MAAM,CAACsC,cAAf,EAAgCwG,OAAD,IAAa;CACxC,WAAKjC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,cAAtB,EAAuC,oCAAmCmI,OAAO,CAAC0T,cAAe,oBAAmB1T,OAAO,CAAC2P,cAAe,SAAQ3P,OAAO,CAACuT,IAAK,EAAhK;CACA,WAAKD,oBAAL,GAA4BtT,OAA5B;CACH,KAHD;CAKA,SAAKjC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,cAAtB,EAAsC,MAAtC;CACH;;CAED8b,EAAAA,eAAe,CAACjK,IAAD,EAAO;CAClB,QAAIA,IAAI,CAAC4E,WAAT,EAAsB;CAClB,WAAK1W,SAAL,CAAe2W,OAAf,GAAyB3T,cAAc,CAAC8O,IAAI,CAAC4E,WAAN,CAAvC;CACH;;CAED,QAAI5E,IAAI,CAAC8J,QAAT,EAAmB;CACf,WAAK5b,SAAL,CAAe4b,QAAf,GAA0B9J,IAAI,CAAC8J,QAA/B;CACH;;CAED,QAAI9J,IAAI,CAAC+J,UAAT,EAAqB;CACjB,WAAK7b,SAAL,CAAe6b,UAAf,GAA4B/J,IAAI,CAAC+J,UAAjC;CACH,KAXiB;;;CAclB,QAAI,KAAK7b,SAAL,CAAe6b,UAAf,IAA6B,KAAK7b,SAAL,CAAe4b,QAA5C,IAAwD,KAAK5b,SAAL,CAAe2W,OAAvE,IAAkF,CAAC,KAAKvY,IAA5F,EAAkG;CAC9F,WAAK+H,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACU,SAAxB,EAAmC,KAAKA,SAAxC;CACA,WAAK5B,IAAL,GAAY,IAAZ;CACH;CACJ,GA5EmD;;;CA+EvC,MAAT4d,SAAS,GAAG;CACZ,WAAO,KAAKvc,OAAZ;CACH;;CAES,MAANwc,MAAM,GAAG;CACT,WAAO,KAAKnB,QAAL,CAAcW,IAAd,CAAmBrO,KAAnB,KAA6B,CAA7B,IAAkC,KAAK8O,gBAAL,EAAzC;CACH;;CAES,MAANC,MAAM,GAAG;CACT,WAAO,KAAKrB,QAAL,CAAcW,IAAd,CAAmBrO,KAA1B;CACH;;CAEa,MAAVgP,UAAU,GAAG;CACb,WAAO,KAAK7B,UAAL,CAAgB5S,MAAvB;CACH;;CAGD0U,EAAAA,cAAc,GAAG;CACb,SAAK5c,OAAL,GAAe,IAAf;;CAEA,QAAI,KAAKgb,iBAAT,EAA4B;CACxB;CACH;;CACD,UAAMmB,QAAQ,GAAG,KAAK5b,SAAL,CAAe4b,QAAhC;CAEA,UAAMpB,UAAU,GAAG,KAAKG,YAAL,CAAkB2B,qBAAlB,CAAwC,IAAxC,EAA8C,CAA9C,EAAiDV,QAAjD,CAAnB;;CAEApB,IAAAA,UAAU,CAAC+B,cAAX,GAA6BC,oBAAD,IAA0B;CAClD,YAAMC,YAAY,GAAGD,oBAAoB,CAACC,YAA1C;;CAEA,UAAI,KAAKlC,UAAL,CAAgB5S,MAAhB,IAA0B,KAAKlI,OAAnC,EAA4C;CAExC;CACA,YAAI,CAAC,KAAK0G,MAAL,CAAYpB,IAAZ,CAAiB/G,MAAlB,IAA4B,CAAC,KAAKmI,MAAL,CAAYpB,IAAZ,CAAiB9G,MAAlD,EAA0D;CACtD;CACA;CACA,cAAI,KAAKyd,oBAAL,CAA0BC,IAA1B,GAAiCjX,qBAArC,EAA4D;CACxD,iBAAKyB,MAAL,CAAY9J,KAAZ,CAAkB6I,IAAlB,CAAuB,cAAvB,EAAwC,wCAAuC,KAAKwW,oBAAL,CAA0BC,IAAK,EAA9G,EADwD;;CAGxD;CACH,WAJD;CAMA;CANA,eAOK,IAAI,KAAKD,oBAAL,CAA0BC,IAA1B,GAAiC,CAACjX,qBAAtC,EAA6D;CAC9D,iBAAKyB,MAAL,CAAY9J,KAAZ,CAAkB6I,IAAlB,CAAuB,cAAvB,EAAwC,wCAAuC,KAAKwW,oBAAL,CAA0BC,IAAK,EAA9G,EAD8D;;CAI9D,gBAAIe,UAAU,GAAG,KAAKnC,UAAL,CAAgBoC,KAAhB,EAAjB,CAJ8D;;CAM9D,mBAAQD,UAAU,CAAC1E,EAAX,GAAgB,KAAK7R,MAAL,CAAY4R,cAA5B,GAA6C,CAACrT,qBAA/C,IAAyE,KAAK6V,UAAL,CAAgB5S,MAAhB,GAAyB,CAAzG,EAA4G;CACxG;CACA+U,cAAAA,UAAU,GAAG,KAAKnC,UAAL,CAAgBoC,KAAhB,EAAb;CACH;;CAED,gBAAI,KAAKpC,UAAL,CAAgB5S,MAAhB,KAA2B,CAA/B,EAAkC;CAC9B;CACH;CACJ;CACJ;;CAED,YAAI,KAAK4S,UAAL,CAAgB5S,MAAhB,KAA2B,CAA/B,EAAkC;CAC9B;CACH;;CAED,cAAM+U,UAAU,GAAG,KAAKnC,UAAL,CAAgBoC,KAAhB,EAAnB,CAlCwC;;CAqCxC,YAAID,UAAU,IAAIA,UAAU,CAAC1E,EAA7B,EAAiC;CAC7B,eAAK7R,MAAL,CAAY2V,cAAZ,GAA6BY,UAAU,CAAC1E,EAAxC;CACH;;CAED,aAAK,IAAI4E,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAGhB,QAAhC,EAA0CgB,OAAO,EAAjD,EAAqD;CACjD,gBAAM3P,CAAC,GAAGyP,UAAU,CAAC/b,MAAX,CAAkBic,OAAlB,CAAV;CACA,gBAAMC,YAAY,GAAGJ,YAAY,CAACK,cAAb,CAA4BF,OAA5B,CAArB;;CACA,eAAK,IAAInV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,IAApB,EAA0BA,CAAC,EAA3B,EAA+B;CAC3BoV,YAAAA,YAAY,CAACpV,CAAD,CAAZ,GAAkBwF,CAAC,CAACxF,CAAD,CAAD,IAAQ,CAA1B;CACH;CACJ;CACJ;CACJ,KApDD;;CAsDA+S,IAAAA,UAAU,CAACU,OAAX,CAAmB,KAAKJ,QAAxB;CACA,SAAKN,UAAL,GAAkBA,UAAlB;CACA,SAAKM,QAAL,CAAcI,OAAd,CAAsB,KAAKP,YAAL,CAAkBQ,WAAxC;CACA,SAAKL,QAAL,CAAcI,OAAd,CAAsB,KAAKI,+BAA3B;CACA,SAAKb,iBAAL,GAAyB,IAAzB;CACH;;CAED9a,EAAAA,IAAI,CAACod,IAAD,EAAO;CACP,QAAIA,IAAJ,EAAU;CAEN,UAAI,CAAC,KAAKd,MAAV,EAAkB;CACd,aAAK9V,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACK,IAAxB,EAA8Bod,IAA9B;CACH;;CACD,WAAKC,SAAL,CAAe,CAAf;CACA,WAAKxB,YAAL,CAAkB,KAAlB;CACA,WAAKvC,KAAL;CACH,KARD,MAQO;CACH,UAAI,KAAKgD,MAAT,EAAiB;CACb,aAAK9V,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACK,IAAxB,EAA8Bod,IAA9B;CACH;;CACD,WAAKC,SAAL,CAAe,GAAf;CACA,WAAKxB,YAAL,CAAkB,IAAlB;CACH;CACJ;;CAEDwB,EAAAA,SAAS,CAACb,MAAD,EAAS;CACdA,IAAAA,MAAM,GAAGxO,UAAU,CAACwO,MAAD,CAAV,CAAmB/M,OAAnB,CAA2B,CAA3B,CAAT;;CACA,QAAI6N,KAAK,CAACd,MAAD,CAAT,EAAmB;CACf;CACH;;CACD,SAAKX,YAAL,CAAkB,IAAlB;CACAW,IAAAA,MAAM,GAAGrP,KAAK,CAACqP,MAAD,EAAS,CAAT,EAAY,CAAZ,CAAd;CACA,SAAKrB,QAAL,CAAcW,IAAd,CAAmBrO,KAAnB,GAA2B+O,MAA3B;CACA,SAAKrB,QAAL,CAAcW,IAAd,CAAmByB,cAAnB,CAAkCf,MAAlC,EAA0C,KAAKxB,YAAL,CAAkBwC,WAA5D;CACA,SAAKhX,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAAC8B,YAAxB,EAAsC,KAAK+E,MAAL,CAAYgW,MAAlD;CACH;;CAEDiB,EAAAA,UAAU,GAAG;CACT,QAAI,KAAK3C,iBAAT,EAA4B;CACxB,WAAKD,UAAL,IAAmB,KAAKA,UAAL,CAAgB6C,UAAhB,CAA2B,KAAKvC,QAAhC,CAAnB;CACA,WAAKA,QAAL,IAAiB,KAAKA,QAAL,CAAcuC,UAAd,CAAyB,KAAK1C,YAAL,CAAkBQ,WAA3C,CAAjB;CACA,WAAKL,QAAL,IAAiB,KAAKA,QAAL,CAAcuC,UAAd,CAAyB,KAAK/B,+BAA9B,CAAjB;CACH;;CACD,SAAKrC,KAAL;CACH,GA5MmD;;;CA+MpDuC,EAAAA,YAAY,CAACuB,IAAD,EAAO;CACf,QAAIA,IAAJ,EAAU;CACN,UAAI,KAAKpC,YAAL,CAAkB2C,KAAlB,KAA4B,WAAhC,EAA6C;CACzC;CACA,aAAK3C,YAAL,CAAkB4C,MAAlB;CACH;CACJ,KALD,MAKO;CACH,UAAI,KAAK5C,YAAL,CAAkB2C,KAAlB,KAA4B,SAAhC,EAA2C;CACvC;CACA,aAAK3C,YAAL,CAAkB6C,OAAlB;CACH;CACJ;CACJ;;CAEDC,EAAAA,cAAc,GAAG;CACb,WAAO,KAAK9C,YAAL,CAAkB2C,KAAlB,KAA4B,SAAnC;CACH;;CAEDpB,EAAAA,gBAAgB,GAAG;CACf,WAAO,KAAKvB,YAAL,CAAkB2C,KAAlB,KAA4B,WAAnC;CACH;;CAEDrE,EAAAA,KAAK,GAAG;CACJ,SAAKsB,UAAL,GAAkB,EAAlB;CACH;;CAEDpd,EAAAA,IAAI,CAACwD,MAAD,EAASqX,EAAT,EAAa;CACb,SAAKuC,UAAL,CAAgBvU,IAAhB,CAAqB;CACjBrF,MAAAA,MADiB;CAEjBqX,MAAAA;CAFiB,KAArB;;CAKA,QAAI,KAAKuC,UAAL,CAAgB5S,MAAhB,GAAyB,EAA7B,EAAiC;CAC7B,WAAKxB,MAAL,CAAY9J,KAAZ,CAAkB6I,IAAlB,CAAuB,cAAvB,EAAwC,wBAAuB,KAAKqV,UAAL,CAAgB5S,MAAO,EAAtF,EAD6B;;CAI7B,UAAI,KAAK4S,UAAL,CAAgB5S,MAAhB,GAAyB,EAA7B,EAAiC;CAC7B,aAAK4S,UAAL,CAAgBoC,KAAhB;CACH;CACJ,KAbY;;CAehB;;CAEDjd,EAAAA,KAAK,GAAG;CACJ,SAAKgc,oBAAL,GAA4B;CACxBC,MAAAA,IAAI,EAAE;CADkB,KAA5B;CAGA,SAAKlc,OAAL,GAAe,KAAf;CACA,SAAKwZ,KAAL;CACH;;CAEDsE,EAAAA,MAAM,GAAG;CACL,SAAK9d,OAAL,GAAe,IAAf;CACH;;CAGD4B,EAAAA,OAAO,GAAG;CACN,SAAK+b,UAAL;CACA,SAAKzC,YAAL,CAAkBtb,KAAlB;CACA,SAAKsb,YAAL,GAAoB,IAApB;CACA,SAAKG,QAAL,GAAgB,IAAhB;CACA,SAAK1c,IAAL,GAAY,KAAZ;;CACA,QAAI,KAAKoc,UAAT,EAAqB;CACjB,WAAKA,UAAL,CAAgB+B,cAAhB,GAAiCxS,IAAjC;CACA,WAAKyQ,UAAL,GAAkB,IAAlB;CACH;;CACD,SAAKa,qBAAL,GAA6B,IAA7B;CACA,SAAKC,+BAAL,GAAuC,IAAvC;CACA,SAAKb,iBAAL,GAAyB,KAAzB;CACA,SAAKiB,oBAAL,GAA4B;CACxBC,MAAAA,IAAI,EAAE;CADkB,KAA5B;CAGA,SAAKlT,GAAL;CACA,SAAKtC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,cAAtB,EAAsC,SAAtC;CACH;;CAzRmD;;CCDzC,MAAMyd,KAAN,CAAY;CACvB9Y,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAMgU,MAAM,GAAGuD,KAAK,CAACtD,gBAAN,EAAf;CACA,WAAO,IAAID,MAAJ,CAAWhU,MAAX,CAAP;CACH;;CAEsB,SAAhBiU,gBAAgB,GAAG;CACtB,WAAOE,kBAAP;CACH;;CARsB;;CCCZ,MAAMqD,WAAN,SAA0BtM,OAA1B,CAAkC;CAC7CzM,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAK1G,OAAL,GAAe,KAAf;CAEA,SAAKme,eAAL,GAAuB,IAAIC,eAAJ,EAAvB,CALgB;;CAOhB,SAAKC,UAAL,GAAkBjQ,eAAe,CAACkQ,IAAI,IAAI;CACtC5X,MAAAA,MAAM,CAAC+J,IAAP,CAAY5Q,MAAM,CAACX,IAAnB,EAAyB,CAACof,IAAI,GAAG,IAAR,EAAc3O,OAAd,CAAsB,CAAtB,CAAzB;CACH,KAFgC,CAAjC;CAGAjJ,IAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,aAAjB,EAAgC,MAAhC;CACH;;CAED+d,EAAAA,WAAW,CAACtgB,GAAD,EAAM;CACb,UAAM;CAACugB,MAAAA;CAAD,QAAU,KAAK9X,MAArB;CACAvK,IAAAA,KAAK,CAAC8B,GAAD,EAAM;CAACwgB,MAAAA,MAAM,EAAE,KAAKN,eAAL,CAAqBM;CAA9B,KAAN,CAAL,CAAkDpV,IAAlD,CAAwDqV,GAAD,IAAS;CAC5D,YAAMC,MAAM,GAAGD,GAAG,CAAC1N,IAAJ,CAAS4N,SAAT,EAAf;CACA,WAAKnO,IAAL,CAAU5Q,MAAM,CAAC2B,aAAjB;;CACA,YAAMqd,SAAS,GAAG,MAAM;CACpBF,QAAAA,MAAM,CAACG,IAAP,GAAczV,IAAd,CAAmB,QAAmB;CAAA,cAAlB;CAAC0V,YAAAA,IAAD;CAAOpR,YAAAA;CAAP,WAAkB;;CAC9B,cAAIoR,IAAJ,EAAU;CACNP,YAAAA,KAAK,CAAC5e,KAAN;CACH,WAFD,MAEO;CACH,iBAAKye,UAAL,IAAmB,KAAKA,UAAL,CAAgB1Q,KAAK,CAACqR,UAAtB,CAAnB;CACAR,YAAAA,KAAK,CAACS,QAAN,CAAetR,KAAf;CACAkR,YAAAA,SAAS;CACZ;CACJ,SARL,EASEvV,KATF,CASS8B,CAAD,IAAO;CACXoT,UAAAA,KAAK,CAAC5e,KAAN,GADW;;CAGX,eAAK6Q,IAAL,CAAUpO,YAAY,CAACE,UAAvB,EAAmC6I,CAAnC;CACA,eAAK1E,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACY,KAAxB,EAA+B4B,YAAY,CAACE,UAA5C;CACA,eAAK2c,KAAL;CACH,SAfD;CAgBH,OAjBD;;CAkBAL,MAAAA,SAAS;CACZ,KAtBD,EAsBGvV,KAtBH,CAsBU8B,CAAD,IAAO;CACZ,WAAK8T,KAAL;CACA,WAAKzO,IAAL,CAAUpO,YAAY,CAACE,UAAvB,EAAmC6I,CAAnC;CACA,WAAK1E,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACY,KAAxB,EAA+B4B,YAAY,CAACE,UAA5C;CACH,KA1BD;CA2BH;;CAED2c,EAAAA,KAAK,GAAG;CACJ,QAAI,KAAKf,eAAT,EAA0B;CACtB,WAAKA,eAAL,CAAqBe,KAArB;CACA,WAAKf,eAAL,GAAuB,IAAvB;CACH;CACJ;;CAGDvc,EAAAA,OAAO,GAAG;CACN,SAAKsd,KAAL;CACA,SAAKlW,GAAL;CACA,SAAKqV,UAAL,GAAkB,IAAlB;CACA,SAAK3X,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,aAAtB,EAAqC,SAArC;CACH;;CA1D4C;;CCAlC,MAAM2e,eAAN,SAA8BvN,OAA9B,CAAsC;CACjDzM,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAK0Y,MAAL,GAAc,IAAd;CACA,SAAKC,YAAL,GAAoBzc,gBAAgB,CAACC,UAArC;CACA,SAAKyc,KAAL,GAAa,IAAb,CALgB;;CAOhB,SAAKjB,UAAL,GAAkBjQ,eAAe,CAACkQ,IAAI,IAAI;CACtC5X,MAAAA,MAAM,CAAC+J,IAAP,CAAY5Q,MAAM,CAACX,IAAnB,EAAyB,CAACof,IAAI,GAAG,IAAR,EAAc3O,OAAd,CAAsB,CAAtB,CAAzB;CACH,KAFgC,CAAjC;CAGH;;CAED4P,EAAAA,gBAAgB,GAAG;CACf,UAAM7Y,MAAM,GAAG,KAAKA,MAApB;CACA,UAAM;CACF9J,MAAAA,KADE;CAEF8T,MAAAA,MAAM,EAAE;CAAC9K,QAAAA;CAAD,OAFN;CAGF4Y,MAAAA;CAHE,QAIF9X,MAJJ;CAMA,SAAK0Y,MAAL,GAAc,IAAII,SAAJ,CAAc,KAAKF,KAAnB,CAAd;CACA,SAAKF,MAAL,CAAYK,UAAZ,GAAyB,aAAzB;CACA7Z,IAAAA,KAAK,CAAC,KAAKwZ,MAAN,EAAc,MAAd,EAAsB,MAAM;CAC7B,WAAK3O,IAAL,CAAU5Q,MAAM,CAAC2B,aAAjB;CACA5E,MAAAA,KAAK,CAAC4D,GAAN,CAAU,iBAAV,EAA6B,aAA7B;CACA,WAAK6e,YAAL,GAAoBzc,gBAAgB,CAACE,IAArC;CACH,KAJI,CAAL;CAMA8C,IAAAA,KAAK,CAAC,KAAKwZ,MAAN,EAAc,SAAd,EAAyB3Y,KAAK,IAAI;CACnC,WAAK4X,UAAL,IAAmB,KAAKA,UAAL,CAAgB5X,KAAK,CAAC4L,IAAN,CAAW2M,UAA3B,CAAnB;;CACA,WAAKU,cAAL,CAAoBjZ,KAAK,CAAC4L,IAA1B;CACH,KAHI,CAAL;CAMAzM,IAAAA,KAAK,CAAC,KAAKwZ,MAAN,EAAc,OAAd,EAAuB,MAAM;CAC9BxiB,MAAAA,KAAK,CAAC4D,GAAN,CAAU,iBAAV,EAA6B,cAA7B;CACA,WAAKiQ,IAAL,CAAU5Q,MAAM,CAAC0B,SAAjB;CACA,WAAK8d,YAAL,GAAoBzc,gBAAgB,CAAChD,KAArC;CACH,KAJI,CAAL;CAMAgG,IAAAA,KAAK,CAAC,KAAKwZ,MAAN,EAAc,OAAd,EAAuB3e,KAAK,IAAI;CACjC7D,MAAAA,KAAK,CAAC4D,GAAN,CAAU,iBAAV,EAA6B,cAA7B;CACA,WAAKiQ,IAAL,CAAUpO,YAAY,CAACG,cAAvB,EAAuC/B,KAAvC;CACA,WAAKiG,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACY,KAAxB,EAA+B4B,YAAY,CAACG,cAA5C;CACA,WAAK6c,YAAL,GAAoBzc,gBAAgB,CAACnC,KAArC;CACA+d,MAAAA,KAAK,CAAC5e,KAAN;CACAhD,MAAAA,KAAK,CAAC4D,GAAN,CAAU,iBAAV,EAA8B,eAA9B,EAA8CC,KAA9C;CACH,KAPI,CAAL;CAQH,GAjDgD;;;CAoDjDif,EAAAA,cAAc,CAACC,OAAD,EAAU;CACpB,UAAM;CAACnB,MAAAA;CAAD,QAAU,KAAK9X,MAArB;;CACA,QAAI,CAAC8X,KAAL,EAAY;CACR,WAAK9X,MAAL,CAAY9J,KAAZ,CAAkB6I,IAAlB,CAAuB,iBAAvB,EAA0C,wCAA1C;CACA;CACH;;CACD+Y,IAAAA,KAAK,CAACS,QAAN,CAAeU,OAAf;CACH;;CAGDpB,EAAAA,WAAW,CAACtgB,GAAD,EAAM;CACb,SAAKqhB,KAAL,GAAarhB,GAAb;;CACA,SAAKshB,gBAAL;CACH;;CAGD3d,EAAAA,OAAO,GAAG;CACN,QAAI,KAAKwd,MAAT,EAAiB;CACb,WAAKA,MAAL,CAAYxf,KAAZ;CACA,WAAKwf,MAAL,GAAc,IAAd;CACH;;CACD,SAAKC,YAAL,GAAoBzc,gBAAgB,CAACC,UAArC;CACA,SAAKwb,UAAL,GAAkB,IAAlB;CACA,SAAKrV,GAAL;CACA,SAAKtC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,iBAAtB,EAAyC,SAAzC;CACH;;CA7EgD;;CCAtC,MAAMof,MAAN,CAAa;CACxBza,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAMgU,MAAM,GAAGkF,MAAM,CAACjF,gBAAP,CAAwBjU,MAAM,CAACpB,IAAP,CAAYjH,QAApC,CAAf;CACA,WAAO,IAAIqc,MAAJ,CAAWhU,MAAX,CAAP;CACH;;CAEsB,SAAhBiU,gBAAgB,CAACtc,QAAD,EAAW;CAC9B,QAAIA,QAAQ,KAAKpC,oBAAoB,CAACE,KAAtC,EAA6C;CACzC,aAAO+hB,WAAP;CACH,KAFD,MAEO,IAAI7f,QAAQ,KAAKpC,oBAAoB,CAACC,SAAtC,EAAiD;CACpD,aAAOijB,eAAP;CACH;CACJ;;CAZuB;;;CCA5B;CACA;CAEA;CAEA;CACA;CACA;CACA;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA,WAASU,SAAT,CAAmBC,WAAnB,EAAgCC,MAAhC,EAAwC;CACpC,QAAI,CAACD,WAAL,EAAkB;CACd,YAAM,8BAAN;CACH;;CAEDC,IAAAA,MAAM,GAAGA,MAAM,IAAI;CACfnU,MAAAA,IAAI,EAAE;CADS,KAAnB;CAIAmU,IAAAA,MAAM,GAAG,IAAIC,sBAAJ,CAA2BF,WAA3B,EAAwCC,MAAxC,CAAT,CAToC;;CAYpC,QAAIhO,IAAI,GAAG,IAAX;;CAEA,aAASkO,cAAT,CAAwBC,OAAxB,EAAiC;CAC7B,UAAI,CAACH,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,qBAAZ,EAAmCuR,IAAI,CAACqO,OAAxC;CACH;;CAED,UAAI,CAAC,CAACF,OAAN,EAAe;;;CAGXH,QAAAA,MAAM,GAAG,IAAIC,sBAAJ,CAA2BF,WAA3B,EAAwCI,OAAxC,CAAT;CACH;;CAED,UAAI,CAACH,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,uBAAuBuf,MAAM,CAACnU,IAA9B,GAAqC,UAAjD;CACH;;CAED,UAAIyU,aAAJ,EAAmB;CACfA,QAAAA,aAAa,CAACC,iBAAd;CACAD,QAAAA,aAAa,CAACziB,MAAd;CAEA2iB,QAAAA,QAAQ,CAAC,WAAD,CAAR;;CAEA,YAAIxO,IAAI,CAACyO,iBAAT,EAA4B;CACxBC,UAAAA,uBAAuB;CAC1B;;CACD,eAAO1O,IAAP;CACH;;CAED2O,MAAAA,YAAY,CAAC,YAAW;CACpB,YAAI3O,IAAI,CAACyO,iBAAT,EAA4B;CACxBC,UAAAA,uBAAuB;CAC1B;CACJ,OAJW,CAAZ;CAMA,aAAO1O,IAAP;CACH;;CAED,aAAS2O,YAAT,CAAsBC,YAAtB,EAAoC;CAChC,UAAIA,YAAJ,EAAkB;CACdZ,QAAAA,MAAM,CAACY,YAAP,GAAsB,YAAW;CAC7BA,UAAAA,YAAY;CACZA,UAAAA,YAAY,GAAGZ,MAAM,CAACY,YAAP,GAAsB,IAArC,CAF6B;CAGhC,SAHD;CAIH;;CAED,UAAIC,QAAQ,GAAG,IAAIC,eAAJ,CAAoBf,WAApB,EAAiCC,MAAjC,CAAf;CAEAM,MAAAA,aAAa,GAAG,IAAIO,QAAJ,CAAad,WAAb,EAA0BC,MAA1B,CAAhB;CACAM,MAAAA,aAAa,CAACziB,MAAd;CAEA2iB,MAAAA,QAAQ,CAAC,WAAD,CAAR;;CAEA,UAAI,CAACR,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,2BAAZ,EAAyC6f,aAAa,CAAClb,WAAd,CAA0BE,IAAnE,EAAyE,kBAAzE,EAA6F0a,MAAM,CAACnU,IAApG;CACH;CACJ;;CAED,aAASkV,aAAT,CAAuB/a,QAAvB,EAAiC;CAC7BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEA,UAAI,CAACsa,aAAL,EAAoB;CAChBU,QAAAA,UAAU;CACV;CACH;;CAED,UAAIhP,IAAI,CAAC8L,KAAL,KAAe,QAAnB,EAA6B;CACzB9L,QAAAA,IAAI,CAACiP,eAAL;CAEAC,QAAAA,UAAU,CAAC,YAAW;CAClBH,UAAAA,aAAa,CAAC/a,QAAD,CAAb;CACH,SAFS,EAEP,CAFO,CAAV;CAGA;CACH;;CAED,UAAIgM,IAAI,CAAC8L,KAAL,KAAe,WAAf,IAA8B,CAACkC,MAAM,CAACI,WAA1C,EAAuD;CACnD3a,QAAAA,OAAO,CAACC,IAAR,CAAa,oEAAb,EAAmFsM,IAAI,CAAC8L,KAAxF;CACH;;CAED,UAAI,CAACkC,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,uBAAuBuf,MAAM,CAACnU,IAA9B,GAAqC,UAAjD;CACH;;CAED,UAAImU,MAAM,CAACnU,IAAP,KAAgB,KAApB,EAA2B;CACvByU,QAAAA,aAAa,CAACa,IAAd,CAAmBC,SAAnB;CACH,OAFD,MAEO;CACHd,QAAAA,aAAa,CAACa,IAAd;;CACAC,QAAAA,SAAS;CACZ;;CAEDZ,MAAAA,QAAQ,CAAC,SAAD,CAAR;;CAEA,eAASY,SAAT,CAAmBC,MAAnB,EAA2B;CACvB,YAAI,CAACf,aAAL,EAAoB;CAChB,cAAI,OAAOta,QAAQ,CAACsb,IAAhB,KAAyB,UAA7B,EAAyC;CACrCtb,YAAAA,QAAQ,CAACsb,IAAT,CAActP,IAAd,EAAoB,EAApB;CACH,WAFD,MAEO;CACHhM,YAAAA,QAAQ,CAAC,EAAD,CAAR;CACH;;CACD;CACH;;CAEDY,QAAAA,MAAM,CAACiH,IAAP,CAAYyS,aAAZ,EAA2B7Z,OAA3B,CAAmC,UAAS/B,GAAT,EAAc;CAC7C,cAAI,OAAO4b,aAAa,CAAC5b,GAAD,CAApB,KAA8B,UAAlC,EAA8C;CAC1C;CACH;;CAEDsN,UAAAA,IAAI,CAACtN,GAAD,CAAJ,GAAY4b,aAAa,CAAC5b,GAAD,CAAzB;CACH,SAND;CAQA,YAAIvB,IAAI,GAAGmd,aAAa,CAACnd,IAAzB;;CAEA,YAAI,CAACA,IAAL,EAAW;CACP,cAAIke,MAAJ,EAAY;CACRf,YAAAA,aAAa,CAACnd,IAAd,GAAqBA,IAAI,GAAGke,MAA5B;CACH,WAFD,MAEO;CACH,kBAAM,mBAAN;CACH;CACJ;;CAED,YAAIle,IAAI,IAAI,CAAC6c,MAAM,CAACI,WAApB,EAAiC;CAC7B3a,UAAAA,OAAO,CAAChF,GAAR,CAAY0C,IAAI,CAAC0I,IAAjB,EAAuB,IAAvB,EAA6B0V,WAAW,CAACpe,IAAI,CAACqL,IAAN,CAAxC;CACH;;CAED,YAAIxI,QAAJ,EAAc;CACV,cAAI9H,GAAJ;;CAEA,cAAI;CACAA,YAAAA,GAAG,GAAGwO,GAAG,CAACC,eAAJ,CAAoBxJ,IAApB,CAAN;CACH,WAFD,CAEE,OAAOkI,CAAP,EAAU;;CAEZ,cAAI,OAAOrF,QAAQ,CAACsb,IAAhB,KAAyB,UAA7B,EAAyC;CACrCtb,YAAAA,QAAQ,CAACsb,IAAT,CAActP,IAAd,EAAoB9T,GAApB;CACH,WAFD,MAEO;CACH8H,YAAAA,QAAQ,CAAC9H,GAAD,CAAR;CACH;CACJ;;CAED,YAAI,CAAC8hB,MAAM,CAACwB,eAAZ,EAA6B;CACzB;CACH;;CAEDC,QAAAA,UAAU,CAAC,UAASjW,OAAT,EAAkB;CACzB,cAAIkW,SAAS,GAAG,EAAhB;CACAA,UAAAA,SAAS,CAAC1B,MAAM,CAACnU,IAAP,GAAc,MAAf,CAAT,GAAkCL,OAAlC;CACAmW,UAAAA,WAAW,CAACC,KAAZ,CAAkBF,SAAlB;CACH,SAJS,CAAV;CAKH;CACJ;;CAED,aAASG,cAAT,GAA0B;CACtB,UAAI,CAACvB,aAAL,EAAoB;CAChBU,QAAAA,UAAU;CACV;CACH;;CAED,UAAIhP,IAAI,CAAC8L,KAAL,KAAe,WAAnB,EAAgC;CAC5B,YAAI,CAACkC,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAACC,IAAR,CAAa,kDAAb,EAAiEsM,IAAI,CAAC8L,KAAtE;CACH;;CACD;CACH;;CAED0C,MAAAA,QAAQ,CAAC,QAAD,CAAR;CAEAF,MAAAA,aAAa,CAACpgB,KAAd;;CAEA,UAAI,CAAC8f,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,mBAAZ;CACH;CACJ;;CAED,aAASwgB,eAAT,GAA2B;CACvB,UAAI,CAACX,aAAL,EAAoB;CAChBU,QAAAA,UAAU;CACV;CACH;;CAED,UAAIhP,IAAI,CAAC8L,KAAL,KAAe,QAAnB,EAA6B;CACzB,YAAI,CAACkC,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAACC,IAAR,CAAa,mDAAb,EAAkEsM,IAAI,CAAC8L,KAAvE;CACH;;CACD;CACH;;CAED0C,MAAAA,QAAQ,CAAC,WAAD,CAAR,CAbuB;;CAgBvBF,MAAAA,aAAa,CAACvC,MAAd;;CAEA,UAAI,CAACiC,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,oBAAZ;CACH;CACJ;;CAED,aAASqhB,QAAT,CAAkBC,KAAlB,EAAyB;CACrBC,MAAAA,WAAW,CAAC,IAAIC,cAAJ,GAAqBC,aAArB,CAAmCH,KAAnC,CAAD,CAAX;CACH;;CAED,aAASN,UAAT,CAAoBzb,QAApB,EAA8Bmc,cAA9B,EAA8C;CAC1C,UAAI,CAACnc,QAAL,EAAe;CACX,cAAM,2CAAN;CACH;;CAED,UAAI7C,IAAI,GAAGgf,cAAc,GAAGA,cAAc,CAAChf,IAAlB,GAAyB,CAACmd,aAAa,IAAI,EAAlB,EAAsBnd,IAAxE;;CAEA,UAAI,CAACA,IAAL,EAAW;CACP,YAAI,CAAC6c,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAACC,IAAR,CAAa,0CAAb;CACH;;CAEDwb,QAAAA,UAAU,CAAC,YAAW;CAClBO,UAAAA,UAAU,CAACzb,QAAD,EAAWmc,cAAX,CAAV;CACH,SAFS,EAEP,IAFO,CAAV;CAGA;CACH;;CAED,UAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,CAACC,SAAS,CAACC,eAAhD,EAAiE;CAC7D,YAAIC,SAAS,GAAGC,kBAAkB,CAACV,QAAD,CAAlC;;CAEAS,QAAAA,SAAS,CAACE,SAAV,GAAsB,UAAS/b,KAAT,EAAgB;CAClCV,UAAAA,QAAQ,CAACU,KAAK,CAAC4L,IAAP,CAAR;CACH,SAFD;;CAIAiQ,QAAAA,SAAS,CAACP,WAAV,CAAsB7e,IAAtB;CACH,OARD,MAQO;CACH,YAAIyb,MAAM,GAAG,IAAI8D,UAAJ,EAAb;CACA9D,QAAAA,MAAM,CAACsD,aAAP,CAAqB/e,IAArB;;CACAyb,QAAAA,MAAM,CAAC+D,MAAP,GAAgB,UAASjc,KAAT,EAAgB;CAC5BV,UAAAA,QAAQ,CAACU,KAAK,CAACX,MAAN,CAAagK,MAAd,CAAR;CACH,SAFD;CAGH;;CAED,eAASyS,kBAAT,CAA4BI,SAA5B,EAAuC;CACnC,YAAI;CACA,cAAIzf,IAAI,GAAGuJ,GAAG,CAACC,eAAJ,CAAoB,IAAIkW,IAAJ,CAAS,CAACD,SAAS,CAACvT,QAAV,EAAD,EACpC,uCAAuCuT,SAAS,CAACtd,IAAjD,GAAwD,cADpB,CAAT,EAE5B;CACCuG,YAAAA,IAAI,EAAE;CADP,WAF4B,CAApB,CAAX;CAMA,cAAIiX,MAAM,GAAG,IAAIV,MAAJ,CAAWjf,IAAX,CAAb;CACAuJ,UAAAA,GAAG,CAACG,eAAJ,CAAoB1J,IAApB;CACA,iBAAO2f,MAAP;CACH,SAVD,CAUE,OAAOzX,CAAP,EAAU;CACf;CACJ;;CAED,aAASqV,uBAAT,CAAiCqC,OAAjC,EAA0C;CACtCA,MAAAA,OAAO,GAAGA,OAAO,IAAI,CAArB;;CAEA,UAAI/Q,IAAI,CAAC8L,KAAL,KAAe,QAAnB,EAA6B;CACzBoD,QAAAA,UAAU,CAAC,YAAW;CAClBR,UAAAA,uBAAuB,CAACqC,OAAD,CAAvB;CACH,SAFS,EAEP,IAFO,CAAV;CAGA;CACH;;CAED,UAAI/Q,IAAI,CAAC8L,KAAL,KAAe,SAAnB,EAA8B;CAC1B;CACH;;CAED,UAAIiF,OAAO,IAAI/Q,IAAI,CAACyO,iBAApB,EAAuC;CACnCM,QAAAA,aAAa,CAAC/O,IAAI,CAACgR,kBAAN,CAAb;CACA;CACH;;CAEDD,MAAAA,OAAO,IAAI,IAAX,CAnBsC;;CAqBtC7B,MAAAA,UAAU,CAAC,YAAW;CAClBR,QAAAA,uBAAuB,CAACqC,OAAD,CAAvB;CACH,OAFS,EAEP,IAFO,CAAV;CAGH;;CAED,aAASvC,QAAT,CAAkB1C,KAAlB,EAAyB;CACrB,UAAI,CAAC9L,IAAL,EAAW;CACP;CACH;;CAEDA,MAAAA,IAAI,CAAC8L,KAAL,GAAaA,KAAb;;CAEA,UAAI,OAAO9L,IAAI,CAACiR,cAAL,CAAoB3B,IAA3B,KAAoC,UAAxC,EAAoD;CAChDtP,QAAAA,IAAI,CAACiR,cAAL,CAAoB3B,IAApB,CAAyBtP,IAAzB,EAA+B8L,KAA/B;CACH,OAFD,MAEO;CACH9L,QAAAA,IAAI,CAACiR,cAAL,CAAoBnF,KAApB;CACH;CACJ;;CAED,QAAIoF,OAAO,GAAG,gFAAgFlD,MAAM,CAACnU,IAAvF,GAA8F,YAA5G;;CAEA,aAASmV,UAAT,GAAsB;CAClB,UAAIhB,MAAM,CAACI,WAAP,KAAuB,IAA3B,EAAiC;CAC7B;CACH;;CAED3a,MAAAA,OAAO,CAACC,IAAR,CAAawd,OAAb;CACH;;CAED,QAAI5C,aAAJ;CAEA,QAAI6C,YAAY,GAAG;;CAEvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQjD,MAAAA,cAAc,EAAEA,cAZD;;;CAevB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQa,MAAAA,aAAa,EAAEA,aA3BA;;;CA8BvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQc,MAAAA,cAAc,EAAEA,cAvCD;;;CA0CvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQZ,MAAAA,eAAe,EAAEA,eAlDF;;;CAqDvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQN,MAAAA,YAAY,EAAEA,YA7DC;;;CAgEvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQyC,MAAAA,oBAAoB,EAAE,UAAS3C,iBAAT,EAA4Bza,QAA5B,EAAsC;CACxD,YAAI,OAAOya,iBAAP,KAA6B,WAAjC,EAA8C;CAC1C,gBAAM,gCAAN;CACH;;CAED,YAAI,OAAOA,iBAAP,KAA6B,QAAjC,EAA2C;CACvC,gBAAM,qCAAN;CACH;;CAEDzO,QAAAA,IAAI,CAACyO,iBAAL,GAAyBA,iBAAzB;;CACAzO,QAAAA,IAAI,CAACgR,kBAAL,GAA0Bhd,QAAQ,IAAI,YAAW,EAAjD;;CAEA,eAAO;CACHgd,UAAAA,kBAAkB,EAAE,UAAShd,QAAT,EAAmB;CACnCgM,YAAAA,IAAI,CAACgR,kBAAL,GAA0Bhd,QAA1B;CACH;CAHE,SAAP;CAKH,OAlGc;;;CAqGvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQua,MAAAA,iBAAiB,EAAE,YAAW;CAC1B,YAAI,CAACD,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAEDV,QAAAA,aAAa,CAACC,iBAAd;;CAEA,YAAI,CAACP,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAAChF,GAAR,CAAY,4BAAZ;CACH;CACJ,OAxHc;;;CA2HvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ4iB,MAAAA,OAAO,EAAE,YAAW;CAChB,YAAI,CAAC/C,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAED,eAAOV,aAAa,CAACnd,IAArB;CACH,OApJc;;;CAuJvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQse,MAAAA,UAAU,EAAEA,UAnKG;;;CAsKvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ6B,MAAAA,KAAK,EAAE,YAAW;CACd,YAAI,CAAChD,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAED,eAAOtU,GAAG,CAACC,eAAJ,CAAoB2T,aAAa,CAACnd,IAAlC,CAAP;CACH,OAvLc;;;CA0LvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQogB,MAAAA,mBAAmB,EAAE,YAAW;CAC5B,eAAOjD,aAAP;CACH,OAxMc;;;CA2MvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQkD,MAAAA,IAAI,EAAE,UAASlX,QAAT,EAAmB;CACrB,YAAI,CAACgU,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAEDyC,QAAAA,kBAAkB,CAACnD,aAAa,CAACnd,IAAf,EAAqBmJ,QAArB,CAAlB;CACH,OA/Nc;;;CAkOvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQoX,MAAAA,WAAW,EAAE,UAAS1d,QAAT,EAAmB;CAC5B,YAAI,CAACsa,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAEDlB,QAAAA,SAAS,CAAC4D,WAAV,CAAsB1D,MAAM,CAACnU,IAA7B,EAAmC7F,QAAnC;CACH,OAnPc;;;CAsPvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ2d,MAAAA,qBAAqB,EAAE,UAASC,iBAAT,EAA4B;CAC/C5D,QAAAA,MAAM,CAAC6D,aAAP,GAAuB,EAAvB;CAEA,YAAI1b,MAAM,GAAGyb,iBAAiB,CAACzb,MAA/B;;CACA,aAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,MAApB,EAA4BF,CAAC,EAA7B,EAAiC;CAC7B+X,UAAAA,MAAM,CAAC6D,aAAP,CAAqBrd,IAArB,CAA0B;CACtBsd,YAAAA,QAAQ,EAAE7b,CADY;CAEtB8b,YAAAA,KAAK,EAAEH,iBAAiB,CAAC3b,CAAD;CAFF,WAA1B;CAIH;CACJ,OA/Qc;;;CAkRvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ9E,MAAAA,IAAI,EAAE,IA/RS;;;CAkSvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQyZ,MAAAA,UAAU,EAAE,CA5SG;;;CA+SvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQP,MAAAA,UAAU,EAAE,CAzTG;;;CA4TvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQlb,MAAAA,MAAM,EAAE,IAvUO;;;CA0UvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ6iB,MAAAA,KAAK,EAAE,YAAW;CACd,YAAIhS,IAAI,CAAC8L,KAAL,KAAe,WAAf,IAA8B,CAACkC,MAAM,CAACI,WAA1C,EAAuD;CACnD3a,UAAAA,OAAO,CAACC,IAAR,CAAa,0BAAb;CACH;;CAED,YAAI4a,aAAa,IAAI,OAAOA,aAAa,CAACC,iBAArB,KAA2C,UAAhE,EAA4E;CACxED,UAAAA,aAAa,CAACC,iBAAd;CACH;;CACDD,QAAAA,aAAa,GAAG,IAAhB;CACAE,QAAAA,QAAQ,CAAC,UAAD,CAAR;CACAxO,QAAAA,IAAI,CAAC7O,IAAL,GAAY,IAAZ;CACH,OA7Vc;;;CAgWvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ8f,MAAAA,cAAc,EAAE,UAASnF,KAAT,EAAgB;CAC5B,YAAI,CAACkC,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAAChF,GAAR,CAAY,yBAAZ,EAAuCqd,KAAvC;CACH;CACJ,OA9Wc;;;CAiXvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQA,MAAAA,KAAK,EAAE,UA/XQ;;;CAkYvB;CACA;CACA;CACA;CACA;CACA;CACA;CACQmG,MAAAA,QAAQ,EAAE,YAAW;CACjB,eAAOjS,IAAI,CAAC8L,KAAZ;CACH,OA3Yc;;;CA8YvB;CACA;CACA;CACA;CACA;CACA;CACQjc,MAAAA,OAAO,EAAE,YAAW;CAChB,YAAIqiB,gBAAgB,GAAGlE,MAAM,CAACI,WAA9B;CAEAJ,QAAAA,MAAM,GAAG;CACLI,UAAAA,WAAW,EAAE;CADR,SAAT;CAGApO,QAAAA,IAAI,CAACgS,KAAL;CACAxD,QAAAA,QAAQ,CAAC,WAAD,CAAR;CACA2C,QAAAA,YAAY,GAAGnR,IAAI,GAAG,IAAtB;;CAEA,YAAImS,OAAO,CAACC,uBAAZ,EAAqC;CACjCD,UAAAA,OAAO,CAACC,uBAAR,CAAgCvkB,KAAhC;CACAskB,UAAAA,OAAO,CAACC,uBAAR,GAAkC,IAAlC;CACH;;CAEDpE,QAAAA,MAAM,CAACI,WAAP,GAAqB8D,gBAArB;;CAEA,YAAI,CAAClE,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAAChF,GAAR,CAAY,yBAAZ;CACH;CACJ,OAxac;;;CA2avB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ4f,MAAAA,OAAO,EAAE;CAnbM,KAAnB;;CAsbA,QAAI,CAAC,IAAL,EAAW;CACPrO,MAAAA,IAAI,GAAGmR,YAAP;CACA,aAAOA,YAAP;CACH,KAjvBmC;;;CAovBpC,SAAK,IAAIkB,IAAT,IAAiBlB,YAAjB,EAA+B;CAC3B,WAAKkB,IAAL,IAAalB,YAAY,CAACkB,IAAD,CAAzB;CACH;;CAEDrS,IAAAA,IAAI,GAAG,IAAP;CAEA,WAAOmR,YAAP;CACH;;CAEDrD,EAAAA,SAAS,CAACO,OAAV,GAAoB,OAApB;;CAEA,EAA6D;CACzDzY,IAAAA,cAAA,GAAiBkY,SAAjB;CACH;;CAQDA,EAAAA,SAAS,CAAC4D,WAAV,GAAwB,UAAS7X,IAAT,EAAe7F,QAAf,EAAyB;CAC7C,QAAI,CAACA,QAAL,EAAe;CACX,YAAM,wBAAN;CACH;;CAEDP,IAAAA,OAAO,CAAChF,GAAR,CAAY,uBAAuBoL,IAAI,KAAK,KAAT,GAAiB,OAAjB,GAA2BA,IAAI,GAAG,QAAzD,IAAqE,aAAjF;CACA8V,IAAAA,WAAW,CAAC2C,KAAZ,CAAkB,UAAS9Y,OAAT,EAAkB+Y,KAAlB,EAAyB;CACvC,UAAI1Y,IAAI,KAAK,KAAT,IAAkB0Y,KAAK,KAAK1Y,IAAI,GAAG,MAAnC,IAA6C7F,QAAjD,EAA2D;CACvDA,QAAAA,QAAQ,CAACwF,OAAD,CAAR;CACH;;CAED,UAAIK,IAAI,KAAK,KAAT,IAAkB7F,QAAtB,EAAgC;CAC5BA,QAAAA,QAAQ,CAACwF,OAAD,EAAU+Y,KAAK,CAACzY,OAAN,CAAc,MAAd,EAAsB,EAAtB,CAAV,CAAR;CACH;CACJ,KARD;CASH,GAfD;CAiBA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACAgU,EAAAA,SAAS,CAAC0E,WAAV,GAAwB,UAAS5b,OAAT,EAAkB;CACtCnD,IAAAA,OAAO,CAAChF,GAAR,CAAY,mCAAZ;CACAmI,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;;CACA,QAAIA,OAAO,CAAChL,KAAR,IAAiBgL,OAAO,CAACpJ,KAAzB,IAAkCoJ,OAAO,CAAC6b,GAA9C,EAAmD;CAC/C7b,MAAAA,OAAO,CAAChL,KAAR,CAAc6jB,UAAd,CAAyB,UAASiD,YAAT,EAAuB;CAC5C9b,QAAAA,OAAO,CAACpJ,KAAR,CAAciiB,UAAd,CAAyB,UAASkD,YAAT,EAAuB;CAC5C/b,UAAAA,OAAO,CAAC6b,GAAR,CAAYhD,UAAZ,CAAuB,UAASmD,UAAT,EAAqB;CACxCjD,YAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdiD,cAAAA,SAAS,EAAEH,YADG;CAEdI,cAAAA,SAAS,EAAEH,YAFG;CAGdI,cAAAA,OAAO,EAAEH;CAHK,aAAlB;CAKH,WAND;CAOH,SARD;CASH,OAVD;CAWH,KAZD,MAYO,IAAIhc,OAAO,CAAChL,KAAR,IAAiBgL,OAAO,CAACpJ,KAA7B,EAAoC;CACvCoJ,MAAAA,OAAO,CAAChL,KAAR,CAAc6jB,UAAd,CAAyB,UAASiD,YAAT,EAAuB;CAC5C9b,QAAAA,OAAO,CAACpJ,KAAR,CAAciiB,UAAd,CAAyB,UAASkD,YAAT,EAAuB;CAC5ChD,UAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdiD,YAAAA,SAAS,EAAEH,YADG;CAEdI,YAAAA,SAAS,EAAEH;CAFG,WAAlB;CAIH,SALD;CAMH,OAPD;CAQH,KATM,MASA,IAAI/b,OAAO,CAAChL,KAAR,IAAiBgL,OAAO,CAAC6b,GAA7B,EAAkC;CACrC7b,MAAAA,OAAO,CAAChL,KAAR,CAAc6jB,UAAd,CAAyB,UAASiD,YAAT,EAAuB;CAC5C9b,QAAAA,OAAO,CAAC6b,GAAR,CAAYhD,UAAZ,CAAuB,UAASmD,UAAT,EAAqB;CACxCjD,UAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdiD,YAAAA,SAAS,EAAEH,YADG;CAEdK,YAAAA,OAAO,EAAEH;CAFK,WAAlB;CAIH,SALD;CAMH,OAPD;CAQH,KATM,MASA,IAAIhc,OAAO,CAACpJ,KAAR,IAAiBoJ,OAAO,CAAC6b,GAA7B,EAAkC;CACrC7b,MAAAA,OAAO,CAACpJ,KAAR,CAAciiB,UAAd,CAAyB,UAASkD,YAAT,EAAuB;CAC5C/b,QAAAA,OAAO,CAAC6b,GAAR,CAAYhD,UAAZ,CAAuB,UAASmD,UAAT,EAAqB;CACxCjD,UAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdkD,YAAAA,SAAS,EAAEH,YADG;CAEdI,YAAAA,OAAO,EAAEH;CAFK,WAAlB;CAIH,SALD;CAMH,OAPD;CAQH,KATM,MASA,IAAIhc,OAAO,CAAChL,KAAZ,EAAmB;CACtBgL,MAAAA,OAAO,CAAChL,KAAR,CAAc6jB,UAAd,CAAyB,UAASiD,YAAT,EAAuB;CAC5C/C,QAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdiD,UAAAA,SAAS,EAAEH;CADG,SAAlB;CAGH,OAJD;CAKH,KANM,MAMA,IAAI9b,OAAO,CAACpJ,KAAZ,EAAmB;CACtBoJ,MAAAA,OAAO,CAACpJ,KAAR,CAAciiB,UAAd,CAAyB,UAASkD,YAAT,EAAuB;CAC5ChD,QAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdkD,UAAAA,SAAS,EAAEH;CADG,SAAlB;CAGH,OAJD;CAKH,KANM,MAMA,IAAI/b,OAAO,CAAC6b,GAAZ,EAAiB;CACpB7b,MAAAA,OAAO,CAAC6b,GAAR,CAAYhD,UAAZ,CAAuB,UAASmD,UAAT,EAAqB;CACxCjD,QAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdmD,UAAAA,OAAO,EAAEH;CADK,SAAlB;CAGH,OAJD;CAKH;CACJ,GA7DD;CAgEA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAAS3E,sBAAT,CAAgCF,WAAhC,EAA6CC,MAA7C,EAAqD;CACjD,QAAI,CAACA,MAAM,CAACgF,YAAR,IAAwB,CAAChF,MAAM,CAACnU,IAApC,EAA0C;CACtC,UAAI,CAAC,CAACmU,MAAM,CAACpiB,KAAT,IAAkB,CAAC,CAACoiB,MAAM,CAACxgB,KAA/B,EAAsC;CAClCwgB,QAAAA,MAAM,CAACnU,IAAP,GAAc,OAAd;CACH,OAFD,MAEO,IAAI,CAAC,CAACmU,MAAM,CAACpiB,KAAT,IAAkB,CAACoiB,MAAM,CAACxgB,KAA9B,EAAqC;CACxCwgB,QAAAA,MAAM,CAACnU,IAAP,GAAc,OAAd;CACH;CACJ;;CAED,QAAImU,MAAM,CAACgF,YAAP,IAAuB,CAAChF,MAAM,CAACnU,IAAnC,EAAyC;CACrC,UAAImU,MAAM,CAACgF,YAAP,KAAwBC,cAAxB,IAA0CjF,MAAM,CAACgF,YAAP,KAAwBE,cAAlE,IAAqF,OAAOC,mBAAP,KAA+B,WAA/B,IAA8CnF,MAAM,CAACgF,YAAP,KAAwBG,mBAA/J,EAAqL;CACjLnF,QAAAA,MAAM,CAACnU,IAAP,GAAc,OAAd;CACH,OAFD,MAEO,IAAImU,MAAM,CAACgF,YAAP,KAAwBI,WAA5B,EAAyC;CAC5CpF,QAAAA,MAAM,CAACnU,IAAP,GAAc,KAAd;CACH,OAFM,MAEA,IAAImU,MAAM,CAACgF,YAAP,KAAwBK,mBAA5B,EAAiD;CACpDrF,QAAAA,MAAM,CAACnU,IAAP,GAAc,OAAd;CACH,OAFM,MAEA,IAAImU,MAAM,CAACgF,YAAP,KAAwBM,mBAA5B,EAAiD;CACpD,YAAIC,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAAhC,IAA0Cod,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAA9E,EAAsF;CAClF6X,UAAAA,MAAM,CAACnU,IAAP,GAAc,OAAd;CACH,SAFD,MAEO,IAAI,CAAC0Z,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAAjC,IAA2Cod,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAA/E,EAAuF;CAC1F6X,UAAAA,MAAM,CAACnU,IAAP,GAAc,OAAd;CACH,SAFM,MAEA,IAAI0Z,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAAhC,IAA0C,CAACod,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAA/E,EAAuF;CAC1F6X,UAAAA,MAAM,CAACnU,IAAP,GAAc,OAAd;CACH,SAFM,MAEA;CAGV;CACJ;;CAED,QAAI,OAAOyZ,mBAAP,KAA+B,WAA/B,IAA8C,OAAOE,aAAP,KAAyB,WAAvE,IAAsF,iBAAiBA,aAAa,CAACC,SAAzH,EAAoI;CAChI,UAAI,CAACzF,MAAM,CAAC0F,QAAZ,EAAsB;CAClB1F,QAAAA,MAAM,CAAC0F,QAAP,GAAkB,YAAlB;CACH;;CAED,UAAI,CAAC1F,MAAM,CAACnU,IAAZ,EAAkB;CACdmU,QAAAA,MAAM,CAACnU,IAAP,GAAcmU,MAAM,CAAC0F,QAAP,CAAgBha,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAd;CACH;;CAED,UAAI,CAACsU,MAAM,CAAC2F,aAAZ,EAA2B;CAG9B,KAzCgD;;;CA4CjD,QAAI,CAAC3F,MAAM,CAACnU,IAAZ,EAAkB;CACd,UAAImU,MAAM,CAAC0F,QAAX,EAAqB;CACjB1F,QAAAA,MAAM,CAACnU,IAAP,GAAcmU,MAAM,CAAC0F,QAAP,CAAgBha,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAd;CACH;;CACD,UAAI,CAACsU,MAAM,CAACnU,IAAZ,EAAkB;CACdmU,QAAAA,MAAM,CAACnU,IAAP,GAAc,OAAd;CACH;CACJ;;CAED,WAAOmU,MAAP;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASc,eAAT,CAAyBf,WAAzB,EAAsCC,MAAtC,EAA8C;CAC1C,QAAI4F,QAAJ,CAD0C;;;CAK1C,QAAIC,QAAQ,IAAIC,MAAZ,IAAsBC,OAA1B,EAAmC;;;CAG/BH,MAAAA,QAAQ,GAAGP,mBAAX;CACH;;CAED,QAAI,OAAOG,aAAP,KAAyB,WAAzB,IAAwC,iBAAiBA,aAAa,CAACC,SAAvE,IAAoF,CAACI,QAAzF,EAAmG;CAC/FD,MAAAA,QAAQ,GAAGN,mBAAX;CACH,KAbyC;;;CAgB1C,QAAItF,MAAM,CAACnU,IAAP,KAAgB,OAAhB,KAA4Bga,QAAQ,IAAIE,OAAxC,CAAJ,EAAsD;CAClDH,MAAAA,QAAQ,GAAGX,cAAX;;CAEA,UAAI,OAAOE,mBAAP,KAA+B,WAA/B,IAA8C,OAAOa,cAAP,KAA0B,WAA5E,EAAyF;CACrFJ,QAAAA,QAAQ,GAAGT,mBAAX;CACH;CACJ,KAtByC;;;CAyB1C,QAAInF,MAAM,CAACnU,IAAP,KAAgB,KAApB,EAA2B;CACvB+Z,MAAAA,QAAQ,GAAGR,WAAX;CACH,KA3ByC;;;CA8B1C,QAAIpF,MAAM,CAACnU,IAAP,KAAgB,QAApB,EAA8B;CAC1B+Z,MAAAA,QAAQ,GAAGV,cAAX;CACH;;CAED,QAAIe,yBAAyB,MAAML,QAAQ,KAAKV,cAA5C,IAA8DU,QAAQ,KAAKR,WAA3E,IAA0F,OAAOI,aAAP,KAAyB,WAAnH,IAAkI,iBAAiBA,aAAa,CAACC,SAArK,EAAgL;CAC5K,UAAIF,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAAhC,IAA0Cod,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAA9E,EAAsF;;CAElF,YAAI6X,MAAM,CAACnU,IAAP,KAAgB,OAApB,EAA6B;CACzB,cAAI,OAAO2Z,aAAa,CAACnV,eAArB,KAAyC,UAAzC,IAAuDmV,aAAa,CAACnV,eAAd,CAA8B,YAA9B,CAA3D,EAAwG;CACpGuV,YAAAA,QAAQ,GAAGN,mBAAX;CACH,WAHwB;;CAK5B,SALD,MAKO;;CAEH,cAAI,OAAOE,aAAa,CAACnV,eAArB,KAAyC,UAAzC,IAAuDmV,aAAa,CAACnV,eAAd,CAA8B,YAA9B,CAA3D,EAAwG;CACpGuV,YAAAA,QAAQ,GAAGN,mBAAX;CACH;CACJ;CACJ;CACJ;;CAED,QAAIvF,WAAW,YAAY7Z,KAAvB,IAAgC6Z,WAAW,CAAC5X,MAAhD,EAAwD;CACpDyd,MAAAA,QAAQ,GAAGM,mBAAX;CACH;;CAED,QAAIlG,MAAM,CAACgF,YAAX,EAAyB;CACrBY,MAAAA,QAAQ,GAAG5F,MAAM,CAACgF,YAAlB;CACH;;CAED,QAAI,CAAChF,MAAM,CAACI,WAAR,IAAuB,CAAC,CAACwF,QAAzB,IAAqC,CAAC,CAACA,QAAQ,CAACtgB,IAApD,EAA0D;CACtDG,MAAAA,OAAO,CAAChF,GAAR,CAAY,qBAAZ,EAAmCmlB,QAAQ,CAACtgB,IAAT,IAAiBsgB,QAAQ,CAACxgB,WAAT,CAAqBE,IAAzE;CACH;;CAED,QAAI,CAACsgB,QAAD,IAAaO,QAAjB,EAA2B;CACvBP,MAAAA,QAAQ,GAAGN,mBAAX;CACH;;CAED,WAAOM,QAAP;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASQ,UAAT,CAAoBrG,WAApB,EAAiC;;CAGjC;CACA;CACA;CACA;CACA;CACA;CACA;CACI,SAAKsG,SAAL,GAAiB,UAASC,YAAT,EAAuB;CACpC,UAAIA,YAAJ,EAAkB;CACdvG,QAAAA,WAAW,GAAGuG,YAAd;CACH;CACJ,KAJD;;CAOJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKC,SAAL,GAAiB;CACb3oB,MAAAA,KAAK,EAAE,IADM;CAEb4B,MAAAA,KAAK,EAAE;CAFM,KAAjB;;CAMJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK0gB,cAAL,GAAsB,YAAW;CAC7B,UAAIqG,SAAS,GAAG,KAAKA,SAArB;CACA,UAAIvB,YAAJ;CACA,UAAIU,QAAQ,GAAG,KAAKA,QAAL,IAAiB;CAC5B9nB,QAAAA,KAAK,EAAE,IADqB;CAE5B4B,QAAAA,KAAK,EAAE,IAFqB;CAG5BilB,QAAAA,GAAG,EAAE;CAHuB,OAAhC;;CAMA,UAAI,OAAO8B,SAAS,CAAC3oB,KAAjB,KAA2B,UAA3B,IAAyCqoB,yBAAyB,EAAlE,IAAwE,CAACV,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAA7G,EAAqH;CACjHoe,QAAAA,SAAS,CAAC3oB,KAAV,GAAkB,KAAlB;CACH;;CAED,UAAI,OAAO2oB,SAAS,CAAC/mB,KAAjB,KAA2B,UAA3B,IAAyCymB,yBAAyB,EAAlE,IAAwE,CAACV,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAA7G,EAAqH;CACjHoe,QAAAA,SAAS,CAAC/mB,KAAV,GAAkB,KAAlB;CACH;;CAED,UAAI,OAAO+mB,SAAS,CAAC9B,GAAjB,KAAyB,UAAzB,IAAuCwB,yBAAyB,EAAhE,IAAsE,CAACV,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAA3G,EAAmH;CAC/Goe,QAAAA,SAAS,CAAC9B,GAAV,GAAgB,KAAhB;CACH;;CAED,UAAI,CAAC8B,SAAS,CAAC3oB,KAAX,IAAoB,CAAC2oB,SAAS,CAAC/mB,KAA/B,IAAwC,CAAC+mB,SAAS,CAAC9B,GAAvD,EAA4D;CACxD,cAAM,qDAAN;CACH;;CAED,UAAI,CAAC,CAAC8B,SAAS,CAAC3oB,KAAhB,EAAuB;CACnBonB,QAAAA,YAAY,GAAG,IAAf;;CACA,YAAI,OAAOuB,SAAS,CAAC3oB,KAAjB,KAA2B,UAA/B,EAA2C;CACvConB,UAAAA,YAAY,GAAGuB,SAAS,CAAC3oB,KAAzB;CACH;;CAED,aAAK4oB,aAAL,GAAqB,IAAI1G,SAAJ,CAAcC,WAAd,EAA2B;CAC5ClU,UAAAA,IAAI,EAAE,OADsC;CAE5C+Q,UAAAA,UAAU,EAAE,KAAKA,UAF2B;CAG5CP,UAAAA,UAAU,EAAE,KAAKA,UAH2B;CAI5CoK,UAAAA,qBAAqB,EAAE,KAAKA,qBAAL,IAA8B,CAJT;CAK5CrG,UAAAA,WAAW,EAAE,KAAKA,WAL0B;CAM5C4E,UAAAA,YAAY,EAAEA,YAN8B;CAO5CU,UAAAA,QAAQ,EAAEA,QAAQ,CAAC9nB,KAPyB;CAQ5C8oB,UAAAA,SAAS,EAAE,KAAKA,SAR4B;CAS5CC,UAAAA,WAAW,EAAE,KAAKA;CAT0B,SAA3B,CAArB;;CAYA,YAAI,CAACJ,SAAS,CAAC/mB,KAAf,EAAsB;CAClB,eAAKgnB,aAAL,CAAmBtG,cAAnB;CACH;CACJ;;CAED,UAAI,CAAC,CAACqG,SAAS,CAAC/mB,KAAhB,EAAuB;CACnBwlB,QAAAA,YAAY,GAAG,IAAf;;CACA,YAAI,OAAOuB,SAAS,CAAC/mB,KAAjB,KAA2B,UAA/B,EAA2C;CACvCwlB,UAAAA,YAAY,GAAGuB,SAAS,CAAC/mB,KAAzB;CACH;;CAED,YAAIonB,SAAS,GAAG7G,WAAhB;;CAEA,YAAIkG,yBAAyB,MAAM,CAAC,CAACM,SAAS,CAAC3oB,KAA3C,IAAoD,OAAO2oB,SAAS,CAAC3oB,KAAjB,KAA2B,UAAnF,EAA+F;CAC3F,cAAIipB,UAAU,GAAGtB,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC,CAAhC,CAAjB;;CAEA,cAAI+G,SAAJ,EAAe;CACXF,YAAAA,SAAS,GAAG,IAAIG,WAAJ,EAAZ;CACAH,YAAAA,SAAS,CAACI,QAAV,CAAmBH,UAAnB;;CAEA,gBAAI7B,YAAY,IAAIA,YAAY,KAAKC,cAArC,EAAqD;;;CAGjDD,cAAAA,YAAY,GAAGM,mBAAf;CACH;CACJ,WATD,MASO;CACHsB,YAAAA,SAAS,GAAG,IAAIG,WAAJ,EAAZ;CACAH,YAAAA,SAAS,CAACI,QAAV,CAAmBH,UAAnB;CACH;CACJ;;CAED,aAAKI,aAAL,GAAqB,IAAInH,SAAJ,CAAc8G,SAAd,EAAyB;CAC1C/a,UAAAA,IAAI,EAAE,OADoC;CAE1CrM,UAAAA,KAAK,EAAE,KAAKA,KAF8B;CAG1C4a,UAAAA,MAAM,EAAE,KAAKA,MAH6B;CAI1C8M,UAAAA,aAAa,EAAE,KAAKA,aAAL,IAAsB,EAJK;CAK1C9G,UAAAA,WAAW,EAAE,KAAKA,WALwB;CAM1C4E,UAAAA,YAAY,EAAEA,YAN4B;CAO1CU,UAAAA,QAAQ,EAAEA,QAAQ,CAAClmB,KAPuB;CAQ1CknB,UAAAA,SAAS,EAAE,KAAKA,SAR0B;CAS1CC,UAAAA,WAAW,EAAE,KAAKA,WATwB;CAU1CQ,UAAAA,UAAU,EAAE,KAAKA,UAVyB;CAW1CC,UAAAA,eAAe,EAAE,KAAKA,eAXoB;CAY1CC,UAAAA,SAAS,EAAE,KAAKA,SAZ0B;;CAa1CC,UAAAA,OAAO,EAAE,KAAKA,OAb4B;;CAAA,SAAzB,CAArB;;CAgBA,YAAI,CAACf,SAAS,CAAC3oB,KAAf,EAAsB;CAClB,eAAKqpB,aAAL,CAAmB/G,cAAnB;CACH;CACJ;;CAED,UAAI,CAAC,CAACqG,SAAS,CAAC3oB,KAAZ,IAAqB,CAAC,CAAC2oB,SAAS,CAAC/mB,KAArC,EAA4C;CACxC,YAAIwS,IAAI,GAAG,IAAX;CAEA,YAAIuV,gBAAgB,GAAGtB,yBAAyB,OAAO,IAAvD;;CAEA,YAAIM,SAAS,CAAC3oB,KAAV,YAA2BynB,mBAA3B,IAAkD,CAAC,CAACkB,SAAS,CAAC/mB,KAAlE,EAAyE;CACrE+nB,UAAAA,gBAAgB,GAAG,KAAnB;CACH,SAFD,MAEO,IAAIhB,SAAS,CAAC3oB,KAAV,KAAoB,IAApB,IAA4B2oB,SAAS,CAAC/mB,KAAV,KAAoB,IAAhD,IAAwD+mB,SAAS,CAAC3oB,KAAV,KAAoB2oB,SAAS,CAAC/mB,KAA1F,EAAiG;CACpG+nB,UAAAA,gBAAgB,GAAG,KAAnB;CACH;;CAED,YAAIA,gBAAgB,KAAK,IAAzB,EAA+B;CAC3BvV,UAAAA,IAAI,CAACwU,aAAL,GAAqB,IAArB;CACAxU,UAAAA,IAAI,CAACiV,aAAL,CAAmB/G,cAAnB;CACH,SAHD,MAGO;CACHlO,UAAAA,IAAI,CAACiV,aAAL,CAAmBtG,YAAnB,CAAgC,YAAW;CACvC3O,YAAAA,IAAI,CAACwU,aAAL,CAAmB7F,YAAnB,CAAgC,YAAW;;CAEvC3O,cAAAA,IAAI,CAACiV,aAAL,CAAmB/G,cAAnB;CACAlO,cAAAA,IAAI,CAACwU,aAAL,CAAmBtG,cAAnB;CACH,aAJD;CAKH,WAND;CAOH;CACJ;;CAED,UAAI,CAAC,CAACqG,SAAS,CAAC9B,GAAhB,EAAqB;CACjBO,QAAAA,YAAY,GAAG,IAAf;;CACA,YAAI,OAAOuB,SAAS,CAAC9B,GAAjB,KAAyB,UAA7B,EAAyC;CACrCO,UAAAA,YAAY,GAAGuB,SAAS,CAAC9B,GAAzB;CACH;;CACD,aAAK+C,WAAL,GAAmB,IAAI1H,SAAJ,CAAcC,WAAd,EAA2B;CAC1ClU,UAAAA,IAAI,EAAE,KADoC;CAE1Cwb,UAAAA,SAAS,EAAE,KAAKA,SAAL,IAAkB,GAFa;CAG1CvO,UAAAA,OAAO,EAAE,KAAKA,OAAL,IAAgB,EAHiB;CAI1CsH,UAAAA,WAAW,EAAE,KAAKA,WAJwB;CAK1C4E,UAAAA,YAAY,EAAEA,YAL4B;CAM1CU,UAAAA,QAAQ,EAAEA,QAAQ,CAACjB;CANuB,SAA3B,CAAnB;CAQA,aAAK+C,WAAL,CAAiBtH,cAAjB;CACH;CACJ,KAvID;;CA0IJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKa,aAAL,GAAqB,UAAS/a,QAAT,EAAmB;CACpCA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEA,UAAI,KAAKwgB,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBzF,aAAnB,CAAiC,UAAS0G,OAAT,EAAkB;CAC/CzhB,UAAAA,QAAQ,CAACyhB,OAAD,EAAU,OAAV,CAAR;CACH,SAFD;CAGH;;CAED,UAAI,KAAKR,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBlG,aAAnB,CAAiC,UAAS0G,OAAT,EAAkB;CAC/CzhB,UAAAA,QAAQ,CAACyhB,OAAD,EAAU,OAAV,CAAR;CACH,SAFD;CAGH;;CAED,UAAI,KAAKD,WAAT,EAAsB;CAClB,aAAKA,WAAL,CAAiBzG,aAAjB,CAA+B,UAAS0G,OAAT,EAAkB;CAC7CzhB,UAAAA,QAAQ,CAACyhB,OAAD,EAAU,KAAV,CAAR;CACH,SAFD;CAGH;CACJ,KApBD;;CAuBJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK5F,cAAL,GAAsB,YAAW;CAC7B,UAAI,KAAK2E,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmB3E,cAAnB;CACH;;CAED,UAAI,KAAKoF,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBpF,cAAnB;CACH;;CAED,UAAI,KAAK2F,WAAT,EAAsB;CAClB,aAAKA,WAAL,CAAiB3F,cAAjB;CACH;CACJ,KAZD;;CAeJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKZ,eAAL,GAAuB,YAAW;CAC9B,UAAI,KAAKuF,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBvF,eAAnB;CACH;;CAED,UAAI,KAAKgG,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBhG,eAAnB;CACH;;CAED,UAAI,KAAKuG,WAAT,EAAsB;CAClB,aAAKA,WAAL,CAAiBvG,eAAjB;CACH;CACJ,KAZD;;CAeJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKoC,OAAL,GAAe,UAASrd,QAAT,EAAmB;CAC9B,UAAI0S,MAAM,GAAG,EAAb;;CAEA,UAAI,KAAK8N,aAAT,EAAwB;CACpB9N,QAAAA,MAAM,CAAC9a,KAAP,GAAe,KAAK4oB,aAAL,CAAmBnD,OAAnB,EAAf;CACH;;CAED,UAAI,KAAK4D,aAAT,EAAwB;CACpBvO,QAAAA,MAAM,CAAClZ,KAAP,GAAe,KAAKynB,aAAL,CAAmB5D,OAAnB,EAAf;CACH;;CAED,UAAI,KAAKmE,WAAT,EAAsB;CAClB9O,QAAAA,MAAM,CAAC+L,GAAP,GAAa,KAAK+C,WAAL,CAAiBnE,OAAjB,EAAb;CACH;;CAED,UAAIrd,QAAJ,EAAc;CACVA,QAAAA,QAAQ,CAAC0S,MAAD,CAAR;CACH;;CAED,aAAOA,MAAP;CACH,KApBD;;CAuBJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK7W,OAAL,GAAe,YAAW;CACtB,UAAI,KAAK2kB,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmB3kB,OAAnB;CACA,aAAK2kB,aAAL,GAAqB,IAArB;CACH;;CAED,UAAI,KAAKS,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBplB,OAAnB;CACA,aAAKolB,aAAL,GAAqB,IAArB;CACH;;CAED,UAAI,KAAKO,WAAT,EAAsB;CAClB,aAAKA,WAAL,CAAiB3lB,OAAjB;CACA,aAAK2lB,WAAL,GAAmB,IAAnB;CACH;CACJ,KAfD;;CAkBJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK/F,UAAL,GAAkB,UAASzb,QAAT,EAAmB;CACjC,WAAKqd,OAAL,CAAa,UAASlgB,IAAT,EAAe;CACxB,YAAIA,IAAI,CAACvF,KAAL,IAAcuF,IAAI,CAAC3D,KAAvB,EAA8B;CAC1BiiB,UAAAA,UAAU,CAACte,IAAI,CAACvF,KAAN,EAAa,UAAS8pB,aAAT,EAAwB;CAC3CjG,YAAAA,UAAU,CAACte,IAAI,CAAC3D,KAAN,EAAa,UAASmoB,aAAT,EAAwB;CAC3C3hB,cAAAA,QAAQ,CAAC;CACLpI,gBAAAA,KAAK,EAAE8pB,aADF;CAELloB,gBAAAA,KAAK,EAAEmoB;CAFF,eAAD,CAAR;CAIH,aALS,CAAV;CAMH,WAPS,CAAV;CAQH,SATD,MASO,IAAIxkB,IAAI,CAACvF,KAAT,EAAgB;CACnB6jB,UAAAA,UAAU,CAACte,IAAI,CAACvF,KAAN,EAAa,UAAS8pB,aAAT,EAAwB;CAC3C1hB,YAAAA,QAAQ,CAAC;CACLpI,cAAAA,KAAK,EAAE8pB;CADF,aAAD,CAAR;CAGH,WAJS,CAAV;CAKH,SANM,MAMA,IAAIvkB,IAAI,CAAC3D,KAAT,EAAgB;CACnBiiB,UAAAA,UAAU,CAACte,IAAI,CAAC3D,KAAN,EAAa,UAASmoB,aAAT,EAAwB;CAC3C3hB,YAAAA,QAAQ,CAAC;CACLxG,cAAAA,KAAK,EAAEmoB;CADF,aAAD,CAAR;CAGH,WAJS,CAAV;CAKH;CACJ,OAvBD;;CAyBA,eAASlG,UAAT,CAAoBte,IAApB,EAA0BykB,UAA1B,EAAsC;CAClC,YAAI,OAAOxF,MAAP,KAAkB,WAAtB,EAAmC;CAC/B,cAAIG,SAAS,GAAGC,kBAAkB,CAAC,SAASV,QAAT,CAAkBC,KAAlB,EAAyB;CACxDC,YAAAA,WAAW,CAAC,IAAIC,cAAJ,GAAqBC,aAArB,CAAmCH,KAAnC,CAAD,CAAX;CACH,WAFiC,CAAlC;;CAIAQ,UAAAA,SAAS,CAACE,SAAV,GAAsB,UAAS/b,KAAT,EAAgB;CAClCkhB,YAAAA,UAAU,CAAClhB,KAAK,CAAC4L,IAAP,CAAV;CACH,WAFD;;CAIAiQ,UAAAA,SAAS,CAACP,WAAV,CAAsB7e,IAAtB;CACH,SAVD,MAUO;CACH,cAAIyb,MAAM,GAAG,IAAI8D,UAAJ,EAAb;CACA9D,UAAAA,MAAM,CAACsD,aAAP,CAAqB/e,IAArB;;CACAyb,UAAAA,MAAM,CAAC+D,MAAP,GAAgB,UAASjc,KAAT,EAAgB;CAC5BkhB,YAAAA,UAAU,CAAClhB,KAAK,CAACX,MAAN,CAAagK,MAAd,CAAV;CACH,WAFD;CAGH;CACJ;;CAED,eAASyS,kBAAT,CAA4BI,SAA5B,EAAuC;CACnC,YAAIzf,IAAI,GAAGuJ,GAAG,CAACC,eAAJ,CAAoB,IAAIkW,IAAJ,CAAS,CAACD,SAAS,CAACvT,QAAV,EAAD,EACpC,uCAAuCuT,SAAS,CAACtd,IAAjD,GAAwD,cADpB,CAAT,EAE5B;CACCuG,UAAAA,IAAI,EAAE;CADP,SAF4B,CAApB,CAAX;CAMA,YAAIiX,MAAM,GAAG,IAAIV,MAAJ,CAAWjf,IAAX,CAAb;CACA,YAAIjF,GAAJ;;CACA,YAAI,OAAOwO,GAAP,KAAe,WAAnB,EAAgC;CAC5BxO,UAAAA,GAAG,GAAGwO,GAAN;CACH,SAFD,MAEO,IAAI,OAAOmb,SAAP,KAAqB,WAAzB,EAAsC;CACzC3pB,UAAAA,GAAG,GAAG2pB,SAAN;CACH,SAFM,MAEA;CACH,gBAAM,qCAAN;CACH;;CACD3pB,QAAAA,GAAG,CAAC2O,eAAJ,CAAoB1J,IAApB;CACA,eAAO2f,MAAP;CACH;CACJ,KAjED;;CAoEJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK0B,WAAL,GAAmB,YAAW;CAC1B1E,MAAAA,SAAS,CAAC0E,WAAV,CAAsB;CAClB5mB,QAAAA,KAAK,EAAE,KAAK4oB,aADM;CAElBhnB,QAAAA,KAAK,EAAE,KAAKynB,aAFM;CAGlBxC,QAAAA,GAAG,EAAE,KAAK+C;CAHQ,OAAtB;CAKH,KAND;;CASJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKhE,IAAL,GAAY,UAAShe,IAAT,EAAe;CACvBA,MAAAA,IAAI,GAAGA,IAAI,IAAI;CACX5H,QAAAA,KAAK,EAAE,IADI;CAEX4B,QAAAA,KAAK,EAAE,IAFI;CAGXilB,QAAAA,GAAG,EAAE;CAHM,OAAf;;CAMA,UAAI,CAAC,CAACjf,IAAI,CAAC5H,KAAP,IAAgB,KAAK4oB,aAAzB,EAAwC;CACpC,aAAKA,aAAL,CAAmBhD,IAAnB,CAAwB,OAAOhe,IAAI,CAAC5H,KAAZ,KAAsB,QAAtB,GAAiC4H,IAAI,CAAC5H,KAAtC,GAA8C,EAAtE;CACH;;CAED,UAAI,CAAC,CAAC4H,IAAI,CAAChG,KAAP,IAAgB,KAAKynB,aAAzB,EAAwC;CACpC,aAAKA,aAAL,CAAmBzD,IAAnB,CAAwB,OAAOhe,IAAI,CAAChG,KAAZ,KAAsB,QAAtB,GAAiCgG,IAAI,CAAChG,KAAtC,GAA8C,EAAtE;CACH;;CACD,UAAI,CAAC,CAACgG,IAAI,CAACif,GAAP,IAAc,KAAK+C,WAAvB,EAAoC;CAChC,aAAKA,WAAL,CAAiBhE,IAAjB,CAAsB,OAAOhe,IAAI,CAACif,GAAZ,KAAoB,QAApB,GAA+Bjf,IAAI,CAACif,GAApC,GAA0C,EAAhE;CACH;CACJ,KAjBD;CAkBH;CAED;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA2B,EAAAA,UAAU,CAAC1C,WAAX,GAAyB5D,SAAS,CAAC4D,WAAnC;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACA0C,EAAAA,UAAU,CAAC5B,WAAX,GAAyB1E,SAAS,CAAC0E,WAAnC;;CAEA,MAAI,OAAO1E,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACsG,UAAV,GAAuBA,UAAvB;CACH;;CAED,MAAI0B,oBAAoB,GAAG,qFAA3B;;CAEA,GAAC,UAASC,IAAT,EAAe;CACZ,QAAI,CAACA,IAAL,EAAW;CACP;CACH;;CAED,QAAI,OAAOrgB,MAAP,KAAkB,WAAtB,EAAmC;CAC/B;CACH;;CAED,QAAI,OAAOsgB,cAAP,KAAkB,WAAtB,EAAmC;CAC/B;CACH;;CAEDA,IAAAA,cAAAA,CAAO3F,SAAP2F,GAAmB;CACfC,MAAAA,SAAS,EAAEH,oBADI;CAEfI,MAAAA,YAAY,EAAE,YAAW;CAFV,KAAnBF;;CAKA,QAAI,CAACA,cAAAA,CAAOviB,OAAZ,EAAqB;CACjBuiB,MAAAA,cAAAA,CAAOviB,OAAPuiB,GAAiB,EAAjBA;CACH;;CAED,QAAI,OAAOA,cAAAA,CAAOviB,OAAPuiB,CAAevnB,GAAtB,KAA8B,WAA9B,IAA6C,OAAOunB,cAAAA,CAAOviB,OAAPuiB,CAAetnB,KAAtB,KAAgC,WAAjF,EAA8F;CAC1FsnB,MAAAA,cAAAA,CAAOviB,OAAPuiB,CAAetnB,KAAfsnB,GAAuBA,cAAAA,CAAOviB,OAAPuiB,CAAevnB,GAAfunB,GAAqBA,cAAAA,CAAOviB,OAAPuiB,CAAevnB,GAAfunB,IAAsB,YAAW;CACzEviB,QAAAA,OAAO,CAAChF,GAAR,CAAY0nB,SAAZ;CACH,OAFDH;CAGH;;CAED,QAAI,OAAOvgB,QAAP,KAAoB,WAAxB,EAAqC;;CAEjCsgB,MAAAA,IAAI,CAACtgB,QAAL,GAAgB;CACZ0B,QAAAA,eAAe,EAAE;CACbqO,UAAAA,WAAW,EAAE,YAAW;CACpB,mBAAO,EAAP;CACH;CAHY;CADL,OAAhB;;CAQA/P,MAAAA,QAAQ,CAAC+E,aAAT,GAAyB/E,QAAQ,CAAC2gB,aAAT,GAAyB3gB,QAAQ,CAAC4gB,gBAAT,GAA4B,YAAW;CACrF,YAAIC,GAAG,GAAG;CACNld,UAAAA,UAAU,EAAE,YAAW;CACnB,mBAAOkd,GAAP;CACH,WAHK;CAIN3qB,UAAAA,IAAI,EAAE,YAAW,EAJX;CAKNuC,UAAAA,KAAK,EAAE,YAAW,EALZ;CAMNyY,UAAAA,SAAS,EAAE,YAAW,EANhB;CAONU,UAAAA,SAAS,EAAE,YAAW;CAClB,mBAAO,EAAP;CACH,WATK;CAUNvL,UAAAA,KAAK,EAAE;CAVD,SAAV;CAYA,eAAOwa,GAAP;CACH,OAdD;;CAgBAP,MAAAA,IAAI,CAACQ,gBAAL,GAAwB,YAAW,EAAnC;CACH;;CAED,QAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC;;CAEjCT,MAAAA,IAAI,CAACS,QAAL,GAAgB;CACZlqB,QAAAA,QAAQ,EAAE,OADE;CAEZmO,QAAAA,IAAI,EAAE,EAFM;CAGZgc,QAAAA,IAAI,EAAE;CAHM,OAAhB;CAKH;;CAED,QAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;;CAE/BX,MAAAA,IAAI,CAACW,MAAL,GAAc;CACVxhB,QAAAA,KAAK,EAAE,CADG;CAEVI,QAAAA,MAAM,EAAE;CAFE,OAAd;CAIH;;CAED,QAAI,OAAOoF,GAAP,KAAe,WAAnB,EAAgC;;CAE5Bqb,MAAAA,IAAI,CAACrb,GAAL,GAAW;CACPC,QAAAA,eAAe,EAAE,YAAW;CACxB,iBAAO,EAAP;CACH,SAHM;CAIPE,QAAAA,eAAe,EAAE,YAAW;CACxB,iBAAO,EAAP;CACH;CANM,OAAX;CAQH;;;;CAGDkb,IAAAA,IAAI,CAACrgB,MAAL,GAAcsgB,cAAd;CACH,GAxFD,EAwFG,OAAOA,cAAP,KAAkB,WAAlB,GAAgCA,cAAhC,GAAyC,IAxF5C;CA2FA;CAEA;;CAEA;;;CACA,MAAIW,qBAAqB,GAAGjhB,MAAM,CAACihB,qBAAnC;;CACA,MAAI,OAAOA,qBAAP,KAAiC,WAArC,EAAkD;CAC9C,QAAI,OAAOC,2BAAP,KAAuC,WAA3C,EAAwD;;CAEpDD,MAAAA,qBAAqB,GAAGC,2BAAxB;CACH,KAHD,MAGO,IAAI,OAAOC,wBAAP,KAAoC,WAAxC,EAAqD;;CAExDF,MAAAA,qBAAqB,GAAGE,wBAAxB;CACH,KAHM,MAGA,IAAI,OAAOC,uBAAP,KAAmC,WAAvC,EAAoD;;CAEvDH,MAAAA,qBAAqB,GAAGG,uBAAxB;CACH,KAHM,MAGA,IAAI,OAAOH,qBAAP,KAAiC,WAArC,EAAkD;;CAErD,UAAIpa,QAAQ,GAAG,CAAf;;;CAGAoa,MAAAA,qBAAqB,GAAG,UAAS3iB,QAAT,EAAmB2C,OAAnB,EAA4B;CAChD,YAAIogB,QAAQ,GAAG,IAAIhc,IAAJ,GAAWC,OAAX,EAAf;CACA,YAAIgc,UAAU,GAAG7hB,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,MAAM2hB,QAAQ,GAAGxa,QAAjB,CAAZ,CAAjB;CACA,YAAI0a,EAAE,GAAG/H,UAAU,CAAC,YAAW;CAC3Blb,UAAAA,QAAQ,CAAC+iB,QAAQ,GAAGC,UAAZ,CAAR;CACH,SAFkB,EAEhBA,UAFgB,CAAnB;CAGAza,QAAAA,QAAQ,GAAGwa,QAAQ,GAAGC,UAAtB;CACA,eAAOC,EAAP;CACH,OARD;CASH;CACJ;CAED;;;CACA,MAAIC,oBAAoB,GAAGxhB,MAAM,CAACwhB,oBAAlC;;CACA,MAAI,OAAOA,oBAAP,KAAgC,WAApC,EAAiD;CAC7C,QAAI,OAAOC,0BAAP,KAAsC,WAA1C,EAAuD;;CAEnDD,MAAAA,oBAAoB,GAAGC,0BAAvB;CACH,KAHD,MAGO,IAAI,OAAOC,uBAAP,KAAmC,WAAvC,EAAoD;;CAEvDF,MAAAA,oBAAoB,GAAGE,uBAAvB;CACH,KAHM,MAGA,IAAI,OAAOC,sBAAP,KAAkC,WAAtC,EAAmD;;CAEtDH,MAAAA,oBAAoB,GAAGG,sBAAvB;CACH,KAHM,MAGA,IAAI,OAAOH,oBAAP,KAAgC,WAApC,EAAiD;;CAEpDA,MAAAA,oBAAoB,GAAG,UAASD,EAAT,EAAa;CAChCK,QAAAA,YAAY,CAACL,EAAD,CAAZ;CACH,OAFD;CAGH;CACJ;;;CAGD,MAAI7N,YAAY,GAAG1T,MAAM,CAAC0T,YAA1B;;CAEA,MAAI,OAAOA,YAAP,KAAwB,WAA5B,EAAyC;CACrC,QAAI,OAAOC,kBAAP,KAA8B,WAAlC,EAA+C;;CAE3CD,MAAAA,YAAY,GAAGC,kBAAf;CACH;;CAED,QAAI,OAAOkO,eAAP,KAA2B,WAA/B,EAA4C;;CAExCnO,MAAAA,YAAY,GAAGmO,eAAf;CACH;CACJ;CAED;;;CACA,MAAI7c,GAAG,GAAGhF,MAAM,CAACgF,GAAjB;;CAEA,MAAI,OAAOA,GAAP,KAAe,WAAf,IAA8B,OAAOmb,SAAP,KAAqB,WAAvD,EAAoE;;CAEhEnb,IAAAA,GAAG,GAAGmb,SAAN;CACH;;CAED,MAAI,OAAOxF,SAAP,KAAqB,WAArB,IAAoC,OAAOA,SAAS,CAAC6F,YAAjB,KAAkC,WAA1E,EAAuF;;CACnF,QAAI,OAAO7F,SAAS,CAACmH,kBAAjB,KAAwC,WAA5C,EAAyD;CACrDnH,MAAAA,SAAS,CAAC6F,YAAV,GAAyB7F,SAAS,CAACmH,kBAAnC;CACH;;CAED,QAAI,OAAOnH,SAAS,CAACC,eAAjB,KAAqC,WAAzC,EAAsD;CAClDD,MAAAA,SAAS,CAAC6F,YAAV,GAAyB7F,SAAS,CAACC,eAAnC;CACH;CACJ;;CAED,MAAIwD,MAAM,GAAGzD,SAAS,CAAC4F,SAAV,CAAoBwB,OAApB,CAA4B,MAA5B,MAAwC,CAAC,CAAzC,KAA+C,CAAC,CAACpH,SAAS,CAACqH,UAAZ,IAA0B,CAAC,CAACrH,SAAS,CAACsH,gBAArF,CAAb;CACA,MAAI5D,OAAO,GAAG,CAAC,CAACre,MAAM,CAACkiB,KAAT,IAAkBvH,SAAS,CAAC4F,SAAV,CAAoBwB,OAApB,CAA4B,MAA5B,MAAwC,CAAC,CAAzE;CACA,MAAI3C,SAAS,GAAGzE,SAAS,CAAC4F,SAAV,CAAoB4B,WAApB,GAAkCJ,OAAlC,CAA0C,SAA1C,IAAuD,CAAC,CAAxD,IAA8D,cAAc/hB,MAA5E,IAAuF,OAAOoiB,IAAP,CAAYzH,SAAS,CAAC4F,SAAtB,CAAvG;CACA,MAAIpC,QAAQ,GAAI,CAACE,OAAD,IAAY,CAACD,MAAb,IAAuB,CAAC,CAACzD,SAAS,CAACmH,kBAApC,IAA2DO,UAAU,EAArE,IAA2E1H,SAAS,CAAC4F,SAAV,CAAoB4B,WAApB,GAAkCJ,OAAlC,CAA0C,SAA1C,MAAyD,CAAC,CAApJ;CAEA,MAAItD,QAAQ,GAAG,iCAAiC2D,IAAjC,CAAsCzH,SAAS,CAAC4F,SAAhD,CAAf;;CAEA,MAAI9B,QAAQ,IAAI,CAACN,QAAb,IAAyBxD,SAAS,CAAC4F,SAAV,CAAoBwB,OAApB,CAA4B,OAA5B,MAAyC,CAAC,CAAvE,EAA0E;CACtEtD,IAAAA,QAAQ,GAAG,KAAX;CACAN,IAAAA,QAAQ,GAAG,IAAX;CACH;;CAED,MAAIkB,WAAW,GAAGrf,MAAM,CAACqf,WAAzB;;CAEA,MAAI,OAAOA,WAAP,KAAuB,WAAvB,IAAsC,OAAOiD,iBAAP,KAA6B,WAAvE,EAAoF;CAChFjD,IAAAA,WAAW,GAAGiD,iBAAd;CACH;CAED;;;CACA,MAAI,OAAOjD,WAAP,KAAuB,WAA3B,EAAwC;;CAEpC,QAAI,OAAOA,WAAW,CAACtB,SAAZ,CAAsBtE,IAA7B,KAAsC,WAA1C,EAAuD;CACnD4F,MAAAA,WAAW,CAACtB,SAAZ,CAAsBtE,IAAtB,GAA6B,YAAW;CACpC,aAAKoE,SAAL,GAAiB9e,OAAjB,CAAyB,UAASwjB,KAAT,EAAgB;CACrCA,UAAAA,KAAK,CAAC9I,IAAN;CACH,SAFD;CAGH,OAJD;CAKH;CACJ;;CAGD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,WAASI,WAAT,CAAqB2I,KAArB,EAA4B;CACxB,QAAIC,CAAC,GAAG,IAAR;CACA,QAAIC,KAAK,GAAG,CAAC,OAAD,EAAU,IAAV,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,CAAZ;;CACA,QAAIF,KAAK,KAAK,CAAd,EAAiB;CACb,aAAO,SAAP;CACH;;CACD,QAAIjiB,CAAC,GAAGoiB,QAAQ,CAACljB,IAAI,CAACmjB,KAAL,CAAWnjB,IAAI,CAAC1G,GAAL,CAASypB,KAAT,IAAkB/iB,IAAI,CAAC1G,GAAL,CAAS0pB,CAAT,CAA7B,CAAD,EAA4C,EAA5C,CAAhB;CACA,WAAO,CAACD,KAAK,GAAG/iB,IAAI,CAACojB,GAAL,CAASJ,CAAT,EAAYliB,CAAZ,CAAT,EAAyBuiB,WAAzB,CAAqC,CAArC,IAA0C,GAA1C,GAAgDJ,KAAK,CAACniB,CAAD,CAA5D;CACH;CAED;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,WAASwb,kBAAT,CAA4BnK,IAA5B,EAAkChN,QAAlC,EAA4C;CACxC,QAAI,CAACgN,IAAL,EAAW;CACP,YAAM,0BAAN;CACH;;CAED,QAAI,CAACA,IAAI,CAACzN,IAAV,EAAgB;CACZ,UAAI;CACAyN,QAAAA,IAAI,CAACzN,IAAL,GAAY,YAAZ;CACH,OAFD,CAEE,OAAOR,CAAP,EAAU;CACf;;CAED,QAAIof,aAAa,GAAG,CAACnR,IAAI,CAACzN,IAAL,IAAa,YAAd,EAA4BH,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAApB;;CACA,QAAI+e,aAAa,CAAChB,OAAd,CAAsB,GAAtB,MAA+B,CAAC,CAApC,EAAuC;;CAEnCgB,MAAAA,aAAa,GAAGA,aAAa,CAAC/e,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAhB;CACH;;CACD,QAAIY,QAAQ,IAAIA,QAAQ,CAACmd,OAAT,CAAiB,GAAjB,MAA0B,CAAC,CAA3C,EAA8C;CAC1C,UAAIiB,QAAQ,GAAGpe,QAAQ,CAACZ,KAAT,CAAe,GAAf,CAAf;CACAY,MAAAA,QAAQ,GAAGoe,QAAQ,CAAC,CAAD,CAAnB;CACAD,MAAAA,aAAa,GAAGC,QAAQ,CAAC,CAAD,CAAxB;CACH;;CAED,QAAIC,YAAY,GAAG,CAACre,QAAQ,IAAKnF,IAAI,CAACyjB,KAAL,CAAWzjB,IAAI,CAAC0jB,MAAL,KAAgB,UAA3B,IAAyC,SAAvD,IAAqE,GAArE,GAA2EJ,aAA9F;;CAEA,QAAI,OAAOpI,SAAS,CAACsH,gBAAjB,KAAsC,WAA1C,EAAuD;CACnD,aAAOtH,SAAS,CAACsH,gBAAV,CAA2BrQ,IAA3B,EAAiCqR,YAAjC,CAAP;CACH,KAFD,MAEO,IAAI,OAAOtI,SAAS,CAACqH,UAAjB,KAAgC,WAApC,EAAiD;CACpD,aAAOrH,SAAS,CAACqH,UAAV,CAAqBpQ,IAArB,EAA2BqR,YAA3B,CAAP;CACH;;CAED,QAAIG,SAAS,GAAGrjB,QAAQ,CAAC+E,aAAT,CAAuB,GAAvB,CAAhB;CACAse,IAAAA,SAAS,CAACre,IAAV,GAAiBC,GAAG,CAACC,eAAJ,CAAoB2M,IAApB,CAAjB;CACAwR,IAAAA,SAAS,CAAC7nB,QAAV,GAAqB0nB,YAArB;CAEAG,IAAAA,SAAS,CAAChd,KAAV,GAAkB,2CAAlB;CACA,KAACrG,QAAQ,CAACwJ,IAAT,IAAiBxJ,QAAQ,CAAC0B,eAA3B,EAA4CqO,WAA5C,CAAwDsT,SAAxD;;CAEA,QAAI,OAAOA,SAAS,CAACle,KAAjB,KAA2B,UAA/B,EAA2C;CACvCke,MAAAA,SAAS,CAACle,KAAV;CACH,KAFD,MAEO;CACHke,MAAAA,SAAS,CAAC/kB,MAAV,GAAmB,QAAnB;CACA+kB,MAAAA,SAAS,CAACC,aAAV,CAAwB,IAAIC,UAAJ,CAAe,OAAf,EAAwB;CAC5CC,QAAAA,IAAI,EAAEvjB,MADsC;CAE5CwjB,QAAAA,OAAO,EAAE,IAFmC;CAG5CC,QAAAA,UAAU,EAAE;CAHgC,OAAxB,CAAxB;CAKH;;CAEDze,IAAAA,GAAG,CAACG,eAAJ,CAAoBie,SAAS,CAACre,IAA9B;CACH;CAED;CACA;CACA;;;CACA,WAASsd,UAAT,GAAsB;;CAElB,QAAI,OAAOriB,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAAC0jB,OAAd,KAA0B,QAA3D,IAAuE1jB,MAAM,CAAC0jB,OAAP,CAAevf,IAAf,KAAwB,UAAnG,EAA+G;CAC3G,aAAO,IAAP;CACH,KAJiB;;;CAOlB,QAAI,OAAOuf,OAAP,KAAmB,WAAnB,IAAkC,OAAOA,OAAO,CAACC,QAAf,KAA4B,QAA9D,IAA0E,CAAC,CAACD,OAAO,CAACC,QAAR,CAAiBC,QAAjG,EAA2G;CACvG,aAAO,IAAP;CACH,KATiB;;;CAYlB,QAAI,OAAOjJ,SAAP,KAAqB,QAArB,IAAiC,OAAOA,SAAS,CAAC4F,SAAjB,KAA+B,QAAhE,IAA4E5F,SAAS,CAAC4F,SAAV,CAAoBwB,OAApB,CAA4B,UAA5B,KAA2C,CAA3H,EAA8H;CAC1H,aAAO,IAAP;CACH;;CAED,WAAO,KAAP;CACH;;CAED,WAASlE,SAAT,CAAmBgG,MAAnB,EAA2BC,IAA3B,EAAiC;CAC7B,QAAI,CAACD,MAAD,IAAW,CAACA,MAAM,CAAChG,SAAvB,EAAkC;CAC9B,aAAO,EAAP;CACH;;CAED,WAAOgG,MAAM,CAAChG,SAAP,GAAmBkG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CACzC,aAAOA,CAAC,CAACF,IAAF,MAAYA,IAAI,IAAI,OAApB,CAAP;CACH,KAFM,CAAP;CAGH;;CAED,WAASG,YAAT,CAAsBJ,MAAtB,EAA8B5iB,OAA9B,EAAuC;CACnC,QAAI,eAAeA,OAAnB,EAA4B;CACxBA,MAAAA,OAAO,CAACijB,SAAR,GAAoBL,MAApB;CACH,KAFD,MAEO,IAAI,kBAAkB5iB,OAAtB,EAA+B;CAClCA,MAAAA,OAAO,CAACkjB,YAAR,GAAuBN,MAAvB;CACH,KAFM,MAEA;CACH5iB,MAAAA,OAAO,CAACijB,SAAR,GAAoBL,MAApB;CACH;CACJ;CAED;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,WAASO,eAAT,CAAyBC,SAAzB,EAAoC/lB,QAApC,EAA8C;;CAE1C,QAAI,OAAOgmB,IAAP,KAAgB,WAApB,EAAiC;CAC7B,YAAM,IAAIC,KAAJ,CAAU,wDAAV,CAAN;CACH;;CAED,QAAIrN,MAAM,GAAG,IAAIoN,IAAI,CAACE,MAAT,EAAb;CACA,QAAIjuB,OAAO,GAAG,IAAI+tB,IAAI,CAACG,OAAT,EAAd;CACA,QAAIC,KAAK,GAAGJ,IAAI,CAACI,KAAjB;CAEA,QAAIC,UAAU,GAAG,IAAI3J,UAAJ,EAAjB;;CACA2J,IAAAA,UAAU,CAAC1J,MAAX,GAAoB,UAAStX,CAAT,EAAY;CAC5B,UAAIihB,QAAQ,GAAGruB,OAAO,CAACmB,MAAR,CAAe,KAAK2Q,MAApB,CAAf;CACAuc,MAAAA,QAAQ,CAAC7lB,OAAT,CAAiB,UAASkC,OAAT,EAAkB;CAC/BiW,QAAAA,MAAM,CAACG,IAAP,CAAYpW,OAAZ;CACH,OAFD;CAGAiW,MAAAA,MAAM,CAACuC,IAAP;CACA,UAAIoL,kBAAkB,GAAGH,KAAK,CAACI,oBAAN,CAA2B5N,MAAM,CAAC6N,SAAlC,EAA6C7N,MAAM,CAACkF,QAApD,EAA8DlF,MAAM,CAAC8N,IAArE,CAAzB;CACA,UAAIzb,IAAI,GAAG,KAAKlB,MAAL,CAAYsC,KAAZ,CAAkBuM,MAAM,CAAC+N,YAAzB,CAAX;CACA,UAAIC,OAAO,GAAG,IAAI/J,IAAJ,CAAS,CAAC0J,kBAAD,EAAqBtb,IAArB,CAAT,EAAqC;CAC/CpF,QAAAA,IAAI,EAAE;CADyC,OAArC,CAAd;CAIA7F,MAAAA,QAAQ,CAAC4mB,OAAD,CAAR;CACH,KAbD;;CAcAP,IAAAA,UAAU,CAACQ,iBAAX,CAA6Bd,SAA7B;CACH;;CAED,MAAI,OAAOjM,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAAC2D,kBAAV,GAA+BA,kBAA/B;CACA3D,IAAAA,SAAS,CAACyF,SAAV,GAAsBA,SAAtB;CACAzF,IAAAA,SAAS,CAACgM,eAAV,GAA4BA,eAA5B;CACAhM,IAAAA,SAAS,CAACyB,WAAV,GAAwBA,WAAxB;CACAzB,IAAAA,SAAS,CAACiK,UAAV,GAAuBA,UAAvB;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,MAAI5F,OAAO,GAAG,EAAd;;CAEA,MAAI,OAAO/I,YAAP,KAAwB,WAA5B,EAAyC;CACrC+I,IAAAA,OAAO,CAAC/I,YAAR,GAAuBA,YAAvB;CACH,GAFD,MAEO,IAAI,OAAOC,kBAAP,KAA8B,WAAlC,EAA+C;CAClD8I,IAAAA,OAAO,CAAC/I,YAAR,GAAuBC,kBAAvB;CACH;;CAED,MAAI,OAAOyE,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACqE,OAAV,GAAoBA,OAApB;CACH;;CAED,WAAS8B,yBAAT,GAAqC;CACjC,QAAIa,SAAS,IAAIX,QAAb,IAAyBL,MAA7B,EAAqC;CACjC,aAAO,IAAP;CACH;CAGD,QAAIgH,IAAI,GAAGzK,SAAS,CAAC4F,SAArB;CACA,QAAI8E,WAAW,GAAG,KAAK5e,UAAU,CAACkU,SAAS,CAAC2K,UAAX,CAAjC;CACA,QAAIC,YAAY,GAAG5C,QAAQ,CAAChI,SAAS,CAAC2K,UAAX,EAAuB,EAAvB,CAA3B;CACA,QAAgBE,SAAhB,EAA2BC;;CAE3B,QAAItH,QAAQ,IAAIE,OAAhB,EAAyB;CACrBmH,MAAAA,SAAS,GAAGJ,IAAI,CAACrD,OAAL,CAAa,QAAb,CAAZ;CACAsD,MAAAA,WAAW,GAAGD,IAAI,CAACM,SAAL,CAAeF,SAAS,GAAG,CAA3B,CAAd;CACH,KAdgC;;;CAiBjC,QAAI,CAACC,EAAE,GAAGJ,WAAW,CAACtD,OAAZ,CAAoB,GAApB,CAAN,MAAoC,CAAC,CAAzC,EAA4C;CACxCsD,MAAAA,WAAW,GAAGA,WAAW,CAACK,SAAZ,CAAsB,CAAtB,EAAyBD,EAAzB,CAAd;CACH;;CAED,QAAI,CAACA,EAAE,GAAGJ,WAAW,CAACtD,OAAZ,CAAoB,GAApB,CAAN,MAAoC,CAAC,CAAzC,EAA4C;CACxCsD,MAAAA,WAAW,GAAGA,WAAW,CAACK,SAAZ,CAAsB,CAAtB,EAAyBD,EAAzB,CAAd;CACH;;CAEDF,IAAAA,YAAY,GAAG5C,QAAQ,CAAC,KAAK0C,WAAN,EAAmB,EAAnB,CAAvB;;CAEA,QAAItP,KAAK,CAACwP,YAAD,CAAT,EAAyB;CACrBF,MAAAA,WAAW,GAAG,KAAK5e,UAAU,CAACkU,SAAS,CAAC2K,UAAX,CAA7B;CACAC,MAAAA,YAAY,GAAG5C,QAAQ,CAAChI,SAAS,CAAC2K,UAAX,EAAuB,EAAvB,CAAvB;CACH;;CAED,WAAOC,YAAY,IAAI,EAAvB;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAAS3H,mBAAT,CAA6BvF,WAA7B,EAA0CC,MAA1C,EAAkD;CAC9C,QAAIhO,IAAI,GAAG,IAAX;;CAEA,QAAI,OAAO+N,WAAP,KAAuB,WAA3B,EAAwC;CACpC,YAAM,2CAAN;CACH;;CAED,QAAI,OAAOyF,aAAP,KAAyB,WAA7B,EAA0C;CACtC,YAAM,4HAAN;CACH;;CAEDxF,IAAAA,MAAM,GAAGA,MAAM,IAAI;;CAEf0F,MAAAA,QAAQ,EAAE;CAFK,KAAnB;;CAKA,QAAI1F,MAAM,CAACnU,IAAP,KAAgB,OAApB,EAA6B;CACzB,UAAI0Z,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAAhC,IAA0Cod,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAA9E,EAAsF;CAClF,YAAIojB,MAAJ;;CACA,YAAI,CAAC,CAAClJ,SAAS,CAACC,eAAhB,EAAiC;CAC7BiJ,UAAAA,MAAM,GAAG,IAAIxE,WAAJ,EAAT;CACAwE,UAAAA,MAAM,CAACvE,QAAP,CAAgBzB,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC,CAAhC,CAAhB;CACH,SAHD,MAGO;;CAEHwL,UAAAA,MAAM,GAAG,IAAIxE,WAAJ,CAAgBxB,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAzB,CAAT;CACH;;CACDA,QAAAA,WAAW,GAAGwL,MAAd;CACH;;CAED,UAAI,CAACvL,MAAM,CAAC0F,QAAR,IAAoB1F,MAAM,CAAC0F,QAAP,CAAgBrW,QAAhB,GAA2Bwa,WAA3B,GAAyCJ,OAAzC,CAAiD,OAAjD,MAA8D,CAAC,CAAvF,EAA0F;CACtFzJ,QAAAA,MAAM,CAAC0F,QAAP,GAAkBG,QAAQ,GAAG,YAAH,GAAkB,WAA5C;CACH;;CAED,UAAI7F,MAAM,CAAC0F,QAAP,IAAmB1F,MAAM,CAAC0F,QAAP,CAAgBrW,QAAhB,GAA2Bwa,WAA3B,OAA6C,WAAhE,IAA+E,CAAC,CAACxH,SAAS,CAACC,eAA/F,EAAgH;;CAE5GtC,QAAAA,MAAM,CAAC0F,QAAP,GAAkB,WAAlB;CACH;CACJ;;CAED,QAAI2H,YAAY,GAAG,EAAnB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKC,eAAL,GAAuB,YAAW;CAC9B,aAAOD,YAAP;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKxvB,MAAL,GAAc,YAAW;;CAErBmU,MAAAA,IAAI,CAAC7O,IAAL,GAAY,IAAZ;CACA6O,MAAAA,IAAI,CAACuO,iBAAL;CACAvO,MAAAA,IAAI,CAACub,UAAL,GAAkB,EAAlB;CACAC,MAAAA,SAAS,GAAG,EAAZ;CACAH,MAAAA,YAAY,GAAG,EAAf;CAEA,UAAII,aAAa,GAAGzN,MAApB;;CAEA,UAAI,CAACA,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,kDAAZ,EAAgEgtB,aAAhE;CACH;;CAED,UAAInN,aAAJ,EAAmB;;CAEfA,QAAAA,aAAa,GAAG,IAAhB;CACH;;CAED,UAAIuF,QAAQ,IAAI,CAACI,yBAAyB,EAA1C,EAA8C;;CAE1CwH,QAAAA,aAAa,GAAG,WAAhB;CACH;;CAED,UAAI,OAAOjI,aAAa,CAACnV,eAArB,KAAyC,UAAzC,IAAuDod,aAAa,CAAC/H,QAAzE,EAAmF;CAC/E,YAAI,CAACF,aAAa,CAACnV,eAAd,CAA8Bod,aAAa,CAAC/H,QAA5C,CAAL,EAA4D;CACxD,cAAI,CAAC1F,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,YAAAA,OAAO,CAACC,IAAR,CAAa,oDAAb,EAAmE+nB,aAAa,CAAC/H,QAAjF;CACH;;CAED+H,UAAAA,aAAa,CAAC/H,QAAd,GAAyB1F,MAAM,CAACnU,IAAP,KAAgB,OAAhB,GAA0B,YAA1B,GAAyC,YAAlE;CACH;CACJ,OAhCoB;;;CAmCrB,UAAI;CACAyU,QAAAA,aAAa,GAAG,IAAIkF,aAAJ,CAAkBzF,WAAlB,EAA+B0N,aAA/B,CAAhB,CADA;;CAIAzN,QAAAA,MAAM,CAAC0F,QAAP,GAAkB+H,aAAa,CAAC/H,QAAhC;CACH,OALD,CAKE,OAAOra,CAAP,EAAU;;CAERiV,QAAAA,aAAa,GAAG,IAAIkF,aAAJ,CAAkBzF,WAAlB,CAAhB;CACH,OA3CoB;;;CA8CrB,UAAI0N,aAAa,CAAC/H,QAAd,IAA0B,CAACF,aAAa,CAACnV,eAAzC,IAA4D,uBAAuBiQ,aAAnF,IAAoGA,aAAa,CAACoN,iBAAd,CAAgCD,aAAa,CAAC/H,QAA9C,MAA4D,KAApK,EAA2K;CACvK,YAAI,CAAC1F,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAACC,IAAR,CAAa,oDAAb,EAAmE+nB,aAAa,CAAC/H,QAAjF;CACH;CACJ,OAlDoB;;;CAqDrBpF,MAAAA,aAAa,CAACqN,eAAd,GAAgC,UAAStiB,CAAT,EAAY;CACxC,YAAIA,CAAC,CAACiH,IAAN,EAAY;CACRkb,UAAAA,SAAS,CAAChnB,IAAV,CAAe,sBAAsB+a,WAAW,CAAClW,CAAC,CAACiH,IAAF,CAAO9D,IAAR,CAAhD;CACH;;CAED,YAAI,OAAOwR,MAAM,CAAC0G,SAAd,KAA4B,QAAhC,EAA0C;CACtC,cAAIrb,CAAC,CAACiH,IAAF,IAAUjH,CAAC,CAACiH,IAAF,CAAO9D,IAArB,EAA2B;CACvB6e,YAAAA,YAAY,CAAC7mB,IAAb,CAAkB6E,CAAC,CAACiH,IAApB;CACAsb,YAAAA,eAAe;;CAEf,gBAAI,OAAO5N,MAAM,CAAC2N,eAAd,KAAkC,UAAtC,EAAkD;;CAE9C,kBAAIxqB,IAAI,GAAG6c,MAAM,CAAC6N,aAAP,GAAuBxiB,CAAC,CAACiH,IAAzB,GAAgC,IAAIuQ,IAAJ,CAAS,CAACxX,CAAC,CAACiH,IAAH,CAAT,EAAmB;CAC1DzG,gBAAAA,IAAI,EAAEiiB,WAAW,CAACL,aAAD;CADyC,eAAnB,CAA3C;CAGAzN,cAAAA,MAAM,CAAC2N,eAAP,CAAuBxqB,IAAvB;CACH;CACJ;;CACD;CACH;;CAED,YAAI,CAACkI,CAAC,CAACiH,IAAH,IAAW,CAACjH,CAAC,CAACiH,IAAF,CAAO9D,IAAnB,IAA2BnD,CAAC,CAACiH,IAAF,CAAO9D,IAAP,GAAc,GAAzC,IAAgDwD,IAAI,CAAC7O,IAAzD,EAA+D;;;CAG3D,cAAI6O,IAAI,CAAC+b,iBAAT,EAA4B;CACxB/b,YAAAA,IAAI,CAAC+b,iBAAL,CAAuB,IAAIlL,IAAJ,CAAS,EAAT,EAAa;CAChChX,cAAAA,IAAI,EAAEiiB,WAAW,CAACL,aAAD;CADe,aAAb,CAAvB;CAGAzb,YAAAA,IAAI,CAAC+b,iBAAL,GAAyB,IAAzB;CACH;;CACD;CACH;;CAED/b,QAAAA,IAAI,CAAC7O,IAAL,GAAY6c,MAAM,CAAC6N,aAAP,GAAuBxiB,CAAC,CAACiH,IAAzB,GAAgC,IAAIuQ,IAAJ,CAAS,CAACxX,CAAC,CAACiH,IAAH,CAAT,EAAmB;CAC3DzG,UAAAA,IAAI,EAAEiiB,WAAW,CAACL,aAAD;CAD0C,SAAnB,CAA5C;;CAIA,YAAIzb,IAAI,CAAC+b,iBAAT,EAA4B;CACxB/b,UAAAA,IAAI,CAAC+b,iBAAL,CAAuB/b,IAAI,CAAC7O,IAA5B;CACA6O,UAAAA,IAAI,CAAC+b,iBAAL,GAAyB,IAAzB;CACH;CACJ,OAzCD;;CA2CAzN,MAAAA,aAAa,CAAC0N,OAAd,GAAwB,YAAW;CAC/BR,QAAAA,SAAS,CAAChnB,IAAV,CAAe,SAAf;CACH,OAFD;;CAIA8Z,MAAAA,aAAa,CAAC2N,OAAd,GAAwB,YAAW;CAC/BT,QAAAA,SAAS,CAAChnB,IAAV,CAAe,QAAf;CACH,OAFD;;CAIA8Z,MAAAA,aAAa,CAAC4N,QAAd,GAAyB,YAAW;CAChCV,QAAAA,SAAS,CAAChnB,IAAV,CAAe,SAAf;CACH,OAFD;;CAIA8Z,MAAAA,aAAa,CAAC6N,MAAd,GAAuB,YAAW;CAC9BX,QAAAA,SAAS,CAAChnB,IAAV,CAAe,SAAf;CACH,OAFD;;CAIA8Z,MAAAA,aAAa,CAACxW,OAAd,GAAwB,UAASpJ,KAAT,EAAgB;CACpC,YAAI,CAACA,KAAL,EAAY;CACR;CACH;;CAED,YAAI,CAACA,KAAK,CAAC4E,IAAX,EAAiB;CACb5E,UAAAA,KAAK,CAAC4E,IAAN,GAAa,cAAb;CACH;;CAEDkoB,QAAAA,SAAS,CAAChnB,IAAV,CAAe,YAAY9F,KAA3B;;CAEA,YAAI,CAACsf,MAAM,CAACI,WAAZ,EAAyB;;CAErB,cAAI1f,KAAK,CAAC4E,IAAN,CAAW+J,QAAX,GAAsBwa,WAAtB,GAAoCJ,OAApC,CAA4C,cAA5C,MAAgE,CAAC,CAArE,EAAwE;CACpEhkB,YAAAA,OAAO,CAAC/E,KAAR,CAAc,gGAAd,EAAgHA,KAAhH;CACH,WAFD,MAEO,IAAIA,KAAK,CAAC4E,IAAN,CAAW+J,QAAX,GAAsBwa,WAAtB,GAAoCJ,OAApC,CAA4C,cAA5C,MAAgE,CAAC,CAArE,EAAwE;CAC3EhkB,YAAAA,OAAO,CAAC/E,KAAR,CAAc,aAAd,EAA6B+sB,aAAa,CAAC/H,QAA3C,EAAqD,qBAArD,EAA4EhlB,KAA5E;CACH,WAFM,MAEA,IAAIA,KAAK,CAAC4E,IAAN,CAAW+J,QAAX,GAAsBwa,WAAtB,GAAoCJ,OAApC,CAA4C,UAA5C,MAA4D,CAAC,CAAjE,EAAoE;CACvEhkB,YAAAA,OAAO,CAAC/E,KAAR,CAAc,8BAAd,EAA8CA,KAA9C;CACH,WAFM;CAAA,eAKF,IAAIA,KAAK,CAAC4E,IAAN,KAAe,aAAnB,EAAkC;CACnCG,YAAAA,OAAO,CAAC/E,KAAR,CAAc,2IAAd,EAA2JA,KAA3J;CACH,WAFI,MAEE,IAAIA,KAAK,CAAC4E,IAAN,KAAe,2BAAnB,EAAgD;CACnDG,YAAAA,OAAO,CAAC/E,KAAR,CAAc,qQAAd,EAAqRA,KAArR;CACH,WAFM,MAEA,IAAIA,KAAK,CAAC4E,IAAN,KAAe,qBAAnB,EAA0C;CAC7CG,YAAAA,OAAO,CAAC/E,KAAR,CAAc,wJAAd,EAAwKA,KAAxK;CACH,WAFM,MAEA,IAAIA,KAAK,CAAC4E,IAAN,KAAe,cAAnB,EAAmC;CACtCG,YAAAA,OAAO,CAAC/E,KAAR,CAAc,8EAAd,EAA8FA,KAA9F;CACH,WAFM,MAEA;CACH+E,YAAAA,OAAO,CAAC/E,KAAR,CAAc,qBAAd,EAAqCA,KAArC;CACH;CACJ;;CAED,SAAC,UAAS0tB,MAAT,EAAiB;CACd,cAAI,CAACpc,IAAI,CAACqc,eAAN,IAAyB/N,aAAzB,IAA0CA,aAAa,CAACxC,KAAd,KAAwB,UAAtE,EAAkF;CAC9E,mBAAOkC,MAAM,CAACsO,SAAd,CAD8E;;CAI9EhO,YAAAA,aAAa,CAACjf,KAAd,CAAoB,KAAK,EAAL,GAAU,IAA9B;CACA;CACH;;CAED6f,UAAAA,UAAU,CAACkN,MAAD,EAAS,IAAT,CAAV;CACH,SAVD;;CAYA,YAAI9N,aAAa,CAACxC,KAAd,KAAwB,UAAxB,IAAsCwC,aAAa,CAACxC,KAAd,KAAwB,SAAlE,EAA6E;CACzEwC,UAAAA,aAAa,CAACa,IAAd;CACH;CACJ,OAlDD;;CAoDA,UAAI,OAAOnB,MAAM,CAAC0G,SAAd,KAA4B,QAAhC,EAA0C;CACtCkH,QAAAA,eAAe;CACftN,QAAAA,aAAa,CAACjf,KAAd,CAAoB2e,MAAM,CAAC0G,SAA3B;CACH,OAHD,MAGO;;;CAIHpG,QAAAA,aAAa,CAACjf,KAAd,CAAoB,MAApB;CACH;;CAED,UAAI2e,MAAM,CAACY,YAAX,EAAyB;CACrBZ,QAAAA,MAAM,CAACY,YAAP,GADqB;CAExB;CACJ,KAjLD;;CAoLJ;CACA;CACA;CACA;CACA;;;CACI,SAAK2M,UAAL,GAAkB,EAAlB;;CAEA,aAASK,eAAT,GAA2B;CACvB5b,MAAAA,IAAI,CAACub,UAAL,CAAgB/mB,IAAhB,CAAqB,IAAIuG,IAAJ,GAAWC,OAAX,EAArB;;CAEA,UAAI,OAAOgT,MAAM,CAAC2G,WAAd,KAA8B,UAAlC,EAA8C;CAC1C3G,QAAAA,MAAM,CAAC2G,WAAP,CAAmB3U,IAAI,CAACub,UAAL,CAAgBvb,IAAI,CAACub,UAAL,CAAgBplB,MAAhB,GAAyB,CAAzC,CAAnB,EAAgE6J,IAAI,CAACub,UAArE;CACH;CACJ;;CAED,aAASO,WAAT,CAAqBS,YAArB,EAAmC;CAC/B,UAAIjO,aAAa,IAAIA,aAAa,CAACoF,QAAnC,EAA6C;CACzC,eAAOpF,aAAa,CAACoF,QAArB;CACH;;CAED,aAAO6I,YAAY,CAAC7I,QAAb,IAAyB,YAAhC;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKvE,IAAL,GAAY,UAASnb,QAAT,EAAmB;CAC3BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEAgM,MAAAA,IAAI,CAACqc,eAAL,GAAuB,IAAvB,CAH2B;;CAK3B,UAAI,CAAC/N,aAAL,EAAoB;CAChB;CACH;;CAED,WAAKyN,iBAAL,GAAyB/nB,QAAzB;;CAEA,UAAIsa,aAAa,CAACxC,KAAd,KAAwB,WAA5B,EAAyC;CACrCwC,QAAAA,aAAa,CAACa,IAAd;CACH;;CAED,UAAI,OAAOnB,MAAM,CAAC0G,SAAd,KAA4B,QAAhC,EAA0C;CACtCxF,QAAAA,UAAU,CAAC,YAAW;CAClBlP,UAAAA,IAAI,CAAC7O,IAAL,GAAY,IAAI0f,IAAJ,CAASwK,YAAT,EAAuB;CAC/BxhB,YAAAA,IAAI,EAAEiiB,WAAW,CAAC9N,MAAD;CADc,WAAvB,CAAZ;CAIAhO,UAAAA,IAAI,CAAC+b,iBAAL,CAAuB/b,IAAI,CAAC7O,IAA5B;CACH,SANS,EAMP,GANO,CAAV;CAOH;CACJ,KAxBD;;CA2BJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKjD,KAAL,GAAa,YAAW;CACpB,UAAI,CAACogB,aAAL,EAAoB;CAChB;CACH;;CAED,UAAIA,aAAa,CAACxC,KAAd,KAAwB,WAA5B,EAAyC;CACrCwC,QAAAA,aAAa,CAACpgB,KAAd;CACH;CACJ,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK6d,MAAL,GAAc,YAAW;CACrB,UAAI,CAACuC,aAAL,EAAoB;CAChB;CACH;;CAED,UAAIA,aAAa,CAACxC,KAAd,KAAwB,QAA5B,EAAsC;CAClCwC,QAAAA,aAAa,CAACvC,MAAd;CACH;CACJ,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKwC,iBAAL,GAAyB,YAAW;CAChC,UAAID,aAAa,IAAIA,aAAa,CAACxC,KAAd,KAAwB,WAA7C,EAA0D;CACtD9L,QAAAA,IAAI,CAACmP,IAAL,CAAUqN,mBAAV;CACH;;CAEDA,MAAAA,mBAAmB;CACtB,KAND;;CAQA,aAASA,mBAAT,GAA+B;CAC3BnB,MAAAA,YAAY,GAAG,EAAf;CACA/M,MAAAA,aAAa,GAAG,IAAhB;CACAtO,MAAAA,IAAI,CAACub,UAAL,GAAkB,EAAlB;CACH,KAhW6C;;;CAmW9C,QAAIjN,aAAJ;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKiD,mBAAL,GAA2B,YAAW;CAClC,aAAOjD,aAAP;CACH,KAFD;;CAIA,aAASmO,mBAAT,GAA+B;CAC3B,UAAI,YAAY1O,WAAhB,EAA6B;CACzB,YAAI,CAACA,WAAW,CAAC2O,MAAjB,EAAyB;CACrB,iBAAO,KAAP;CACH;CACJ,OAJD,MAIO,IAAI,WAAW3O,WAAf,EAA4B;;CAC/B,YAAIA,WAAW,CAAC/a,KAAhB,EAAuB;CACnB,iBAAO,KAAP;CACH;CACJ;;CACD,aAAO,IAAP;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK7B,IAAL,GAAY,IAAZ;;CAIJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK8gB,QAAL,GAAgB,YAAW;CACvB,UAAI,CAAC3D,aAAL,EAAoB;CAChB,eAAO,UAAP;CACH;;CAED,aAAOA,aAAa,CAACxC,KAAd,IAAuB,UAA9B;CACH,KAND,CApZ8C;;;CA6Z9C,QAAI0P,SAAS,GAAG,EAAhB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKmB,YAAL,GAAoB,YAAW;CAC3B,aAAOnB,SAAP;CACH,KAFD,CAva8C;;;;;;CA+a9C,QAAI,OAAOxN,MAAM,CAAC4O,sBAAd,KAAyC,WAA7C,EAA0D;CACtD5O,MAAAA,MAAM,CAAC4O,sBAAP,GAAgC,KAAhC,CADsD;CAEzD;;CAED,QAAI5c,IAAI,GAAG,IAAX,CAnb8C;;;CAub9C,KAAC,SAASoc,MAAT,GAAkB;CACf,UAAI,CAAC9N,aAAD,IAAkBN,MAAM,CAAC4O,sBAAP,KAAkC,KAAxD,EAA+D;CAC3D;CACH;;CAED,UAAIH,mBAAmB,OAAO,KAA9B,EAAqC;CACjC,YAAI,CAACzO,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAAChF,GAAR,CAAY,4BAAZ;CACH;;CACDuR,QAAAA,IAAI,CAACmP,IAAL;CACA;CACH;;CAEDD,MAAAA,UAAU,CAACkN,MAAD,EAAS,IAAT,CAAV,CAbe;CAclB,KAdD,IAvb8C;;;CAwc9C,SAAK9oB,IAAL,GAAY,qBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;CAGH;;CAED,MAAI,OAAOwa,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACwF,mBAAV,GAAgCA,mBAAhC;CACH;CAGD;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASD,mBAAT,CAA6BtF,WAA7B,EAA0CC,MAA1C,EAAkD;CAC9C,QAAI,CAACuF,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC5X,MAArC,EAA6C;CACzC,YAAM,kCAAN;CACH;;CAED6X,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;CAEA,QAAIhO,IAAI,GAAG,IAAX,CAP8C;;CAU9C,QAAI6c,WAAW,GAAG,EAAlB;CACA,QAAIC,YAAY,GAAG,EAAnB;CACA,QAAIhuB,SAAS,GAAG,KAAhB;CACA,QAAIiuB,eAAe,GAAG,CAAtB;CACA,QAAIC,WAAJ;CAEA,QAAIvI,qBAAqB,GAAG,CAA5B;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,QAAIwI,eAAe,GAAGjP,MAAM,CAACiP,eAA7B,CA5B8C;;CA+B9C,QAAIjP,MAAM,CAACkP,WAAP,KAAuB,IAA3B,EAAiC;CAC7BzI,MAAAA,qBAAqB,GAAG,CAAxB;CACH;;CAED,QAAIzG,MAAM,CAACyG,qBAAP,KAAiC,CAArC,EAAwC;CACpCA,MAAAA,qBAAqB,GAAG,CAAxB;CACH;;CAED,QAAI,CAACA,qBAAD,IAA0BA,qBAAqB,GAAG,CAAtD,EAAyD;CACrDA,MAAAA,qBAAqB,GAAG,CAAxB;CACH;;CAED,QAAI,CAACzG,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,MAAAA,OAAO,CAAChF,GAAR,CAAY,8DAA8DgmB,qBAA1E;CACH,KA7C6C;;;;;;CAmD9C,QAAI,OAAOzG,MAAM,CAAC4O,sBAAd,KAAyC,WAA7C,EAA0D;CACtD5O,MAAAA,MAAM,CAAC4O,sBAAP,GAAgC,IAAhC;CACH;;CAED,aAASH,mBAAT,GAA+B;CAC3B,UAAIzO,MAAM,CAAC4O,sBAAP,KAAkC,KAAtC,EAA6C;;CAEzC,eAAO,IAAP;CACH;;CAED,UAAI,YAAY7O,WAAhB,EAA6B;CACzB,YAAI,CAACA,WAAW,CAAC2O,MAAjB,EAAyB;CACrB,iBAAO,KAAP;CACH;CACJ,OAJD,MAIO,IAAI,WAAW3O,WAAf,EAA4B;;CAC/B,YAAIA,WAAW,CAAC/a,KAAhB,EAAuB;CACnB,iBAAO,KAAP;CACH;CACJ;;CACD,aAAO,IAAP;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKnH,MAAL,GAAc,YAAW;CACrB,UAAI4wB,mBAAmB,OAAO,KAA9B,EAAqC;CACjC,cAAM,yCAAN;CACH;;CAEDU,MAAAA,cAAc;CAEdC,MAAAA,qBAAqB,GAAGC,QAAQ,GAAG,KAAnC;CACAvuB,MAAAA,SAAS,GAAG,IAAZ;;CAEA,UAAI,OAAOkf,MAAM,CAAC0G,SAAd,KAA4B,WAAhC,EAA6C;CACzC0H,QAAAA,MAAM;CACT;CACJ,KAbD;;CAeA,aAASkB,qBAAT,CAA+BtP,MAA/B,EAAuCha,QAAvC,EAAiD;CAC7C,eAASupB,iBAAT,CAA2BvP,MAA3B,EAAmCwP,EAAnC,EAAuC;CACnC,YAAI/I,qBAAqB,GAAGzG,MAAM,CAACyG,qBAAnC,CADmC;;CAInC,YAAIgJ,WAAW,GAAGzP,MAAM,CAACyP,WAAP,CAAmBpd,KAAnB,CAAyB,CAAzB,CAAlB;CACA,YAAIqd,YAAY,GAAG1P,MAAM,CAAC0P,YAAP,CAAoBrd,KAApB,CAA0B,CAA1B,CAAnB;CACA,YAAIgK,UAAU,GAAG2D,MAAM,CAAC3D,UAAxB;CACA,YAAIsT,yBAAyB,GAAG3P,MAAM,CAAC2P,yBAAvC;CACA,YAAIV,eAAe,GAAGjP,MAAM,CAACiP,eAA7B;;CAEA,YAAIxI,qBAAqB,KAAK,CAA9B,EAAiC;CAC7BgJ,UAAAA,WAAW,GAAGG,YAAY,CAACH,WAAD,EAAcE,yBAAd,CAA1B;CACAD,UAAAA,YAAY,GAAGE,YAAY,CAACF,YAAD,EAAeC,yBAAf,CAA3B;;CAEA,cAAIV,eAAJ,EAAqB;CACjBQ,YAAAA,WAAW,GAAGI,gBAAgB,CAACJ,WAAD,EAAcR,eAAd,EAA+B5S,UAA/B,CAA9B;CACAqT,YAAAA,YAAY,GAAGG,gBAAgB,CAACH,YAAD,EAAeT,eAAf,EAAgC5S,UAAhC,CAA/B;CACH;CACJ;;CAED,YAAIoK,qBAAqB,KAAK,CAA9B,EAAiC;CAC7BgJ,UAAAA,WAAW,GAAGG,YAAY,CAACH,WAAD,EAAcE,yBAAd,CAA1B;;CAEA,cAAIV,eAAJ,EAAqB;CACjBQ,YAAAA,WAAW,GAAGI,gBAAgB,CAACJ,WAAD,EAAcR,eAAd,EAA+B5S,UAA/B,CAA9B;CACH;CACJ,SA1BkC;;;CA6BnC,YAAI4S,eAAJ,EAAqB;CACjB5S,UAAAA,UAAU,GAAG4S,eAAb;CACH,SA/BkC;;;;CAmCnC,iBAASY,gBAAT,CAA0Bvd,IAA1B,EAAgCwd,aAAhC,EAA+CC,aAA/C,EAA8D;CAC1D,cAAIC,QAAQ,GAAG7oB,IAAI,CAACyjB,KAAL,CAAWtY,IAAI,CAACnK,MAAL,IAAe2nB,aAAa,GAAGC,aAA/B,CAAX,CAAf;CACA,cAAIE,OAAO,GAAG,EAAd;CACA,cAAIC,YAAY,GAAG9W,MAAM,CAAC,CAAC9G,IAAI,CAACnK,MAAL,GAAc,CAAf,KAAqB6nB,QAAQ,GAAG,CAAhC,CAAD,CAAzB;CACAC,UAAAA,OAAO,CAAC,CAAD,CAAP,GAAa3d,IAAI,CAAC,CAAD,CAAjB;;CACA,eAAK,IAAIrK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+nB,QAAQ,GAAG,CAA/B,EAAkC/nB,CAAC,EAAnC,EAAuC;CACnC,gBAAIkoB,GAAG,GAAGloB,CAAC,GAAGioB,YAAd;CACA,gBAAIE,MAAM,GAAGhX,MAAM,CAACjS,IAAI,CAACmjB,KAAL,CAAW6F,GAAX,CAAD,CAAN,CAAwBvgB,OAAxB,EAAb;CACA,gBAAIygB,KAAK,GAAGjX,MAAM,CAACjS,IAAI,CAACmpB,IAAL,CAAUH,GAAV,CAAD,CAAN,CAAuBvgB,OAAvB,EAAZ;CACA,gBAAI2gB,OAAO,GAAGJ,GAAG,GAAGC,MAApB;CACAH,YAAAA,OAAO,CAAChoB,CAAD,CAAP,GAAauoB,iBAAiB,CAACle,IAAI,CAAC8d,MAAD,CAAL,EAAe9d,IAAI,CAAC+d,KAAD,CAAnB,EAA4BE,OAA5B,CAA9B;CACH;;CACDN,UAAAA,OAAO,CAACD,QAAQ,GAAG,CAAZ,CAAP,GAAwB1d,IAAI,CAACA,IAAI,CAACnK,MAAL,GAAc,CAAf,CAA5B;CACA,iBAAO8nB,OAAP;CACH;;CAED,iBAASO,iBAAT,CAA2BJ,MAA3B,EAAmCC,KAAnC,EAA0CE,OAA1C,EAAmD;CAC/C,iBAAOH,MAAM,GAAG,CAACC,KAAK,GAAGD,MAAT,IAAmBG,OAAnC;CACH;;CAED,iBAASX,YAAT,CAAsBa,aAAtB,EAAqCC,OAArC,EAA8C;CAC1C,cAAI3gB,MAAM,GAAG,IAAI4gB,YAAJ,CAAiBD,OAAjB,CAAb;CACA,cAAIE,MAAM,GAAG,CAAb;CACA,cAAIC,GAAG,GAAGJ,aAAa,CAACtoB,MAAxB;;CAEA,eAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4oB,GAApB,EAAyB5oB,CAAC,EAA1B,EAA8B;CAC1B,gBAAI9G,MAAM,GAAGsvB,aAAa,CAACxoB,CAAD,CAA1B;CACA8H,YAAAA,MAAM,CAAC+gB,GAAP,CAAW3vB,MAAX,EAAmByvB,MAAnB;CACAA,YAAAA,MAAM,IAAIzvB,MAAM,CAACgH,MAAjB;CACH;;CAED,iBAAO4H,MAAP;CACH;;CAED,iBAASghB,UAAT,CAAoB7B,WAApB,EAAiC8B,YAAjC,EAA+C;CAC3C,cAAI7oB,MAAM,GAAG+mB,WAAW,CAAC/mB,MAAZ,GAAqB6oB,YAAY,CAAC7oB,MAA/C;CAEA,cAAI4H,MAAM,GAAG,IAAI4gB,YAAJ,CAAiBxoB,MAAjB,CAAb;CAEA,cAAI8oB,UAAU,GAAG,CAAjB;;CAEA,eAAK,IAAInc,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG3M,MAA5B,GAAqC;CACjC4H,YAAAA,MAAM,CAAC+E,KAAK,EAAN,CAAN,GAAkBoa,WAAW,CAAC+B,UAAD,CAA7B;CACAlhB,YAAAA,MAAM,CAAC+E,KAAK,EAAN,CAAN,GAAkBkc,YAAY,CAACC,UAAD,CAA9B;CACAA,YAAAA,UAAU;CACb;;CACD,iBAAOlhB,MAAP;CACH;;CAED,iBAASmhB,aAAT,CAAuBjG,IAAvB,EAA6B2F,MAA7B,EAAqCO,MAArC,EAA6C;CACzC,cAAIN,GAAG,GAAGM,MAAM,CAAChpB,MAAjB;;CACA,eAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4oB,GAApB,EAAyB5oB,CAAC,EAA1B,EAA8B;CAC1BgjB,YAAAA,IAAI,CAACmG,QAAL,CAAcR,MAAM,GAAG3oB,CAAvB,EAA0BkpB,MAAM,CAACjlB,UAAP,CAAkBjE,CAAlB,CAA1B;CACH;CACJ,SAzFkC;;;CA4FnC,YAAIopB,WAAJ;;CAEA,YAAI5K,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B4K,UAAAA,WAAW,GAAGN,UAAU,CAACtB,WAAD,EAAcC,YAAd,CAAxB;CACH;;CAED,YAAIjJ,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B4K,UAAAA,WAAW,GAAG5B,WAAd;CACH;;CAED,YAAI6B,iBAAiB,GAAGD,WAAW,CAAClpB,MAApC,CAtGmC;;CAyGnC,YAAIopB,qBAAqB,GAAG,KAAKD,iBAAiB,GAAG,CAArD;CAEA,YAAInwB,MAAM,GAAG,IAAIqwB,WAAJ,CAAgBD,qBAAhB,CAAb;CAEA,YAAItG,IAAI,GAAG,IAAIwG,QAAJ,CAAatwB,MAAb,CAAX,CA7GmC;;CAgHnC+vB,QAAAA,aAAa,CAACjG,IAAD,EAAO,CAAP,EAAU,MAAV,CAAb,CAhHmC;;;CAoHnCA,QAAAA,IAAI,CAACyG,SAAL,CAAe,CAAf,EAAkB,KAAKJ,iBAAiB,GAAG,CAA3C,EAA8C,IAA9C,EApHmC;;CAuHnCJ,QAAAA,aAAa,CAACjG,IAAD,EAAO,CAAP,EAAU,MAAV,CAAb,CAvHmC;;;CA2HnCiG,QAAAA,aAAa,CAACjG,IAAD,EAAO,EAAP,EAAW,MAAX,CAAb,CA3HmC;;CA8HnCA,QAAAA,IAAI,CAACyG,SAAL,CAAe,EAAf,EAAmB,EAAnB,EAAuB,IAAvB,EA9HmC;;CAiInCzG,QAAAA,IAAI,CAAC0G,SAAL,CAAe,EAAf,EAAmB,CAAnB,EAAsB,IAAtB,EAjImC;;CAoInC1G,QAAAA,IAAI,CAAC0G,SAAL,CAAe,EAAf,EAAmBlL,qBAAnB,EAA0C,IAA1C,EApImC;;CAuInCwE,QAAAA,IAAI,CAACyG,SAAL,CAAe,EAAf,EAAmBrV,UAAnB,EAA+B,IAA/B,EAvImC;;CA0InC4O,QAAAA,IAAI,CAACyG,SAAL,CAAe,EAAf,EAAmBrV,UAAU,GAAGoK,qBAAb,GAAqC,CAAxD,EAA2D,IAA3D,EA1ImC;;CA6InCwE,QAAAA,IAAI,CAAC0G,SAAL,CAAe,EAAf,EAAmBlL,qBAAqB,GAAG,CAA3C,EAA8C,IAA9C,EA7ImC;;CAgJnCwE,QAAAA,IAAI,CAAC0G,SAAL,CAAe,EAAf,EAAmB,EAAnB,EAAuB,IAAvB,EAhJmC;;;CAoJnCT,QAAAA,aAAa,CAACjG,IAAD,EAAO,EAAP,EAAW,MAAX,CAAb,CApJmC;;CAuJnCA,QAAAA,IAAI,CAACyG,SAAL,CAAe,EAAf,EAAmBJ,iBAAiB,GAAG,CAAvC,EAA0C,IAA1C,EAvJmC;;CA0JnC,YAAIT,GAAG,GAAGS,iBAAV;CACA,YAAIxc,KAAK,GAAG,EAAZ;CACA,YAAI6H,MAAM,GAAG,CAAb;;CACA,aAAK,IAAI1U,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4oB,GAApB,EAAyB5oB,CAAC,EAA1B,EAA8B;CAC1BgjB,UAAAA,IAAI,CAAC2G,QAAL,CAAc9c,KAAd,EAAqBuc,WAAW,CAACppB,CAAD,CAAX,IAAkB,SAAS0U,MAA3B,CAArB,EAAyD,IAAzD;CACA7H,UAAAA,KAAK,IAAI,CAAT;CACH;;CAED,YAAI0a,EAAJ,EAAQ;CACJ,iBAAOA,EAAE,CAAC;CACNruB,YAAAA,MAAM,EAAEA,MADF;CAEN8pB,YAAAA,IAAI,EAAEA;CAFA,WAAD,CAAT;CAIH;;CAEDjJ,QAAAA,WAAW,CAAC;CACR7gB,UAAAA,MAAM,EAAEA,MADA;CAER8pB,UAAAA,IAAI,EAAEA;CAFE,SAAD,CAAX;CAIH;;CAED,UAAIjL,MAAM,CAAC6R,QAAX,EAAqB;CACjBtC,QAAAA,iBAAiB,CAACvP,MAAD,EAAS,UAAS1N,IAAT,EAAe;CACrCtM,UAAAA,QAAQ,CAACsM,IAAI,CAACnR,MAAN,EAAcmR,IAAI,CAAC2Y,IAAnB,CAAR;CACH,SAFgB,CAAjB;CAGA;CACH;;CAGD,UAAI1I,SAAS,GAAGC,kBAAkB,CAAC+M,iBAAD,CAAlC;;CAEAhN,MAAAA,SAAS,CAACE,SAAV,GAAsB,UAAS/b,KAAT,EAAgB;CAClCV,QAAAA,QAAQ,CAACU,KAAK,CAAC4L,IAAN,CAAWnR,MAAZ,EAAoBuF,KAAK,CAAC4L,IAAN,CAAW2Y,IAA/B,CAAR,CADkC;;CAIlCve,QAAAA,GAAG,CAACG,eAAJ,CAAoB0V,SAAS,CAACuP,SAA9B,EAJkC;;CAOlCvP,QAAAA,SAAS,CAACwP,SAAV;CACH,OARD;;CAUAxP,MAAAA,SAAS,CAACP,WAAV,CAAsBhC,MAAtB;CACH;;CAED,aAASwC,kBAAT,CAA4BI,SAA5B,EAAuC;CACnC,UAAIkP,SAAS,GAAGplB,GAAG,CAACC,eAAJ,CAAoB,IAAIkW,IAAJ,CAAS,CAACD,SAAS,CAACvT,QAAV,EAAD,EACzC,wCAAwCuT,SAAS,CAACtd,IAAlD,GAAyD,cADhB,CAAT,EAEjC;CACCuG,QAAAA,IAAI,EAAE;CADP,OAFiC,CAApB,CAAhB;CAMA,UAAIiX,MAAM,GAAG,IAAIV,MAAJ,CAAW0P,SAAX,CAAb;CACAhP,MAAAA,MAAM,CAACgP,SAAP,GAAmBA,SAAnB;CACA,aAAOhP,MAAP;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK3B,IAAL,GAAY,UAASnb,QAAT,EAAmB;CAC3BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC,CAD2B;;;CAI3BlF,MAAAA,SAAS,GAAG,KAAZ;CAEAwuB,MAAAA,qBAAqB,CAAC;CAClBL,QAAAA,eAAe,EAAEA,eADC;CAElB5S,QAAAA,UAAU,EAAEA,UAFM;CAGlBoK,QAAAA,qBAAqB,EAAEA,qBAHL;CAIlBkJ,QAAAA,yBAAyB,EAAEZ,eAJT;CAKlBU,QAAAA,WAAW,EAAEZ,WALK;CAMlBa,QAAAA,YAAY,EAAEjJ,qBAAqB,KAAK,CAA1B,GAA8B,EAA9B,GAAmCqI,YAN/B;CAOlB+C,QAAAA,QAAQ,EAAE7R,MAAM,CAAC6R;CAPC,OAAD,EAQlB,UAAS1wB,MAAT,EAAiB8pB,IAAjB,EAAuB;;CAElC;CACA;CACA;CACA;CACA;CACA;CACA;CACYjZ,QAAAA,IAAI,CAAC7O,IAAL,GAAY,IAAI0f,IAAJ,CAAS,CAACoI,IAAD,CAAT,EAAiB;CACzBpf,UAAAA,IAAI,EAAE;CADmB,SAAjB,CAAZ;;CAKZ;CACA;CACA;CACA;CACA;CACA;CACA;;CACYmG,QAAAA,IAAI,CAAC7Q,MAAL,GAAc,IAAIqwB,WAAJ,CAAgBvG,IAAI,CAAC9pB,MAAL,CAAY8d,UAA5B,CAAd;;CAGZ;CACA;CACA;CACA;CACA;CACA;CACA;;CACYjN,QAAAA,IAAI,CAACiZ,IAAL,GAAYA,IAAZ;CAEAjZ,QAAAA,IAAI,CAACqK,UAAL,GAAkB4S,eAAe,IAAI5S,UAArC;CACArK,QAAAA,IAAI,CAAC4K,UAAL,GAAkBA,UAAlB,CAlCsB;;CAqCtB5K,QAAAA,IAAI,CAAC7J,MAAL,GAAc4mB,eAAd;CAEAK,QAAAA,qBAAqB,GAAG,KAAxB;;CAEA,YAAIppB,QAAJ,EAAc;CACVA,UAAAA,QAAQ,CAACgM,IAAI,CAAC7O,IAAN,CAAR;CACH;CACJ,OApDoB,CAArB;CAqDH,KA3DD;;CA6DA,QAAI,OAAO2c,SAAS,CAACqE,OAAjB,KAA6B,WAAjC,EAA8C;CAC1CrE,MAAAA,SAAS,CAACqE,OAAV,GAAoB;CAChBC,QAAAA,uBAAuB,EAAE,IADT;CAEhBhJ,QAAAA,YAAY,EAAE1T,MAAM,CAAC0T,YAAP,IAAuB1T,MAAM,CAAC2T;CAF5B,OAApB;CAIH;;CAED,QAAI,CAACyE,SAAS,CAACqE,OAAV,CAAkBC,uBAAnB,IAA8CtE,SAAS,CAACqE,OAAV,CAAkBC,uBAAlB,CAA0CtG,KAA1C,KAAoD,QAAtG,EAAgH;CAC5GgC,MAAAA,SAAS,CAACqE,OAAV,CAAkBC,uBAAlB,GAA4C,IAAItE,SAAS,CAACqE,OAAV,CAAkB/I,YAAtB,EAA5C;CACH;;CAED,QAAIb,OAAO,GAAGuF,SAAS,CAACqE,OAAV,CAAkBC,uBAAhC,CApY8C;;CAuY9C,QAAI4N,UAAU,GAAGzX,OAAO,CAAC0X,uBAAR,CAAgClS,WAAhC,CAAjB;CAEA,QAAImS,iBAAiB,GAAG,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,IAAd,EAAoB,IAApB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,KAAtC,CAAxB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAGI,QAAItV,UAAU,GAAG,OAAOoD,MAAM,CAACpD,UAAd,KAA6B,WAA7B,GAA2C,IAA3C,GAAkDoD,MAAM,CAACpD,UAA1E;;CAEA,QAAIsV,iBAAiB,CAACzI,OAAlB,CAA0B7M,UAA1B,MAA0C,CAAC,CAA/C,EAAkD;CAC9C,UAAI,CAACoD,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,sCAAsC0xB,IAAI,CAACC,SAAL,CAAeF,iBAAf,EAAkC,IAAlC,EAAwC,IAAxC,CAAlD;CACH;CACJ;;CAED,QAAI3X,OAAO,CAAC8X,oBAAZ,EAAkC;CAC9BrD,MAAAA,WAAW,GAAGzU,OAAO,CAAC8X,oBAAR,CAA6BzV,UAA7B,EAAyC6J,qBAAzC,EAAgEA,qBAAhE,CAAd;CACH,KAFD,MAEO,IAAIlM,OAAO,CAACuC,qBAAZ,EAAmC;CACtCkS,MAAAA,WAAW,GAAGzU,OAAO,CAACuC,qBAAR,CAA8BF,UAA9B,EAA0C6J,qBAA1C,EAAiEA,qBAAjE,CAAd;CACH,KAFM,MAEA;CACH,YAAM,8CAAN;CACH,KA1a6C;;;CA6a9CuL,IAAAA,UAAU,CAACtW,OAAX,CAAmBsT,WAAnB;;CAEA,QAAI,CAAChP,MAAM,CAACpD,UAAZ,EAAwB;CACpBA,MAAAA,UAAU,GAAGoS,WAAW,CAACpS,UAAzB,CADoB;CAEvB;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,QAAIP,UAAU,GAAG,OAAO2D,MAAM,CAAC3D,UAAd,KAA6B,WAA7B,GAA2C2D,MAAM,CAAC3D,UAAlD,GAA+D9B,OAAO,CAAC8B,UAAR,IAAsB,KAAtG;;CAEA,QAAIA,UAAU,GAAG,KAAb,IAAsBA,UAAU,GAAG,KAAvC,EAA8C;;CAE1C,UAAI,CAAC2D,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,kDAAZ;CACH;CACJ;;CAED,QAAI,CAACuf,MAAM,CAACI,WAAZ,EAAyB;CACrB,UAAIJ,MAAM,CAACiP,eAAX,EAA4B;CACxBxpB,QAAAA,OAAO,CAAChF,GAAR,CAAY,0BAA0Buf,MAAM,CAACiP,eAA7C;CACH;CACJ;;CAED,QAAII,QAAQ,GAAG,KAAf;;CAEJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKnvB,KAAL,GAAa,YAAW;CACpBmvB,MAAAA,QAAQ,GAAG,IAAX;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKtR,MAAL,GAAc,YAAW;CACrB,UAAI0Q,mBAAmB,OAAO,KAA9B,EAAqC;CACjC,cAAM,yCAAN;CACH;;CAED,UAAI,CAAC3tB,SAAL,EAAgB;CACZ,YAAI,CAACkf,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAAChF,GAAR,CAAY,qCAAZ;CACH;;CACD,aAAK5C,MAAL;CACA;CACH;;CAEDwxB,MAAAA,QAAQ,GAAG,KAAX;CACH,KAdD;;CAiBJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK9O,iBAAL,GAAyB,YAAW;CAChCP,MAAAA,MAAM,CAAC4O,sBAAP,GAAgC,KAAhC;;CAEA,UAAI9tB,SAAJ,EAAe;CACX,aAAKqgB,IAAL,CAAUqN,mBAAV;CACH;;CAEDA,MAAAA,mBAAmB;CACtB,KARD;;CAUA,aAASW,cAAT,GAA0B;CACtBN,MAAAA,WAAW,GAAG,EAAd;CACAC,MAAAA,YAAY,GAAG,EAAf;CACAC,MAAAA,eAAe,GAAG,CAAlB;CACAK,MAAAA,qBAAqB,GAAG,KAAxB;CACAtuB,MAAAA,SAAS,GAAG,KAAZ;CACAuuB,MAAAA,QAAQ,GAAG,KAAX;CACA9U,MAAAA,OAAO,GAAG,IAAV;CAEAvI,MAAAA,IAAI,CAAC6c,WAAL,GAAmBA,WAAnB;CACA7c,MAAAA,IAAI,CAAC8c,YAAL,GAAoBA,YAApB;CACA9c,MAAAA,IAAI,CAACyU,qBAAL,GAA6BA,qBAA7B;CACAzU,MAAAA,IAAI,CAACid,eAAL,GAAuBA,eAAvB;CACAjd,MAAAA,IAAI,CAACqK,UAAL,GAAkBA,UAAlB;CACArK,MAAAA,IAAI,CAAC+c,eAAL,GAAuBA,eAAvB;CAEAuD,MAAAA,qBAAqB,GAAG;CACpB/a,QAAAA,IAAI,EAAE,EADc;CAEpBgb,QAAAA,KAAK,EAAE,EAFa;CAGpBxD,QAAAA,eAAe,EAAE;CAHG,OAAxB;CAKH;;CAED,aAASP,mBAAT,GAA+B;CAC3B,UAAIQ,WAAJ,EAAiB;CACbA,QAAAA,WAAW,CAACjS,cAAZ,GAA6B,IAA7B;CACAiS,QAAAA,WAAW,CAACnR,UAAZ;CACAmR,QAAAA,WAAW,GAAG,IAAd;CACH;;CAED,UAAIgD,UAAJ,EAAgB;CACZA,QAAAA,UAAU,CAACnU,UAAX;CACAmU,QAAAA,UAAU,GAAG,IAAb;CACH;;CAED7C,MAAAA,cAAc;CACjB,KA3iB6C;;;CA8iB9C,SAAK7pB,IAAL,GAAY,qBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,QAAI8pB,qBAAqB,GAAG,KAA5B;;CAEA,aAASoD,2BAAT,CAAqCnnB,CAArC,EAAwC;CACpC,UAAIgkB,QAAJ,EAAc;CACV;CACH;;CAED,UAAIZ,mBAAmB,OAAO,KAA9B,EAAqC;CACjC,YAAI,CAACzO,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAAChF,GAAR,CAAY,4BAAZ;CACH;;CACDuuB,QAAAA,WAAW,CAACnR,UAAZ;CACA/c,QAAAA,SAAS,GAAG,KAAZ;CACH;;CAED,UAAI,CAACA,SAAL,EAAgB;CACZ,YAAIkxB,UAAJ,EAAgB;CACZA,UAAAA,UAAU,CAACnU,UAAX;CACAmU,UAAAA,UAAU,GAAG,IAAb;CACH;;CACD;CACH;;CAGT;CACA;CACA;CACA;CACA;CACA;;;CACQ,UAAI,CAAC5C,qBAAL,EAA4B;CACxBA,QAAAA,qBAAqB,GAAG,IAAxB;;CACA,YAAIpP,MAAM,CAACyS,qBAAX,EAAkC;CAC9BzS,UAAAA,MAAM,CAACyS,qBAAP;CACH;;CAED,YAAIzS,MAAM,CAACY,YAAX,EAAyB;CACrBZ,UAAAA,MAAM,CAACY,YAAP;CACH;CACJ;;CAED,UAAIrJ,IAAI,GAAGlM,CAAC,CAACqnB,WAAF,CAAcpV,cAAd,CAA6B,CAA7B,CAAX,CAvCoC;;CA0CpC,UAAIqV,MAAM,GAAG,IAAIve,YAAJ,CAAiBmD,IAAjB,CAAb;CACAsX,MAAAA,WAAW,CAACroB,IAAZ,CAAiBmsB,MAAjB;;CAEA,UAAIlM,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B,YAAI8L,KAAK,GAAGlnB,CAAC,CAACqnB,WAAF,CAAcpV,cAAd,CAA6B,CAA7B,CAAZ;CACA,YAAIsV,OAAO,GAAG,IAAIxe,YAAJ,CAAiBme,KAAjB,CAAd;CACAzD,QAAAA,YAAY,CAACtoB,IAAb,CAAkBosB,OAAlB;CACH;;CAED7D,MAAAA,eAAe,IAAInS,UAAnB,CAnDoC;;CAsDpC5K,MAAAA,IAAI,CAAC+c,eAAL,GAAuBA,eAAvB;;CAEA,UAAI,OAAO/O,MAAM,CAAC0G,SAAd,KAA4B,WAAhC,EAA6C;CACzC4L,QAAAA,qBAAqB,CAACvD,eAAtB,IAAyCnS,UAAzC;CACA0V,QAAAA,qBAAqB,CAAC/a,IAAtB,CAA2B/Q,IAA3B,CAAgCmsB,MAAhC;;CAEA,YAAIlM,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B6L,UAAAA,qBAAqB,CAACC,KAAtB,CAA4B/rB,IAA5B,CAAiCosB,OAAjC;CACH;CACJ;CACJ;;CAED5D,IAAAA,WAAW,CAACjS,cAAZ,GAA6ByV,2BAA7B,CAvnB8C;;CA0nB9C,QAAIjY,OAAO,CAACwB,4BAAZ,EAA0C;CACtCiT,MAAAA,WAAW,CAACtT,OAAZ,CAAoBnB,OAAO,CAACwB,4BAAR,EAApB;CACH,KAFD,MAEO;CACHiT,MAAAA,WAAW,CAACtT,OAAZ,CAAoBnB,OAAO,CAACoB,WAA5B;CACH,KA9nB6C;;;CAioB9C,SAAKkT,WAAL,GAAmBA,WAAnB;CACA,SAAKC,YAAL,GAAoBA,YAApB;CACA,SAAKrI,qBAAL,GAA6BA,qBAA7B;CACA,SAAKwI,eAAL,GAAuBA,eAAvB;CACA,SAAK5S,UAAL,GAAkBA,UAAlB;CACArK,IAAAA,IAAI,CAAC+c,eAAL,GAAuBA,eAAvB,CAtoB8C;;CAyoB9C,QAAIuD,qBAAqB,GAAG;CACxB/a,MAAAA,IAAI,EAAE,EADkB;CAExBgb,MAAAA,KAAK,EAAE,EAFiB;CAGxBxD,MAAAA,eAAe,EAAE;CAHO,KAA5B,CAzoB8C;;CAgpB9C,aAASX,MAAT,GAAkB;CACd,UAAI,CAACttB,SAAD,IAAc,OAAOkf,MAAM,CAAC2N,eAAd,KAAkC,UAAhD,IAA8D,OAAO3N,MAAM,CAAC0G,SAAd,KAA4B,WAA9F,EAA2G;CACvG;CACH;;CAED,UAAI4L,qBAAqB,CAAC/a,IAAtB,CAA2BpP,MAA/B,EAAuC;CACnCmnB,QAAAA,qBAAqB,CAAC;CAClBL,UAAAA,eAAe,EAAEA,eADC;CAElB5S,UAAAA,UAAU,EAAEA,UAFM;CAGlBoK,UAAAA,qBAAqB,EAAEA,qBAHL;CAIlBkJ,UAAAA,yBAAyB,EAAE2C,qBAAqB,CAACvD,eAJ/B;CAKlBU,UAAAA,WAAW,EAAE6C,qBAAqB,CAAC/a,IALjB;CAMlBmY,UAAAA,YAAY,EAAEjJ,qBAAqB,KAAK,CAA1B,GAA8B,EAA9B,GAAmC6L,qBAAqB,CAACC;CANrD,SAAD,EAOlB,UAASpxB,MAAT,EAAiB8pB,IAAjB,EAAuB;CACtB,cAAI9nB,IAAI,GAAG,IAAI0f,IAAJ,CAAS,CAACoI,IAAD,CAAT,EAAiB;CACxBpf,YAAAA,IAAI,EAAE;CADkB,WAAjB,CAAX;CAGAmU,UAAAA,MAAM,CAAC2N,eAAP,CAAuBxqB,IAAvB;CAEA+d,UAAAA,UAAU,CAACkN,MAAD,EAASpO,MAAM,CAAC0G,SAAhB,CAAV;CACH,SAdoB,CAArB;CAgBA4L,QAAAA,qBAAqB,GAAG;CACpB/a,UAAAA,IAAI,EAAE,EADc;CAEpBgb,UAAAA,KAAK,EAAE,EAFa;CAGpBxD,UAAAA,eAAe,EAAE;CAHG,SAAxB;CAKH,OAtBD,MAsBO;CACH7N,QAAAA,UAAU,CAACkN,MAAD,EAASpO,MAAM,CAAC0G,SAAhB,CAAV;CACH;CACJ;CACJ;;CAED,MAAI,OAAO5G,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACuF,mBAAV,GAAgCA,mBAAhC;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASH,cAAT,CAAwB2N,WAAxB,EAAqC7S,MAArC,EAA6C;CACzC,QAAI,OAAO8S,WAAP,KAAuB,WAA3B,EAAwC;CACpC,YAAM,8DAAN;CACH;;CAED9S,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;;CACA,QAAI,CAACA,MAAM,CAACkH,aAAZ,EAA2B;CACvBlH,MAAAA,MAAM,CAACkH,aAAP,GAAuB,EAAvB;CACH,KARwC;;;CAWzC,QAAI6L,+BAA+B,GAAG,KAAtC;CACA,KAAC,eAAD,EAAkB,kBAAlB,EAAsC,qBAAtC,EAA6DtsB,OAA7D,CAAqE,UAASJ,IAAT,EAAe;CAChF,UAAIA,IAAI,IAAIoB,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAZ,EAA8C;CAC1CumB,QAAAA,+BAA+B,GAAG,IAAlC;CACH;CACJ,KAJD;;CAMA,QAAIC,SAAS,GAAG,CAAC,CAAC,CAACtrB,MAAM,CAACurB,uBAAT,IAAoC,CAAC,CAACvrB,MAAM,CAAC8hB,kBAA9C,KAAqE,CAAC,CAAC9hB,MAAM,CAACwrB,MAA9F;;CAEA,QAAIC,aAAa,GAAG,EAApB;CACA,QAAIC,UAAU,GAAG/Q,SAAS,CAAC4F,SAAV,CAAoBoL,KAApB,CAA0B,0BAA1B,CAAjB;;CACA,QAAIL,SAAS,IAAII,UAAb,IAA2BA,UAAU,CAAC,CAAD,CAAzC,EAA8C;CAC1CD,MAAAA,aAAa,GAAG9I,QAAQ,CAAC+I,UAAU,CAAC,CAAD,CAAX,EAAgB,EAAhB,CAAxB;CACH;;CAED,QAAIJ,SAAS,IAAIG,aAAa,GAAG,EAAjC,EAAqC;CACjCJ,MAAAA,+BAA+B,GAAG,KAAlC;CACH;;CAED,QAAI/S,MAAM,CAACsT,iBAAX,EAA8B;CAC1BP,MAAAA,+BAA+B,GAAG,KAAlC;CACH;;CAED,QAAIQ,YAAJ,EAAkBC,mBAAlB;;CAEA,QAAIT,+BAAJ,EAAqC;CACjC,UAAI,CAAC/S,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,uEAAZ;CACH;;CAED,UAAIoyB,WAAW,YAAYY,iBAA3B,EAA8C;CAC1CF,QAAAA,YAAY,GAAGV,WAAf;CACH,OAFD,MAEO,IAAIA,WAAW,YAAYa,wBAA3B,EAAqD;CACxDH,QAAAA,YAAY,GAAGV,WAAW,CAACzY,MAA3B;CACH,OAFM,MAEA;CACH,cAAM,mEAAN;CACH;CACJ,KAZD,MAYO,IAAI,CAAC,CAACiI,SAAS,CAACC,eAAhB,EAAiC;CACpC,UAAI,CAACtC,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAC/E,KAAR,CAAc,+CAAd;CACH;CACJ;;CAED,QAAIizB,WAAJ;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK91B,MAAL,GAAc,YAAW;CACrB81B,MAAAA,WAAW,GAAG,IAAd;;CAEA,UAAIZ,+BAA+B,IAAI,CAAC/S,MAAM,CAACsT,iBAA/C,EAAkE;;CAE9D,YAAIM,iBAAJ;;CACA,YAAI,mBAAmBL,YAAvB,EAAqC;CACjCK,UAAAA,iBAAiB,GAAGL,YAAY,CAACnL,aAAb,CAA2B,EAA3B,CAApB,CADiC;CAEpC,SAFD,MAEO,IAAI,sBAAsBmL,YAA1B,EAAwC;CAC3CK,UAAAA,iBAAiB,GAAGL,YAAY,CAAClL,gBAAb,CAA8B,EAA9B,CAApB;CACH,SAFM,MAEA,IAAI,yBAAyBkL,YAA7B,EAA2C;CAC9CK,UAAAA,iBAAiB,GAAGL,YAAY,CAACM,mBAAb,CAAiC,EAAjC,CAApB;CACH;;CAED,YAAI;CACA,cAAIC,QAAQ,GAAG,IAAI/M,WAAJ,EAAf;CACA+M,UAAAA,QAAQ,CAAC9M,QAAT,CAAkBzB,SAAS,CAACqO,iBAAD,EAAoB,OAApB,CAAT,CAAsC,CAAtC,CAAlB;CACAA,UAAAA,iBAAiB,GAAGE,QAApB;CACH,SAJD,CAIE,OAAOzoB,CAAP,EAAU;;CAEZ,YAAI,CAACuoB,iBAAL,EAAwB;CACpB,gBAAM,sCAAN;CACH,SAnB6D;;;;CAuB9DJ,QAAAA,mBAAmB,GAAG,IAAIlO,mBAAJ,CAAwBsO,iBAAxB,EAA2C;CAC7DlO,UAAAA,QAAQ,EAAE1F,MAAM,CAAC0F,QAAP,IAAmB;CADgC,SAA3C,CAAtB;CAGA8N,QAAAA,mBAAmB,CAAC31B,MAApB;CACH,OA3BD,MA2BO;CACHk2B,QAAAA,MAAM,CAACC,MAAP,GAAgB,EAAhB;CACAzlB,QAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CACAinB,QAAAA,eAAe;CAClB;;CAED,UAAIjU,MAAM,CAACY,YAAX,EAAyB;CACrBZ,QAAAA,MAAM,CAACY,YAAP;CACH;CACJ,KAvCD;;CAyCA,SAAKsT,aAAL,GAAqB,UAASluB,QAAT,EAAmB;CACpC,UAAI6sB,WAAW,CAACsB,QAAZ,CAAqBtK,WAArB,OAAuC,QAA3C,EAAqD;CACjD7jB,QAAAA,QAAQ;CACR;CACH;;CAED,UAAIouB,YAAY,GAAGL,MAAM,CAACC,MAAP,CAAc7rB,MAAjC;CACA4rB,MAAAA,MAAM,CAACC,MAAP,CAAcvtB,OAAd,CAAsB,UAAS4tB,KAAT,EAAgBC,GAAhB,EAAqB;CACvC,YAAIC,eAAe,GAAGH,YAAY,GAAGE,GAArC;;CACA,YAAI,CAACtU,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,UAAAA,OAAO,CAAChF,GAAR,CAAY8zB,eAAe,GAAG,GAAlB,GAAwBH,YAAxB,GAAuC,mBAAnD;CACH;;CAED,YAAIpU,MAAM,CAACwU,kBAAX,EAA+B;CAC3BxU,UAAAA,MAAM,CAACwU,kBAAP,CAA0BD,eAA1B,EAA2CH,YAA3C;CACH;;CAED,YAAIlb,IAAI,GAAGmb,KAAK,CAACtQ,KAAN,CAAY1K,SAAZ,CAAsB,YAAtB,EAAoC,CAApC,CAAX;CACA0a,QAAAA,MAAM,CAACC,MAAP,CAAcM,GAAd,EAAmBvQ,KAAnB,GAA2B7K,IAA3B;CACH,OAZD;;CAcA,UAAI,CAAC8G,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,iBAAZ;CACH;;CAEDuF,MAAAA,QAAQ;CACX,KA1BD;;CA6BJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKmb,IAAL,GAAY,UAASnb,QAAT,EAAmB;CAC3B2tB,MAAAA,WAAW,GAAG,KAAd;CAEA,UAAI5L,IAAI,GAAG,IAAX;;CAEA,UAAIgL,+BAA+B,IAAIS,mBAAvC,EAA4D;CACxDA,QAAAA,mBAAmB,CAACrS,IAApB,CAAyBnb,QAAzB;CACA;CACH;;CAED,WAAKkuB,aAAL,CAAmB,YAAW;;CAEtC;CACA;CACA;CACA;CACA;CACA;CACA;CACYH,QAAAA,MAAM,CAACU,OAAP,CAAe,UAAStxB,IAAT,EAAe;CAC1B,cAAI,CAAC6c,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,YAAAA,OAAO,CAAChF,GAAR,CAAY,qBAAZ;CACH;;CAEDsnB,UAAAA,IAAI,CAAC5kB,IAAL,GAAYA,IAAZ;;CAEA,cAAI4kB,IAAI,CAAC5kB,IAAL,CAAUsD,OAAd,EAAuB;CACnBshB,YAAAA,IAAI,CAAC5kB,IAAL,GAAY,IAAI0f,IAAJ,CAAS,EAAT,EAAa;CACrBhX,cAAAA,IAAI,EAAE;CADe,aAAb,CAAZ;CAGH;;CAED,cAAI7F,QAAJ,EAAc;CACVA,YAAAA,QAAQ,CAAC+hB,IAAI,CAAC5kB,IAAN,CAAR;CACH;;CAED4wB,UAAAA,MAAM,CAACC,MAAP,GAAgB,EAAhB;CACH,SAlBD;CAmBH,OA5BD;CA6BH,KAvCD;;CAyCA,QAAIU,iBAAiB,GAAG,KAAxB;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKx0B,KAAL,GAAa,YAAW;CACpBw0B,MAAAA,iBAAiB,GAAG,IAApB;;CAEA,UAAIlB,mBAAmB,YAAYlO,mBAAnC,EAAwD;CACpDkO,QAAAA,mBAAmB,CAACtzB,KAApB;CACA;CACH;CACJ,KAPD;;CAUJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK6d,MAAL,GAAc,YAAW;CACrB2W,MAAAA,iBAAiB,GAAG,KAApB;;CAEA,UAAIlB,mBAAmB,YAAYlO,mBAAnC,EAAwD;CACpDkO,QAAAA,mBAAmB,CAACzV,MAApB;CACA;CACH;;CAED,UAAI,CAAC4V,WAAL,EAAkB;CACd,aAAK91B,MAAL;CACH;CACJ,KAXD;;CAcJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK0iB,iBAAL,GAAyB,YAAW;CAChC,UAAIoT,WAAJ,EAAiB;CACb,aAAKxS,IAAL,CAAUqN,mBAAV;CACH;;CACDA,MAAAA,mBAAmB;CACtB,KALD;;CAOA,aAASA,mBAAT,GAA+B;CAC3BuF,MAAAA,MAAM,CAACC,MAAP,GAAgB,EAAhB;CACAL,MAAAA,WAAW,GAAG,KAAd;CACAe,MAAAA,iBAAiB,GAAG,KAApB;CACH,KA/OwC;;;CAkPzC,SAAKpvB,IAAL,GAAY,gBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,aAASqvB,WAAT,GAAuB;;CAEnB,UAAIC,SAAS,GAAGntB,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAhB;CACA,UAAI+N,OAAO,GAAGqa,SAAS,CAACxpB,UAAV,CAAqB,IAArB,CAAd,CAHmB;;CAMnBwpB,MAAAA,SAAS,CAAC1tB,KAAV,GAAkB2rB,WAAW,CAAC3rB,KAA9B;CACA0tB,MAAAA,SAAS,CAACttB,MAAV,GAAmBurB,WAAW,CAACvrB,MAA/B,CAPmB;;CAUnBiT,MAAAA,OAAO,CAAC5B,SAAR,CAAkBka,WAAlB,EAA+B,CAA/B,EAAkC,CAAlC,EAVmB;;CAanB,aAAO+B,SAAP;CACH;;CAED,aAASX,eAAT,GAA2B;CACvB,UAAIS,iBAAJ,EAAuB;CACnBnmB,QAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CACA,eAAOkU,UAAU,CAAC+S,eAAD,EAAkB,GAAlB,CAAjB;CACH;;CAED,UAAIpB,WAAW,CAACsB,QAAZ,CAAqBtK,WAArB,OAAuC,QAA3C,EAAqD;CACjD,YAAI/F,QAAQ,GAAG,IAAI/W,IAAJ,GAAWC,OAAX,KAAuBuB,QAAtC,CADiD;;CAGjDA,QAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CAEA+mB,QAAAA,MAAM,CAACC,MAAP,CAAcxtB,IAAd,CAAmB;CACfud,UAAAA,KAAK,EAAE4Q,WAAW,EADH;CAEf7Q,UAAAA,QAAQ,EAAEA;CAFK,SAAnB;;CAKA,YAAI6P,WAAJ,EAAiB;CACbzS,UAAAA,UAAU,CAAC+S,eAAD,EAAkBjU,MAAM,CAACkH,aAAzB,CAAV;CACH;;CACD;CACH;;CAED4L,MAAAA,WAAW,CAACD,WAAD,EAAc;CACrBgC,QAAAA,SAAS,EAAE,OAAO7U,MAAM,CAAC8U,gBAAd,KAAmC,WAAnC,IAAkD9U,MAAM,CAAC8U,gBAD/C;CAErBC,QAAAA,UAAU,EAAE,UAAS3a,MAAT,EAAiB;CACzB,cAAI0J,QAAQ,GAAG,IAAI/W,IAAJ,GAAWC,OAAX,KAAuBuB,QAAtC;;CACA,cAAI,CAACuV,QAAL,EAAe;CACX,mBAAO5C,UAAU,CAAC+S,eAAD,EAAkBjU,MAAM,CAACkH,aAAzB,CAAjB;CACH,WAJwB;;;CAOzB3Y,UAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CAEA+mB,UAAAA,MAAM,CAACC,MAAP,CAAcxtB,IAAd,CAAmB;CACfud,YAAAA,KAAK,EAAE3J,MAAM,CAACf,SAAP,CAAiB,YAAjB,EAA+B,CAA/B,CADQ;CAEfyK,YAAAA,QAAQ,EAAEA;CAFK,WAAnB;;CAKA,cAAI6P,WAAJ,EAAiB;CACbzS,YAAAA,UAAU,CAAC+S,eAAD,EAAkBjU,MAAM,CAACkH,aAAzB,CAAV;CACH;CACJ;CAnBoB,OAAd,CAAX;CAqBH;;CAED,QAAI3Y,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAf;CAEA,QAAI+mB,MAAM,GAAG,IAAIiB,MAAM,CAACta,KAAX,CAAiB,GAAjB,CAAb;CACH;;CAED,MAAI,OAAOoF,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACoF,cAAV,GAA2BA,cAA3B;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASD,cAAT,CAAwBlF,WAAxB,EAAqCC,MAArC,EAA6C;CAEzCA,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;;CAEA,QAAI,CAACA,MAAM,CAACkH,aAAZ,EAA2B;CACvBlH,MAAAA,MAAM,CAACkH,aAAP,GAAuB,EAAvB;CACH;;CAED,QAAI,CAAClH,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,MAAAA,OAAO,CAAChF,GAAR,CAAY,wBAAZ,EAAsCuf,MAAM,CAACkH,aAA7C;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKrpB,MAAL,GAAc,YAAW;CACrB,UAAI,CAACmiB,MAAM,CAAC9Y,KAAZ,EAAmB;CACf8Y,QAAAA,MAAM,CAAC9Y,KAAP,GAAe,GAAf;CACH;;CAED,UAAI,CAAC8Y,MAAM,CAAC1Y,MAAZ,EAAoB;CAChB0Y,QAAAA,MAAM,CAAC1Y,MAAP,GAAgB,GAAhB;CACH;;CAED,UAAI,CAAC0Y,MAAM,CAACxgB,KAAZ,EAAmB;CACfwgB,QAAAA,MAAM,CAACxgB,KAAP,GAAe;CACX0H,UAAAA,KAAK,EAAE8Y,MAAM,CAAC9Y,KADH;CAEXI,UAAAA,MAAM,EAAE0Y,MAAM,CAAC1Y;CAFJ,SAAf;CAIH;;CAED,UAAI,CAAC0Y,MAAM,CAAC5F,MAAZ,EAAoB;CAChB4F,QAAAA,MAAM,CAAC5F,MAAP,GAAgB;CACZlT,UAAAA,KAAK,EAAE8Y,MAAM,CAAC9Y,KADF;CAEZI,UAAAA,MAAM,EAAE0Y,MAAM,CAAC1Y;CAFH,SAAhB;CAIH;;CAED8S,MAAAA,MAAM,CAAClT,KAAP,GAAe8Y,MAAM,CAAC5F,MAAP,CAAclT,KAAd,IAAuB,GAAtC;CACAkT,MAAAA,MAAM,CAAC9S,MAAP,GAAgB0Y,MAAM,CAAC5F,MAAP,CAAc9S,MAAd,IAAwB,GAAxC;CAEAiT,MAAAA,OAAO,GAAGH,MAAM,CAAChP,UAAP,CAAkB,IAAlB,CAAV,CA1BqB;;CA6BrB,UAAI4U,MAAM,CAACxgB,KAAP,IAAgBwgB,MAAM,CAACxgB,KAAP,YAAwB+oB,gBAA5C,EAA8D;CAC1D/oB,QAAAA,KAAK,GAAGwgB,MAAM,CAACxgB,KAAP,CAAay1B,SAAb,EAAR;;CAEA,YAAIjV,MAAM,CAACY,YAAX,EAAyB;CACrBZ,UAAAA,MAAM,CAACY,YAAP;CACH;CACJ,OAND,MAMO;CACHphB,QAAAA,KAAK,GAAGiI,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAR;CAEAmf,QAAAA,YAAY,CAAC5L,WAAD,EAAcvgB,KAAd,CAAZ;;CAEAA,QAAAA,KAAK,CAAC01B,gBAAN,GAAyB,YAAW;;CAChC,cAAIlV,MAAM,CAACY,YAAX,EAAyB;CACrBZ,YAAAA,MAAM,CAACY,YAAP;CACH;CACJ,SAJD;;CAMAphB,QAAAA,KAAK,CAAC0H,KAAN,GAAc8Y,MAAM,CAACxgB,KAAP,CAAa0H,KAA3B;CACA1H,QAAAA,KAAK,CAAC8H,MAAN,GAAe0Y,MAAM,CAACxgB,KAAP,CAAa8H,MAA5B;CACH;;CAED9H,MAAAA,KAAK,CAAC0a,KAAN,GAAc,IAAd;CACA1a,MAAAA,KAAK,CAAC7B,IAAN;CAEA4Q,MAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CACA+mB,MAAAA,MAAM,GAAG,IAAIiB,MAAM,CAACta,KAAX,EAAT;;CAEA,UAAI,CAACsF,MAAM,CAACI,WAAZ,EAAyB;CACrB3a,QAAAA,OAAO,CAAChF,GAAR,CAAY,oBAAZ,EAAkC2Z,MAAM,CAAClT,KAAzC,EAAgD,GAAhD,EAAqDkT,MAAM,CAAC9S,MAA5D;CACA7B,QAAAA,OAAO,CAAChF,GAAR,CAAY,oBAAZ,EAAkCjB,KAAK,CAAC0H,KAAN,IAAekT,MAAM,CAAClT,KAAxD,EAA+D,GAA/D,EAAoE1H,KAAK,CAAC8H,MAAN,IAAgB8S,MAAM,CAAC9S,MAA3F;CACH;;CAED6tB,MAAAA,UAAU,CAACnV,MAAM,CAACkH,aAAR,CAAV;CACH,KA9DD;;CAiEJ;CACA;CACA;;;CACI,aAASiO,UAAT,CAAoBjO,aAApB,EAAmC;CAC/BA,MAAAA,aAAa,GAAG,OAAOA,aAAP,KAAyB,WAAzB,GAAuCA,aAAvC,GAAuD,EAAvE;CAEA,UAAIpD,QAAQ,GAAG,IAAI/W,IAAJ,GAAWC,OAAX,KAAuBuB,QAAtC;;CACA,UAAI,CAACuV,QAAL,EAAe;CACX,eAAO5C,UAAU,CAACiU,UAAD,EAAajO,aAAb,EAA4BA,aAA5B,CAAjB;CACH;;CAED,UAAIwN,iBAAJ,EAAuB;CACnBnmB,QAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CACA,eAAOkU,UAAU,CAACiU,UAAD,EAAa,GAAb,CAAjB;CACH,OAX8B;;;CAc/B5mB,MAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;;CAEA,UAAIxN,KAAK,CAAC41B,MAAV,EAAkB;;;CAGd51B,QAAAA,KAAK,CAAC7B,IAAN;CACH;;CAED4c,MAAAA,OAAO,CAAC5B,SAAR,CAAkBnZ,KAAlB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B4a,MAAM,CAAClT,KAAtC,EAA6CkT,MAAM,CAAC9S,MAApD;CACAysB,MAAAA,MAAM,CAACC,MAAP,CAAcxtB,IAAd,CAAmB;CACfsd,QAAAA,QAAQ,EAAEA,QADK;CAEfC,QAAAA,KAAK,EAAE3J,MAAM,CAACf,SAAP,CAAiB,YAAjB;CAFQ,OAAnB;;CAKA,UAAI,CAACgc,aAAL,EAAoB;CAChBnU,QAAAA,UAAU,CAACiU,UAAD,EAAajO,aAAb,EAA4BA,aAA5B,CAAV;CACH;CACJ;;CAED,aAASoO,SAAT,CAAmBC,CAAnB,EAAsB;CAClB,UAAIttB,CAAC,GAAG,CAAC,CAAT;CAAA,UACIE,MAAM,GAAGotB,CAAC,CAACptB,MADf;;CAGA,OAAC,SAASqtB,IAAT,GAAgB;CACbvtB,QAAAA,CAAC;;CACD,YAAIA,CAAC,KAAKE,MAAV,EAAkB;CACdotB,UAAAA,CAAC,CAACvvB,QAAF;CACA;CACH,SALY;;;CAQbkb,QAAAA,UAAU,CAAC,YAAW;CAClBqU,UAAAA,CAAC,CAACE,cAAF,CAAiBD,IAAjB,EAAuBvtB,CAAvB;CACH,SAFS,EAEP,CAFO,CAAV;CAGH,OAXD;CAYH;;CAIL;CACA;CACA;CACA;CACA;CACA;CACA;;;;CAEI,aAASytB,eAAT,CAAyBC,OAAzB,EAAkCC,cAAlC,EAAkDC,aAAlD,EAAiEC,eAAjE,EAAkF9vB,QAAlF,EAA4F;CACxF,UAAI+vB,WAAW,GAAGtuB,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAlB;CACAupB,MAAAA,WAAW,CAAC7uB,KAAZ,GAAoBkT,MAAM,CAAClT,KAA3B;CACA6uB,MAAAA,WAAW,CAACzuB,MAAZ,GAAqB8S,MAAM,CAAC9S,MAA5B;CACA,UAAI0uB,SAAS,GAAGD,WAAW,CAAC3qB,UAAZ,CAAuB,IAAvB,CAAhB;CACA,UAAI6qB,YAAY,GAAG,EAAnB;CAEA,UAAIC,kBAAkB,GAAGN,cAAc,KAAK,CAAC,CAA7C;CACA,UAAIO,aAAa,GAAIP,cAAc,IAAIA,cAAc,GAAG,CAAnC,IAAwCA,cAAc,IAAID,OAAO,CAACxtB,MAAnE,GAChBytB,cADgB,GACCD,OAAO,CAACxtB,MAD7B;CAEA,UAAIiuB,WAAW,GAAG;CACdC,QAAAA,CAAC,EAAE,CADW;CAEdC,QAAAA,CAAC,EAAE,CAFW;CAGd7oB,QAAAA,CAAC,EAAE;CAHW,OAAlB;CAKA,UAAI8oB,kBAAkB,GAAGpvB,IAAI,CAACqvB,IAAL,CACrBrvB,IAAI,CAACojB,GAAL,CAAS,GAAT,EAAc,CAAd,IACApjB,IAAI,CAACojB,GAAL,CAAS,GAAT,EAAc,CAAd,CADA,GAEApjB,IAAI,CAACojB,GAAL,CAAS,GAAT,EAAc,CAAd,CAHqB,CAAzB;CAKA,UAAIkM,YAAY,GAAGZ,aAAa,IAAIA,aAAa,IAAI,CAAlC,IAAuCA,aAAa,IAAI,CAAxD,GAA4DA,aAA5D,GAA4E,CAA/F;CACA,UAAIa,cAAc,GAAGZ,eAAe,IAAIA,eAAe,IAAI,CAAtC,IAA2CA,eAAe,IAAI,CAA9D,GAAkEA,eAAlE,GAAoF,CAAzG;CACA,UAAIa,cAAc,GAAG,KAArB;CAEArB,MAAAA,SAAS,CAAC;CACNntB,QAAAA,MAAM,EAAEguB,aADF;CAENV,QAAAA,cAAc,EAAE,UAASD,IAAT,EAAeoB,CAAf,EAAkB;CAC9B,cAAIC,aAAJ,EAAmBC,WAAnB,EAAgCC,WAAhC;;CAEA,cAAIC,WAAW,GAAG,YAAW;CACzB,gBAAI,CAACL,cAAD,IAAmBI,WAAW,GAAGF,aAAd,IAA+BE,WAAW,GAAGL,cAApE,EAAoF,CAApF,MAEO;;CAEH,kBAAIR,kBAAJ,EAAwB;CACpBS,gBAAAA,cAAc,GAAG,IAAjB;CACH;;CACDV,cAAAA,YAAY,CAACzvB,IAAb,CAAkBmvB,OAAO,CAACiB,CAAD,CAAzB;CACH;;CACDpB,YAAAA,IAAI;CACP,WAXD;;CAaA,cAAI,CAACmB,cAAL,EAAqB;CACjB,gBAAI5S,KAAK,GAAG,IAAIkT,KAAJ,EAAZ;;CACAlT,YAAAA,KAAK,CAACpB,MAAN,GAAe,YAAW;CACtBqT,cAAAA,SAAS,CAACrd,SAAV,CAAoBoL,KAApB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiC3J,MAAM,CAAClT,KAAxC,EAA+CkT,MAAM,CAAC9S,MAAtD;CACA,kBAAI4vB,SAAS,GAAGlB,SAAS,CAACmB,YAAV,CAAuB,CAAvB,EAA0B,CAA1B,EAA6B/c,MAAM,CAAClT,KAApC,EAA2CkT,MAAM,CAAC9S,MAAlD,CAAhB;CACAuvB,cAAAA,aAAa,GAAG,CAAhB;CACAC,cAAAA,WAAW,GAAGI,SAAS,CAAC5kB,IAAV,CAAenK,MAA7B;CACA4uB,cAAAA,WAAW,GAAGG,SAAS,CAAC5kB,IAAV,CAAenK,MAAf,GAAwB,CAAtC;;CAEA,mBAAK,IAAIivB,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,WAAxB,EAAqCM,GAAG,IAAI,CAA5C,EAA+C;CAC3C,oBAAIC,YAAY,GAAG;CACfhB,kBAAAA,CAAC,EAAEa,SAAS,CAAC5kB,IAAV,CAAe8kB,GAAf,CADY;CAEfd,kBAAAA,CAAC,EAAEY,SAAS,CAAC5kB,IAAV,CAAe8kB,GAAG,GAAG,CAArB,CAFY;CAGf3pB,kBAAAA,CAAC,EAAEypB,SAAS,CAAC5kB,IAAV,CAAe8kB,GAAG,GAAG,CAArB;CAHY,iBAAnB;CAKA,oBAAIE,eAAe,GAAGnwB,IAAI,CAACqvB,IAAL,CAClBrvB,IAAI,CAACojB,GAAL,CAAS8M,YAAY,CAAChB,CAAb,GAAiBD,WAAW,CAACC,CAAtC,EAAyC,CAAzC,IACAlvB,IAAI,CAACojB,GAAL,CAAS8M,YAAY,CAACf,CAAb,GAAiBF,WAAW,CAACE,CAAtC,EAAyC,CAAzC,CADA,GAEAnvB,IAAI,CAACojB,GAAL,CAAS8M,YAAY,CAAC5pB,CAAb,GAAiB2oB,WAAW,CAAC3oB,CAAtC,EAAyC,CAAzC,CAHkB,CAAtB,CAN2C;;CAY3C,oBAAI6pB,eAAe,IAAIf,kBAAkB,GAAGE,YAA5C,EAA0D;CACtDI,kBAAAA,aAAa;CAChB;CACJ;;CACDG,cAAAA,WAAW;CACd,aAxBD;;CAyBAjT,YAAAA,KAAK,CAACwT,GAAN,GAAY5B,OAAO,CAACiB,CAAD,CAAP,CAAW7S,KAAvB;CACH,WA5BD,MA4BO;CACHiT,YAAAA,WAAW;CACd;CACJ,SAjDK;CAkDNhxB,QAAAA,QAAQ,EAAE,YAAW;CACjBiwB,UAAAA,YAAY,GAAGA,YAAY,CAACuB,MAAb,CAAoB7B,OAAO,CAACtjB,KAAR,CAAc8jB,aAAd,CAApB,CAAf;;CAEA,cAAIF,YAAY,CAAC9tB,MAAb,IAAuB,CAA3B,EAA8B;;;CAG1B8tB,YAAAA,YAAY,CAACzvB,IAAb,CAAkBmvB,OAAO,CAACA,OAAO,CAACxtB,MAAR,GAAiB,CAAlB,CAAzB;CACH;;CACDnC,UAAAA,QAAQ,CAACiwB,YAAD,CAAR;CACH;CA3DK,OAAD,CAAT;CA6DH;;CAED,QAAIZ,aAAa,GAAG,KAApB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKlU,IAAL,GAAY,UAASnb,QAAT,EAAmB;CAC3BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEAqvB,MAAAA,aAAa,GAAG,IAAhB;;CAEA,UAAIoC,KAAK,GAAG,IAAZ,CAL2B;;;CAO3BvW,MAAAA,UAAU,CAAC,YAAW;;;;CAIlBwU,QAAAA,eAAe,CAAC3B,MAAM,CAACC,MAAR,EAAgB,CAAC,CAAjB,EAAoB,IAApB,EAA0B,IAA1B,EAAgC,UAASA,MAAT,EAAiB;CAC5DD,UAAAA,MAAM,CAACC,MAAP,GAAgBA,MAAhB,CAD4D;;CAI5D,cAAIhU,MAAM,CAAC6D,aAAP,IAAwB7D,MAAM,CAAC6D,aAAP,CAAqB1b,MAAjD,EAAyD;CACrD4rB,YAAAA,MAAM,CAACC,MAAP,GAAgBhU,MAAM,CAAC6D,aAAP,CAAqB2T,MAArB,CAA4BzD,MAAM,CAACC,MAAnC,CAAhB;CACH;;CAGjB;CACA;CACA;CACA;CACA;CACA;CACA;;;CACgBD,UAAAA,MAAM,CAACU,OAAP,CAAe,UAAStxB,IAAT,EAAe;CAC1Bs0B,YAAAA,KAAK,CAACt0B,IAAN,GAAaA,IAAb;;CAEA,gBAAIs0B,KAAK,CAACt0B,IAAN,CAAWsD,OAAf,EAAwB;CACpBgxB,cAAAA,KAAK,CAACt0B,IAAN,GAAa,IAAI0f,IAAJ,CAAS,EAAT,EAAa;CACtBhX,gBAAAA,IAAI,EAAE;CADgB,eAAb,CAAb;CAGH;;CAED,gBAAI7F,QAAJ,EAAc;CACVA,cAAAA,QAAQ,CAACyxB,KAAK,CAACt0B,IAAP,CAAR;CACH;CACJ,WAZD;CAaH,SA7Bc,CAAf;CA8BH,OAlCS,EAkCP,EAlCO,CAAV;CAmCH,KA1CD;;CA4CA,QAAIuxB,iBAAiB,GAAG,KAAxB;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKx0B,KAAL,GAAa,YAAW;CACpBw0B,MAAAA,iBAAiB,GAAG,IAApB;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK3W,MAAL,GAAc,YAAW;CACrB2W,MAAAA,iBAAiB,GAAG,KAApB;;CAEA,UAAIW,aAAJ,EAAmB;CACf,aAAKx3B,MAAL;CACH;CACJ,KAND;;CASJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK0iB,iBAAL,GAAyB,YAAW;CAChC,UAAI,CAAC8U,aAAL,EAAoB;CAChB,aAAKlU,IAAL,CAAUqN,mBAAV;CACH;;CACDA,MAAAA,mBAAmB;CACtB,KALD;;CAOA,aAASA,mBAAT,GAA+B;CAC3BuF,MAAAA,MAAM,CAACC,MAAP,GAAgB,EAAhB;CACAqB,MAAAA,aAAa,GAAG,IAAhB;CACAX,MAAAA,iBAAiB,GAAG,KAApB;CACH,KAjVwC;;;CAoVzC,SAAKpvB,IAAL,GAAY,gBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,QAAI8U,MAAM,GAAG3S,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACA,QAAI+N,OAAO,GAAGH,MAAM,CAAChP,UAAP,CAAkB,IAAlB,CAAd;CAEA,QAAI5L,KAAJ;CACA,QAAI+O,QAAJ;CACA,QAAIwlB,MAAJ;CACH;;CAED,MAAI,OAAOjU,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACmF,cAAV,GAA2BA,cAA3B;CACH;CAGD;CACA;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,MAAI+P,MAAM,GAAI,YAAW;;CAGrB,aAAS0C,WAAT,CAAqB5T,QAArB,EAA+B;CAC3B,WAAKkQ,MAAL,GAAc,EAAd;CACA,WAAKlQ,QAAL,GAAgBA,QAAQ,IAAI,CAA5B;CACA,WAAKhL,OAAL,GAAe,GAAf;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI4e,IAAAA,WAAW,CAACjS,SAAZ,CAAsB3U,GAAtB,GAA4B,UAASujB,KAAT,EAAgBvQ,QAAhB,EAA0B;CAClD,UAAI,YAAYuQ,KAAhB,EAAuB;;CACnBA,QAAAA,KAAK,GAAGA,KAAK,CAACja,MAAd;CACH;;CAED,UAAI,eAAeia,KAAnB,EAA0B;CACtBA,QAAAA,KAAK,GAAGA,KAAK,CAAChb,SAAN,CAAgB,YAAhB,EAA8B,KAAKP,OAAnC,CAAR;CACH;;CAED,UAAI,CAAE,6BAAD,CAAgCgR,IAAhC,CAAqCuK,KAArC,CAAL,EAAkD;CAC9C,cAAM,iFAAN;CACH;;CACD,WAAKL,MAAL,CAAYxtB,IAAZ,CAAiB;CACbud,QAAAA,KAAK,EAAEsQ,KADM;CAEbvQ,QAAAA,QAAQ,EAAEA,QAAQ,IAAI,KAAKA;CAFd,OAAjB;CAIH,KAhBD;;CAkBA,aAAStB,kBAAT,CAA4BI,SAA5B,EAAuC;CACnC,UAAIzf,IAAI,GAAGuJ,GAAG,CAACC,eAAJ,CAAoB,IAAIkW,IAAJ,CAAS,CAACD,SAAS,CAACvT,QAAV,EAAD,EACpC,uCAAuCuT,SAAS,CAACtd,IAAjD,GAAwD,cADpB,CAAT,EAE5B;CACCuG,QAAAA,IAAI,EAAE;CADP,OAF4B,CAApB,CAAX;CAMA,UAAIiX,MAAM,GAAG,IAAIV,MAAJ,CAAWjf,IAAX,CAAb;CACAuJ,MAAAA,GAAG,CAACG,eAAJ,CAAoB1J,IAApB;CACA,aAAO2f,MAAP;CACH;;CAED,aAAS6U,iBAAT,CAA2B3D,MAA3B,EAAmC;CAC/B,eAAS4D,WAAT,CAAqB5D,MAArB,EAA6B;CACzB,YAAI6D,IAAI,GAAGC,WAAW,CAAC9D,MAAD,CAAtB;;CACA,YAAI,CAAC6D,IAAL,EAAW;CACP,iBAAO,EAAP;CACH;;CAED,YAAIE,kBAAkB,GAAG,KAAzB;CAEA,YAAI/L,IAAI,GAAG,CAAC;CACR,gBAAM,UADE;;CAER,kBAAQ,CAAC;CACL,oBAAQ,CADH;CAEL,kBAAM,MAFD;;CAAA,WAAD,EAGL;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WAHK,EAML;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WANK,EASL;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WATK,EAYL;CACC,oBAAQ,MADT;CAEC,kBAAM,MAFP;;CAAA,WAZK,EAeL;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WAfK,EAkBL;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WAlBK;CAFA,SAAD,EAwBR;CACC,gBAAM,UADP;;CAEC,kBAAQ,CAAC;CACL,kBAAM,UADD;;CAEL,oBAAQ,CAAC;CACL,sBAAQ,GADH;;CAEL,oBAAM,QAFD;;CAAA,aAAD,EAGL;CACC,sBAAQ,QADT;CAEC,oBAAM,MAFP;;CAAA,aAHK,EAML;CACC,sBAAQ,QADT;CAEC,oBAAM,MAFP;;CAAA,aANK,EASL;CACC,sBAAQgM,cAAc,CAACH,IAAI,CAAC/T,QAAN,CADvB;CAEC,oBAAM,MAFP;;CAAA,aATK;CAFH,WAAD,EAeL;CACC,kBAAM,UADP;;CAEC,oBAAQ,CAAC;CACL,oBAAM,IADD;;CAEL,sBAAQ,CAAC;CACL,wBAAQ,CADH;CAEL,sBAAM,IAFD;;CAAA,eAAD,EAGL;CACC,wBAAQ,CADT;CAEC,sBAAM,MAFP;;CAAA,eAHK,EAML;CACC,wBAAQ,CADT;CAEC,sBAAM,IAFP;;CAAA,eANK,EASL;CACC,wBAAQ,KADT;CAEC,sBAAM,QAFP;;CAAA,eATK,EAYL;CACC,wBAAQ,OADT;CAEC,sBAAM,IAFP;;CAAA,eAZK,EAeL;CACC,wBAAQ,KADT;CAEC,sBAAM,QAFP;;CAAA,eAfK,EAkBL;CACC,wBAAQ,CADT;CAEC,sBAAM,IAFP;;CAAA,eAlBK,EAqBL;CACC,sBAAM,IADP;;CAEC,wBAAQ,CAAC;CACL,0BAAQ+T,IAAI,CAAC3wB,KADR;CAEL,wBAAM,IAFD;;CAAA,iBAAD,EAGL;CACC,0BAAQ2wB,IAAI,CAACvwB,MADd;CAEC,wBAAM,IAFP;;CAAA,iBAHK;CAFT,eArBK;CAFH,aAAD;CAFT,WAfK;CAFT,SAxBQ,CAAX,CARyB;;CAyFzB,YAAI2wB,WAAW,GAAG,CAAlB;CACA,YAAIC,eAAe,GAAG,CAAtB;;CACA,eAAOD,WAAW,GAAGjE,MAAM,CAAC7rB,MAA5B,EAAoC;CAEhC,cAAIgwB,aAAa,GAAG,EAApB;CACA,cAAIC,eAAe,GAAG,CAAtB;;CACA,aAAG;CACCD,YAAAA,aAAa,CAAC3xB,IAAd,CAAmBwtB,MAAM,CAACiE,WAAD,CAAzB;CACAG,YAAAA,eAAe,IAAIpE,MAAM,CAACiE,WAAD,CAAN,CAAoBnU,QAAvC;CACAmU,YAAAA,WAAW;CACd,WAJD,QAISA,WAAW,GAAGjE,MAAM,CAAC7rB,MAArB,IAA+BiwB,eAAe,GAAGL,kBAJ1D;;CAMA,cAAIM,cAAc,GAAG,CAArB;CACA,cAAIC,OAAO,GAAG;CACV,kBAAM,UADI;;CAEV,oBAAQC,cAAc,CAACL,eAAD,EAAkBG,cAAlB,EAAkCF,aAAlC;CAFZ,WAAd,CAXgC;;CAehCnM,UAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQ1Z,IAAR,CAAa9L,IAAb,CAAkB8xB,OAAlB;CACAJ,UAAAA,eAAe,IAAIE,eAAnB;CACH;;CAED,eAAOI,YAAY,CAACxM,IAAD,CAAnB;CACH;;CAED,eAASuM,cAAT,CAAwBL,eAAxB,EAAyCG,cAAzC,EAAyDF,aAAzD,EAAwE;CACpE,eAAO,CAAC;CACJ,kBAAQD,eADJ;CAEJ,gBAAM,IAFF;;CAAA,SAAD,EAGJV,MAHI,CAGGW,aAAa,CAAC/xB,GAAd,CAAkB,UAAS8S,IAAT,EAAe;CACvC,cAAIuf,KAAK,GAAGC,eAAe,CAAC;CACxBC,YAAAA,WAAW,EAAE,CADW;CAExBtE,YAAAA,KAAK,EAAEnb,IAAI,CAAC5G,IAAL,CAAUD,KAAV,CAAgB,CAAhB,CAFiB;CAGxBumB,YAAAA,SAAS,EAAE,CAHa;CAIxBC,YAAAA,QAAQ,EAAE,CAJc;CAKxBC,YAAAA,MAAM,EAAE,CALgB;CAMxBC,YAAAA,QAAQ,EAAE,CANc;CAOxBC,YAAAA,QAAQ,EAAE7xB,IAAI,CAACyjB,KAAL,CAAWyN,cAAX;CAPc,WAAD,CAA3B;CASAA,UAAAA,cAAc,IAAInf,IAAI,CAAC4K,QAAvB;CACA,iBAAO;CACHxR,YAAAA,IAAI,EAAEmmB,KADH;CAEHxP,YAAAA,EAAE,EAAE;CAFD,WAAP;CAIH,SAfS,CAHH,CAAP;CAmBH,OAtI8B;;;CA0I/B,eAAS6O,WAAT,CAAqB9D,MAArB,EAA6B;CACzB,YAAI,CAACA,MAAM,CAAC,CAAD,CAAX,EAAgB;CACZhS,UAAAA,WAAW,CAAC;CACRthB,YAAAA,KAAK,EAAE;CADC,WAAD,CAAX;CAGA;CACH;;CAED,YAAIwG,KAAK,GAAG8sB,MAAM,CAAC,CAAD,CAAN,CAAU9sB,KAAtB;CAAA,YACII,MAAM,GAAG0sB,MAAM,CAAC,CAAD,CAAN,CAAU1sB,MADvB;CAAA,YAEIwc,QAAQ,GAAGkQ,MAAM,CAAC,CAAD,CAAN,CAAUlQ,QAFzB;;CAIA,aAAK,IAAI7b,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+rB,MAAM,CAAC7rB,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;CACpC6b,UAAAA,QAAQ,IAAIkQ,MAAM,CAAC/rB,CAAD,CAAN,CAAU6b,QAAtB;CACH;;CACD,eAAO;CACHA,UAAAA,QAAQ,EAAEA,QADP;CAEH5c,UAAAA,KAAK,EAAEA,KAFJ;CAGHI,UAAAA,MAAM,EAAEA;CAHL,SAAP;CAKH;;CAED,eAAS2xB,WAAT,CAAqB1rB,GAArB,EAA0B;CACtB,YAAI2rB,KAAK,GAAG,EAAZ;;CACA,eAAO3rB,GAAG,GAAG,CAAb,EAAgB;CACZ2rB,UAAAA,KAAK,CAAC1yB,IAAN,CAAW+G,GAAG,GAAG,IAAjB;CACAA,UAAAA,GAAG,GAAGA,GAAG,IAAI,CAAb;CACH;;CACD,eAAO,IAAItB,UAAJ,CAAeitB,KAAK,CAACC,OAAN,EAAf,CAAP;CACH;;CAED,eAASC,WAAT,CAAqBC,GAArB,EAA0B;CACtB,eAAO,IAAIptB,UAAJ,CAAeotB,GAAG,CAAC3tB,KAAJ,CAAU,EAAV,EAActF,GAAd,CAAkB,UAASiF,CAAT,EAAY;CAChD,iBAAOA,CAAC,CAACa,UAAF,CAAa,CAAb,CAAP;CACH,SAFqB,CAAf,CAAP;CAGH;;CAED,eAASotB,YAAT,CAAsBC,IAAtB,EAA4B;CACxB,YAAIjnB,IAAI,GAAG,EAAX;CACA,YAAIknB,GAAG,GAAID,IAAI,CAACpxB,MAAL,GAAc,CAAf,GAAqB,IAAIjC,KAAJ,CAAU,IAAI,CAAJ,GAASqzB,IAAI,CAACpxB,MAAL,GAAc,CAAjC,CAAD,CAAuCwK,IAAvC,CAA4C,GAA5C,CAApB,GAAuE,EAAjF;CACA4mB,QAAAA,IAAI,GAAGC,GAAG,GAAGD,IAAb;;CACA,aAAK,IAAItxB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGsxB,IAAI,CAACpxB,MAAzB,EAAiCF,CAAC,IAAI,CAAtC,EAAyC;CACrCqK,UAAAA,IAAI,CAAC9L,IAAL,CAAU6jB,QAAQ,CAACkP,IAAI,CAACE,MAAL,CAAYxxB,CAAZ,EAAe,CAAf,CAAD,EAAoB,CAApB,CAAlB;CACH;;CACD,eAAO,IAAIgE,UAAJ,CAAeqG,IAAf,CAAP;CACH;;CAED,eAASkmB,YAAT,CAAsBkB,IAAtB,EAA4B;CACxB,YAAIC,IAAI,GAAG,EAAX;;CACA,aAAK,IAAI1xB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyxB,IAAI,CAACvxB,MAAzB,EAAiCF,CAAC,EAAlC,EAAsC;CAClC,cAAIqK,IAAI,GAAGonB,IAAI,CAACzxB,CAAD,CAAJ,CAAQqK,IAAnB;;CAEA,cAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAC1BA,YAAAA,IAAI,GAAGkmB,YAAY,CAAClmB,IAAD,CAAnB;CACH;;CAED,cAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAC1BA,YAAAA,IAAI,GAAGgnB,YAAY,CAAChnB,IAAI,CAACjD,QAAL,CAAc,CAAd,CAAD,CAAnB;CACH;;CAED,cAAI,OAAOiD,IAAP,KAAgB,QAApB,EAA8B;CAC1BA,YAAAA,IAAI,GAAG8mB,WAAW,CAAC9mB,IAAD,CAAlB;CACH;;CAED,cAAIG,GAAG,GAAGH,IAAI,CAAC9D,IAAL,IAAa8D,IAAI,CAAC2M,UAAlB,IAAgC3M,IAAI,CAACnK,MAA/C;CACA,cAAIyxB,MAAM,GAAGzyB,IAAI,CAACmpB,IAAL,CAAUnpB,IAAI,CAACmpB,IAAL,CAAUnpB,IAAI,CAAC1G,GAAL,CAASgS,GAAT,IAAgBtL,IAAI,CAAC1G,GAAL,CAAS,CAAT,CAA1B,IAAyC,CAAnD,CAAb;CACA,cAAIo5B,YAAY,GAAGpnB,GAAG,CAACpD,QAAJ,CAAa,CAAb,CAAnB;CACA,cAAIyqB,MAAM,GAAI,IAAI5zB,KAAJ,CAAW0zB,MAAM,GAAG,CAAT,GAAa,CAAb,GAAiB,CAAlB,GAAuBC,YAAY,CAAC1xB,MAA9C,CAAD,CAAwDwK,IAAxD,CAA6D,GAA7D,IAAoEknB,YAAjF;CACA,cAAIrrB,IAAI,GAAI,IAAItI,KAAJ,CAAU0zB,MAAV,CAAD,CAAoBjnB,IAApB,CAAyB,GAAzB,IAAgC,GAAhC,GAAsCmnB,MAAjD;CAEAH,UAAAA,IAAI,CAACnzB,IAAL,CAAUyyB,WAAW,CAACS,IAAI,CAACzxB,CAAD,CAAJ,CAAQghB,EAAT,CAArB;CACA0Q,UAAAA,IAAI,CAACnzB,IAAL,CAAU8yB,YAAY,CAAC9qB,IAAD,CAAtB;CACAmrB,UAAAA,IAAI,CAACnzB,IAAL,CAAU8L,IAAV;CACH;;CAED,eAAO,IAAIuQ,IAAJ,CAAS8W,IAAT,EAAe;CAClB9tB,UAAAA,IAAI,EAAE;CADY,SAAf,CAAP;CAGH;;CAYD,eAAS6sB,eAAT,CAAyBpmB,IAAzB,EAA+B;CAC3B,YAAIynB,KAAK,GAAG,CAAZ;;CAEA,YAAIznB,IAAI,CAACumB,QAAT,EAAmB;CACfkB,UAAAA,KAAK,IAAI,GAAT;CACH;;CAED,YAAIznB,IAAI,CAACsmB,SAAT,EAAoB;CAChBmB,UAAAA,KAAK,IAAI,CAAT;CACH;;CAED,YAAIznB,IAAI,CAACwmB,MAAT,EAAiB;CACbiB,UAAAA,KAAK,IAAKznB,IAAI,CAACwmB,MAAL,IAAe,CAAzB;CACH;;CAED,YAAIxmB,IAAI,CAACqmB,WAAT,EAAsB;CAClBoB,UAAAA,KAAK,IAAI,CAAT;CACH;;CAED,YAAIznB,IAAI,CAACymB,QAAL,GAAgB,GAApB,EAAyB;CACrB,gBAAM,iCAAN;CACH;;CAED,YAAIiB,GAAG,GAAG,CAAC1nB,IAAI,CAACymB,QAAL,GAAgB,IAAjB,EAAuBzmB,IAAI,CAAC0mB,QAAL,IAAiB,CAAxC,EAA2C1mB,IAAI,CAAC0mB,QAAL,GAAgB,IAA3D,EAAiEe,KAAjE,EAAwE3zB,GAAxE,CAA4E,UAASiF,CAAT,EAAY;CAC9F,iBAAO4uB,MAAM,CAACC,YAAP,CAAoB7uB,CAApB,CAAP;CACH,SAFS,EAEPsH,IAFO,CAEF,EAFE,IAEIL,IAAI,CAAC+hB,KAFnB;CAIA,eAAO2F,GAAP;CACH;;CAED,eAASG,SAAT,CAAmBC,IAAnB,EAAyB;CACrB,YAAIC,GAAG,GAAGD,IAAI,CAACE,IAAL,CAAU,CAAV,EAAaC,IAAb,CAAkB,CAAlB,CAAV;CAEA,YAAIC,UAAU,GAAGH,GAAG,CAAC5Q,OAAJ,CAAY,cAAZ,CAAjB,CAHqB;;CAIrB,aAAK,IAAIxhB,CAAC,GAAG,CAAR,EAAWwyB,CAAC,GAAG,EAApB,EAAwBxyB,CAAC,GAAG,CAA5B,EAA+BA,CAAC,EAAhC,EAAoC;CAChCwyB,UAAAA,CAAC,CAACxyB,CAAD,CAAD,GAAOoyB,GAAG,CAACnuB,UAAJ,CAAesuB,UAAU,GAAG,CAAb,GAAiBvyB,CAAhC,CAAP;CACH;;CAED,YAAIf,KAAJ,EAAWI,MAAX,EAAmB6oB,GAAnB,CARqB;;CAWrBA,QAAAA,GAAG,GAAIsK,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,GAAcA,CAAC,CAAC,CAAD,CAArB;CACAvzB,QAAAA,KAAK,GAAGipB,GAAG,GAAG,MAAd;CACAA,QAAAA,GAAG,GAAIsK,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,GAAcA,CAAC,CAAC,CAAD,CAArB;CACAnzB,QAAAA,MAAM,GAAG6oB,GAAG,GAAG,MAAf;CACA,eAAO;CACHjpB,UAAAA,KAAK,EAAEA,KADJ;CAEHI,UAAAA,MAAM,EAAEA,MAFL;CAGHgL,UAAAA,IAAI,EAAE+nB,GAHH;CAIHD,UAAAA,IAAI,EAAEA;CAJH,SAAP;CAMH;;CAED,eAASM,YAAT,CAAsBvJ,MAAtB,EAA8BP,MAA9B,EAAsC;CAClC,eAAOvG,QAAQ,CAAC8G,MAAM,CAACsI,MAAP,CAAc7I,MAAM,GAAG,CAAvB,EAA0B,CAA1B,EAA6BllB,KAA7B,CAAmC,EAAnC,EAAuCtF,GAAvC,CAA2C,UAAS6B,CAAT,EAAY;CACnE,cAAI0yB,QAAQ,GAAG1yB,CAAC,CAACiE,UAAF,CAAa,CAAb,EAAgBmD,QAAhB,CAAyB,CAAzB,CAAf;CACA,iBAAQ,IAAInJ,KAAJ,CAAU,IAAIy0B,QAAQ,CAACxyB,MAAb,GAAsB,CAAhC,CAAD,CAAqCwK,IAArC,CAA0C,GAA1C,IAAiDgoB,QAAxD;CACH,SAHe,EAGbhoB,IAHa,CAGR,EAHQ,CAAD,EAGF,CAHE,CAAf;CAIH;;CAED,eAASioB,SAAT,CAAmBzJ,MAAnB,EAA2B;CACvB,YAAIP,MAAM,GAAG,CAAb;CACA,YAAIiK,MAAM,GAAG,EAAb;;CAEA,eAAOjK,MAAM,GAAGO,MAAM,CAAChpB,MAAvB,EAA+B;CAC3B,cAAI8gB,EAAE,GAAGkI,MAAM,CAACsI,MAAP,CAAc7I,MAAd,EAAsB,CAAtB,CAAT;CACA,cAAIne,GAAG,GAAGioB,YAAY,CAACvJ,MAAD,EAASP,MAAT,CAAtB;CACA,cAAIte,IAAI,GAAG6e,MAAM,CAACsI,MAAP,CAAc7I,MAAM,GAAG,CAAT,GAAa,CAA3B,EAA8Bne,GAA9B,CAAX;CACAme,UAAAA,MAAM,IAAI,IAAI,CAAJ,GAAQne,GAAlB;CACAooB,UAAAA,MAAM,CAAC5R,EAAD,CAAN,GAAa4R,MAAM,CAAC5R,EAAD,CAAN,IAAc,EAA3B;;CAEA,cAAIA,EAAE,KAAK,MAAP,IAAiBA,EAAE,KAAK,MAA5B,EAAoC;CAChC4R,YAAAA,MAAM,CAAC5R,EAAD,CAAN,CAAWziB,IAAX,CAAgBo0B,SAAS,CAACtoB,IAAD,CAAzB;CACH,WAFD,MAEO;CACHuoB,YAAAA,MAAM,CAAC5R,EAAD,CAAN,CAAWziB,IAAX,CAAgB8L,IAAhB;CACH;CACJ;;CACD,eAAOuoB,MAAP;CACH;;CAED,eAAS7C,cAAT,CAAwBzqB,GAAxB,EAA6B;CACzB,eAAO,GAAG8E,KAAH,CAASiP,IAAT,CACH,IAAIrV,UAAJ,CAAgB,IAAI0kB,YAAJ,CAAiB,CAACpjB,GAAD,CAAjB,CAAD,CAA0BpM,MAAzC,CADG,EAC+C,CAD/C,EACkDiF,GADlD,CACsD,UAASiF,CAAT,EAAY;CACrE,iBAAO4uB,MAAM,CAACC,YAAP,CAAoB7uB,CAApB,CAAP;CACH,SAHM,EAGJ8tB,OAHI,GAGMxmB,IAHN,CAGW,EAHX,CAAP;CAIH;;CAED,UAAIvO,IAAI,GAAG,IAAIwzB,WAAJ,CAAgB5D,MAAM,CAAC5tB,GAAP,CAAW,UAASiuB,KAAT,EAAgB;CAClD,YAAInb,IAAI,GAAGihB,SAAS,CAACS,SAAS,CAAChvB,IAAI,CAACyoB,KAAK,CAACtQ,KAAN,CAAY1R,KAAZ,CAAkB,EAAlB,CAAD,CAAL,CAAV,CAApB;CACA6G,QAAAA,IAAI,CAAC4K,QAAL,GAAgBuQ,KAAK,CAACvQ,QAAtB;CACA,eAAO5K,IAAP;CACH,OAJ0B,CAAhB,CAAX;CAMA8I,MAAAA,WAAW,CAAC5d,IAAD,CAAX;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACIszB,IAAAA,WAAW,CAACjS,SAAZ,CAAsBgP,OAAtB,GAAgC,UAASzuB,QAAT,EAAmB;CAC/C,UAAIuc,SAAS,GAAGC,kBAAkB,CAACmV,iBAAD,CAAlC;;CAEApV,MAAAA,SAAS,CAACE,SAAV,GAAsB,UAAS/b,KAAT,EAAgB;CAClC,YAAIA,KAAK,CAAC4L,IAAN,CAAW5R,KAAf,EAAsB;CAClB+E,UAAAA,OAAO,CAAC/E,KAAR,CAAcgG,KAAK,CAAC4L,IAAN,CAAW5R,KAAzB;CACA;CACH;;CACDsF,QAAAA,QAAQ,CAACU,KAAK,CAAC4L,IAAP,CAAR;CACH,OAND;;CAQAiQ,MAAAA,SAAS,CAACP,WAAV,CAAsB,KAAKgS,MAA3B;CACH,KAZD;;CAcA,WAAO;;CAEX;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQtZ,MAAAA,KAAK,EAAEgd;CAVJ,KAAP;CAYH,GA1ZY,EAAb;;CA4ZA,MAAI,OAAO5X,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACkV,MAAV,GAAmBA,MAAnB;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAGA,MAAIrT,WAAW,GAAG;;CAElB;CACA;CACA;CACA;CACA;CACA;CACA;CACI/iB,IAAAA,IAAI,EAAE,YAAW;CACb,UAAIoT,IAAI,GAAG,IAAX;;CAEA,UAAI,OAAO8oB,SAAP,KAAqB,WAArB,IAAoC,OAAOA,SAAS,CAAC/3B,IAAjB,KAA0B,WAAlE,EAA+E;CAC3E0C,QAAAA,OAAO,CAAC/E,KAAR,CAAc,kDAAd;CACA;CACH;;CAED,UAAIq6B,SAAS,GAAG,CAAhB;CACA,UAAIC,MAAM,GAAG,KAAKA,MAAL,IAAexS,QAAQ,CAAC/b,IAAT,CAAcX,OAAd,CAAsB,oBAAtB,EAA4C,EAA5C,CAA5B;CAAA,UACImvB,EADJ;CAEA,UAAIvyB,OAAO,GAAGoyB,SAAS,CAAC/3B,IAAV,CAAei4B,MAAf,EAAuBD,SAAvB,CAAd;;CAEA,eAASG,iBAAT,CAA2BC,QAA3B,EAAqC;CACjCA,QAAAA,QAAQ,CAACD,iBAAT,CAA2BlpB,IAAI,CAACopB,aAAhC;CACH;;CAED,eAASC,OAAT,GAAmB;CACf,YAAIC,WAAW,GAAGL,EAAE,CAACK,WAAH,CAAe,CAACtpB,IAAI,CAACopB,aAAN,CAAf,EAAqC,WAArC,CAAlB;;CAEA,YAAIppB,IAAI,CAAC8S,SAAT,EAAoB;CAChBwW,UAAAA,WAAW,CAACC,WAAZ,CAAwBvpB,IAAI,CAACopB,aAA7B,EAA4CI,GAA5C,CAAgDxpB,IAAI,CAAC8S,SAArD,EAAgE,WAAhE;CACH;;CAED,YAAI9S,IAAI,CAAC+S,OAAT,EAAkB;CACduW,UAAAA,WAAW,CAACC,WAAZ,CAAwBvpB,IAAI,CAACopB,aAA7B,EAA4CI,GAA5C,CAAgDxpB,IAAI,CAAC+S,OAArD,EAA8D,SAA9D;CACH;;CAED,YAAI/S,IAAI,CAAC6S,SAAT,EAAoB;CAChByW,UAAAA,WAAW,CAACC,WAAZ,CAAwBvpB,IAAI,CAACopB,aAA7B,EAA4CI,GAA5C,CAAgDxpB,IAAI,CAAC6S,SAArD,EAAgE,WAAhE;CACH;;CAED,iBAAS4W,YAAT,CAAsBC,WAAtB,EAAmC;CAC/BJ,UAAAA,WAAW,CAACC,WAAZ,CAAwBvpB,IAAI,CAACopB,aAA7B,EAA4Ct0B,GAA5C,CAAgD40B,WAAhD,EAA6DC,SAA7D,GAAyE,UAASj1B,KAAT,EAAgB;CACrF,gBAAIsL,IAAI,CAAChM,QAAT,EAAmB;CACfgM,cAAAA,IAAI,CAAChM,QAAL,CAAcU,KAAK,CAACX,MAAN,CAAagK,MAA3B,EAAmC2rB,WAAnC;CACH;CACJ,WAJD;CAKH;;CAEDD,QAAAA,YAAY,CAAC,WAAD,CAAZ;CACAA,QAAAA,YAAY,CAAC,WAAD,CAAZ;CACAA,QAAAA,YAAY,CAAC,SAAD,CAAZ;CACH;;CAED/yB,MAAAA,OAAO,CAACoB,OAAR,GAAkBkI,IAAI,CAAC4pB,OAAvB;;CAEAlzB,MAAAA,OAAO,CAACizB,SAAR,GAAoB,YAAW;CAC3BV,QAAAA,EAAE,GAAGvyB,OAAO,CAACqH,MAAb;CACAkrB,QAAAA,EAAE,CAACnxB,OAAH,GAAakI,IAAI,CAAC4pB,OAAlB;;CAEA,YAAIX,EAAE,CAACY,UAAP,EAAmB;CACf,cAAIZ,EAAE,CAAC5a,OAAH,KAAe0a,SAAnB,EAA8B;CAC1B,gBAAIc,UAAU,GAAGZ,EAAE,CAACY,UAAH,CAAcd,SAAd,CAAjB;;CACAc,YAAAA,UAAU,CAACF,SAAX,GAAuB,YAAW;CAC9BT,cAAAA,iBAAiB,CAACD,EAAD,CAAjB;CACAI,cAAAA,OAAO;CACV,aAHD;CAIH,WAND,MAMO;CACHA,YAAAA,OAAO;CACV;CACJ,SAVD,MAUO;CACHA,UAAAA,OAAO;CACV;CACJ,OAjBD;;CAkBA3yB,MAAAA,OAAO,CAACozB,eAAR,GAA0B,UAASp1B,KAAT,EAAgB;CACtCw0B,QAAAA,iBAAiB,CAACx0B,KAAK,CAACX,MAAN,CAAagK,MAAd,CAAjB;CACH,OAFD;CAGH,KA7Ea;;;CA+ElB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACIuU,IAAAA,KAAK,EAAE,UAASte,QAAT,EAAmB;CACtB,WAAKA,QAAL,GAAgBA,QAAhB;CACA,WAAKpH,IAAL;CAEA,aAAO,IAAP;CACH,KA/Fa;;;CAiGlB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACIgjB,IAAAA,KAAK,EAAE,UAAS5B,MAAT,EAAiB;CACpB,WAAK6E,SAAL,GAAiB7E,MAAM,CAAC6E,SAAxB;CACA,WAAKC,SAAL,GAAiB9E,MAAM,CAAC8E,SAAxB;CACA,WAAKC,OAAL,GAAe/E,MAAM,CAAC+E,OAAtB;CAEA,WAAKnmB,IAAL;CAEA,aAAO,IAAP;CACH,KApHa;;;CAsHlB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACIg9B,IAAAA,OAAO,EAAE,UAASl7B,KAAT,EAAgB;CACrB+E,MAAAA,OAAO,CAAC/E,KAAR,CAAcyxB,IAAI,CAACC,SAAL,CAAe1xB,KAAf,EAAsB,IAAtB,EAA4B,IAA5B,CAAd;CACH,KAjIa;;;CAoIlB;CACA;CACA;CACA;CACA;CACA;CACI06B,IAAAA,aAAa,EAAE,WA1ID;CA2IdJ,IAAAA,MAAM,EAAE;CA3IM,GAAlB;;CA8IA,MAAI,OAAOlb,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAAC6B,WAAV,GAAwBA,WAAxB;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASyD,WAAT,CAAqBrF,WAArB,EAAkCC,MAAlC,EAA0C;CACtC,QAAI,OAAO+b,UAAP,KAAsB,WAA1B,EAAuC;CACnC,UAAIC,MAAM,GAAGv0B,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACAwvB,MAAAA,MAAM,CAACzE,GAAP,GAAa,mDAAb;CACA,OAAC9vB,QAAQ,CAACwJ,IAAT,IAAiBxJ,QAAQ,CAAC0B,eAA3B,EAA4CqO,WAA5C,CAAwDwkB,MAAxD;CACH;;CAEDhc,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;CAEA,QAAIic,YAAY,GAAGlc,WAAW,YAAY2T,wBAAvB,IAAmD3T,WAAW,YAAY0T,iBAA7F;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK51B,MAAL,GAAc,YAAW;CACrB,UAAI,OAAOk+B,UAAP,KAAsB,WAA1B,EAAuC;CACnC7a,QAAAA,UAAU,CAAClP,IAAI,CAACnU,MAAN,EAAc,IAAd,CAAV;CACA;CACH;;CAED,UAAI,CAACq+B,gBAAL,EAAuB;CACnBhb,QAAAA,UAAU,CAAClP,IAAI,CAACnU,MAAN,EAAc,IAAd,CAAV;CACA;CACH;;CAED,UAAI,CAACo+B,YAAL,EAAmB;CACf,YAAI,CAACjc,MAAM,CAAC9Y,KAAZ,EAAmB;CACf8Y,UAAAA,MAAM,CAAC9Y,KAAP,GAAe1H,KAAK,CAAC28B,WAAN,IAAqB,GAApC;CACH;;CAED,YAAI,CAACnc,MAAM,CAAC1Y,MAAZ,EAAoB;CAChB0Y,UAAAA,MAAM,CAAC1Y,MAAP,GAAgB9H,KAAK,CAAC48B,YAAN,IAAsB,GAAtC;CACH;;CAED,YAAI,CAACpc,MAAM,CAACxgB,KAAZ,EAAmB;CACfwgB,UAAAA,MAAM,CAACxgB,KAAP,GAAe;CACX0H,YAAAA,KAAK,EAAE8Y,MAAM,CAAC9Y,KADH;CAEXI,YAAAA,MAAM,EAAE0Y,MAAM,CAAC1Y;CAFJ,WAAf;CAIH;;CAED,YAAI,CAAC0Y,MAAM,CAAC5F,MAAZ,EAAoB;CAChB4F,UAAAA,MAAM,CAAC5F,MAAP,GAAgB;CACZlT,YAAAA,KAAK,EAAE8Y,MAAM,CAAC9Y,KADF;CAEZI,YAAAA,MAAM,EAAE0Y,MAAM,CAAC1Y;CAFH,WAAhB;CAIH;;CAED8S,QAAAA,MAAM,CAAClT,KAAP,GAAe8Y,MAAM,CAAC5F,MAAP,CAAclT,KAAd,IAAuB,GAAtC;CACAkT,QAAAA,MAAM,CAAC9S,MAAP,GAAgB0Y,MAAM,CAAC5F,MAAP,CAAc9S,MAAd,IAAwB,GAAxC;CAEA9H,QAAAA,KAAK,CAAC0H,KAAN,GAAc8Y,MAAM,CAACxgB,KAAP,CAAa0H,KAAb,IAAsB,GAApC;CACA1H,QAAAA,KAAK,CAAC8H,MAAN,GAAe0Y,MAAM,CAACxgB,KAAP,CAAa8H,MAAb,IAAuB,GAAtC;CACH,OAvCoB;;;CA0CrB+0B,MAAAA,UAAU,GAAG,IAAIN,UAAJ,EAAb,CA1CqB;;;;CA+CrBM,MAAAA,UAAU,CAACC,SAAX,CAAqB,CAArB,EA/CqB;;;;;CAqDrBD,MAAAA,UAAU,CAACE,QAAX,CAAoBvc,MAAM,CAACqH,SAAP,IAAoB,GAAxC,EArDqB;;;;;;;;CA8DrBgV,MAAAA,UAAU,CAACG,UAAX,CAAsBxc,MAAM,CAAClH,OAAP,IAAkB,EAAxC,EA9DqB;;;CAkErBujB,MAAAA,UAAU,CAACh7B,KAAX;;CAEA,UAAI,OAAO2e,MAAM,CAACyc,qBAAd,KAAwC,UAA5C,EAAwD;CACpDzc,QAAAA,MAAM,CAACyc,qBAAP;CACH;;CAID,eAASC,cAAT,CAAwBC,IAAxB,EAA8B;CAC1B,YAAI3qB,IAAI,CAAC4qB,mBAAL,KAA6B,IAAjC,EAAuC;CACnC;CACH;;CAED,YAAIlI,iBAAJ,EAAuB;CACnB,iBAAOxT,UAAU,CAAC,YAAW;CACzBwb,YAAAA,cAAc,CAACC,IAAD,CAAd;CACH,WAFgB,EAEd,GAFc,CAAjB;CAGH;;CAEDE,QAAAA,kBAAkB,GAAGlU,qBAAqB,CAAC+T,cAAD,CAA1C;;CAEA,YAAI,OAAOI,aAAP,KAAyBvsB,SAA7B,EAAwC;CACpCusB,UAAAA,aAAa,GAAGH,IAAhB;CACH,SAfyB;;;CAkB1B,YAAIA,IAAI,GAAGG,aAAP,GAAuB,EAA3B,EAA+B;CAC3B;CACH;;CAED,YAAI,CAACb,YAAD,IAAiBz8B,KAAK,CAAC41B,MAA3B,EAAmC;;;CAG/B51B,UAAAA,KAAK,CAAC7B,IAAN;CACH;;CAED,YAAI,CAACs+B,YAAL,EAAmB;CACf1hB,UAAAA,OAAO,CAAC5B,SAAR,CAAkBnZ,KAAlB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B4a,MAAM,CAAClT,KAAtC,EAA6CkT,MAAM,CAAC9S,MAApD;CACH;;CAED,YAAI0Y,MAAM,CAAC+c,YAAX,EAAyB;CACrB/c,UAAAA,MAAM,CAAC+c,YAAP,CAAoB3iB,MAAM,CAACf,SAAP,CAAiB,WAAjB,CAApB;CACH;;CAEDgjB,QAAAA,UAAU,CAACW,QAAX,CAAoBziB,OAApB;CACAuiB,QAAAA,aAAa,GAAGH,IAAhB;CACH;;CAEDE,MAAAA,kBAAkB,GAAGlU,qBAAqB,CAAC+T,cAAD,CAA1C;;CAEA,UAAI1c,MAAM,CAACY,YAAX,EAAyB;CACrBZ,QAAAA,MAAM,CAACY,YAAP;CACH;CACJ,KAvHD;;CA0HJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKO,IAAL,GAAY,UAASnb,QAAT,EAAmB;CAC3BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEA,UAAI62B,kBAAJ,EAAwB;CACpB3T,QAAAA,oBAAoB,CAAC2T,kBAAD,CAApB;CACH;;CAKT;CACA;CACA;CACA;CACA;CACA;CACA;;CACQ,WAAK15B,IAAL,GAAY,IAAI0f,IAAJ,CAAS,CAAC,IAAI5W,UAAJ,CAAeowB,UAAU,CAAC9Q,MAAX,GAAoB0R,GAAnC,CAAD,CAAT,EAAoD;CAC5DpxB,QAAAA,IAAI,EAAE;CADsD,OAApD,CAAZ;CAIA7F,MAAAA,QAAQ,CAAC,KAAK7C,IAAN,CAAR,CArB2B;;CAwB3Bk5B,MAAAA,UAAU,CAAC9Q,MAAX,GAAoB0R,GAApB,GAA0B,EAA1B;CACH,KAzBD;;CA2BA,QAAIvI,iBAAiB,GAAG,KAAxB;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKx0B,KAAL,GAAa,YAAW;CACpBw0B,MAAAA,iBAAiB,GAAG,IAApB;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK3W,MAAL,GAAc,YAAW;CACrB2W,MAAAA,iBAAiB,GAAG,KAApB;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKnU,iBAAL,GAAyB,YAAW;CAChCvO,MAAAA,IAAI,CAAC4qB,mBAAL,GAA2B,IAA3B;CACApO,MAAAA,mBAAmB;CACtB,KAHD;;CAKA,aAASA,mBAAT,GAA+B;CAC3B,UAAI6N,UAAJ,EAAgB;CACZA,QAAAA,UAAU,CAAC9Q,MAAX,GAAoB0R,GAApB,GAA0B,EAA1B;CACH;CACJ,KAxNqC;;;CA2NtC,SAAK33B,IAAL,GAAY,aAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,QAAI8U,MAAM,GAAG3S,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACA,QAAI+N,OAAO,GAAGH,MAAM,CAAChP,UAAP,CAAkB,IAAlB,CAAd;;CAEA,QAAI6wB,YAAJ,EAAkB;CACd,UAAIlc,WAAW,YAAY2T,wBAA3B,EAAqD;CACjDnZ,QAAAA,OAAO,GAAGwF,WAAV;CACA3F,QAAAA,MAAM,GAAGG,OAAO,CAACH,MAAjB;CACH,OAHD,MAGO,IAAI2F,WAAW,YAAY0T,iBAA3B,EAA8C;CACjDlZ,QAAAA,OAAO,GAAGwF,WAAW,CAAC3U,UAAZ,CAAuB,IAAvB,CAAV;CACAgP,QAAAA,MAAM,GAAG2F,WAAT;CACH;CACJ;;CAED,QAAImc,gBAAgB,GAAG,IAAvB;;CAEA,QAAI,CAACD,YAAL,EAAmB;CACf,UAAIz8B,KAAK,GAAGiI,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAZ;CACAhN,MAAAA,KAAK,CAAC0a,KAAN,GAAc,IAAd;CACA1a,MAAAA,KAAK,CAAC09B,QAAN,GAAiB,IAAjB;CACA19B,MAAAA,KAAK,CAAC29B,WAAN,GAAoB,IAApB;CAEAjB,MAAAA,gBAAgB,GAAG,KAAnB;;CACA18B,MAAAA,KAAK,CAAC01B,gBAAN,GAAyB,YAAW;CAChCgH,QAAAA,gBAAgB,GAAG,IAAnB;CACH,OAFD;;CAIAvQ,MAAAA,YAAY,CAAC5L,WAAD,EAAcvgB,KAAd,CAAZ;CAEAA,MAAAA,KAAK,CAAC7B,IAAN;CACH;;CAED,QAAIk/B,kBAAkB,GAAG,IAAzB;CACA,QAAwBC;CAExB,QAAIT,UAAJ;CAEA,QAAIrqB,IAAI,GAAG,IAAX;CACH;;CAED,MAAI,OAAO8N,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACsF,WAAV,GAAwBA,WAAxB;CACH;CAID;CACA;CAEA;CAEA;CACA;CACA;CACA;;;CAEA,WAASgY,iBAAT,CAA2BC,mBAA3B,EAAgDC,YAAhD,EAA8D;CAE1D,QAAIxV,oBAAoB,GAAG,qFAA3B;;CAEA,KAAC,UAASC,IAAT,EAAe;CACZ,UAAI,OAAOjI,SAAP,KAAqB,WAAzB,EAAsC;CAClC;CACH;;CAED,UAAI,CAACiI,IAAL,EAAW;CACP;CACH;;CAED,UAAI,OAAOrgB,MAAP,KAAkB,WAAtB,EAAmC;CAC/B;CACH;;CAED,UAAI,OAAOsgB,cAAP,KAAkB,WAAtB,EAAmC;CAC/B;CACH;;CAEDA,MAAAA,cAAAA,CAAO3F,SAAP2F,GAAmB;CACfC,QAAAA,SAAS,EAAEH,oBADI;CAEfI,QAAAA,YAAY,EAAE,YAAW;CAFV,OAAnBF;;CAKA,UAAI,CAACA,cAAAA,CAAOviB,OAAZ,EAAqB;CACjBuiB,QAAAA,cAAAA,CAAOviB,OAAPuiB,GAAiB,EAAjBA;CACH;;CAED,UAAI,OAAOA,cAAAA,CAAOviB,OAAPuiB,CAAevnB,GAAtB,KAA8B,WAA9B,IAA6C,OAAOunB,cAAAA,CAAOviB,OAAPuiB,CAAetnB,KAAtB,KAAgC,WAAjF,EAA8F;CAC1FsnB,QAAAA,cAAAA,CAAOviB,OAAPuiB,CAAetnB,KAAfsnB,GAAuBA,cAAAA,CAAOviB,OAAPuiB,CAAevnB,GAAfunB,GAAqBA,cAAAA,CAAOviB,OAAPuiB,CAAevnB,GAAfunB,IAAsB,YAAW;CACzEviB,UAAAA,OAAO,CAAChF,GAAR,CAAY0nB,SAAZ;CACH,SAFDH;CAGH;;CAED,UAAI,OAAOvgB,QAAP,KAAoB,WAAxB,EAAqC;;CAEjCsgB,QAAAA,IAAI,CAACtgB,QAAL,GAAgB;CACZ0B,UAAAA,eAAe,EAAE;CACbqO,YAAAA,WAAW,EAAE,YAAW;CACpB,qBAAO,EAAP;CACH;CAHY;CADL,SAAhB;;CAQA/P,QAAAA,QAAQ,CAAC+E,aAAT,GAAyB/E,QAAQ,CAAC2gB,aAAT,GAAyB3gB,QAAQ,CAAC4gB,gBAAT,GAA4B,YAAW;CACrF,cAAIC,GAAG,GAAG;CACNld,YAAAA,UAAU,EAAE,YAAW;CACnB,qBAAOkd,GAAP;CACH,aAHK;CAIN3qB,YAAAA,IAAI,EAAE,YAAW,EAJX;CAKNuC,YAAAA,KAAK,EAAE,YAAW,EALZ;CAMNyY,YAAAA,SAAS,EAAE,YAAW,EANhB;CAONU,YAAAA,SAAS,EAAE,YAAW;CAClB,qBAAO,EAAP;CACH,aATK;CAUNvL,YAAAA,KAAK,EAAE;CAVD,WAAV;CAYA,iBAAOwa,GAAP;CACH,SAdD;;CAgBAP,QAAAA,IAAI,CAACQ,gBAAL,GAAwB,YAAW,EAAnC;CACH;;CAED,UAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC;;CAEjCT,QAAAA,IAAI,CAACS,QAAL,GAAgB;CACZlqB,UAAAA,QAAQ,EAAE,OADE;CAEZmO,UAAAA,IAAI,EAAE,EAFM;CAGZgc,UAAAA,IAAI,EAAE;CAHM,SAAhB;CAKH;;CAED,UAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;;CAE/BX,QAAAA,IAAI,CAACW,MAAL,GAAc;CACVxhB,UAAAA,KAAK,EAAE,CADG;CAEVI,UAAAA,MAAM,EAAE;CAFE,SAAd;CAIH;;CAED,UAAI,OAAOoF,GAAP,KAAe,WAAnB,EAAgC;;CAE5Bqb,QAAAA,IAAI,CAACrb,GAAL,GAAW;CACPC,UAAAA,eAAe,EAAE,YAAW;CACxB,mBAAO,EAAP;CACH,WAHM;CAIPE,UAAAA,eAAe,EAAE,YAAW;CACxB,mBAAO,EAAP;CACH;CANM,SAAX;CAQH;;;;CAGDkb,MAAAA,IAAI,CAACrgB,MAAL,GAAcsgB,cAAd;CACH,KA5FD,EA4FG,OAAOA,cAAP,KAAkB,WAAlB,GAAgCA,cAAhC,GAAyC,IA5F5C,EAJ0D;;;CAoG1DsV,IAAAA,YAAY,GAAGA,YAAY,IAAI,qBAA/B;CAEA,QAAIC,MAAM,GAAG,EAAb;CACA,QAAIC,mBAAmB,GAAG,KAA1B;CAEA,QAAIpjB,MAAM,GAAG3S,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACA,QAAI+N,OAAO,GAAGH,MAAM,CAAChP,UAAP,CAAkB,IAAlB,CAAd;CACAgP,IAAAA,MAAM,CAACtM,KAAP,CAAa2vB,OAAb,GAAuB,CAAvB;CACArjB,IAAAA,MAAM,CAACtM,KAAP,CAAauJ,QAAb,GAAwB,UAAxB;CACA+C,IAAAA,MAAM,CAACtM,KAAP,CAAa4vB,MAAb,GAAsB,CAAC,CAAvB;CACAtjB,IAAAA,MAAM,CAACtM,KAAP,CAAawJ,GAAb,GAAmB,SAAnB;CACA8C,IAAAA,MAAM,CAACtM,KAAP,CAAayJ,IAAb,GAAoB,SAApB;CACA6C,IAAAA,MAAM,CAACujB,SAAP,GAAmBL,YAAnB;CACA,KAAC71B,QAAQ,CAACwJ,IAAT,IAAiBxJ,QAAQ,CAAC0B,eAA3B,EAA4CqO,WAA5C,CAAwD4C,MAAxD;CAEA,SAAKgG,WAAL,GAAmB,KAAnB;CACA,SAAK8G,aAAL,GAAqB,EAArB;CAEA,SAAKhgB,KAAL,GAAa,GAAb;CACA,SAAKI,MAAL,GAAc,GAAd,CAvH0D;;CA0H1D,SAAKs2B,WAAL,GAAmB,IAAnB;CAEA,QAAI5rB,IAAI,GAAG,IAAX,CA5H0D;;;;CAkI1D,QAAIoJ,YAAY,GAAG1T,MAAM,CAAC0T,YAA1B;;CAEA,QAAI,OAAOA,YAAP,KAAwB,WAA5B,EAAyC;CACrC,UAAI,OAAOC,kBAAP,KAA8B,WAAlC,EAA+C;;CAE3CD,QAAAA,YAAY,GAAGC,kBAAf;CACH;;CAED,UAAI,OAAOkO,eAAP,KAA2B,WAA/B,EAA4C;;CAExCnO,QAAAA,YAAY,GAAGmO,eAAf;CACH;CACJ;;;;CAGD,QAAI7c,GAAG,GAAGhF,MAAM,CAACgF,GAAjB;;CAEA,QAAI,OAAOA,GAAP,KAAe,WAAf,IAA8B,OAAOmb,SAAP,KAAqB,WAAvD,EAAoE;;CAEhEnb,MAAAA,GAAG,GAAGmb,SAAN;CACH;;CAED,QAAI,OAAOxF,SAAP,KAAqB,WAArB,IAAoC,OAAOA,SAAS,CAAC6F,YAAjB,KAAkC,WAA1E,EAAuF;;CACnF,UAAI,OAAO7F,SAAS,CAACmH,kBAAjB,KAAwC,WAA5C,EAAyD;CACrDnH,QAAAA,SAAS,CAAC6F,YAAV,GAAyB7F,SAAS,CAACmH,kBAAnC;CACH;;CAED,UAAI,OAAOnH,SAAS,CAACC,eAAjB,KAAqC,WAAzC,EAAsD;CAClDD,QAAAA,SAAS,CAAC6F,YAAV,GAAyB7F,SAAS,CAACC,eAAnC;CACH;CACJ;;CAED,QAAIyE,WAAW,GAAGrf,MAAM,CAACqf,WAAzB;;CAEA,QAAI,OAAOA,WAAP,KAAuB,WAAvB,IAAsC,OAAOiD,iBAAP,KAA6B,WAAvE,EAAoF;CAChFjD,MAAAA,WAAW,GAAGiD,iBAAd;CACH;;;;CAGD,QAAI,OAAOjD,WAAP,KAAuB,WAA3B,EAAwC;;CAEpC,UAAI,OAAOA,WAAW,CAACtB,SAAZ,CAAsBtE,IAA7B,KAAsC,WAA1C,EAAuD;CACnD4F,QAAAA,WAAW,CAACtB,SAAZ,CAAsBtE,IAAtB,GAA6B,YAAW;CACpC,eAAKoE,SAAL,GAAiB9e,OAAjB,CAAyB,UAASwjB,KAAT,EAAgB;CACrCA,YAAAA,KAAK,CAAC9I,IAAN;CACH,WAFD;CAGH,SAJD;CAKH;CACJ;;CAED,QAAIgD,OAAO,GAAG,EAAd;;CAEA,QAAI,OAAO/I,YAAP,KAAwB,WAA5B,EAAyC;CACrC+I,MAAAA,OAAO,CAAC/I,YAAR,GAAuBA,YAAvB;CACH,KAFD,MAEO,IAAI,OAAOC,kBAAP,KAA8B,WAAlC,EAA+C;CAClD8I,MAAAA,OAAO,CAAC/I,YAAR,GAAuBC,kBAAvB;CACH;;CAED,aAASsQ,YAAT,CAAsBJ,MAAtB,EAA8B5iB,OAA9B,EAAuC;CACnC,UAAI,eAAeA,OAAnB,EAA4B;CACxBA,QAAAA,OAAO,CAACijB,SAAR,GAAoBL,MAApB;CACH,OAFD,MAEO,IAAI,kBAAkB5iB,OAAtB,EAA+B;CAClCA,QAAAA,OAAO,CAACkjB,YAAR,GAAuBN,MAAvB;CACH,OAFM,MAEA;CACH5iB,QAAAA,OAAO,CAACijB,SAAR,GAAoBL,MAApB;CACH;CACJ;;CAED,SAAKsS,kBAAL,GAA0B,YAAW;CACjCC,MAAAA,kBAAkB;CACrB,KAFD;;CAIA,aAASA,kBAAT,GAA8B;CAC1B,UAAIN,mBAAJ,EAAyB;CACrB;CACH;;CAED,UAAIO,YAAY,GAAGR,MAAM,CAACp1B,MAA1B;CAEA,UAAI61B,UAAU,GAAG,KAAjB;CACA,UAAIC,SAAS,GAAG,EAAhB;CACAV,MAAAA,MAAM,CAAC92B,OAAP,CAAe,UAASjH,KAAT,EAAgB;CAC3B,YAAI,CAACA,KAAK,CAAC+rB,MAAX,EAAmB;CACf/rB,UAAAA,KAAK,CAAC+rB,MAAN,GAAe,EAAf;CACH;;CAED,YAAI/rB,KAAK,CAAC+rB,MAAN,CAAayS,UAAjB,EAA6B;CACzBA,UAAAA,UAAU,GAAGx+B,KAAb;CACH,SAFD,MAEO;;CAEHy+B,UAAAA,SAAS,CAACz3B,IAAV,CAAehH,KAAf;CACH;CACJ,OAXD;;CAaA,UAAIw+B,UAAJ,EAAgB;CACZ5jB,QAAAA,MAAM,CAAClT,KAAP,GAAe82B,UAAU,CAACzS,MAAX,CAAkBrkB,KAAjC;CACAkT,QAAAA,MAAM,CAAC9S,MAAP,GAAgB02B,UAAU,CAACzS,MAAX,CAAkBjkB,MAAlC;CACH,OAHD,MAGO,IAAI22B,SAAS,CAAC91B,MAAd,EAAsB;CACzBiS,QAAAA,MAAM,CAAClT,KAAP,GAAe62B,YAAY,GAAG,CAAf,GAAmBE,SAAS,CAAC,CAAD,CAAT,CAAa/2B,KAAb,GAAqB,CAAxC,GAA4C+2B,SAAS,CAAC,CAAD,CAAT,CAAa/2B,KAAxE;CAEA,YAAII,MAAM,GAAG,CAAb;;CACA,YAAIy2B,YAAY,KAAK,CAAjB,IAAsBA,YAAY,KAAK,CAA3C,EAA8C;CAC1Cz2B,UAAAA,MAAM,GAAG,CAAT;CACH;;CACD,YAAIy2B,YAAY,KAAK,CAAjB,IAAsBA,YAAY,KAAK,CAA3C,EAA8C;CAC1Cz2B,UAAAA,MAAM,GAAG,CAAT;CACH;;CACD,YAAIy2B,YAAY,KAAK,CAAjB,IAAsBA,YAAY,KAAK,CAA3C,EAA8C;CAC1Cz2B,UAAAA,MAAM,GAAG,CAAT;CACH;;CACD,YAAIy2B,YAAY,KAAK,CAAjB,IAAsBA,YAAY,KAAK,EAA3C,EAA+C;CAC3Cz2B,UAAAA,MAAM,GAAG,CAAT;CACH;;CACD8S,QAAAA,MAAM,CAAC9S,MAAP,GAAgB22B,SAAS,CAAC,CAAD,CAAT,CAAa32B,MAAb,GAAsBA,MAAtC;CACH,OAjBM,MAiBA;CACH8S,QAAAA,MAAM,CAAClT,KAAP,GAAe8K,IAAI,CAAC9K,KAAL,IAAc,GAA7B;CACAkT,QAAAA,MAAM,CAAC9S,MAAP,GAAgB0K,IAAI,CAAC1K,MAAL,IAAe,GAA/B;CACH;;CAED,UAAI02B,UAAU,IAAIA,UAAU,YAAYzV,gBAAxC,EAA0D;CACtD5P,QAAAA,SAAS,CAACqlB,UAAD,CAAT;CACH;;CAEDC,MAAAA,SAAS,CAACx3B,OAAV,CAAkB,UAASjH,KAAT,EAAgB80B,GAAhB,EAAqB;CACnC3b,QAAAA,SAAS,CAACnZ,KAAD,EAAQ80B,GAAR,CAAT;CACH,OAFD;CAIApT,MAAAA,UAAU,CAAC4c,kBAAD,EAAqB9rB,IAAI,CAACkV,aAA1B,CAAV;CACH;;CAED,aAASvO,SAAT,CAAmBnZ,KAAnB,EAA0B80B,GAA1B,EAA+B;CAC3B,UAAIkJ,mBAAJ,EAAyB;CACrB;CACH;;CAED,UAAIU,CAAC,GAAG,CAAR;CACA,UAAIloB,CAAC,GAAG,CAAR;CACA,UAAI9O,KAAK,GAAG1H,KAAK,CAAC0H,KAAlB;CACA,UAAII,MAAM,GAAG9H,KAAK,CAAC8H,MAAnB;;CAEA,UAAIgtB,GAAG,KAAK,CAAZ,EAAe;CACX4J,QAAAA,CAAC,GAAG1+B,KAAK,CAAC0H,KAAV;CACH;;CAED,UAAIotB,GAAG,KAAK,CAAZ,EAAe;CACXte,QAAAA,CAAC,GAAGxW,KAAK,CAAC8H,MAAV;CACH;;CAED,UAAIgtB,GAAG,KAAK,CAAZ,EAAe;CACX4J,QAAAA,CAAC,GAAG1+B,KAAK,CAAC0H,KAAV;CACA8O,QAAAA,CAAC,GAAGxW,KAAK,CAAC8H,MAAV;CACH;;CAED,UAAIgtB,GAAG,KAAK,CAAZ,EAAe;CACXte,QAAAA,CAAC,GAAGxW,KAAK,CAAC8H,MAAN,GAAe,CAAnB;CACH;;CAED,UAAIgtB,GAAG,KAAK,CAAZ,EAAe;CACX4J,QAAAA,CAAC,GAAG1+B,KAAK,CAAC0H,KAAV;CACA8O,QAAAA,CAAC,GAAGxW,KAAK,CAAC8H,MAAN,GAAe,CAAnB;CACH;;CAED,UAAIgtB,GAAG,KAAK,CAAZ,EAAe;CACXte,QAAAA,CAAC,GAAGxW,KAAK,CAAC8H,MAAN,GAAe,CAAnB;CACH;;CAED,UAAIgtB,GAAG,KAAK,CAAZ,EAAe;CACX4J,QAAAA,CAAC,GAAG1+B,KAAK,CAAC0H,KAAV;CACA8O,QAAAA,CAAC,GAAGxW,KAAK,CAAC8H,MAAN,GAAe,CAAnB;CACH;;CAED,UAAI,OAAO9H,KAAK,CAAC+rB,MAAN,CAAahU,IAApB,KAA6B,WAAjC,EAA8C;CAC1C2mB,QAAAA,CAAC,GAAG1+B,KAAK,CAAC+rB,MAAN,CAAahU,IAAjB;CACH;;CAED,UAAI,OAAO/X,KAAK,CAAC+rB,MAAN,CAAajU,GAApB,KAA4B,WAAhC,EAA6C;CACzCtB,QAAAA,CAAC,GAAGxW,KAAK,CAAC+rB,MAAN,CAAajU,GAAjB;CACH;;CAED,UAAI,OAAO9X,KAAK,CAAC+rB,MAAN,CAAarkB,KAApB,KAA8B,WAAlC,EAA+C;CAC3CA,QAAAA,KAAK,GAAG1H,KAAK,CAAC+rB,MAAN,CAAarkB,KAArB;CACH;;CAED,UAAI,OAAO1H,KAAK,CAAC+rB,MAAN,CAAajkB,MAApB,KAA+B,WAAnC,EAAgD;CAC5CA,QAAAA,MAAM,GAAG9H,KAAK,CAAC+rB,MAAN,CAAajkB,MAAtB;CACH;;CAEDiT,MAAAA,OAAO,CAAC5B,SAAR,CAAkBnZ,KAAlB,EAAyB0+B,CAAzB,EAA4BloB,CAA5B,EAA+B9O,KAA/B,EAAsCI,MAAtC;;CAEA,UAAI,OAAO9H,KAAK,CAAC+rB,MAAN,CAAa4S,QAApB,KAAiC,UAArC,EAAiD;CAC7C3+B,QAAAA,KAAK,CAAC+rB,MAAN,CAAa4S,QAAb,CAAsB5jB,OAAtB,EAA+B2jB,CAA/B,EAAkCloB,CAAlC,EAAqC9O,KAArC,EAA4CI,MAA5C,EAAoDgtB,GAApD;CACH;CACJ;;CAED,aAAS8J,cAAT,GAA0B;CACtBZ,MAAAA,mBAAmB,GAAG,KAAtB;CACA,UAAIa,gBAAgB,GAAGC,mBAAmB,EAA1C;CAEA,UAAIC,gBAAgB,GAAGC,mBAAmB,EAA1C;;CACA,UAAID,gBAAJ,EAAsB;CAClBA,QAAAA,gBAAgB,CAAChZ,SAAjB,GAA6BkG,MAA7B,CAAoC,UAASC,CAAT,EAAY;CAC5C,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFD,EAEG/kB,OAFH,CAEW,UAASwjB,KAAT,EAAgB;CACvBoU,UAAAA,gBAAgB,CAACrX,QAAjB,CAA0BiD,KAA1B;CACH,SAJD;CAKH;CAGDoT,MAAAA,mBAAmB,CAAC52B,OAApB,CAA4B,UAAS8kB,MAAT,EAAiB;CACzC,YAAIA,MAAM,CAACyS,UAAX,EAAuB;CAG1B,OAJD,EAdsB;;;;CAwBtB,aAAOK,gBAAP;CACH;;CAED,aAASC,mBAAT,GAA+B;CAC3BG,MAAAA,iBAAiB;CAEjB,UAAIC,cAAJ;;CAEA,UAAI,mBAAmBtkB,MAAvB,EAA+B;CAC3BskB,QAAAA,cAAc,GAAGtkB,MAAM,CAACgO,aAAP,EAAjB;CACH,OAFD,MAEO,IAAI,sBAAsBhO,MAA1B,EAAkC;CACrCskB,QAAAA,cAAc,GAAGtkB,MAAM,CAACiO,gBAAP,EAAjB;CACH,OAFM,MAEA,IAAI,CAACrW,IAAI,CAACoO,WAAV,EAAuB;CAC1B3a,QAAAA,OAAO,CAAC/E,KAAR,CAAc,mHAAd;CACH;;CAED,UAAIi+B,WAAW,GAAG,IAAI5X,WAAJ,EAAlB;CAEA2X,MAAAA,cAAc,CAACnZ,SAAf,GAA2BkG,MAA3B,CAAkC,UAASC,CAAT,EAAY;CAC1C,eAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,OAFD,EAEG/kB,OAFH,CAEW,UAASwjB,KAAT,EAAgB;CACvB0U,QAAAA,WAAW,CAAC3X,QAAZ,CAAqBiD,KAArB;CACH,OAJD;CAMA7P,MAAAA,MAAM,CAACmR,MAAP,GAAgBoT,WAAhB;CAEA,aAAOA,WAAP;CACH;;CAED,aAASH,mBAAT,GAA+B;;CAE3B,UAAI,CAACra,OAAO,CAACC,uBAAb,EAAsC;CAClCD,QAAAA,OAAO,CAACC,uBAAR,GAAkC,IAAID,OAAO,CAAC/I,YAAZ,EAAlC;CACH;;CAEDpJ,MAAAA,IAAI,CAACmJ,YAAL,GAAoBgJ,OAAO,CAACC,uBAA5B;CAEApS,MAAAA,IAAI,CAAC4sB,YAAL,GAAoB,EAApB;;CAEA,UAAI5sB,IAAI,CAAC4rB,WAAL,KAAqB,IAAzB,EAA+B;CAC3B5rB,QAAAA,IAAI,CAACsJ,QAAL,GAAgBtJ,IAAI,CAACmJ,YAAL,CAAkBI,UAAlB,EAAhB;CACAvJ,QAAAA,IAAI,CAACsJ,QAAL,CAAcI,OAAd,CAAsB1J,IAAI,CAACmJ,YAAL,CAAkBQ,WAAxC;CACA3J,QAAAA,IAAI,CAACsJ,QAAL,CAAcW,IAAd,CAAmBrO,KAAnB,GAA2B,CAA3B,CAH2B;CAI9B;;CAED,UAAIixB,iBAAiB,GAAG,CAAxB;CACAxB,MAAAA,mBAAmB,CAAC52B,OAApB,CAA4B,UAAS8kB,MAAT,EAAiB;CACzC,YAAI,CAACA,MAAM,CAAChG,SAAP,GAAmBkG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CACnC,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFA,EAEErjB,MAFP,EAEe;CACX;CACH;;CAED02B,QAAAA,iBAAiB;CAEjB,YAAIC,WAAW,GAAG9sB,IAAI,CAACmJ,YAAL,CAAkB8W,uBAAlB,CAA0C1G,MAA1C,CAAlB;;CAEA,YAAIvZ,IAAI,CAAC4rB,WAAL,KAAqB,IAAzB,EAA+B;CAC3BkB,UAAAA,WAAW,CAACpjB,OAAZ,CAAoB1J,IAAI,CAACsJ,QAAzB;CACH;;CAEDtJ,QAAAA,IAAI,CAAC4sB,YAAL,CAAkBp4B,IAAlB,CAAuBs4B,WAAvB;CACH,OAhBD;;CAkBA,UAAI,CAACD,iBAAL,EAAwB;;;CAGpB;CACH;;CAED7sB,MAAAA,IAAI,CAAC+sB,gBAAL,GAAwB/sB,IAAI,CAACmJ,YAAL,CAAkBY,4BAAlB,EAAxB;CACA/J,MAAAA,IAAI,CAAC4sB,YAAL,CAAkBn4B,OAAlB,CAA0B,UAASq4B,WAAT,EAAsB;CAC5CA,QAAAA,WAAW,CAACpjB,OAAZ,CAAoB1J,IAAI,CAAC+sB,gBAAzB;CACH,OAFD;CAGA,aAAO/sB,IAAI,CAAC+sB,gBAAL,CAAsBxT,MAA7B;CACH;;CAED,aAASyT,QAAT,CAAkBzT,MAAlB,EAA0B;CACtB,UAAI/rB,KAAK,GAAGiI,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAZ;CAEAmf,MAAAA,YAAY,CAACJ,MAAD,EAAS/rB,KAAT,CAAZ;CAEAA,MAAAA,KAAK,CAACm+B,SAAN,GAAkBL,YAAlB;CAEA99B,MAAAA,KAAK,CAAC0a,KAAN,GAAc,IAAd;CACA1a,MAAAA,KAAK,CAACmd,MAAN,GAAe,CAAf;CAEAnd,MAAAA,KAAK,CAAC0H,KAAN,GAAcqkB,MAAM,CAACrkB,KAAP,IAAgB8K,IAAI,CAAC9K,KAArB,IAA8B,GAA5C;CACA1H,MAAAA,KAAK,CAAC8H,MAAN,GAAeikB,MAAM,CAACjkB,MAAP,IAAiB0K,IAAI,CAAC1K,MAAtB,IAAgC,GAA/C;CAEA9H,MAAAA,KAAK,CAAC7B,IAAN;CAEA,aAAO6B,KAAP;CACH;;CAED,SAAKy/B,aAAL,GAAqB,UAASC,OAAT,EAAkB;CACnC,UAAI,CAACA,OAAL,EAAc;CACV,cAAM,8BAAN;CACH;;CAED,UAAI,EAAEA,OAAO,YAAYh5B,KAArB,CAAJ,EAAiC;CAC7Bg5B,QAAAA,OAAO,GAAG,CAACA,OAAD,CAAV;CACH;;CAEDA,MAAAA,OAAO,CAACz4B,OAAR,CAAgB,UAAS8kB,MAAT,EAAiB;CAC7B,YAAI3E,SAAS,GAAG,IAAIG,WAAJ,EAAhB;;CAEA,YAAIwE,MAAM,CAAChG,SAAP,GAAmBkG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CAClC,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFD,EAEGrjB,MAFP,EAEe;CACX,cAAI3I,KAAK,GAAGw/B,QAAQ,CAACzT,MAAD,CAApB;CACA/rB,UAAAA,KAAK,CAAC+rB,MAAN,GAAeA,MAAf;CACAgS,UAAAA,MAAM,CAAC/2B,IAAP,CAAYhH,KAAZ;CAEAonB,UAAAA,SAAS,CAACI,QAAV,CAAmBuE,MAAM,CAAChG,SAAP,GAAmBkG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CACrD,mBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,WAFkB,EAEhB,CAFgB,CAAnB;CAGH;;CAED,YAAID,MAAM,CAAChG,SAAP,GAAmBkG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CAClC,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFD,EAEGrjB,MAFP,EAEe;CACX,cAAI22B,WAAW,GAAG9sB,IAAI,CAACmJ,YAAL,CAAkB8W,uBAAlB,CAA0C1G,MAA1C,CAAlB;CACAvZ,UAAAA,IAAI,CAAC+sB,gBAAL,GAAwB/sB,IAAI,CAACmJ,YAAL,CAAkBY,4BAAlB,EAAxB;CACA+iB,UAAAA,WAAW,CAACpjB,OAAZ,CAAoB1J,IAAI,CAAC+sB,gBAAzB;CAEAnY,UAAAA,SAAS,CAACI,QAAV,CAAmBhV,IAAI,CAAC+sB,gBAAL,CAAsBxT,MAAtB,CAA6BhG,SAA7B,GAAyCkG,MAAzC,CAAgD,UAASC,CAAT,EAAY;CAC3E,mBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,WAFkB,EAEhB,CAFgB,CAAnB;CAGH;;CAED6R,QAAAA,mBAAmB,CAAC72B,IAApB,CAAyBogB,SAAzB;CACH,OA5BD;CA6BH,KAtCD;;CAwCA,SAAKuY,cAAL,GAAsB,YAAW;CAC7B5B,MAAAA,MAAM,GAAG,EAAT;CACAC,MAAAA,mBAAmB,GAAG,IAAtB;;CAEA,UAAIxrB,IAAI,CAACsJ,QAAT,EAAmB;CACftJ,QAAAA,IAAI,CAACsJ,QAAL,CAAcuC,UAAd;CACA7L,QAAAA,IAAI,CAACsJ,QAAL,GAAgB,IAAhB;CACH;;CAED,UAAItJ,IAAI,CAAC4sB,YAAL,CAAkBz2B,MAAtB,EAA8B;CAC1B6J,QAAAA,IAAI,CAAC4sB,YAAL,CAAkBn4B,OAAlB,CAA0B,UAAS+U,MAAT,EAAiB;CACvCA,UAAAA,MAAM,CAACqC,UAAP;CACH,SAFD;CAGA7L,QAAAA,IAAI,CAAC4sB,YAAL,GAAoB,EAApB;CACH;;CAED,UAAI5sB,IAAI,CAAC+sB,gBAAT,EAA2B;CACvB/sB,QAAAA,IAAI,CAAC+sB,gBAAL,CAAsBlhB,UAAtB;CACA7L,QAAAA,IAAI,CAAC+sB,gBAAL,GAAwB,IAAxB;CACH;;CAED,UAAI/sB,IAAI,CAACmJ,YAAT,EAAuB;CACnBnJ,QAAAA,IAAI,CAACmJ,YAAL,CAAkBtb,KAAlB;CACH;;CAEDmS,MAAAA,IAAI,CAACmJ,YAAL,GAAoB,IAApB;CAEAZ,MAAAA,OAAO,CAACZ,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBS,MAAM,CAAClT,KAA/B,EAAsCkT,MAAM,CAAC9S,MAA7C;;CAEA,UAAI8S,MAAM,CAACmR,MAAX,EAAmB;CACfnR,QAAAA,MAAM,CAACmR,MAAP,CAAcpK,IAAd;CACA/G,QAAAA,MAAM,CAACmR,MAAP,GAAgB,IAAhB;CACH;CACJ,KAjCD;;CAmCA,SAAKkT,iBAAL,GAAyB,UAASS,OAAT,EAAkB;CACvC,UAAIA,OAAO,IAAI,EAAEA,OAAO,YAAYh5B,KAArB,CAAf,EAA4C;CACxCg5B,QAAAA,OAAO,GAAG,CAACA,OAAD,CAAV;CACH;;CAEDT,MAAAA,iBAAiB,CAACS,OAAD,CAAjB;CACH,KAND;;CAQA,aAAST,iBAAT,CAA2BS,OAA3B,EAAoC;CAChC3B,MAAAA,MAAM,GAAG,EAAT;CACA2B,MAAAA,OAAO,GAAGA,OAAO,IAAI7B,mBAArB,CAFgC;;CAKhC6B,MAAAA,OAAO,CAACz4B,OAAR,CAAgB,UAAS8kB,MAAT,EAAiB;CAC7B,YAAI,CAACA,MAAM,CAAChG,SAAP,GAAmBkG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CACnC,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFA,EAEErjB,MAFP,EAEe;CACX;CACH;;CAED,YAAI3I,KAAK,GAAGw/B,QAAQ,CAACzT,MAAD,CAApB;CACA/rB,QAAAA,KAAK,CAAC+rB,MAAN,GAAeA,MAAf;CACAgS,QAAAA,MAAM,CAAC/2B,IAAP,CAAYhH,KAAZ;CACH,OAVD;CAWH,KA9hByD;;;CAiiB1D,SAAK8F,IAAL,GAAY,mBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,SAAK84B,cAAL,GAAsBA,cAAtB;CAEH;;CAED,MAAI,OAAOte,SAAP,KAAqB,WAAzB,EAAsC;CAClC,IAA6D;CACzDlY,MAAAA,cAAA,GAAiBw1B,iBAAjB;CACH;CAOJ;CAGD;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASlX,mBAAT,CAA6BmX,mBAA7B,EAAkDz0B,OAAlD,EAA2D;CACvDy0B,IAAAA,mBAAmB,GAAGA,mBAAmB,IAAI,EAA7C;CACA,QAAIrrB,IAAI,GAAG,IAAX;CAEA,QAAIotB,KAAJ;CACA,QAAI9e,aAAJ;CAEA1X,IAAAA,OAAO,GAAGA,OAAO,IAAI;CACjB00B,MAAAA,YAAY,EAAE,qBADG;CAEjB5X,MAAAA,QAAQ,EAAE,YAFO;CAGjBlmB,MAAAA,KAAK,EAAE;CACH0H,QAAAA,KAAK,EAAE,GADJ;CAEHI,QAAAA,MAAM,EAAE;CAFL;CAHU,KAArB;;CASA,QAAI,CAACsB,OAAO,CAACse,aAAb,EAA4B;CACxBte,MAAAA,OAAO,CAACse,aAAR,GAAwB,EAAxB;CACH;;CAED,QAAI,CAACte,OAAO,CAACpJ,KAAb,EAAoB;CAChBoJ,MAAAA,OAAO,CAACpJ,KAAR,GAAgB,EAAhB;CACH;;CAED,QAAI,CAACoJ,OAAO,CAACpJ,KAAR,CAAc0H,KAAnB,EAA0B;CACtB0B,MAAAA,OAAO,CAACpJ,KAAR,CAAc0H,KAAd,GAAsB,GAAtB;CACH;;CAED,QAAI,CAAC0B,OAAO,CAACpJ,KAAR,CAAc8H,MAAnB,EAA2B;CACvBsB,MAAAA,OAAO,CAACpJ,KAAR,CAAc8H,MAAd,GAAuB,GAAvB;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKzJ,MAAL,GAAc,YAAW;;CAErBuhC,MAAAA,KAAK,GAAG,IAAIhC,iBAAJ,CAAsBC,mBAAtB,EAA2Cz0B,OAAO,CAAC00B,YAAR,IAAwB,qBAAnE,CAAR;;CAEA,UAAI+B,iBAAiB,GAAGl3B,MAAxB,EAAgC;CAC5Bi3B,QAAAA,KAAK,CAAClY,aAAN,GAAsBte,OAAO,CAACse,aAAR,IAAyB,EAA/C;CACAkY,QAAAA,KAAK,CAACl4B,KAAN,GAAc0B,OAAO,CAACpJ,KAAR,CAAc0H,KAAd,IAAuB,GAArC;CACAk4B,QAAAA,KAAK,CAAC93B,MAAN,GAAesB,OAAO,CAACpJ,KAAR,CAAc8H,MAAd,IAAwB,GAAvC;CACA83B,QAAAA,KAAK,CAACvB,kBAAN;CACH;;CAED,UAAIj1B,OAAO,CAAC02B,aAAR,IAAyB,OAAO12B,OAAO,CAAC02B,aAAf,KAAiC,UAA9D,EAA0E;CACtE12B,QAAAA,OAAO,CAAC02B,aAAR,CAAsBF,KAAK,CAAChB,cAAN,EAAtB;CACH,OAboB;;;CAgBrB9d,MAAAA,aAAa,GAAG,IAAIgF,mBAAJ,CAAwB8Z,KAAK,CAAChB,cAAN,EAAxB,EAAgDx1B,OAAhD,CAAhB;CACA0X,MAAAA,aAAa,CAACziB,MAAd;CACH,KAlBD;;CAoBA,aAASwhC,iBAAT,GAA6B;CACzB,UAAIE,MAAM,GAAG,EAAb;CACAlC,MAAAA,mBAAmB,CAAC52B,OAApB,CAA4B,UAAS8kB,MAAT,EAAiB;CACzChG,QAAAA,SAAS,CAACgG,MAAD,EAAS,OAAT,CAAT,CAA2B9kB,OAA3B,CAAmC,UAASwjB,KAAT,EAAgB;CAC/CsV,UAAAA,MAAM,CAAC/4B,IAAP,CAAYyjB,KAAZ;CACH,SAFD;CAGH,OAJD;CAKA,aAAOsV,MAAP;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKpe,IAAL,GAAY,UAASnb,QAAT,EAAmB;CAC3B,UAAI,CAACsa,aAAL,EAAoB;CAChB;CACH;;CAEDA,MAAAA,aAAa,CAACa,IAAd,CAAmB,UAAShe,IAAT,EAAe;CAC9B6O,QAAAA,IAAI,CAAC7O,IAAL,GAAYA,IAAZ;CAEA6C,QAAAA,QAAQ,CAAC7C,IAAD,CAAR;CAEA6O,QAAAA,IAAI,CAACuO,iBAAL;CACH,OAND;CAOH,KAZD;;CAeJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKrgB,KAAL,GAAa,YAAW;CACpB,UAAIogB,aAAJ,EAAmB;CACfA,QAAAA,aAAa,CAACpgB,KAAd;CACH;CACJ,KAJD;;CAOJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK6d,MAAL,GAAc,YAAW;CACrB,UAAIuC,aAAJ,EAAmB;CACfA,QAAAA,aAAa,CAACvC,MAAd;CACH;CACJ,KAJD;;CAOJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKwC,iBAAL,GAAyB,YAAW;CAChC,UAAID,aAAJ,EAAmB;CACfA,QAAAA,aAAa,CAACC,iBAAd;CACAD,QAAAA,aAAa,GAAG,IAAhB;CACH;;CAED,UAAI8e,KAAJ,EAAW;CACPA,QAAAA,KAAK,CAACD,cAAN;CACAC,QAAAA,KAAK,GAAG,IAAR;CACH;CACJ,KAVD;;CAaJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKI,UAAL,GAAkB,UAASN,OAAT,EAAkB;CAChC,UAAI,CAACA,OAAL,EAAc;CACV,cAAM,8BAAN;CACH;;CAED,UAAI,EAAEA,OAAO,YAAYh5B,KAArB,CAAJ,EAAiC;CAC7Bg5B,QAAAA,OAAO,GAAG,CAACA,OAAD,CAAV;CACH;;CAED7B,MAAAA,mBAAmB,CAAC7F,MAApB,CAA2B0H,OAA3B;;CAEA,UAAI,CAAC5e,aAAD,IAAkB,CAAC8e,KAAvB,EAA8B;CAC1B;CACH;;CAEDA,MAAAA,KAAK,CAACH,aAAN,CAAoBC,OAApB;;CAEA,UAAIt2B,OAAO,CAAC02B,aAAR,IAAyB,OAAO12B,OAAO,CAAC02B,aAAf,KAAiC,UAA9D,EAA0E;CACtE12B,QAAAA,OAAO,CAAC02B,aAAR,CAAsBF,KAAK,CAAChB,cAAN,EAAtB;CACH;CACJ,KApBD;;CAuBJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKK,iBAAL,GAAyB,UAASS,OAAT,EAAkB;CACvC,UAAI,CAACE,KAAL,EAAY;CACR;CACH;;CAED,UAAIF,OAAO,IAAI,EAAEA,OAAO,YAAYh5B,KAArB,CAAf,EAA4C;CACxCg5B,QAAAA,OAAO,GAAG,CAACA,OAAD,CAAV;CACH;;CAEDE,MAAAA,KAAK,CAACX,iBAAN,CAAwBS,OAAxB;CACH,KAVD;;CAaJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKO,QAAL,GAAgB,YAAW;CACvB,aAAOL,KAAP;CACH,KAFD,CApMuD;;;CAyMvD,SAAK95B,IAAL,GAAY,qBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;CAGH;;CAED,MAAI,OAAOwa,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACoG,mBAAV,GAAgCA,mBAAhC;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASwZ,wBAAT,CAAkC3f,WAAlC,EAA+CnX,OAA/C,EAAwD;CACpD,QAAI,CAAC,IAAL,EAAW;CACP,YAAM,sCAAN;CACH;;CAED,QAAI,OAAOmX,WAAP,KAAuB,WAA3B,EAAwC;CACpC,YAAM,2CAAN;CACH;;CAED,QAAI/N,IAAI,GAAG,IAAX;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACIA,IAAAA,IAAI,CAAC2tB,SAAL,GAAiB,IAAI7f,SAAJ,CAAcC,WAAd,EAA2BnX,OAA3B,CAAjB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKsX,cAAL,GAAsB,YAAW;CAC7B,aAAO,IAAIrX,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAiJ,UAAAA,IAAI,CAAC2tB,SAAL,CAAezf,cAAf;CACApX,UAAAA,OAAO;CACV,SAHD,CAGE,OAAOuC,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OAPM,CAAP;CAQH,KATD;;CAYJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK0V,aAAL,GAAqB,YAAW;CAC5B,aAAO,IAAIlY,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAiJ,UAAAA,IAAI,CAAC2tB,SAAL,CAAe5e,aAAf,CAA6B,UAAS7iB,GAAT,EAAc;CACvC8T,YAAAA,IAAI,CAAC7O,IAAL,GAAY6O,IAAI,CAAC2tB,SAAL,CAAetc,OAAf,EAAZ;;CAEA,gBAAI,CAACrR,IAAI,CAAC7O,IAAN,IAAc,CAAC6O,IAAI,CAAC7O,IAAL,CAAUqL,IAA7B,EAAmC;CAC/BzF,cAAAA,MAAM,CAAC,aAAD,EAAgBiJ,IAAI,CAAC7O,IAArB,CAAN;CACA;CACH;;CAED2F,YAAAA,OAAO,CAAC5K,GAAD,CAAP;CACH,WATD;CAUH,SAXD,CAWE,OAAOmN,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OAfM,CAAP;CAgBH,KAjBD;;CAoBJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKwW,cAAL,GAAsB,YAAW;CAC7B,aAAO,IAAIhZ,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAiJ,UAAAA,IAAI,CAAC2tB,SAAL,CAAe9d,cAAf;CACA/Y,UAAAA,OAAO;CACV,SAHD,CAGE,OAAOuC,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OAPM,CAAP;CAQH,KATD;;CAYJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK4V,eAAL,GAAuB,YAAW;CAC9B,aAAO,IAAIpY,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAiJ,UAAAA,IAAI,CAAC2tB,SAAL,CAAe1e,eAAf;CACAnY,UAAAA,OAAO;CACV,SAHD,CAGE,OAAOuC,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OAPM,CAAP;CAQH,KATD;;CAYJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKoW,UAAL,GAAkB,UAASzb,QAAT,EAAmB;CACjC,aAAO,IAAI6C,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAiJ,UAAAA,IAAI,CAAC2tB,SAAL,CAAele,UAAf,CAA0B,UAASjW,OAAT,EAAkB;CACxC1C,YAAAA,OAAO,CAAC0C,OAAD,CAAP;CACH,WAFD;CAGH,SAJD,CAIE,OAAOH,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OARM,CAAP;CASH,KAVD;;CAaJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKgY,OAAL,GAAe,YAAW;CACtB,aAAO,IAAIxa,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACkJ,IAAI,CAAC2tB,SAAL,CAAetc,OAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAOhY,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKkY,mBAAL,GAA2B,YAAW;CAClC,aAAO,IAAI1a,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACkJ,IAAI,CAAC2tB,SAAL,CAAepc,mBAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAOlY,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK2Y,KAAL,GAAa,YAAW;CACpB,aAAO,IAAInb,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACkJ,IAAI,CAAC2tB,SAAL,CAAe3b,KAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAO3Y,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKxJ,OAAL,GAAe,YAAW;CACtB,aAAO,IAAIgH,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACkJ,IAAI,CAAC2tB,SAAL,CAAe99B,OAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAOwJ,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK4Y,QAAL,GAAgB,YAAW;CACvB,aAAO,IAAIpb,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACkJ,IAAI,CAAC2tB,SAAL,CAAe1b,QAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAO5Y,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKlI,IAAL,GAAY,IAAZ;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKkd,OAAL,GAAe,OAAf;CACH;;CAED,MAAI,OAAOP,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAAC4f,wBAAV,GAAqCA,wBAArC;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,WAASva,mBAAT,CAA6BoG,MAA7B,EAAqCvL,MAArC,EAA6C;;CAGzC,QAAI,OAAOgG,cAAP,KAA0B,WAA1B,IAAyC,OAAO4Z,cAAP,KAA0B,WAAvE,EAAoF;;CAEhFn6B,MAAAA,OAAO,CAAC/E,KAAR,CAAc,yHAAd;CACH;;CAEDsf,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;CAEAA,IAAAA,MAAM,CAAC9Y,KAAP,GAAe8Y,MAAM,CAAC9Y,KAAP,IAAgB,GAA/B;CACA8Y,IAAAA,MAAM,CAAC1Y,MAAP,GAAgB0Y,MAAM,CAAC1Y,MAAP,IAAiB,GAAjC;CACA0Y,IAAAA,MAAM,CAACqH,SAAP,GAAmBrH,MAAM,CAACqH,SAAP,IAAoB,EAAvC;CACArH,IAAAA,MAAM,CAACsH,OAAP,GAAiBtH,MAAM,CAACsH,OAAP,IAAkB,IAAnC;CACAtH,IAAAA,MAAM,CAAC6f,QAAP,GAAkB7f,MAAM,CAAC6f,QAAP,IAAmB,IAArC;;CAQA,QAAIC,QAAJ;;CAEA,aAASC,YAAT,GAAwB;CACpB,aAAO,IAAI/Z,cAAJ,CAAmB;CACtB3kB,QAAAA,KAAK,EAAE,UAAS2+B,UAAT,EAAqB;CACxB,cAAIC,GAAG,GAAGx4B,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAV;CACA,cAAIhN,KAAK,GAAGiI,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAZ;CACA,cAAI0zB,KAAK,GAAG,IAAZ;CACA1gC,UAAAA,KAAK,CAACosB,SAAN,GAAkBL,MAAlB;CACA/rB,UAAAA,KAAK,CAAC0a,KAAN,GAAc,IAAd;CACA1a,UAAAA,KAAK,CAAC8H,MAAN,GAAe0Y,MAAM,CAAC1Y,MAAtB;CACA9H,UAAAA,KAAK,CAAC0H,KAAN,GAAc8Y,MAAM,CAAC9Y,KAArB;CACA1H,UAAAA,KAAK,CAACmd,MAAN,GAAe,CAAf;;CACAnd,UAAAA,KAAK,CAAC2gC,SAAN,GAAkB,YAAW;CACzBF,YAAAA,GAAG,CAAC/4B,KAAJ,GAAY8Y,MAAM,CAAC9Y,KAAnB;CACA+4B,YAAAA,GAAG,CAAC34B,MAAJ,GAAa0Y,MAAM,CAAC1Y,MAApB;CACA,gBAAIwK,GAAG,GAAGmuB,GAAG,CAAC70B,UAAJ,CAAe,IAAf,CAAV;CACA,gBAAIg1B,YAAY,GAAG,OAAOpgB,MAAM,CAACqH,SAAjC;CACA,gBAAIgZ,WAAW,GAAGC,WAAW,CAAC,SAAS1J,CAAT,GAAa;CACvC,kBAAIkJ,QAAJ,EAAc;CACVS,gBAAAA,aAAa,CAACF,WAAD,CAAb;CACAL,gBAAAA,UAAU,CAACngC,KAAX;CACH;;CAED,kBAAIqgC,KAAJ,EAAW;CACPA,gBAAAA,KAAK,GAAG,KAAR;;CACA,oBAAIlgB,MAAM,CAACwgB,qBAAX,EAAkC;CAC9BxgB,kBAAAA,MAAM,CAACwgB,qBAAP;CACH;CACJ;;CAED1uB,cAAAA,GAAG,CAAC6G,SAAJ,CAAcnZ,KAAd,EAAqB,CAArB,EAAwB,CAAxB;;CACA,kBAAIwgC,UAAU,CAACS,yBAAX,CAAqC3iB,KAArC,KAA+C,QAAnD,EAA6D;CACzD,oBAAI;CACAkiB,kBAAAA,UAAU,CAACU,OAAX,CACI5uB,GAAG,CAACqlB,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuBnX,MAAM,CAAC9Y,KAA9B,EAAqC8Y,MAAM,CAAC1Y,MAA5C,CADJ;CAGH,iBAJD,CAIE,OAAO+D,CAAP,EAAU;CACf;CACJ,aArB4B,EAqB1B+0B,YArB0B,CAA7B;CAsBH,WA3BD;;CA4BA5gC,UAAAA,KAAK,CAAC7B,IAAN;CACH;CAvCqB,OAAnB,CAAP;CAyCH;;CAED,QAAImlB,MAAJ;;CAEA,aAAS5C,cAAT,CAAwBqL,MAAxB,EAAgCpqB,MAAhC,EAAwC;CACpC,UAAI,CAAC6e,MAAM,CAACmH,UAAR,IAAsB,CAAChmB,MAA3B,EAAmC;CAC/B2+B,QAAAA,QAAQ,GAAG,KAAX,CAD+B;;CAK/B1jC,QAAAA,KAAK,CACD,wDADC,CAAL,CAEEkN,IAFF,CAEO,UAAS+sB,CAAT,EAAY;CACfA,UAAAA,CAAC,CAACsK,WAAF,GAAgBr3B,IAAhB,CAAqB,UAASnI,MAAT,EAAiB;CAClC+e,YAAAA,cAAc,CAACqL,MAAD,EAASpqB,MAAT,CAAd;CACH,WAFD;CAGH,SAND;CAOA;CACH;;CAED,UAAI,CAAC6e,MAAM,CAACmH,UAAR,IAAsBhmB,MAAM,YAAYqwB,WAA5C,EAAyD;CACrD,YAAIruB,IAAI,GAAG,IAAI0f,IAAJ,CAAS,CAAC1hB,MAAD,CAAT,EAAmB;CAC1B0K,UAAAA,IAAI,EAAE;CADoB,SAAnB,CAAX;CAGAmU,QAAAA,MAAM,CAACmH,UAAP,GAAoBza,GAAG,CAACC,eAAJ,CAAoBxJ,IAApB,CAApB;CACH;;CAED,UAAI,CAAC6c,MAAM,CAACmH,UAAZ,EAAwB;CACpB1hB,QAAAA,OAAO,CAAC/E,KAAR,CAAc,kCAAd;CACH;;CAEDoiB,MAAAA,MAAM,GAAG,IAAIV,MAAJ,CAAWpC,MAAM,CAACmH,UAAlB,CAAT;CAEArE,MAAAA,MAAM,CAACd,WAAP,CAAmBhC,MAAM,CAACoH,eAAP,IAA0B,wDAA7C;CACAtE,MAAAA,MAAM,CAACxc,gBAAP,CAAwB,SAAxB,EAAmC,UAASI,KAAT,EAAgB;CAC/C,YAAIA,KAAK,CAAC4L,IAAN,KAAe,OAAnB,EAA4B;CACxBwQ,UAAAA,MAAM,CAACd,WAAP,CAAmB;CACf9a,YAAAA,KAAK,EAAE8Y,MAAM,CAAC9Y,KADC;CAEfI,YAAAA,MAAM,EAAE0Y,MAAM,CAAC1Y,MAFA;CAGfggB,YAAAA,OAAO,EAAEtH,MAAM,CAACsH,OAAP,IAAkB,IAHZ;CAIfsZ,YAAAA,WAAW,EAAE5gB,MAAM,CAACqH,SAAP,IAAoB,EAJlB;CAKfwY,YAAAA,QAAQ,EAAE7f,MAAM,CAAC6f;CALF,WAAnB;CAQAE,UAAAA,YAAY,GAAGc,MAAf,CAAsB,IAAIjB,cAAJ,CAAmB;CACrCkB,YAAAA,KAAK,EAAE,UAAS/c,KAAT,EAAgB;CACnB,kBAAI+b,QAAJ,EAAc;CACVr6B,gBAAAA,OAAO,CAAC/E,KAAR,CAAc,sCAAd;CACA;CACH;;CAEDoiB,cAAAA,MAAM,CAACd,WAAP,CAAmB+B,KAAK,CAACzR,IAAN,CAAWnR,MAA9B,EAAsC,CAAC4iB,KAAK,CAACzR,IAAN,CAAWnR,MAAZ,CAAtC;CACH;CARoC,WAAnB,CAAtB;CAUH,SAnBD,MAmBO,IAAI,CAAC,CAACuF,KAAK,CAAC4L,IAAZ,EAAkB;CACrB,cAAI,CAAC+c,QAAL,EAAe;CACX0R,YAAAA,cAAc,CAACv6B,IAAf,CAAoBE,KAAK,CAAC4L,IAA1B;CACH;CACJ;CACJ,OAzBD;CA0BH;;CAGL;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKzU,MAAL,GAAc,YAAW;CACrBkjC,MAAAA,cAAc,GAAG,EAAjB;CACA1R,MAAAA,QAAQ,GAAG,KAAX;CACA,WAAKlsB,IAAL,GAAY,IAAZ;CACA+c,MAAAA,cAAc,CAACqL,MAAD,CAAd;;CAEA,UAAI,OAAOvL,MAAM,CAACY,YAAd,KAA+B,UAAnC,EAA+C;CAC3CZ,QAAAA,MAAM,CAACY,YAAP;CACH;CACJ,KATD;;CAWA,QAAIyO,QAAJ;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKnvB,KAAL,GAAa,YAAW;CACpBmvB,MAAAA,QAAQ,GAAG,IAAX;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKtR,MAAL,GAAc,YAAW;CACrBsR,MAAAA,QAAQ,GAAG,KAAX;CACH,KAFD;;CAIA,aAAS0C,SAAT,CAAmB/rB,QAAnB,EAA6B;CACzB,UAAI,CAAC8c,MAAL,EAAa;CACT,YAAI9c,QAAJ,EAAc;CACVA,UAAAA,QAAQ;CACX;;CAED;CACH,OAPwB;;;CAUzB8c,MAAAA,MAAM,CAACxc,gBAAP,CAAwB,SAAxB,EAAmC,UAASI,KAAT,EAAgB;CAC/C,YAAIA,KAAK,CAAC4L,IAAN,KAAe,IAAnB,EAAyB;CACrBwQ,UAAAA,MAAM,CAACiP,SAAP;CACAjP,UAAAA,MAAM,GAAG,IAAT;;CAEA,cAAI9c,QAAJ,EAAc;CACVA,YAAAA,QAAQ;CACX;CACJ;CACJ,OATD;CAWA8c,MAAAA,MAAM,CAACd,WAAP,CAAmB,IAAnB;CACH;;CAED,QAAI+e,cAAc,GAAG,EAArB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK5f,IAAL,GAAY,UAASnb,QAAT,EAAmB;CAC3B85B,MAAAA,QAAQ,GAAG,IAAX;CAEA,UAAIla,QAAQ,GAAG,IAAf;CAEAmM,MAAAA,SAAS,CAAC,YAAW;CACjBnM,QAAAA,QAAQ,CAACziB,IAAT,GAAgB,IAAI0f,IAAJ,CAASke,cAAT,EAAyB;CACrCl1B,UAAAA,IAAI,EAAE;CAD+B,SAAzB,CAAhB;CAIA7F,QAAAA,QAAQ,CAAC4f,QAAQ,CAACziB,IAAV,CAAR;CACH,OANQ,CAAT;CAOH,KAZD,CA9MyC;;;CA6NzC,SAAKmC,IAAL,GAAY,qBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKib,iBAAL,GAAyB,YAAW;CAChCwgB,MAAAA,cAAc,GAAG,EAAjB;CACA1R,MAAAA,QAAQ,GAAG,KAAX;CACA,WAAKlsB,IAAL,GAAY,IAAZ,CAHgC;CAMnC,KAND;;CASJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKA,IAAL,GAAY,IAAZ;CACH;;CAED,MAAI,OAAO2c,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACqF,mBAAV,GAAgCA,mBAAhC;;;;CC5jMW,MAAM6b,eAAN,SAA8BnvB,OAA9B,CAAsC;CACjDzM,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAK2F,QAAL,GAAgB,EAAhB;CACA,SAAK20B,QAAL,GAAgB/8B,aAAW,CAACE,IAA5B;CACA,SAAKuvB,WAAL,GAAmB,KAAnB;CACA,SAAK5yB,kBAAL,GAA0B,CAA1B;CACA,SAAKmgC,iBAAL,GAAyB,IAAzB;CACAv6B,IAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,UAAjB,EAA6B,MAA7B;CACH;;CAED0gC,EAAAA,WAAW,CAAC70B,QAAD,EAAW20B,QAAX,EAAqB;CAC5B,SAAK30B,QAAL,GAAgBA,QAAhB;;CAEA,QAAIpI,aAAW,CAACC,GAAZ,KAAoB88B,QAApB,IAAgC/8B,aAAW,CAACE,IAAZ,KAAqB68B,QAAzD,EAAmE;CAC/D,WAAKA,QAAL,GAAgBA,QAAhB;CACH;CACJ;;CAEY,MAATngC,SAAS,GAAG;CACZ,WAAO,KAAK6yB,WAAZ;CACH;;CAEa,MAAVyN,UAAU,GAAG;CACb,WAAO,KAAKrgC,kBAAZ;CACH;;CAEDsgC,EAAAA,WAAW,GAAG;CACV,UAAMxkC,KAAK,GAAG,KAAK8J,MAAL,CAAY9J,KAA1B;CACA,UAAM+L,OAAO,GAAG;CACZiD,MAAAA,IAAI,EAAE,OADM;CAEZ6Z,MAAAA,QAAQ,EAAE,wBAFE;CAGZiB,MAAAA,WAAW,EAAG2a,SAAD,IAAe;CACxBzkC,QAAAA,KAAK,CAAC4D,GAAN,CAAU,UAAV,EAAsB,uBAAuB6gC,SAA7C;CACH,OALW;CAMZlhB,MAAAA,WAAW,EAAE,CAAC,KAAKzZ,MAAL,CAAYpB,IAAZ,CAAiB1I;CANnB,KAAhB;;CASA,QAAI;CAEA,YAAM0uB,MAAM,GAAG,KAAK5kB,MAAL,CAAYnH,KAAZ,CAAkB4R,aAAlB,CAAgCgX,aAAhC,CAA8C,EAA9C,CAAf;CACA,YAAMmZ,WAAW,GAAG,KAAK56B,MAAL,CAAY/I,KAAZ,CAAkBke,+BAAlB,CAAkDyP,MAAtE;;CACA,UAAI,KAAK5kB,MAAL,CAAYtJ,QAAhB,EAA0B;CACtBkuB,QAAAA,MAAM,CAACvE,QAAP,CAAgBua,WAAW,CAACC,cAAZ,GAA6B,CAA7B,CAAhB;CACH;;CACD,WAAK5b,QAAL,GAAgB9F,WAAS,CAACyL,MAAD,EAAS3iB,OAAT,CAAzB;CACH,KARD,CAQE,OAAOyC,CAAP,EAAU;CACRxO,MAAAA,KAAK,CAAC6D,KAAN,CAAY,UAAZ,EAAwB2K,CAAxB;CACA,WAAKqF,IAAL,CAAU5Q,MAAM,CAACoB,iBAAjB;CACH;;CACD,QAAI,KAAK0kB,QAAT,EAAmB;CACf,WAAK+N,WAAL,GAAmB,IAAnB;CACA,WAAKhtB,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACgB,SAAxB,EAAmC,IAAnC;CACA,WAAK8kB,QAAL,CAAc1F,cAAd;CACArjB,MAAAA,KAAK,CAAC4D,GAAN,CAAU,UAAV,EAAsB,iBAAtB;CACA,WAAKkG,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACkB,WAAxB;CACA,WAAKkgC,iBAAL,GAAyBx5B,MAAM,CAAC44B,WAAP,CAAmB,MAAM;CAC9C,aAAKv/B,kBAAL,IAA2B,CAA3B;CACA,aAAK4F,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACiB,kBAAxB,EAA4C,KAAKA,kBAAjD;CACH,OAHwB,EAGtB,IAHsB,CAAzB;CAIH;CACJ;;CAED0gC,EAAAA,iBAAiB,GAAG;CAChB,QAAI,CAAC,KAAK7b,QAAN,IAAkB,CAAC,KAAK+N,WAA5B,EAAyC;CACrC;CACH;;CACD,SAAK/N,QAAL,CAAc7E,aAAd,CAA4B,MAAM;CAC9B,WAAKpa,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,UAAtB,EAAkC,gBAAlC;CACA,WAAKkG,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACmB,SAAxB;CACA0N,MAAAA,cAAc,CAAC,KAAKiX,QAAL,CAAcvC,OAAd,EAAD,EAA0B,KAAK/W,QAA/B,EAAyC,KAAK20B,QAA9C,CAAd;;CACA,WAAKS,MAAL;;CACA,WAAK/6B,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACgB,SAAxB,EAAmC,KAAnC;CACH,KAND;CAOH;;CAED4gC,EAAAA,MAAM,GAAG;CACL,SAAK/N,WAAL,GAAmB,KAAnB;CACA,SAAK5yB,kBAAL,GAA0B,CAA1B;;CAEA,QAAI,KAAK6kB,QAAT,EAAmB;CACf,WAAKA,QAAL,CAAc/jB,OAAd;CACA,WAAK+jB,QAAL,GAAgB,IAAhB;CACH;;CACD,SAAKtZ,QAAL,GAAgB,IAAhB;;CACA,QAAI,KAAK40B,iBAAT,EAA4B;CACxBX,MAAAA,aAAa,CAAC,KAAKW,iBAAN,CAAb;CACH;;CACD,SAAKA,iBAAL,GAAyB,IAAzB;CACH;;CAEDr/B,EAAAA,OAAO,GAAG;CACN,SAAK6/B,MAAL;;CACA,SAAK/6B,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,UAAtB,EAAkC,SAAlC;CACH;;CA/FgD;;CCHtC,MAAMogB,QAAN,CAAe;CAC1Bzb,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAMgU,MAAM,GAAGkG,QAAQ,CAACjG,gBAAT,EAAf;CACA,WAAO,IAAID,MAAJ,CAAWhU,MAAX,CAAP;CACH;;CAEsB,SAAhBiU,gBAAgB,GAAG;CACtB,WAAOomB,eAAP;CACH;;CARyB;;CCAf,MAAMW,aAAN,CAAoB;CAC/Bv8B,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAKi7B,aAAL,GAAqB,IAAIxf,MAAJ,CAAWzb,MAAM,CAACpB,IAAP,CAAYtH,OAAvB,CAArB;;CACA,SAAK4jC,kBAAL;;CACAl7B,IAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,eAAjB,EAAkC,MAAlC;CACH;;CAEDohC,EAAAA,kBAAkB,GAAG;CACjB,UAAM;CACFhlC,MAAAA,KADE;CAEF8T,MAAAA,MAAM,EAAE;CAAC9K,QAAAA;CAAD;CAFN,QAGF,KAAKc,MAHT;;CAKA,SAAKi7B,aAAL,CAAmBnf,SAAnB,GAAgC/b,KAAD,IAAW;CACtC,YAAM4R,GAAG,GAAG5R,KAAK,CAAC4L,IAAlB;;CACA,cAAQgG,GAAG,CAACwpB,GAAZ;CACI,aAAKnjC,eAAe,CAACC,IAArB;CACI/B,UAAAA,KAAK,CAAC4D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACC,IAAzD;;CACA,cAAI,CAAC,KAAK+H,MAAL,CAAYo7B,MAAjB,EAAyB;CACrB,iBAAKp7B,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACM,IAAxB;CACH;;CACD,eAAKuG,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACE,iBAAxB;;CACA,eAAKgiC,SAAL;;CACA;;CACJ,aAAKrjC,eAAe,CAACW,SAArB;CACIzC,UAAAA,KAAK,CAAC4D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACW,SAAzD,EAAoEgZ,GAAG,CAAC2pB,IAAxE;CACA,eAAKt7B,MAAL,CAAYnH,KAAZ,CAAkByX,eAAlB,CAAkC;CAC9BC,YAAAA,WAAW,EAAEoB,GAAG,CAAC2pB;CADa,WAAlC;CAGA;;CACJ,aAAKtjC,eAAe,CAACU,SAArB;CACIxC,UAAAA,KAAK,CAAC4D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACU,SAAzD,EAAoEiZ,GAAG,CAAC2pB,IAAxE;CACA,eAAKt7B,MAAL,CAAY/I,KAAZ,CAAkB2e,eAAlB,CAAkC;CAC9BrF,YAAAA,WAAW,EAAEoB,GAAG,CAAC2pB;CADa,WAAlC;CAGA;;CACJ,aAAKtjC,eAAe,CAACE,SAArB;CACIhC,UAAAA,KAAK,CAAC4D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACE,SAAzD,EAAqE,SAAQyZ,GAAG,CAACvC,CAAE,WAAUuC,GAAG,CAAClJ,CAAE,EAAnG;CACA,eAAKzI,MAAL,CAAYnH,KAAZ,CAAkByX,eAAlB,CAAkC;CAC9B/P,YAAAA,KAAK,EAAEoR,GAAG,CAACvC,CADmB;CAE9BzO,YAAAA,MAAM,EAAEgR,GAAG,CAAClJ;CAFkB,WAAlC;CAIA,eAAKzI,MAAL,CAAYnH,KAAZ,CAAkB6Y,kBAAlB;CACA;;CACJ,aAAK1Z,eAAe,CAACO,SAArB;CACIrC,UAAAA,KAAK,CAAC4D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACO,SAAzD,EAAqE,YAAWoZ,GAAG,CAAC8D,QAAS,eAAc9D,GAAG,CAAC+D,UAAW,EAA1H;CACA,eAAK1V,MAAL,CAAY/I,KAAZ,CAAkB2e,eAAlB,CAAkCjE,GAAlC;CACA,eAAK3R,MAAL,CAAY/I,KAAZ,CAAkBif,cAAlB,CAAiCvE,GAAjC;CACA;;CACJ,aAAK3Z,eAAe,CAACG,MAArB;CACI;CACA,eAAK6H,MAAL,CAAYu7B,YAAZ;CACA,eAAKv7B,MAAL,CAAYnH,KAAZ,CAAkBV,MAAlB,CAAyBwZ,GAAzB;CACA,eAAK3R,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACS,UAAxB,EAAoC+X,GAAG,CAACE,EAAxC;CACA,eAAK7R,MAAL,CAAYw7B,WAAZ,CAAwB;CAACryB,YAAAA,GAAG,EAAE,IAAN;CAAY0I,YAAAA,EAAE,EAAEF,GAAG,CAACE,EAApB;CAAwB4pB,YAAAA,GAAG,EAAE9pB,GAAG,CAAC+pB;CAAjC,WAAxB;CACA;;CACJ,aAAK1jC,eAAe,CAACI,SAArB;CACI;CACA;CACA,cAAI,KAAK4H,MAAL,CAAY1G,OAAhB,EAAyB;CACrB,iBAAK0G,MAAL,CAAY/I,KAAZ,CAAkBD,IAAlB,CAAuB2a,GAAG,CAACnX,MAA3B,EAAmCmX,GAAG,CAACE,EAAvC;CACH;;CACD;;CACJ;CACI,eAAK7R,MAAL,CAAY2R,GAAG,CAACwpB,GAAhB,KAAwB,KAAKn7B,MAAL,CAAY2R,GAAG,CAACwpB,GAAhB,EAAqBxpB,GAArB,CAAxB;CAjDR;CAmDH,KArDD;CAsDH;;CAED0pB,EAAAA,SAAS,GAAG;CACR,SAAKJ,aAAL,CAAmB5f,WAAnB,CAA+B;CAC3B8f,MAAAA,GAAG,EAAEpiC,gBAAgB,CAACd,IADK;CAE3Bic,MAAAA,GAAG,EAAEsX,IAAI,CAACC,SAAL,CAAe,KAAKzrB,MAAL,CAAYpB,IAA3B,CAFsB;CAG3B8W,MAAAA,UAAU,EAAE,KAAK1V,MAAL,CAAY/I,KAAZ,CAAkBud,YAAlB,CAA+BkB;CAHhB,KAA/B;CAKH;;CAEDimB,EAAAA,WAAW,CAAC3B,WAAD,EAAcnoB,EAAd,EAAkB+pB,QAAlB,EAA4B;CACnC,UAAM35B,OAAO,GAAG;CACZiD,MAAAA,IAAI,EAAEtM,UAAU,CAACC,KADL;CAEZgZ,MAAAA,EAAE,EAAErR,IAAI,CAACC,GAAL,CAASoR,EAAT,EAAa,CAAb,CAFQ;CAGZ+pB,MAAAA;CAHY,KAAhB,CADmC;;CAOnC,SAAKX,aAAL,CAAmB5f,WAAnB,CAA+B;CAC3B8f,MAAAA,GAAG,EAAEpiC,gBAAgB,CAACN,MADK;CAE3B+B,MAAAA,MAAM,EAAEw/B,WAFmB;CAG3B/3B,MAAAA;CAH2B,KAA/B,EAIG,CAAC+3B,WAAW,CAACx/B,MAAb,CAJH;CAKH;;CAEDqhC,EAAAA,WAAW,CAAC7B,WAAD,EAAcnoB,EAAd,EAAkB;CACzB,QAAI,KAAK7R,MAAL,CAAYpB,IAAZ,CAAiB/G,MAAjB,IAA2B,CAAC,KAAKmI,MAAL,CAAYpB,IAAZ,CAAiB7G,YAAjD,EAA+D;CAC3D,WAAK+jC,mBAAL,CAAyB9B,WAAzB,EAAsCnoB,EAAtC;CACH,KAFD,MAEO,IAAI,KAAK7R,MAAL,CAAYpB,IAAZ,CAAiB9G,MAArB,EAA6B;CAChC,WAAKgkC,mBAAL,CAAyB9B,WAAzB,EAAsCnoB,EAAtC;CACH,KAFM,MAEA;CACH,WAAKkqB,YAAL,CAAkB/B,WAAlB,EAA+BnoB,EAA/B;CACH;CACJ,GApG8B;;;CAuG/BkqB,EAAAA,YAAY,CAAC/B,WAAD,EAAcnoB,EAAd,EAAkB;CAC1B,UAAM5P,OAAO,GAAG;CACZiD,MAAAA,IAAI,EAAEtM,UAAU,CAAC3B,KADL;CAEZ4a,MAAAA,EAAE,EAAErR,IAAI,CAACC,GAAL,CAASoR,EAAT,EAAa,CAAb;CAFQ,KAAhB,CAD0B;;CAM1B,SAAKopB,aAAL,CAAmB5f,WAAnB,CAA+B;CAC3B8f,MAAAA,GAAG,EAAEpiC,gBAAgB,CAACN,MADK;CAE3B+B,MAAAA,MAAM,EAAEw/B,WAFmB;CAG3B/3B,MAAAA;CAH2B,KAA/B,EAIG,CAAC+3B,WAAW,CAACx/B,MAAb,CAJH;CAKH;;CAGDshC,EAAAA,mBAAmB,CAAC9B,WAAD,EAAcnoB,EAAd,EAAkB;CACjC;CACA,SAAKopB,aAAL,CAAmB5f,WAAnB,CAA+B;CAC3B8f,MAAAA,GAAG,EAAEpiC,gBAAgB,CAACC,WADK;CAE3BwB,MAAAA,MAAM,EAAEw/B,WAFmB;CAG3BnoB,MAAAA,EAAE,EAAErR,IAAI,CAACC,GAAL,CAASoR,EAAT,EAAa,CAAb;CAHuB,KAA/B,EAIG,CAACmoB,WAAW,CAACx/B,MAAb,CAJH;CAKH;;CAEDU,EAAAA,OAAO,GAAG;CACN,SAAK+/B,aAAL,CAAmB5f,WAAnB,CAA+B;CAAC8f,MAAAA,GAAG,EAAEpiC,gBAAgB,CAACG;CAAvB,KAA/B;CACA,SAAK+hC,aAAL,CAAmB7P,SAAnB;CACA,SAAK6P,aAAL,GAAqB,IAArB;CACA,SAAKj7B,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAuB,eAAvB,EAAuC,SAAvC;CACH;;CAnI8B;;CCCpB,MAAMuW,YAAN,SAA2BnF,OAA3B,CAAmC;CAC9CzM,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CAEA,SAAKg8B,MAAL,GAAc,IAAd;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKR,KAAL,GAAa,CAAC,CAAd;CACA,SAAKtnB,UAAL,GAAkB,EAAlB;CACA,SAAK+nB,QAAL,GAAgB,KAAhB;CACA,SAAKC,YAAL;CACH;;CAEDC,EAAAA,QAAQ,CAAC1B,SAAD,EAAY;CAChB,QAAI,CAACA,SAAL,EAAgB;CACZ,aAAO,CAAC,CAAR;CACH;;CACD,QAAI,CAAC,KAAKsB,cAAV,EAA0B;CACtB,WAAKA,cAAL,GAAsBtB,SAAtB;CACA,WAAKuB,cAAL,GAAsB91B,IAAI,CAACD,GAAL,EAAtB;CACA,WAAKu1B,KAAL,GAAa,CAAC,CAAd;CACH,KAJD,MAIO;CACH,UAAIf,SAAJ,EAAe;CACX,aAAKe,KAAL,GAAct1B,IAAI,CAACD,GAAL,KAAa,KAAK+1B,cAAnB,IAAsCvB,SAAS,GAAG,KAAKsB,cAAvD,CAAb;CACH;CACJ;;CACD,WAAO,KAAKP,KAAZ;CACH;;CAEDY,EAAAA,UAAU,GAAG;CACT,SAAKL,cAAL,GAAsB,IAAtB;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKR,KAAL,GAAa,CAAC,CAAd;CACA,SAAKS,QAAL,GAAgB,KAAhB;CACH,GAnC6C;;;CAsC9CC,EAAAA,YAAY,GAAG;CACX,UAAMtmC,WAAW,GAAG,KAAKkK,MAAL,CAAYpB,IAAZ,CAAiB9I,WAArC;CACA,SAAKkK,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,cAAtB,EAAuC,eAAvC;;CAEA,QAAIyiC,KAAK,GAAG,MAAM;CACd,UAAI5wB,IAAJ;;CACA,UAAI,KAAKyI,UAAL,CAAgB5S,MAApB,EAA4B;CACxB,YAAI,KAAK26B,QAAT,EAAmB;CACf;CACAxwB,UAAAA,IAAI,GAAG,KAAKyI,UAAL,CAAgBoC,KAAhB,EAAP;;CACA,cAAI7K,IAAI,CAACzG,IAAL,KAActM,UAAU,CAAC3B,KAAzB,IAAkC0U,IAAI,CAAC6wB,OAAL,CAAa,CAAb,MAAoB,CAA1D,EAA6D;CACzD,iBAAKC,gBAAL,CAAsB9wB,IAAtB;CACH;;CACD,iBAAO,CAACA,IAAI,CAACiwB,QAAN,IAAkB,KAAKxnB,UAAL,CAAgB5S,MAAzC,EAAiD;CAC7CmK,YAAAA,IAAI,GAAG,KAAKyI,UAAL,CAAgBoC,KAAhB,EAAP;;CACA,gBAAI7K,IAAI,CAACzG,IAAL,KAActM,UAAU,CAAC3B,KAAzB,IAAkC0U,IAAI,CAAC6wB,OAAL,CAAa,CAAb,MAAoB,CAA1D,EAA6D;CACzD,mBAAKC,gBAAL,CAAsB9wB,IAAtB;CACH;CACJ,WAXc;;;CAaf,cAAIA,IAAI,CAACiwB,QAAT,EAAmB;CACf,iBAAKO,QAAL,GAAgB,KAAhB;;CACA,iBAAKM,gBAAL,CAAsB9wB,IAAtB;CACH;CACJ,SAjBD,MAiBO;CACHA,UAAAA,IAAI,GAAG,KAAKyI,UAAL,CAAgB,CAAhB,CAAP;;CACA,cAAI,KAAKioB,QAAL,CAAc1wB,IAAI,CAACkG,EAAnB,MAA2B,CAAC,CAAhC,EAAmC;CAC/B;CACA,iBAAKuC,UAAL,CAAgBoC,KAAhB;;CACA,iBAAKimB,gBAAL,CAAsB9wB,IAAtB;CACH,WAJD,MAIO,IAAI,KAAK+vB,KAAL,GAAa5lC,WAAW,GAAG,IAA/B,EAAqC;CACxC;CACA,iBAAKwmC,UAAL;CACA,iBAAKH,QAAL,GAAgB,IAAhB;CACH,WAJM,MAIA;CACH,mBAAO,KAAK/nB,UAAL,CAAgB5S,MAAvB,EAA+B;CAC3BmK,cAAAA,IAAI,GAAG,KAAKyI,UAAL,CAAgB,CAAhB,CAAP;;CAEA,kBAAI,KAAKioB,QAAL,CAAc1wB,IAAI,CAACkG,EAAnB,IAAyB/b,WAA7B,EAA0C;CACtC;CACA,qBAAKse,UAAL,CAAgBoC,KAAhB;;CACA,qBAAKimB,gBAAL,CAAsB9wB,IAAtB;CACH,eAJD,MAIO;CACH;CACA;CACH;CACJ;CACJ;CACJ;CACJ;CACJ,KA9CD;;CA+CA4wB,IAAAA,KAAK;;CACL,SAAKP,MAAL,GAAcrC,WAAW,CAAC4C,KAAD,EAAQ,EAAR,CAAzB;CACH;;CAEDG,EAAAA,SAAS,CAACF,OAAD,EAAUt3B,IAAV,EAAgB2M,EAAhB,EAAoB+pB,QAApB,EAA8B;CACnC,UAAM57B,MAAM,GAAG,KAAKA,MAApB;CACA,UAAM;CAACi7B,MAAAA;CAAD,QAAkBj7B,MAAxB;CACA,QAAIiC,OAAO,GAAG;CACV4P,MAAAA,EAAE,EAAEA,EADM;CAEV3M,MAAAA,IAAI,EAAEA,IAFI;CAGV02B,MAAAA,QAAQ,EAAE;CAHA,KAAd,CAHmC;;CASnC,QAAI57B,MAAM,CAACpB,IAAP,CAAY/G,MAAZ,IAAsB,CAACmI,MAAM,CAACpB,IAAP,CAAY7G,YAAvC,EAAqD;CACjD,UAAImN,IAAI,KAAKtM,UAAU,CAACC,KAAxB,EAA+B;CAC3BoJ,QAAAA,OAAO,CAAC25B,QAAR,GAAmBA,QAAnB;CACH;;CACD,WAAKe,UAAL,CAAgBH,OAAhB,EAAyBv6B,OAAzB;CACH,KALD,MAKO,IAAIjC,MAAM,CAACpB,IAAP,CAAY9G,MAAhB,EAAwB;CAC3B;CACA,UAAIoN,IAAI,KAAKtM,UAAU,CAACC,KAAxB,EAA+B;CAC3BoJ,QAAAA,OAAO,CAAC25B,QAAR,GAAmBA,QAAnB;CACH;;CACD,WAAKe,UAAL,CAAgBH,OAAhB,EAAyBv6B,OAAzB;CACH,KANM,MAMA;CACH;CACA,UAAIiD,IAAI,KAAKtM,UAAU,CAACC,KAAxB,EAA+B;CAC3BoiC,QAAAA,aAAa,CAACU,WAAd,CAA0Ba,OAA1B,EAAmC3qB,EAAnC,EAAuC+pB,QAAvC;CACH,OAFD,MAEO,IAAI12B,IAAI,KAAKtM,UAAU,CAAC3B,KAAxB,EAA+B;CAClCgkC,QAAAA,aAAa,CAACY,WAAd,CAA0BW,OAA1B,EAAmC3qB,EAAnC;CACH;CACJ;CACJ;;CAED4qB,EAAAA,gBAAgB,CAAC9wB,IAAD,EAAO;CACnB,UAAM3L,MAAM,GAAG,KAAKA,MAApB;CACA,UAAM;CAACi7B,MAAAA,aAAD;CAAgB2B,MAAAA,gBAAhB;CAAkCC,MAAAA;CAAlC,QAAgD78B,MAAtD;;CAEA,QAAI2L,IAAI,CAACzG,IAAL,KAActM,UAAU,CAAC3B,KAA7B,EAAoC;CAChCgkC,MAAAA,aAAa,CAACY,WAAd,CAA0BlwB,IAAI,CAAC6wB,OAA/B,EAAwC7wB,IAAI,CAACkG,EAA7C;CACH,KAFD,MAEO,IAAIlG,IAAI,CAACzG,IAAL,KAActM,UAAU,CAACC,KAA7B,EAAoC;CACvC,UAAImH,MAAM,CAACpB,IAAP,CAAY/G,MAAZ,IAAsB,CAACmI,MAAM,CAACpB,IAAP,CAAY7G,YAAvC,EAAqD;CACjD6kC,QAAAA,gBAAgB,CAACjB,WAAjB,CAA6BhwB,IAAI,CAAC6wB,OAAlC,EAA2C7wB,IAAI,CAACkG,EAAhD,EAAoDlG,IAAI,CAACiwB,QAAzD;CACH,OAFD,MAEO,IAAI57B,MAAM,CAACpB,IAAP,CAAY9G,MAAhB,EAAwB;CAC3B+kC,QAAAA,UAAU,CAAClB,WAAX,CAAuBhwB,IAAI,CAAC6wB,OAA5B,EAAqC7wB,IAAI,CAACkG,EAA1C,EAA8ClG,IAAI,CAACiwB,QAAnD;CACH;CACJ;CACJ;;CAEDe,EAAAA,UAAU,CAACH,OAAD,EAAUv6B,OAAV,EAAmB;CACzB;CACA,QAAIA,OAAO,CAACiD,IAAR,KAAiBtM,UAAU,CAAC3B,KAAhC,EAAuC;CACnC,WAAKmd,UAAL,CAAgBvU,IAAhB,CAAqB;CACjBgS,QAAAA,EAAE,EAAE5P,OAAO,CAAC4P,EADK;CAEjB2qB,QAAAA,OAAO,EAAEA,OAFQ;CAGjBt3B,QAAAA,IAAI,EAAEtM,UAAU,CAAC3B;CAHA,OAArB;CAKH,KAND,MAMO,IAAIgL,OAAO,CAACiD,IAAR,KAAiBtM,UAAU,CAACC,KAAhC,EAAuC;CAC1C,WAAKub,UAAL,CAAgBvU,IAAhB,CAAqB;CACjBgS,QAAAA,EAAE,EAAE5P,OAAO,CAAC4P,EADK;CAEjB2qB,QAAAA,OAAO,EAAEA,OAFQ;CAGjBt3B,QAAAA,IAAI,EAAEtM,UAAU,CAACC,KAHA;CAIjB+iC,QAAAA,QAAQ,EAAE35B,OAAO,CAAC25B;CAJD,OAArB;CAMH;CACJ;;CAED1iC,EAAAA,KAAK,GAAG;;CAIRgC,EAAAA,OAAO,GAAG;CACN,QAAI,KAAK8gC,MAAT,EAAiB;CACbpC,MAAAA,aAAa,CAAC,KAAKoC,MAAN,CAAb;CACA,WAAKA,MAAL,GAAc,IAAd;CACH;;CACD,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKR,KAAL,GAAa,CAAC,CAAd;CACA,SAAKtnB,UAAL,GAAkB,EAAlB;CACA,SAAK+nB,QAAL,GAAgB,KAAhB;CACA,SAAK75B,GAAL;CACH;;CA3K6C;;CCAnC,MAAMw6B,SAAN,SAAwBzsB,YAAxB,CAAqC;CAChD5R,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAMA,MAAN;CACA,SAAK+8B,KAAL,GAAa,KAAKC,SAAL,EAAb;CACA,SAAKC,QAAL,GAAgB,KAAKC,eAAL,CAAqB,KAAKH,KAA1B,CAAhB;CACA/8B,IAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,UAAjB,EAA6B,MAA7B;CACH;;CAEDye,EAAAA,QAAQ,CAAC5M,IAAD,EAAO;CACX,SAAKsxB,QAAL,CAActxB,IAAd;CACH;;CAEU,GAATqxB,SAAS,GAAG;CACV,UAAM,CAAN;CACA,UAAMxT,GAAG,GAAG,IAAIqB,WAAJ,CAAgB,CAAhB,CAAZ;CACA,UAAMsS,IAAI,GAAG,IAAI73B,UAAJ,CAAekkB,GAAf,CAAb;CACA,UAAM4T,KAAK,GAAG,IAAIC,WAAJ,CAAgB7T,GAAhB,CAAd;CACA,UAAMxpB,MAAM,GAAG,KAAKA,MAApB;;CAEA,WAAO,IAAP,EAAa;CACTm9B,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAV;CACA,YAAMpY,CAAC,GAAG,MAAM,EAAhB;CACA,YAAM7f,IAAI,GAAG6f,CAAC,CAAC,CAAD,CAAd;CACAoY,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUpY,CAAC,CAAC,CAAD,CAAX;CACAoY,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUpY,CAAC,CAAC,CAAD,CAAX;CACAoY,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUpY,CAAC,CAAC,CAAD,CAAX;CACA,YAAMvjB,MAAM,GAAG47B,KAAK,CAAC,CAAD,CAApB;CACAD,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUpY,CAAC,CAAC,EAAD,CAAX;CACAoY,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUpY,CAAC,CAAC,CAAD,CAAX;CACAoY,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUpY,CAAC,CAAC,CAAD,CAAX;CACA,UAAIlT,EAAE,GAAGurB,KAAK,CAAC,CAAD,CAAd;;CACA,UAAIvrB,EAAE,KAAK,QAAX,EAAqB;CACjBsrB,QAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUpY,CAAC,CAAC,EAAD,CAAX;CACAlT,QAAAA,EAAE,GAAGurB,KAAK,CAAC,CAAD,CAAV;CACH;;CACD,YAAMZ,OAAO,GAAG,MAAMh7B,MAAtB;;CACA,cAAQ0D,IAAR;CACI,aAAKpM,cAAc,CAAC7B,KAApB;CACI,cAAI+I,MAAM,CAACpB,IAAP,CAAYlI,QAAhB,EAA0B;CACtBsJ,YAAAA,MAAM,CAACw7B,WAAP,CAAmB;CACf8B,cAAAA,IAAI,EAAEd,OAAO,CAAClkB;CADC,aAAnB;;CAGA,gBAAIkkB,OAAO,CAAClkB,UAAR,GAAqB,CAAzB,EAA4B;CACxB,mBAAKokB,SAAL,CAAeF,OAAf,EAAwB5jC,UAAU,CAAC3B,KAAnC,EAA0C4a,EAA1C;CACH;CACJ;;CACD;;CACJ,aAAK/Y,cAAc,CAACD,KAApB;CACI,cAAImH,MAAM,CAACpB,IAAP,CAAYjI,QAAhB,EAA0B;CACtBqJ,YAAAA,MAAM,CAACw7B,WAAP,CAAmB;CACf+B,cAAAA,IAAI,EAAEf,OAAO,CAAClkB;CADC,aAAnB;CAGA,kBAAMsjB,QAAQ,GAAGY,OAAO,CAAC,CAAD,CAAP,IAAc,CAAd,KAAoB,CAArC;;CACA,gBAAIA,OAAO,CAAClkB,UAAR,GAAqB,CAAzB,EAA4B;CACxB,mBAAKokB,SAAL,CAAeF,OAAf,EAAwB5jC,UAAU,CAACC,KAAnC,EAA0CgZ,EAA1C,EAA8C+pB,QAA9C;CACH;CACJ;;CACD;CArBR;CAuBH;CACJ;;CAEDsB,EAAAA,eAAe,CAACH,KAAD,EAAQ;CACnB,QAAIS,IAAI,GAAGT,KAAK,CAACU,IAAN,EAAX;CACA,QAAIjjC,MAAM,GAAG,IAAb;CACA,WAAQyM,KAAD,IAAW;CACd,UAAI0E,IAAI,GAAG,IAAIrG,UAAJ,CAAe2B,KAAf,CAAX;;CACA,UAAIzM,MAAJ,EAAY;CACR,YAAIkjC,OAAO,GAAG,IAAIp4B,UAAJ,CAAe9K,MAAM,CAACgH,MAAP,GAAgBmK,IAAI,CAACnK,MAApC,CAAd;CACAk8B,QAAAA,OAAO,CAACvT,GAAR,CAAY3vB,MAAZ;CACAkjC,QAAAA,OAAO,CAACvT,GAAR,CAAYxe,IAAZ,EAAkBnR,MAAM,CAACgH,MAAzB;CACAmK,QAAAA,IAAI,GAAG+xB,OAAP;CACAljC,QAAAA,MAAM,GAAG,IAAT;CACH;;CACD,aAAOmR,IAAI,CAACnK,MAAL,IAAeg8B,IAAI,CAACv2B,KAA3B,EAAkC;CAC9B,YAAI02B,MAAM,GAAGhyB,IAAI,CAACD,KAAL,CAAW8xB,IAAI,CAACv2B,KAAhB,CAAb;CACAu2B,QAAAA,IAAI,GAAGT,KAAK,CAACU,IAAN,CAAW9xB,IAAI,CAACD,KAAL,CAAW,CAAX,EAAc8xB,IAAI,CAACv2B,KAAnB,CAAX,CAAP;CACA0E,QAAAA,IAAI,GAAGgyB,MAAP;CACH;;CACD,UAAIhyB,IAAI,CAACnK,MAAL,GAAc,CAAlB,EAAqB;CACjBhH,QAAAA,MAAM,GAAGmR,IAAT;CACH;CACJ,KAjBD;CAkBH;;CAEDzS,EAAAA,KAAK,GAAG;CACJ,SAAK6jC,KAAL,IAAc,KAAKA,KAAL,CAAWa,MAAX,CAAkB,IAAlB,CAAd;CACH;;CAED1iC,EAAAA,OAAO,GAAG;CACN,UAAMA,OAAN;CACA,SAAK6hC,KAAL,GAAa,IAAb;CACA,SAAKE,QAAL,GAAgB,IAAhB;CACA,SAAKj9B,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,UAAtB,EAAkC,SAAlC;CACH;;CA9F+C;;CCArC,MAAM+jC,SAAN,SAAwBxtB,YAAxB,CAAqC;CAChD5R,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAMA,MAAN;CACAA,IAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,UAAjB,EAA6B,MAA7B;CACH;;CAEDye,EAAAA,QAAQ,CAAC5M,IAAD,EAAO;CACX,UAAM3L,MAAM,GAAG,KAAKA,MAApB;CAEA,UAAM89B,EAAE,GAAG,IAAIhT,QAAJ,CAAanf,IAAb,CAAX;CACA,UAAMzG,IAAI,GAAG44B,EAAE,CAACC,QAAH,CAAY,CAAZ,CAAb;CACA,UAAMlsB,EAAE,GAAGisB,EAAE,CAACE,SAAH,CAAa,CAAb,EAAgB,KAAhB,CAAX;;CACA,YAAQ94B,IAAR;CACI,WAAKtM,UAAU,CAAC3B,KAAhB;CACI,YAAI+I,MAAM,CAACpB,IAAP,CAAYlI,QAAhB,EAA0B;CACtB,gBAAM8lC,OAAO,GAAG,IAAIl3B,UAAJ,CAAeqG,IAAf,EAAqB,CAArB,CAAhB;CACA3L,UAAAA,MAAM,CAACw7B,WAAP,CAAmB;CACf8B,YAAAA,IAAI,EAAEd,OAAO,CAAClkB;CADC,WAAnB;;CAGA,cAAIkkB,OAAO,CAAClkB,UAAR,GAAqB,CAAzB,EAA4B;CACxB,iBAAKokB,SAAL,CAAeF,OAAf,EAAwBt3B,IAAxB,EAA8B2M,EAA9B;CACH;CACJ;;CACD;;CACJ,WAAKjZ,UAAU,CAACC,KAAhB;CACI,YAAImH,MAAM,CAACpB,IAAP,CAAYjI,QAAhB,EAA0B;CACtB,cAAImnC,EAAE,CAACxlB,UAAH,GAAgB,CAApB,EAAuB;CACnB,kBAAMkkB,OAAO,GAAG,IAAIl3B,UAAJ,CAAeqG,IAAf,EAAqB,CAArB,CAAhB;CACA,kBAAMsyB,QAAQ,GAAGH,EAAE,CAACC,QAAH,CAAY,CAAZ,KAAkB,CAAlB,KAAwB,CAAzC;CACA/9B,YAAAA,MAAM,CAACw7B,WAAP,CAAmB;CACf+B,cAAAA,IAAI,EAAEf,OAAO,CAAClkB;CADC,aAAnB;;CAGA,gBAAIkkB,OAAO,CAAClkB,UAAR,GAAqB,CAAzB,EAA4B;CACxB,mBAAKokB,SAAL,CAAeF,OAAf,EAAwBt3B,IAAxB,EAA8B2M,EAA9B,EAAkCosB,QAAlC;CACH;CACJ;CACJ;;CACD;CAzBR;CA2BH;;CAED/iC,EAAAA,OAAO,GAAG;CACN,UAAMA,OAAN;CACA,SAAK8E,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,UAAtB,EAAkC,SAAlC;CACH;;CA5C+C;;CCCrC,MAAMokC,KAAN,CAAY;CACvBz/B,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAMgU,MAAM,GAAGkqB,KAAK,CAACjqB,gBAAN,CAAuBjU,MAAM,CAACpB,IAAP,CAAYhH,SAAnC,CAAf;CACA,WAAO,IAAIoc,MAAJ,CAAWhU,MAAX,CAAP;CACH;;CAEsB,SAAhBiU,gBAAgB,CAAC/O,IAAD,EAAO;CAC1B,QAAIA,IAAI,KAAKxP,UAAU,CAACE,GAAxB,EAA6B;CACzB,aAAOioC,SAAP;CACH,KAFD,MAEO,IAAI34B,IAAI,KAAKxP,UAAU,CAACC,GAAxB,EAA6B;CAChC,aAAOmnC,SAAP;CACH;CACJ;;CAZsB;;CCCZ,MAAMqB,gBAAN,SAA+BjzB,OAA/B,CAAuC;CAClDzM,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAKo+B,OAAL,GAAe,KAAf;CACA,SAAKC,UAAL,GAAkB,KAAlB;CACA,SAAK/mC,OAAL,GAAe,IAAf;CACA,SAAKgnC,WAAL;CACAt+B,IAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,WAAjB,EAA8B,MAA9B;CACH;;CAEDwkC,EAAAA,WAAW,GAAG;CACV,UAAMxN,KAAK,GAAG,IAAd;;CACA,SAAKx5B,OAAL,GAAe,IAAIinC,YAAJ,CAAiB;CAC5BxsB,MAAAA,MAAM,CAACtX,UAAD,EAAa;CACfq2B,QAAAA,KAAK,CAAC0N,YAAN,CAAmB/jC,UAAnB;CACH,OAH2B;;CAI5BV,MAAAA,KAAK,CAACA,KAAD,EAAQ;CACT+2B,QAAAA,KAAK,CAAC2N,WAAN,CAAkB1kC,KAAlB;CACH;;CAN2B,KAAjB,CAAf;CAQH;;CAEDykC,EAAAA,YAAY,CAAC/jC,UAAD,EAAa;CACrB,QAAI,CAAC,KAAK4jC,UAAV,EAAsB;CAClB,WAAKr+B,MAAL,CAAYnH,KAAZ,CAAkByX,eAAlB,CAAkC;CAC9B/P,QAAAA,KAAK,EAAE9F,UAAU,CAACikC,UADY;CAE9B/9B,QAAAA,MAAM,EAAElG,UAAU,CAACkkC;CAFW,OAAlC;CAIA,WAAK3+B,MAAL,CAAYnH,KAAZ,CAAkB6Y,kBAAlB;CACA,WAAK2sB,UAAL,GAAkB,IAAlB;CACH;;CAED,SAAKr+B,MAAL,CAAYu7B,YAAZ;CACA,SAAKv7B,MAAL,CAAYnH,KAAZ,CAAkBV,MAAlB,CAAyB;CACrBsC,MAAAA;CADqB,KAAzB;CAIA,SAAKuF,MAAL,CAAYw7B,WAAZ,CAAwB;CAACryB,MAAAA,GAAG,EAAE,IAAN;CAAY0I,MAAAA,EAAE,EAAE,CAAhB;CAAmB4pB,MAAAA,GAAG,EAAE,KAAKz7B,MAAL,CAAY8X,KAAZ,CAAkB4jB;CAA1C,KAAxB,EAfqB;;CAkBrBnhB,IAAAA,UAAU,CAAC,YAAY;CACnB,UAAI9f,UAAU,CAACvB,KAAf,EAAsB;CAClBuB,QAAAA,UAAU,CAACvB,KAAX;CACH,OAFD,MAEO;CACHuB,QAAAA,UAAU,CAACS,OAAX;CACH;CACJ,KANS,EAMP,GANO,CAAV;CAOH;;CAEDujC,EAAAA,WAAW,CAAC1kC,KAAD,EAAQ;CACf,SAAKiG,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,WAAtB,EAAmC,0BAAnC,EAA+DC,KAA/D;CACH;;CAED4hC,EAAAA,WAAW,CAACa,OAAD,EAAU3qB,EAAV,EAAcosB,QAAd,EAAwB;CAC/B;CACA,QAAI,CAAC,KAAKG,OAAV,EAAmB;CACf,UAAIH,QAAQ,IAAIzB,OAAO,CAAC,CAAD,CAAP,KAAe,CAA/B,EAAkC;CAC9B,cAAMoC,UAAU,GAAIpC,OAAO,CAAC,CAAD,CAAP,GAAa,IAAjC;CACA,aAAKx8B,MAAL,CAAYnH,KAAZ,CAAkByX,eAAlB,CAAkC;CAC9BC,UAAAA,WAAW,EAAEquB;CADiB,SAAlC,EAF8B;;CAO9B,YAAIA,UAAU,KAAKliC,cAAc,CAACE,IAAlC,EAAwC;CACpC,eAAKmN,IAAL,CAAUpO,YAAY,CAACI,uBAAvB;CACA;CACH;;CAED,cAAMsd,MAAM,GAAGlR,2BAA2B,CAACq0B,OAAO,CAAC9wB,KAAR,CAAc,CAAd,CAAD,CAA1C;CACA,aAAKpU,OAAL,CAAaunC,SAAb,CAAuBxlB,MAAvB;CACA,aAAK+kB,OAAL,GAAe,IAAf;CACH;CACJ,KAjBD,MAiBO;CACH,YAAMU,KAAK,GAAG,IAAIC,iBAAJ,CAAsB;CAChCpzB,QAAAA,IAAI,EAAE6wB,OAAO,CAAC9wB,KAAR,CAAc,CAAd,CAD0B;CAEhCivB,QAAAA,SAAS,EAAE9oB,EAFqB;CAGhC3M,QAAAA,IAAI,EAAE+4B,QAAQ,GAAGngC,kBAAkB,CAACC,GAAtB,GAA4BD,kBAAkB,CAACE;CAH7B,OAAtB,CAAd;CAKA,WAAK1G,OAAL,CAAamB,MAAb,CAAoBqmC,KAApB;CACH;CACJ;;CAED5jC,EAAAA,OAAO,GAAG;CACN,SAAK5D,OAAL,CAAa4B,KAAb;CACA,SAAK5B,OAAL,GAAe,IAAf;CACA,SAAK8mC,OAAL,GAAe,KAAf;CACA,SAAKC,UAAL,GAAkB,KAAlB;CACA,SAAK/7B,GAAL;CACA,SAAKtC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,WAAtB,EAAmC,SAAnC;CACH;;CA1FiD;;CCLtD,MAAMklC,QAAQ,GAAG;CACbhoC,EAAAA,IAAI,EAAE,IADO;CAEbuC,EAAAA,KAAK,EAAE,IAFM;CAGbtC,EAAAA,KAAK,EAAE,EAHM;CAIbuC,EAAAA,IAAI,EAAE,EAJO;CAKbzC,EAAAA,UAAU,EAAE,IALC;CAMb2C,EAAAA,OAAO,EAAE,IANI;CAOb5C,EAAAA,UAAU,EAAE,IAPC;CAQbmoC,EAAAA,cAAc,EAAE,MARH;CASb/nC,EAAAA,MAAM,EAAE,IATK;CAUbgoC,EAAAA,UAAU,EAAE,MAVC;CAYb;CACA;CACA;CACA;CACA;;CAhBa,CAAjB;AAmBA,aAAej/B,MAAM,CAACiH,IAAP,CAAY83B,QAAZ,EAAsBG,MAAtB,CAA6B,CAACC,KAAD,EAAQrhC,GAAR,KAAgB;CACxDqhC,EAAAA,KAAK,CAACrhC,GAAD,CAAL,GAAc,2CAA0CA,GAAI,QAA5D;;CACA,MAAIihC,QAAQ,CAACjhC,GAAD,CAAZ,EAAmB;CACfqhC,IAAAA,KAAK,CAACrhC,GAAD,CAAL,IAAe,0DAAyDihC,QAAQ,CAACjhC,GAAD,CAAM,gBAAtF;CACH;;CAED,SAAOqhC,KAAP;CACH,CAPc,EAOZ,EAPY,CAAf;;ACjBA,iBAAe,CAACp/B,MAAD,EAASq/B,OAAT,KAAqB;CAChCr/B,EAAAA,MAAM,CAACK,UAAP,CAAkB6J,SAAlB,CAA4BC,GAA5B,CAAgC,yBAAhC;CACA,QAAMlI,OAAO,GAAGjC,MAAM,CAACpB,IAAvB;CACA,QAAM/H,WAAW,GAAGoL,OAAO,CAACpL,WAA5B;CAEAmJ,EAAAA,MAAM,CAACK,UAAP,CAAkBi/B,kBAAlB,CACI,WADJ,EAEK;AACT,cAAcr9B,OAAO,CAAC5K,UAAR,GAAsB,8DAA6D4K,OAAO,CAAC5K,UAAW,WAAtG,GAAmH,EAAG;AACpI;AACA,kBAAkB+nC,KAAK,CAAC1lC,OAAQ;AAChC,kBAAkBuI,OAAO,CAAC7K,WAAR,GAAuB,uCAAsC6K,OAAO,CAAC7K,WAAY,QAAjF,GAA2F,EAAG;AAChH;AACA,cAAc6K,OAAO,CAAC9K,UAAR,IAAsBN,WAAW,CAACG,IAAlC,GAA0C,wCAA1C,GAAoF,EAAG;AACrG,cAAciL,OAAO,CAAC9K,UAAR,GAAsB;AACpC;AACA;AACA;AACA,8BAA8B8K,OAAO,CAAC1L,aAAR,GAAyB,6DAAzB,GAAwF,EAAG;AACzH;AACA;AACA,+BAA+BM,WAAW,CAACI,KAAZ,GAAqB;AACpD;AACA,uCAAuCmoC,KAAK,CAACnoC,KAAM;AACnD,uCAAuCmoC,KAAK,CAAC5lC,IAAK;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAX+B,GAWE,EAAG;AACpC,+BAA+B3C,WAAW,CAACG,IAAZ,GAAoB,uDAAsDooC,KAAK,CAACpoC,IAAK,8DAA6DooC,KAAK,CAAC7lC,KAAM,QAA9J,GAAwK,EAAG;AAC1M,+BAA+B1C,WAAW,CAACE,UAAZ,GAA0B,6DAA4DqoC,KAAK,CAACroC,UAAW,QAAvG,GAAiH,EAAG;AACnJ,+BAA+BF,WAAW,CAACK,MAAZ,GAAsB,0DAAyDkoC,KAAK,CAACloC,MAAO,oEAAmEkoC,KAAK,CAACF,UAAW,QAAhL,GAA0L,EAAG;AAC5N,+BAA+BroC,WAAW,CAACC,UAAZ,GAA0B,6DAA4DsoC,KAAK,CAACtoC,UAAW,wEAAuEsoC,KAAK,CAACH,cAAe,QAAnM,GAA6M,EAAG;AAC/O;AACA;AACA;AACA,aA1Bc,GA0BE,EAAG;AACnB;AACA,SArCI;CAwCAh/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,SAA/B,EAA0C;CACtCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,mBAAhC;CAD+B,GAA1C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,UAA/B,EAA2C;CACvCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,oBAAhC;CADgC,GAA3C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,OAA/B,EAAwC;CACpCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,iBAAhC;CAD6B,GAAxC;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,UAA/B,EAA2C;CACvCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,qBAAhC;CADgC,GAA3C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,QAA/B,EAAyC;CACrCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,kBAAhC;CAD8B,GAAzC;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,WAA/B,EAA4C;CACxCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,qBAAhC;CADiC,GAA5C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,aAA/B,EAA8C;CAC1Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,uBAAhC;CADmC,GAA9C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,aAA/B,EAA8C;CAC1Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,uBAAhC;CADmC,GAA9C;CAKAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,SAA/B,EAA0C;CACtCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,mBAAhC;CAD+B,GAA1C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,kBAA/B,EAAmD;CAC/Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,8BAAhC;CADwC,GAAnD;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,kBAA/B,EAAmD;CAC/Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,8BAAhC;CADwC,GAAnD;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,cAA/B,EAA+C;CAC3Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,yBAAhC;CADoC,GAA/C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,eAA/B,EAAgD;CAC5Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,gCAAhC;CADqC,GAAhD;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,WAA/B,EAA4C;CACxCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,uBAAhC;CADiC,GAA5C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,YAA/B,EAA6C;CACzCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,sBAAhC;CADkC,GAA7C;CAKAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,aAA/B,EAA8C;CAC1Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,uBAAhC;CADmC,GAA9C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,iBAA/B,EAAkD;CAC9Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,4BAAhC;CADuC,GAAlD;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,SAA/B,EAA0C;CACtCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,mBAAhC;CAD+B,GAA1C;CAGAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,aAA/B,EAA8C;CAC1Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,wBAAhC;CADmC,GAA9C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,aAA/B,EAA8C;CAC1Cp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,uBAAhC;CADmC,GAA9C;CAIAt/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,QAA/B,EAAyC;CACrCp4B,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBk/B,aAAlB,CAAgC,kBAAhC;CAD8B,GAAzC;CAGH,CAjID;;ACEA,mBAAe,CAACv/B,MAAD,EAASq/B,OAAT,KAAqB;CAChC,QAAM;CACFr1B,IAAAA,MAAM,EAAE;CAAC9K,MAAAA;CAAD;CADN,MAEFc,MAFJ;CAIA,QAAMw/B,MAAM,GAAG1+B,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAf;CACA25B,EAAAA,MAAM,CAACC,YAAP,CAAoB,aAApB,EAAmC,MAAnC;CACAD,EAAAA,MAAM,CAACC,YAAP,CAAoB,UAApB,EAAgC,CAAC,CAAjC;CACAD,EAAAA,MAAM,CAACt6B,IAAP,GAAc,WAAd;CACAs6B,EAAAA,MAAM,CAAC7zB,IAAP,GAAc,aAAd;CAEA3E,EAAAA,QAAQ,CAACw4B,MAAD,EAAS;CACbE,IAAAA,OAAO,EAAE,OADI;CAEbhvB,IAAAA,QAAQ,EAAE,UAFG;CAGbC,IAAAA,GAAG,EAAE,GAHQ;CAIbC,IAAAA,IAAI,EAAE,GAJO;CAKbjQ,IAAAA,MAAM,EAAE,MALK;CAMbJ,IAAAA,KAAK,EAAE,MANM;CAObo/B,IAAAA,QAAQ,EAAE,QAPG;CAQbC,IAAAA,aAAa,EAAE,MARF;CASb7I,IAAAA,MAAM,EAAE;CATK,GAAT,CAAR;CAYA,MAAIvsB,WAAW,GAAGxK,MAAM,CAACO,KAAzB;CACA,MAAIgK,YAAY,GAAGvK,MAAM,CAACW,MAA1B;CAEAzB,EAAAA,KAAK,CAACsgC,MAAD,EAAS,MAAT,EAAiB,MAAM;CACxBtgC,IAAAA,KAAK,CAACsgC,MAAM,CAACK,eAAP,CAAuBC,WAAxB,EAAqC,QAArC,EAA+C,MAAM;CACtD,UAAI9/B,MAAM,CAACO,KAAP,KAAiBiK,WAAjB,IAAgCxK,MAAM,CAACW,MAAP,KAAkB4J,YAAtD,EAAoE;CAChEC,QAAAA,WAAW,GAAGxK,MAAM,CAACO,KAArB;CACAgK,QAAAA,YAAY,GAAGvK,MAAM,CAACW,MAAtB;CACAX,QAAAA,MAAM,CAAC+J,IAAP,CAAY5Q,MAAM,CAACyB,MAAnB;CACH;CACJ,KANI,CAAL;CAOH,GARI,CAAL;CASAoF,EAAAA,MAAM,CAACK,UAAP,CAAkBwQ,WAAlB,CAA8B2uB,MAA9B;CAEAx/B,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAAC+B,OAAjB,EAA0B,MAAM;CAC5B8E,IAAAA,MAAM,CAACK,UAAP,CAAkBgT,WAAlB,CAA8BmsB,MAA9B;CACH,GAFD;;CAIA,WAASO,eAAT,CAAyBC,UAAzB,EAAqC;CACjC,QAAIA,UAAU,KAAK,CAAnB,EAAsB;CAClBh5B,MAAAA,QAAQ,CAACq4B,OAAO,CAACY,SAAT,EAAoB,SAApB,EAA+B,MAA/B,CAAR;CACAj5B,MAAAA,QAAQ,CAACq4B,OAAO,CAACa,UAAT,EAAqB,SAArB,EAAgC,MAAhC,CAAR;CACAl5B,MAAAA,QAAQ,CAACq4B,OAAO,CAACc,aAAT,EAAwB,KAAxB,EAAgC,GAAE,EAAG,IAArC,CAAR;CACH,KAJD,MAIO;CACH,UAAId,OAAO,CAACc,aAAR,IAAyBd,OAAO,CAACe,YAArC,EAAmD;CAC/C,cAAMC,WAAW,GAAGj5B,QAAQ,CAACi4B,OAAO,CAACe,YAAT,EAAuB,QAAvB,CAAR,IAA4C,EAAhE;CACA,cAAME,YAAY,GAAGl5B,QAAQ,CAACi4B,OAAO,CAACc,aAAT,EAAwB,QAAxB,CAA7B;CACA,cAAMxvB,GAAG,GAAG0vB,WAAW,GAAG,CAACA,WAAW,GAAGC,YAAf,IAA+BN,UAA7C,GAA0DM,YAAtE;CACAt5B,QAAAA,QAAQ,CAACq4B,OAAO,CAACc,aAAT,EAAwB,KAAxB,EAAgC,GAAExvB,GAAI,IAAtC,CAAR;CACA3J,QAAAA,QAAQ,CAACq4B,OAAO,CAACY,SAAT,EAAoB,SAApB,EAA+B,MAA/B,CAAR;CACAj5B,QAAAA,QAAQ,CAACq4B,OAAO,CAACa,UAAT,EAAqB,SAArB,EAAgC,MAAhC,CAAR;CACH;CACJ;;CACDb,IAAAA,OAAO,CAACkB,gBAAR,KAA6BlB,OAAO,CAACkB,gBAAR,CAAyBC,SAAzB,GAAqC9c,QAAQ,CAACsc,UAAU,GAAG,GAAd,CAA1E;CACH;;CAEDhgC,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAAC8B,YAAjB,EAA+B,MAAM;CACjC8kC,IAAAA,eAAe,CAAC//B,MAAM,CAACgW,MAAR,CAAf;CACH,GAFD;CAIAhW,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACO,OAAjB,EAA2Bkd,IAAD,IAAU;CAChC5P,IAAAA,QAAQ,CAACq4B,OAAO,CAACoB,QAAT,EAAmB,SAAnB,EAA8B7pB,IAAI,GAAG,MAAH,GAAY,MAA9C,CAAR;CACA5P,IAAAA,QAAQ,CAACq4B,OAAO,CAACqB,OAAT,EAAkB,SAAlB,EAA6B,MAA7B,CAAR;;CAEA,QAAI9pB,IAAJ,EAAU;CACN5P,MAAAA,QAAQ,CAACq4B,OAAO,CAACsB,QAAT,EAAmB,SAAnB,EAA8B,MAA9B,CAAR;CACH;CACJ,GAPD;;CASA,MAAI;CACA,UAAM72B,gBAAgB,GAAG,MAAM;CAC3B9C,MAAAA,QAAQ,CAACq4B,OAAO,CAACuB,eAAT,EAA0B,SAA1B,EAAqC5gC,MAAM,CAAClJ,UAAP,GAAoB,MAApB,GAA6B,MAAlE,CAAR;CACAkQ,MAAAA,QAAQ,CAACq4B,OAAO,CAACwB,WAAT,EAAsB,SAAtB,EAAiC7gC,MAAM,CAAClJ,UAAP,GAAoB,MAApB,GAA6B,MAA9D,CAAR,CAF2B;CAI9B,KAJD;;CAKAgL,IAAAA,UAAU,CAACS,EAAX,CAAc,QAAd,EAAwBuH,gBAAxB;CACA9J,IAAAA,MAAM,CAACgK,MAAP,CAAc/K,QAAd,CAAuBY,IAAvB,CAA4B,MAAM;CAC9BiC,MAAAA,UAAU,CAACQ,GAAX,CAAe,QAAf,EAAyBwH,gBAAzB;CACH,KAFD;CAGH,GAVD,CAUE,OAAO/P,KAAP,EAAc;CAEf;;CAEDiG,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACgB,SAAjB,EAA4B,MAAM;CAC9B6M,IAAAA,QAAQ,CAACq4B,OAAO,CAACyB,OAAT,EAAkB,SAAlB,EAA6B9gC,MAAM,CAAC7F,SAAP,GAAmB,MAAnB,GAA4B,MAAzD,CAAR;CACA6M,IAAAA,QAAQ,CAACq4B,OAAO,CAAC0B,WAAT,EAAsB,SAAtB,EAAiC/gC,MAAM,CAAC7F,SAAP,GAAmB,MAAnB,GAA4B,MAA7D,CAAR;CACH,GAHD,EAtFgC;;CA4FhC6F,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACiB,kBAAjB,EAAsCugC,SAAD,IAAe;CAEnD,GAFD;CAIA36B,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACG,OAAjB,EAA2Bsd,IAAD,IAAU;CAChC5P,IAAAA,QAAQ,CAACq4B,OAAO,CAAC2B,KAAT,EAAgB,SAAhB,EAA2BpqB,IAAI,GAAG,MAAH,GAAY,MAA3C,CAAR;CACA5P,IAAAA,QAAQ,CAACq4B,OAAO,CAACsB,QAAT,EAAmB,SAAnB,EAA8B/pB,IAAI,GAAG,MAAH,GAAY,OAA9C,CAAR;CACA5P,IAAAA,QAAQ,CAACq4B,OAAO,CAAC4B,MAAT,EAAiB,SAAjB,EAA4BrqB,IAAI,GAAG,MAAH,GAAY,MAA5C,CAAR;CACA5P,IAAAA,QAAQ,CAACq4B,OAAO,CAAC6B,WAAT,EAAsB,SAAtB,EAAiCtqB,IAAI,GAAG,MAAH,GAAY,MAAjD,CAAR;CACA5P,IAAAA,QAAQ,CAACq4B,OAAO,CAACyB,OAAT,EAAkB,SAAlB,EAA6BlqB,IAAI,GAAG,MAAH,GAAY,MAA7C,CAAR;CACA5P,IAAAA,QAAQ,CAACq4B,OAAO,CAACwB,WAAT,EAAsB,SAAtB,EAAiCjqB,IAAI,GAAG,MAAH,GAAY,MAAjD,CAAR,CANgC;;CAShC,QAAI,CAACA,IAAL,EAAW;CACPyoB,MAAAA,OAAO,CAAC8B,MAAR,KAAmB9B,OAAO,CAAC8B,MAAR,CAAeX,SAAf,GAA2Bx3B,OAAO,CAAC,EAAD,CAArD;CACH;CACJ,GAZD;CAeAhJ,EAAAA,MAAM,CAACuC,EAAP,CAAUpJ,MAAM,CAACX,IAAjB,EAAwBof,IAAD,IAAU;CAC7B,UAAMwpB,GAAG,GAAGp4B,OAAO,CAAC4O,IAAD,CAAnB;CACAynB,IAAAA,OAAO,CAAC8B,MAAR,KAAmB9B,OAAO,CAAC8B,MAAR,CAAeX,SAAf,GAA2BY,GAA9C;CACH,GAHD;CAMH,CArHD;;ACJA,iBAAe,CAACphC,MAAD,EAASq/B,OAAT,KAAqB;CAEhCp/B,EAAAA,MAAM,CAACC,cAAP,CAAsBm/B,OAAtB,EAA+B,cAA/B,EAA+C;CAC3Cl/B,IAAAA,GAAG,EAAE,MAAM;CACP,aAAOk/B,OAAO,CAACgC,SAAR,CAAkB/gC,qBAAlB,EAAP;CACH;CAH0C,GAA/C;CAMH,CARD;;ACEA,eAAe,CAACN,MAAD,EAASq/B,OAAT,KAAqB;CAChC,QAAM;CACFr1B,IAAAA,MAAM,EAAE;CAAC9K,MAAAA;CAAD;CADN,MAEFc,MAFJ;;CAIA,WAASshC,qBAAT,CAA+BvhC,KAA/B,EAAsC;CAClC,UAAM;CAACwhC,MAAAA,MAAM,EAAEC,WAAT;CAAsB7gC,MAAAA,MAAM,EAAE0/B;CAA9B,QAA6ChB,OAAO,CAACe,YAAR,CAAqB9/B,qBAArB,EAAnD;CACA,UAAM;CAACK,MAAAA,MAAM,EAAE2/B;CAAT,QAAyBjB,OAAO,CAACc,aAAR,CAAsB7/B,qBAAtB,EAA/B;CACA,UAAM0/B,UAAU,GACZr5B,KAAK,CAAC66B,WAAW,GAAGzhC,KAAK,CAACsP,CAApB,GAAwBixB,YAAY,GAAG,CAAxC,EAA2C,CAA3C,EAA8CD,WAAW,GAAGC,YAAY,GAAG,CAA3E,CAAL,IAAsFD,WAAW,GAAGC,YAApG,CADJ;CAEA,WAAON,UAAP;CACH,GAX+B;;;CAchC9gC,EAAAA,KAAK,CAAC6B,MAAD,EAAS,CAAC,OAAD,EAAU,aAAV,CAAT,EAAmChB,KAAK,IAAI;CAC7C,QAAIA,KAAK,CAAC0hC,YAAN,GAAqB3e,OAArB,CAA6B9iB,MAAM,CAACK,UAApC,IAAkD,CAAC,CAAvD,EAA0D;CACtDg/B,MAAAA,OAAO,CAACqC,OAAR,GAAkB,IAAlB;CACH,KAFD,MAEO;CACHrC,MAAAA,OAAO,CAACqC,OAAR,GAAkB,KAAlB;CACH;CACJ,GANI,CAAL,CAdgC;;CAuBhCxiC,EAAAA,KAAK,CAAC6B,MAAD,EAAS,mBAAT,EAA8B,MAAM;CACrCwZ,IAAAA,UAAU,CAAC,MAAM;CACbva,MAAAA,MAAM,CAACpF,MAAP;CACH,KAFS,EAEP,GAFO,CAAV;CAGH,GAJI,CAAL;CAOAsE,EAAAA,KAAK,CAACmgC,OAAO,CAACgC,SAAT,EAAoB,OAApB,EAA8B38B,CAAD,IAAO;CACrCA,IAAAA,CAAC,CAACi9B,eAAF;CACH,GAFI,CAAL;CAIAziC,EAAAA,KAAK,CAACmgC,OAAO,CAAC4B,MAAT,EAAiB,OAAjB,EAA2Bv8B,CAAD,IAAO;CAClC1E,IAAAA,MAAM,CAACzG,KAAP;CACH,GAFI,CAAL,CAlCgC;;CAsChC2F,EAAAA,KAAK,CAACmgC,OAAO,CAAC2B,KAAT,EAAgB,OAAhB,EAA0Bt8B,CAAD,IAAO;CACjC1E,IAAAA,MAAM,CAAChJ,IAAP;CACH,GAFI,CAAL,CAtCgC;;CA2ChCkI,EAAAA,KAAK,CAACmgC,OAAO,CAACsB,QAAT,EAAmB,OAAnB,EAA6Bj8B,CAAD,IAAO;CACpC1E,IAAAA,MAAM,CAAChJ,IAAP;CACH,GAFI,CAAL;CAIAkI,EAAAA,KAAK,CAACmgC,OAAO,CAACuC,OAAT,EAAkB,WAAlB,EAA+B,MAAM;CACtCvC,IAAAA,OAAO,CAACwC,gBAAR,CAAyB33B,SAAzB,CAAmCC,GAAnC,CAAuC,kCAAvC;CACH,GAFI,CAAL;CAIAjL,EAAAA,KAAK,CAACmgC,OAAO,CAACuC,OAAT,EAAkB,UAAlB,EAA8B,MAAM;CACrCvC,IAAAA,OAAO,CAACwC,gBAAR,CAAyB33B,SAAzB,CAAmCa,MAAnC,CAA0C,kCAA1C;CACH,GAFI,CAAL;CAIA7L,EAAAA,KAAK,CAACmgC,OAAO,CAACY,SAAT,EAAoB,OAApB,EAA8Bv7B,CAAD,IAAO;CACrCA,IAAAA,CAAC,CAACi9B,eAAF;CACA36B,IAAAA,QAAQ,CAACq4B,OAAO,CAACY,SAAT,EAAoB,SAApB,EAA+B,MAA/B,CAAR;CACAj5B,IAAAA,QAAQ,CAACq4B,OAAO,CAACa,UAAT,EAAqB,SAArB,EAAgC,OAAhC,CAAR;CACAlgC,IAAAA,MAAM,CAAC8hC,UAAP,GAAoB9hC,MAAM,CAACgW,MAA3B;CACAhW,IAAAA,MAAM,CAACgW,MAAP,GAAgB,CAAhB;CACH,GANI,CAAL;CAQA9W,EAAAA,KAAK,CAACmgC,OAAO,CAACa,UAAT,EAAqB,OAArB,EAA+Bx7B,CAAD,IAAO;CACtCA,IAAAA,CAAC,CAACi9B,eAAF;CACA36B,IAAAA,QAAQ,CAACq4B,OAAO,CAACY,SAAT,EAAoB,SAApB,EAA+B,OAA/B,CAAR;CACAj5B,IAAAA,QAAQ,CAACq4B,OAAO,CAACa,UAAT,EAAqB,SAArB,EAAgC,MAAhC,CAAR;CACAlgC,IAAAA,MAAM,CAACgW,MAAP,GAAgBhW,MAAM,CAAC8hC,UAAP,IAAqB,GAArC;CACH,GALI,CAAL;CAOA5iC,EAAAA,KAAK,CAACmgC,OAAO,CAAC6B,WAAT,EAAsB,OAAtB,EAAgCx8B,CAAD,IAAO;CACvCA,IAAAA,CAAC,CAACi9B,eAAF;CACA3hC,IAAAA,MAAM,CAACnH,KAAP,CAAa9B,UAAb;CACH,GAHI,CAAL;CAKAmI,EAAAA,KAAK,CAACmgC,OAAO,CAACe,YAAT,EAAuB,OAAvB,EAAgCrgC,KAAK,IAAI;CAC1CA,IAAAA,KAAK,CAAC4hC,eAAN;CACA3hC,IAAAA,MAAM,CAACgW,MAAP,GAAgBsrB,qBAAqB,CAACvhC,KAAD,CAArC;CACH,GAHI,CAAL;CAKAb,EAAAA,KAAK,CAACmgC,OAAO,CAACc,aAAT,EAAwB,WAAxB,EAAqC,MAAM;CAC5Cd,IAAAA,OAAO,CAAC0C,eAAR,GAA0B,IAA1B;CACH,GAFI,CAAL;CAIA7iC,EAAAA,KAAK,CAACmgC,OAAO,CAACc,aAAT,EAAwB,WAAxB,EAAqCpgC,KAAK,IAAI;CAC/C,QAAIs/B,OAAO,CAAC0C,eAAZ,EAA6B;CACzB/hC,MAAAA,MAAM,CAACgW,MAAP,GAAgBsrB,qBAAqB,CAACvhC,KAAD,CAArC;CACH;CACJ,GAJI,CAAL;CAMAb,EAAAA,KAAK,CAAC4B,QAAD,EAAW,SAAX,EAAsB,MAAM;CAC7B,QAAIu+B,OAAO,CAAC0C,eAAZ,EAA6B;CACzB1C,MAAAA,OAAO,CAAC0C,eAAR,GAA0B,KAA1B;CACH;CACJ,GAJI,CAAL;CAMA7iC,EAAAA,KAAK,CAACmgC,OAAO,CAACyB,OAAT,EAAkB,OAAlB,EAA4Bp8B,CAAD,IAAO;CACnCA,IAAAA,CAAC,CAACi9B,eAAF;CACA3hC,IAAAA,MAAM,CAAC7F,SAAP,GAAmB,IAAnB;CACH,GAHI,CAAL;CAKA+E,EAAAA,KAAK,CAACmgC,OAAO,CAAC0B,WAAT,EAAsB,OAAtB,EAAgCr8B,CAAD,IAAO;CACvCA,IAAAA,CAAC,CAACi9B,eAAF;CACA3hC,IAAAA,MAAM,CAAC7F,SAAP,GAAmB,KAAnB;CACH,GAHI,CAAL;CAKA+E,EAAAA,KAAK,CAACmgC,OAAO,CAACwB,WAAT,EAAsB,OAAtB,EAAgCn8B,CAAD,IAAO;CACvCA,IAAAA,CAAC,CAACi9B,eAAF;CACA3hC,IAAAA,MAAM,CAAClJ,UAAP,GAAoB,IAApB;CACH,GAHI,CAAL;CAKAoI,EAAAA,KAAK,CAACmgC,OAAO,CAACuB,eAAT,EAA0B,OAA1B,EAAoCl8B,CAAD,IAAO;CAC3CA,IAAAA,CAAC,CAACi9B,eAAF;CACA3hC,IAAAA,MAAM,CAAClJ,UAAP,GAAoB,KAApB;CACH,GAHI,CAAL;CAIH,CAnHD;;CCFA,SAASkrC,WAAT,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+B;CAC7B,MAAKA,GAAG,KAAK,KAAK,CAAlB,EAAsBA,GAAG,GAAG,EAAN;CACtB,MAAIC,QAAQ,GAAGD,GAAG,CAACC,QAAnB;;CAEA,MAAI,CAACF,GAAD,IAAQ,OAAOnhC,QAAP,KAAoB,WAAhC,EAA6C;CAAE;CAAS;;CAExD,MAAIshC,IAAI,GAAGthC,QAAQ,CAACshC,IAAT,IAAiBthC,QAAQ,CAACuhC,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAA5B;CACA,MAAIl7B,KAAK,GAAGrG,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAZ;CACAsB,EAAAA,KAAK,CAACjC,IAAN,GAAa,UAAb;;CAEA,MAAIi9B,QAAQ,KAAK,KAAjB,EAAwB;CACtB,QAAIC,IAAI,CAACE,UAAT,EAAqB;CACnBF,MAAAA,IAAI,CAACG,YAAL,CAAkBp7B,KAAlB,EAAyBi7B,IAAI,CAACE,UAA9B;CACD,KAFD,MAEO;CACLF,MAAAA,IAAI,CAACvxB,WAAL,CAAiB1J,KAAjB;CACD;CACF,GAND,MAMO;CACLi7B,IAAAA,IAAI,CAACvxB,WAAL,CAAiB1J,KAAjB;CACD;;CAED,MAAIA,KAAK,CAACq7B,UAAV,EAAsB;CACpBr7B,IAAAA,KAAK,CAACq7B,UAAN,CAAiBC,OAAjB,GAA2BR,GAA3B;CACD,GAFD,MAEO;CACL96B,IAAAA,KAAK,CAAC0J,WAAN,CAAkB/P,QAAQ,CAAC4hC,cAAT,CAAwBT,GAAxB,CAAlB;CACD;CACF;;;;;CCnBc,MAAMU,OAAN,CAAc;CACzBlkC,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,SAAKA,MAAL,GAAcA,MAAd;CACA4iC,IAAAA,QAAQ,CAAC5iC,MAAD,EAAS,IAAT,CAAR;CACA6iC,IAAAA,UAAQ,CAAC7iC,MAAD,EAAS,IAAT,CAAR;CACA8iC,IAAAA,QAAQ,CAAC9iC,MAAD,EAAS,IAAT,CAAR;CACAgK,IAAAA,MAAM,CAAChK,MAAD,EAAS,IAAT,CAAN;CACA,SAAKA,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,SAAtB,EAAiC,MAAjC;CACH;;CAEDipC,EAAAA,QAAQ,GAAG;CACP,UAAM/iC,MAAM,GAAG,KAAKA,MAApB;CACAA,IAAAA,MAAM,CAACK,UAAP,CAAkB8G,KAAlB,CAAwB67B,OAAxB,GAAkC,KAAlC;CACA,UAAMx4B,WAAW,GAAGxK,MAAM,CAACO,KAA3B;CACA,UAAMgK,YAAY,GAAGvK,MAAM,CAACW,MAA5B;CACA,UAAMgK,WAAW,GAAGH,WAAW,GAAGD,YAAlC;CACA,UAAM04B,WAAW,GAAGjjC,MAAM,CAAC/I,KAAP,CAAawT,aAAb,CAA2BlK,KAA/C;CACA,UAAM2iC,YAAY,GAAGljC,MAAM,CAAC/I,KAAP,CAAawT,aAAb,CAA2B9J,MAAhD;CACA,UAAMwiC,WAAW,GAAGF,WAAW,GAAGC,YAAlC;;CACA,QAAIv4B,WAAW,GAAGw4B,WAAlB,EAA+B;CAC3B,YAAMH,OAAO,GAAG,CAACx4B,WAAW,GAAGD,YAAY,GAAG44B,WAA9B,IAA6C,CAA7D;CACAnjC,MAAAA,MAAM,CAACK,UAAP,CAAkB8G,KAAlB,CAAwB67B,OAAxB,GAAmC,KAAIA,OAAQ,IAA/C;CACH,KAHD,MAGO;CACH,YAAMA,OAAO,GAAG,CAACz4B,YAAY,GAAGC,WAAW,GAAG24B,WAA9B,IAA6C,CAA7D;CACAnjC,MAAAA,MAAM,CAACK,UAAP,CAAkB8G,KAAlB,CAAwB67B,OAAxB,GAAmC,GAAEA,OAAQ,MAA7C;CACH;CACJ;;CAED9nC,EAAAA,OAAO,GAAG;CACN,QAAI,KAAKwlC,OAAT,EAAkB;CACd,WAAK1gC,MAAL,CAAYK,UAAZ,CAAuBgT,WAAvB,CAAmC,KAAKqtB,OAAxC;CACH;;CACD,SAAK1gC,MAAL,CAAYK,UAAZ,CAAuBgT,WAAvB,CAAmC,KAAKotB,QAAxC;;CACA,QAAI,KAAKY,SAAT,EAAoB;CAChB,WAAKrhC,MAAL,CAAYK,UAAZ,CAAuBgT,WAAvB,CAAmC,KAAKguB,SAAxC;CACH;;CACD,SAAKrhC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,SAAtB,EAAiC,SAAjC;CACH;;CArCwB;;;;;ACN7B,iBAAgBkG,MAAD,IAAY;CAEvB,QAAM;CACFpB,IAAAA,IADE;CAEF1I,IAAAA,KAFE;CAGF8T,IAAAA,MAAM,EAAE;CAAC9K,MAAAA;CAAD;CAHN,MAIFc,MAJJ;;CAOA,MAAIpB,IAAI,CAACtI,yBAAT,EAAoC;CAChC4I,IAAAA,KAAK,CAACc,MAAM,CAACK,UAAR,EAAoB,UAApB,EAAgC,MAAM;CACvCL,MAAAA,MAAM,CAAClJ,UAAP,GAAoB,CAACkJ,MAAM,CAAClJ,UAA5B;CACH,KAFI,CAAL;CAGH,GAbsB;;;CAiBvBoI,EAAAA,KAAK,CAAC4B,QAAD,EAAW,kBAAX,EAA+B,MAAM;CACtC,QAAIlC,IAAI,CAAClH,eAAT,EAA0B;CACtBxB,MAAAA,KAAK,CAAC4D,GAAN,CAAU,kBAAV,EAA8BgH,QAAQ,CAACsiC,eAAvC,EAAwDpjC,MAAM,CAACqjC,0BAA/D;;CAEA,UAAI,cAAcviC,QAAQ,CAACsiC,eAA3B,EAA4C;CACxC,YAAIpjC,MAAM,CAACqjC,0BAAX,EAAuC;CACnCrjC,UAAAA,MAAM,CAAChJ,IAAP;CACH;CACJ,OAJD,MAIO;CACHgJ,QAAAA,MAAM,CAACqjC,0BAAP,GAAoCrjC,MAAM,CAAC1G,OAA3C,CADG;;CAGH,YAAI0G,MAAM,CAAC1G,OAAX,EAAoB;CAChB0G,UAAAA,MAAM,CAACzG,KAAP;CACH;CACJ;CACJ;CACJ,GAhBI,CAAL;CAkBA2F,EAAAA,KAAK,CAAC6B,MAAD,EAAS,kBAAT,EAA6B,MAAM;CACpC;CACA,QAAIf,MAAM,CAACxJ,YAAP,KAAwB,IAAxB,IAAgC,cAAcsK,QAAQ,CAACsiC,eAA3D,EAA4E;CACxEpjC,MAAAA,MAAM,CAACsjC,cAAP;CACH;CACJ,GALI,CAAL;CAMH,CAzCD;;CCAA,MAAMC,KAAN,CAAU;CAEK,SAAJtrC,IAAI,GAAG;CACVsrC,IAAAA,KAAG,CAACC,KAAJ,GAAY;CACRC,MAAAA,IAAI,EAAE,EADE;CAERr7B,MAAAA,IAAI,EAAE,EAFE;CAGRs7B,MAAAA,IAAI,EAAE,EAHE;CAIRC,MAAAA,IAAI,EAAE,EAJE;CAKRC,MAAAA,IAAI,EAAE,EALE;CAMRC,MAAAA,IAAI,EAAE,EANE;CAORC,MAAAA,IAAI,EAAE,EAPE;CAQRC,MAAAA,IAAI,EAAE,EARE;CASRC,MAAAA,IAAI,EAAE,EATE;CAURC,MAAAA,IAAI,EAAE,EAVE;CAWRC,MAAAA,IAAI,EAAE,EAXE;CAYRC,MAAAA,IAAI,EAAE,EAZE;CAaRC,MAAAA,IAAI,EAAE,EAbE;CAcRC,MAAAA,IAAI,EAAE,EAdE;CAeRC,MAAAA,IAAI,EAAE,EAfE;CAgBRC,MAAAA,IAAI,EAAE,EAhBE;CAiBRC,MAAAA,IAAI,EAAE,EAjBE;CAkBRC,MAAAA,IAAI,EAAE,EAlBE;CAmBRC,MAAAA,IAAI,EAAE,EAnBE;CAoBRC,MAAAA,IAAI,EAAE,EApBE;CAqBRC,MAAAA,IAAI,EAAE,EArBE;CAsBRC,MAAAA,IAAI,EAAE,EAtBE;CAuBRC,MAAAA,IAAI,EAAE,EAvBE;CAwBRC,MAAAA,IAAI,EAAE,EAxBE;CAyBRC,MAAAA,IAAI,EAAE,EAzBE;CA0BRC,MAAAA,IAAI,EAAE,EA1BE;CA2BRC,MAAAA,IAAI,EAAE,EA3BE;CA4BRC,MAAAA,IAAI,EAAE,EA5BE;CA6BRC,MAAAA,IAAI,EAAE,EA7BE;CA8BRC,MAAAA,IAAI,EAAE,EA9BE;CA+BRC,MAAAA,IAAI,EAAE,EA/BE;CAgCRC,MAAAA,IAAI,EAAE,EAhCE;CAiCRC,MAAAA,IAAI,EAAE,EAjCE;CAkCRC,MAAAA,IAAI,EAAE,EAlCE;CAmCRC,MAAAA,IAAI,EAAE,EAnCE;CAoCRC,MAAAA,IAAI,EAAE;CApCE,KAAZ;;CAuCA,SAAK,IAAIhnC,IAAT,IAAiB4kC,KAAG,CAACC,KAArB,EAA4B;CACxB,UAAID,KAAG,CAACC,KAAJ,CAAUoC,cAAV,CAAyBjnC,IAAzB,CAAJ,EAAoC;CAChC4kC,QAAAA,KAAG,CAACC,KAAJ,CAAU7kC,IAAV,IAAkB,CACdA,IAAI,CAAC4G,UAAL,CAAgB,CAAhB,CADc,EAEd5G,IAAI,CAAC4G,UAAL,CAAgB,CAAhB,CAFc,EAGd5G,IAAI,CAAC4G,UAAL,CAAgB,CAAhB,CAHc,EAId5G,IAAI,CAAC4G,UAAL,CAAgB,CAAhB,CAJc,CAAlB;CAMH;CACJ;;CAED,QAAIsgC,SAAS,GAAGtC,KAAG,CAACsC,SAAJ,GAAgB,EAAhC;CAEAA,IAAAA,SAAS,CAACC,IAAV,GAAiB,IAAIxgC,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,OAF4B,EAEvB,GAFuB,EAElB,GAFkB,EAEb,GAFa;CAG5B,QAH4B,EAGtB,IAHsB,EAGhB,IAHgB,EAGV,IAHU;CAI5B,QAJ4B,EAItB,IAJsB,EAIhB,IAJgB,EAIV,IAJU;CAAA,KAAf,CAAjB;CAOAugC,IAAAA,SAAS,CAACE,WAAV,GAAwB,IAAIzgC,UAAJ,CAAe,CACnC,IADmC,EAC7B,IAD6B,EACvB,IADuB,EACjB,IADiB;CAEnC,QAFmC,EAE7B,IAF6B,EAEvB,IAFuB,EAEjB,IAFiB;CAAA,KAAf,CAAxB;CAKAugC,IAAAA,SAAS,CAACG,IAAV,GAAiB,IAAI1gC,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB,EAEhB,IAFgB,EAEV,IAFU;CAAA,KAAf,CAAjB;CAKAugC,IAAAA,SAAS,CAACI,IAAV,GAAiBJ,SAAS,CAACK,IAAV,GAAiBL,SAAS,CAACG,IAA5C;CAEAH,IAAAA,SAAS,CAACM,IAAV,GAAiB,IAAI7gC,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB,EAEhB,IAFgB,EAEV,IAFU;CAG5B,QAH4B,EAGtB,IAHsB,EAGhB,IAHgB,EAGV,IAHU;CAAA,KAAf,CAAjB;CAMAugC,IAAAA,SAAS,CAACO,UAAV,GAAuB,IAAI9gC,UAAJ,CAAe,CAClC,IADkC,EAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB;CAElC,QAFkC,EAE5B,IAF4B,EAEtB,IAFsB,EAEhB,IAFgB;CAGlC,QAHkC,EAG5B,IAH4B,EAGtB,IAHsB,EAGhB,IAHgB;CAIlC,QAJkC,EAI5B,IAJ4B,EAItB,IAJsB,EAIhB,IAJgB;CAKlC,QALkC,EAK5B,IAL4B,EAKtB,IALsB,EAKhB,IALgB,EAMlC,IANkC,EAM5B,IAN4B,EAMtB,IANsB,EAMhB,IANgB,EAOlC,IAPkC,EAO5B,IAP4B,EAOtB,IAPsB,EAOhB,IAPgB,EAQlC,IARkC,EAQ5B,IAR4B,EAQtB,IARsB,EAQhB,IARgB,EASlC,IATkC,EAS5B,IAT4B,EAStB,IATsB,EAShB,IATgB,EASV,IATU;CAAA,KAAf,CAAvB;CAYAugC,IAAAA,SAAS,CAACQ,UAAV,GAAuB,IAAI/gC,UAAJ,CAAe,CAClC,IADkC,EAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB;CAElC,QAFkC,EAE5B,IAF4B,EAEtB,IAFsB,EAEhB,IAFgB;CAGlC,QAHkC,EAG5B,IAH4B,EAGtB,IAHsB,EAGhB,IAHgB;CAIlC,QAJkC,EAI5B,IAJ4B,EAItB,IAJsB,EAIhB,IAJgB;CAKlC,QALkC,EAK5B,IAL4B,EAKtB,IALsB,EAKhB,IALgB,EAMlC,IANkC,EAM5B,IAN4B,EAMtB,IANsB,EAMhB,IANgB,EAOlC,IAPkC,EAO5B,IAP4B,EAOtB,IAPsB,EAOhB,IAPgB,EAQlC,IARkC,EAQ5B,IAR4B,EAQtB,IARsB,EAQhB,IARgB,EASlC,IATkC,EAS5B,IAT4B,EAStB,IATsB,EAShB,IATgB,EASV,IATU;CAAA,KAAf,CAAvB;CAYAugC,IAAAA,SAAS,CAACS,IAAV,GAAiB,IAAIhhC,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB,EAEhB,IAFgB,EAEV,IAFU;CAG5B,QAH4B,EAGtB,IAHsB,EAGhB,IAHgB,EAGV,IAHU;CAI5B,QAJ4B,EAItB,IAJsB,EAIhB,IAJgB,EAIV,IAJU;CAK5B,QAL4B,EAKtB,IALsB,EAKhB,IALgB,EAKV,IALU;CAAA,KAAf,CAAjB,CAtGU;;CA+GVugC,IAAAA,SAAS,CAACU,IAAV,GAAiB,IAAIjhC,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB,EAEhB,IAFgB,EAEV,IAFU;CAAA,KAAf,CAAjB,CA/GU;;CAqHVugC,IAAAA,SAAS,CAACW,IAAV,GAAiB,IAAIlhC,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB;CAG5B,QAH4B,EAGtB,IAHsB,EAGhB,IAHgB,EAGV,IAHU;CAI5B,QAJ4B,EAItB,IAJsB,CAAf,CAAjB;CAMH,GA7HK;;;CAgII,SAAHmhC,GAAG,CAACvhC,IAAD,EAAO;CACb,QAAI2C,IAAI,GAAG,CAAX;CACA,QAAIuB,MAAM,GAAG,IAAb;CACA,QAAIs9B,KAAK,GAAGnnC,KAAK,CAACuf,SAAN,CAAgBpT,KAAhB,CAAsBiP,IAAtB,CAA2B6G,SAA3B,EAAsC,CAAtC,CAAZ;CACA,QAAImlB,UAAU,GAAGD,KAAK,CAACllC,MAAvB;;CAEA,SAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlC,UAApB,EAAgCrlC,CAAC,EAAjC,EAAqC;CACjCuG,MAAAA,IAAI,IAAI6+B,KAAK,CAACplC,CAAD,CAAL,CAASgX,UAAjB;CACH;;CAEDlP,IAAAA,MAAM,GAAG,IAAI9D,UAAJ,CAAeuC,IAAf,CAAT;CACAuB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAavB,IAAI,KAAK,EAAV,GAAgB,IAA5B,CAXa;;CAYbuB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAavB,IAAI,KAAK,EAAV,GAAgB,IAA5B;CACAuB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAavB,IAAI,KAAK,CAAV,GAAe,IAA3B;CACAuB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAavB,IAAD,GAAS,IAArB;CAEAuB,IAAAA,MAAM,CAAC+gB,GAAP,CAAWjlB,IAAX,EAAiB,CAAjB,EAhBa;;CAkBb,QAAI+kB,MAAM,GAAG,CAAb;;CACA,SAAK,IAAI3oB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqlC,UAApB,EAAgCrlC,CAAC,EAAjC,EAAqC;CAAG;CACpC8H,MAAAA,MAAM,CAAC+gB,GAAP,CAAWuc,KAAK,CAACplC,CAAD,CAAhB,EAAqB2oB,MAArB;CACAA,MAAAA,MAAM,IAAIyc,KAAK,CAACplC,CAAD,CAAL,CAASgX,UAAnB;CACH;;CAED,WAAOlP,MAAP;CACH,GAzJK;;;CA4JoB,SAAnBw9B,mBAAmB,CAACC,IAAD,EAAO;CAC7B,QAAI7C,IAAI,GAAGT,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUQ,IAAlB,EAAwBT,KAAG,CAACsC,SAAJ,CAAcC,IAAtC,CAAX;CACA,QAAItB,IAAI,GAAGjB,KAAG,CAACiB,IAAJ,CAASqC,IAAT,CAAX;CAEA,QAAIz9B,MAAM,GAAG,IAAI9D,UAAJ,CAAe0+B,IAAI,CAAC1rB,UAAL,GAAkBksB,IAAI,CAAClsB,UAAtC,CAAb;CACAlP,IAAAA,MAAM,CAAC+gB,GAAP,CAAW6Z,IAAX,EAAiB,CAAjB;CACA56B,IAAAA,MAAM,CAAC+gB,GAAP,CAAWqa,IAAX,EAAiBR,IAAI,CAAC1rB,UAAtB;CACA,WAAOlP,MAAP;CACH,GApKK;;;CAuKK,SAAJo7B,IAAI,CAACqC,IAAD,EAAO;CACd,QAAIlC,IAAI,GAAGpB,KAAG,CAACoB,IAAJ,CAASkC,IAAI,CAACC,SAAd,EAAyBD,IAAI,CAAC1pB,QAA9B,CAAX;CACA,QAAImoB,IAAI,GAAG/B,KAAG,CAAC+B,IAAJ,CAASuB,IAAT,CAAX;CACA,QAAInC,IAAI,GAAGnB,KAAG,CAACmB,IAAJ,CAASmC,IAAT,CAAX;CACA,WAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUgB,IAAlB,EAAwBG,IAAxB,EAA8BW,IAA9B,EAAoCZ,IAApC,CAAP;CACH,GA5KK;;;CA+KK,SAAJC,IAAI,CAACmC,SAAD,EAAY3pB,QAAZ,EAAsB;CAC7B,WAAOomB,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUmB,IAAlB,EAAwB,IAAIr/B,UAAJ,CAAe,CAC1C,IAD0C,EACpC,IADoC,EAC9B,IAD8B,EACxB,IADwB;CAE1C,QAF0C,EAEpC,IAFoC,EAE9B,IAF8B,EAExB,IAFwB;CAG1C,QAH0C,EAGpC,IAHoC,EAG9B,IAH8B,EAGxB,IAHwB;CAIzCwhC,IAAAA,SAAS,KAAK,EAAf,GAAqB,IAJqB;CAKzCA,IAAAA,SAAS,KAAK,EAAf,GAAqB,IALqB,EAMzCA,SAAS,KAAK,CAAf,GAAoB,IANsB,EAOzCA,SAAD,GAAc,IAP4B,EAQzC3pB,QAAQ,KAAK,EAAd,GAAoB,IARsB;CASzCA,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IATsB,EAUzCA,QAAQ,KAAK,CAAd,GAAmB,IAVuB,EAWzCA,QAAD,GAAa,IAX6B,EAY1C,IAZ0C,EAYpC,IAZoC,EAY9B,IAZ8B,EAYxB,IAZwB;CAa1C,QAb0C,EAapC,IAboC,EAa9B,IAb8B,EAaxB,IAbwB;CAc1C,QAd0C,EAcpC,IAdoC,EAc9B,IAd8B,EAcxB,IAdwB;CAe1C,QAf0C,EAepC,IAfoC,EAe9B,IAf8B,EAexB,IAfwB,EAgB1C,IAhB0C,EAgBpC,IAhBoC,EAgB9B,IAhB8B,EAgBxB,IAhBwB;CAiB1C,QAjB0C,EAiBpC,IAjBoC,EAiB9B,IAjB8B,EAiBxB,IAjBwB,EAkB1C,IAlB0C,EAkBpC,IAlBoC,EAkB9B,IAlB8B,EAkBxB,IAlBwB,EAmB1C,IAnB0C,EAmBpC,IAnBoC,EAmB9B,IAnB8B,EAmBxB,IAnBwB,EAoB1C,IApB0C,EAoBpC,IApBoC,EAoB9B,IApB8B,EAoBxB,IApBwB,EAqB1C,IArB0C,EAqBpC,IArBoC,EAqB9B,IArB8B,EAqBxB,IArBwB,EAsB1C,IAtB0C,EAsBpC,IAtBoC,EAsB9B,IAtB8B,EAsBxB,IAtBwB,EAuB1C,IAvB0C,EAuBpC,IAvBoC,EAuB9B,IAvB8B,EAuBxB,IAvBwB,EAwB1C,IAxB0C,EAwBpC,IAxBoC,EAwB9B,IAxB8B,EAwBxB,IAxBwB;CAyB1C,QAzB0C,EAyBpC,IAzBoC,EAyB9B,IAzB8B,EAyBxB,IAzBwB;CA0B1C,QA1B0C,EA0BpC,IA1BoC,EA0B9B,IA1B8B,EA0BxB,IA1BwB,EA2B1C,IA3B0C,EA2BpC,IA3BoC,EA2B9B,IA3B8B,EA2BxB,IA3BwB,EA4B1C,IA5B0C,EA4BpC,IA5BoC,EA4B9B,IA5B8B,EA4BxB,IA5BwB,EA6B1C,IA7B0C,EA6BpC,IA7BoC,EA6B9B,IA7B8B,EA6BxB,IA7BwB,EA8B1C,IA9B0C,EA8BpC,IA9BoC,EA8B9B,IA9B8B,EA8BxB,IA9BwB;CA+B1C,QA/B0C,EA+BpC,IA/BoC,EA+B9B,IA/B8B,EA+BxB,IA/BwB;CAAA,KAAf,CAAxB,CAAP;CAiCH,GAjNK;;;CAoNK,SAAJmoB,IAAI,CAACuB,IAAD,EAAO;CACd,WAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU8B,IAAlB,EAAwB/B,KAAG,CAACkC,IAAJ,CAASoB,IAAT,CAAxB,EAAwCtD,KAAG,CAACa,IAAJ,CAASyC,IAAT,CAAxC,CAAP;CACH,GAtNK;;;CAyNK,SAAJpB,IAAI,CAACoB,IAAD,EAAO;CACd,QAAIE,OAAO,GAAGF,IAAI,CAACvkB,EAAnB;CAAA,QAAuBnF,QAAQ,GAAG0pB,IAAI,CAAC1pB,QAAvC;CACA,QAAI5c,KAAK,GAAGsmC,IAAI,CAACG,YAAjB;CAAA,QAA+BrmC,MAAM,GAAGkmC,IAAI,CAACI,aAA7C;CAEA,WAAO1D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUiC,IAAlB,EAAwB,IAAIngC,UAAJ,CAAe,CAC1C,IAD0C,EACpC,IADoC,EAC9B,IAD8B,EACxB,IADwB;CAE1C,QAF0C,EAEpC,IAFoC,EAE9B,IAF8B,EAExB,IAFwB;CAG1C,QAH0C,EAGpC,IAHoC,EAG9B,IAH8B,EAGxB,IAHwB;CAIzCyhC,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAJuB;CAKzCA,IAAAA,OAAO,KAAK,EAAb,GAAmB,IALuB,EAMzCA,OAAO,KAAK,CAAb,GAAkB,IANwB,EAOzCA,OAAD,GAAY,IAP8B,EAQ1C,IAR0C,EAQpC,IARoC,EAQ9B,IAR8B,EAQxB,IARwB;CASzC5pB,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IATsB;CAUzCA,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IAVsB,EAWzCA,QAAQ,KAAK,CAAd,GAAmB,IAXuB,EAYzCA,QAAD,GAAa,IAZ6B,EAa1C,IAb0C,EAapC,IAboC,EAa9B,IAb8B,EAaxB,IAbwB;CAc1C,QAd0C,EAcpC,IAdoC,EAc9B,IAd8B,EAcxB,IAdwB,EAe1C,IAf0C,EAepC,IAfoC,EAe9B,IAf8B,EAexB,IAfwB;CAgB1C,QAhB0C,EAgBpC,IAhBoC,EAgB9B,IAhB8B,EAgBxB,IAhBwB;CAiB1C,QAjB0C,EAiBpC,IAjBoC,EAiB9B,IAjB8B,EAiBxB,IAjBwB;CAkB1C,QAlB0C,EAkBpC,IAlBoC,EAkB9B,IAlB8B,EAkBxB,IAlBwB,EAmB1C,IAnB0C,EAmBpC,IAnBoC,EAmB9B,IAnB8B,EAmBxB,IAnBwB,EAoB1C,IApB0C,EAoBpC,IApBoC,EAoB9B,IApB8B,EAoBxB,IApBwB,EAqB1C,IArB0C,EAqBpC,IArBoC,EAqB9B,IArB8B,EAqBxB,IArBwB,EAsB1C,IAtB0C,EAsBpC,IAtBoC,EAsB9B,IAtB8B,EAsBxB,IAtBwB,EAuB1C,IAvB0C,EAuBpC,IAvBoC,EAuB9B,IAvB8B,EAuBxB,IAvBwB,EAwB1C,IAxB0C,EAwBpC,IAxBoC,EAwB9B,IAxB8B,EAwBxB,IAxBwB,EAyB1C,IAzB0C,EAyBpC,IAzBoC,EAyB9B,IAzB8B,EAyBxB,IAzBwB;CA0BzC5c,IAAAA,KAAK,KAAK,CAAX,GAAgB,IA1B0B;CA2BzCA,IAAAA,KAAD,GAAU,IA3BgC,EA4B1C,IA5B0C,EA4BpC,IA5BoC,EA6BzCI,MAAM,KAAK,CAAZ,GAAiB,IA7ByB,EA8BzCA,MAAD,GAAW,IA9B+B,EA+B1C,IA/B0C,EA+BpC,IA/BoC,CAAf,CAAxB,CAAP;CAiCH;;CAEU,SAAJyjC,IAAI,CAACyC,IAAD,EAAO;CACd,WAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUY,IAAlB,EAAwBb,KAAG,CAACY,IAAJ,CAAS0C,IAAT,CAAxB,EAAwCtD,KAAG,CAACU,IAAJ,CAAS4C,IAAT,CAAxC,EAAwDtD,KAAG,CAACe,IAAJ,CAASuC,IAAT,CAAxD,CAAP;CACH,GAlQK;;;CAqQK,SAAJ1C,IAAI,CAAC0C,IAAD,EAAO;CACd,QAAIC,SAAS,GAAGD,IAAI,CAACC,SAArB;CACA,QAAI3pB,QAAQ,GAAG0pB,IAAI,CAAC1pB,QAApB;CACA,WAAOomB,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUW,IAAlB,EAAwB,IAAI7+B,UAAJ,CAAe,CAC1C,IAD0C,EACpC,IADoC,EAC9B,IAD8B,EACxB,IADwB;CAE1C,QAF0C,EAEpC,IAFoC,EAE9B,IAF8B,EAExB,IAFwB;CAG1C,QAH0C,EAGpC,IAHoC,EAG9B,IAH8B,EAGxB,IAHwB;CAIzCwhC,IAAAA,SAAS,KAAK,EAAf,GAAqB,IAJqB;CAKzCA,IAAAA,SAAS,KAAK,EAAf,GAAqB,IALqB,EAMzCA,SAAS,KAAK,CAAf,GAAoB,IANsB,EAOzCA,SAAD,GAAc,IAP4B,EAQzC3pB,QAAQ,KAAK,EAAd,GAAoB,IARsB;CASzCA,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IATsB,EAUzCA,QAAQ,KAAK,CAAd,GAAmB,IAVuB,EAWzCA,QAAD,GAAa,IAX6B,EAY1C,IAZ0C,EAYpC,IAZoC;CAa1C,QAb0C,EAapC,IAboC;CAAA,KAAf,CAAxB,CAAP;CAeH,GAvRK;;;CA0RK,SAAJ8mB,IAAI,CAAC4C,IAAD,EAAO;CACd,QAAIl7B,IAAI,GAAG,IAAX;;CACA,QAAIk7B,IAAI,CAAC3hC,IAAL,KAAc,OAAlB,EAA2B;CACvByG,MAAAA,IAAI,GAAG43B,KAAG,CAACsC,SAAJ,CAAcQ,UAArB;CACH,KAFD,MAEO;CACH16B,MAAAA,IAAI,GAAG43B,KAAG,CAACsC,SAAJ,CAAcO,UAArB;CACH;;CACD,WAAO7C,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUS,IAAlB,EAAwBt4B,IAAxB,CAAP;CACH,GAlSK;;;CAqSK,SAAJ24B,IAAI,CAACuC,IAAD,EAAO;CACd,QAAIK,IAAI,GAAG,IAAX;;CACA,QAAIL,IAAI,CAAC3hC,IAAL,KAAc,OAAlB,EAA2B;CACvBgiC,MAAAA,IAAI,GAAG3D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUmC,IAAlB,EAAwBpC,KAAG,CAACsC,SAAJ,CAAcU,IAAtC,CAAP;CACH,KAFD,MAEO;CACHW,MAAAA,IAAI,GAAG3D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUkC,IAAlB,EAAwBnC,KAAG,CAACsC,SAAJ,CAAcW,IAAtC,CAAP;CACH;;CACD,WAAOjD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUc,IAAlB,EAAwB4C,IAAxB,EAA8B3D,KAAG,CAACM,IAAJ,EAA9B,EAA0CN,KAAG,CAACsB,IAAJ,CAASgC,IAAT,CAA1C,CAAP;CACH,GA7SK;;;CAgTK,SAAJhD,IAAI,GAAG;CACV,QAAIz6B,MAAM,GAAGm6B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUK,IAAlB,EACTN,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUM,IAAlB,EAAwBP,KAAG,CAACsC,SAAJ,CAAcS,IAAtC,CADS,CAAb;CAGA,WAAOl9B,MAAP;CACH,GArTK;;;CAwTK,SAAJy7B,IAAI,CAACgC,IAAD,EAAO;CACd,QAAIz9B,MAAM,GAAGm6B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUqB,IAAlB;CACTtB,IAAAA,KAAG,CAACyB,IAAJ,CAAS6B,IAAT,CADS;CAETtD,IAAAA,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU0B,IAAlB,EAAwB3B,KAAG,CAACsC,SAAJ,CAAcG,IAAtC,CAFS;CAGTzC,IAAAA,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUuB,IAAlB,EAAwBxB,KAAG,CAACsC,SAAJ,CAAcI,IAAtC,CAHS;CAIT1C,IAAAA,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUyB,IAAlB,EAAwB1B,KAAG,CAACsC,SAAJ,CAAcM,IAAtC,CAJS;CAKT5C,IAAAA,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUsB,IAAlB,EAAwBvB,KAAG,CAACsC,SAAJ,CAAcK,IAAtC,CALS;CAAA,KAAb;CAOA,WAAO98B,MAAP;CACH;;CAEa,SAAP+9B,OAAO,CAACN,IAAD,EAAO;CACjB,WAAOA,IAAI,CAAC3hC,IAAL,KAAc,OAAd,GACHq+B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACkB,IAAJ,CAASoC,IAAT,CAAnD,CADG,GAEHA,IAAI,CAACO,SAAL,KAAmB,KAAnB,GACI7D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACE,IAAJ,CAASoD,IAAT,CAAnD,CADJ,GAEItD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACG,IAAJ,CAASmD,IAAT,CAAnD,CAJR;CAKH,GAzUK;;;CA4UK,SAAJ7B,IAAI,CAAC6B,IAAD,EAAO;CACd,QAAIA,IAAI,CAAC3hC,IAAL,KAAc,OAAlB,EAA2B;CACvB;CACA,aAAOq+B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACkB,IAAJ,CAASoC,IAAT,CAAnD,CAAP;CACH,KAHD,MAGO;CACH,UAAIA,IAAI,CAACO,SAAL,KAAmB,KAAvB,EAA8B;CAC1B;CACA,eAAO7D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACE,IAAJ,CAASoD,IAAT,CAAnD,CAAP;CACH,OAHD,MAGO;CACH;CACA,eAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACG,IAAJ,CAASmD,IAAT,CAAnD,CAAP;CACH;CACJ;CACJ;;CAGU,SAAJpC,IAAI,CAACoC,IAAD,EAAO;CACd,QAAIQ,YAAY,GAAGR,IAAI,CAACQ,YAAxB;CACA,QAAI3xB,UAAU,GAAGmxB,IAAI,CAACS,eAAtB;CAEA,QAAI37B,IAAI,GAAG,IAAIrG,UAAJ,CAAe,CACtB,IADsB,EAChB,IADgB,EACV,IADU,EACJ,IADI;CAEtB,QAFsB,EAEhB,IAFgB,EAEV,IAFU,EAEJ,IAFI;CAGtB,QAHsB,EAGhB,IAHgB,EAGV,IAHU,EAGJ,IAHI;CAItB,QAJsB,EAIhB,IAJgB,EAIV,IAJU,EAIJ,IAJI,EAKtB,IALsB,EAKhB+hC,YALgB;CAMtB,QANsB,EAMhB,IANgB;CAOtB,QAPsB,EAOhB,IAPgB,EAOV,IAPU,EAOJ,IAPI;CAQrB3xB,IAAAA,UAAU,KAAK,CAAhB,GAAqB,IARC;CASrBA,IAAAA,UAAD,GAAe,IATO,EAUtB,IAVsB,EAUhB,IAVgB,CAAf,CAAX;CAaA,WAAO6tB,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUiB,IAAlB,EAAwB94B,IAAxB,EAA8B43B,KAAG,CAACQ,IAAJ,CAAS8C,IAAT,CAA9B,CAAP;CACH;;CAEU,SAAJ9C,IAAI,CAAC8C,IAAD,EAAO;CACd,QAAIxtB,MAAM,GAAGwtB,IAAI,CAACxtB,MAAL,IAAe,EAA5B;CACA,QAAIkuB,UAAU,GAAGluB,MAAM,CAAC7X,MAAxB;CACA,QAAImK,IAAI,GAAG,IAAIrG,UAAJ,CAAe,CACtB,IADsB,EAChB,IADgB,EACV,IADU,EACJ,IADI;CAGtB,QAHsB;CAItB,WAAOiiC,UAJe;CAKtB,QALsB,EAKhB,IALgB;CAMtB,QANsB;CAQtB,QARsB;CAStB,WAAOA,UATe;CAUtB,QAVsB;CAWtB,QAXsB;CAYtB,QAZsB,EAYhB,IAZgB,EAYV,IAZU;CAatB,QAbsB,EAahB,IAbgB,EAaV,IAbU,EAaJ,IAbI;CActB,QAdsB,EAchB,IAdgB,EAcV,IAdU,EAcJ,IAdI;CAgBtB,QAhBsB;CAAA,MAiBxB1W,MAjBwB,CAiBjB,CACL0W,UADK,CAjBiB,EAmBvB1W,MAnBuB,CAoBtBxX,MApBsB,EAqBxBwX,MArBwB,CAqBjB,CACL,IADK,EACC,IADD,EACO,IADP;CAAA,KArBiB,CAAf,CAAX;CAwBA,WAAO0S,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUO,IAAlB,EAAwBp4B,IAAxB,CAAP;CACH;;CAEU,SAAJ83B,IAAI,CAACoD,IAAD,EAAO;CACd,QAAIW,IAAI,GAAGX,IAAI,CAACW,IAAhB;CACA,UAAMjnC,KAAK,GAAGsmC,IAAI,CAACY,UAAnB;CACA,UAAM9mC,MAAM,GAAGkmC,IAAI,CAACa,WAApB;CACA,QAAI/7B,IAAI,GAAG,IAAIrG,UAAJ,CAAe,CACtB,CADsB,EACnB,CADmB,EAChB,CADgB,EACb,CADa,EAEtB,CAFsB,EAEnB,CAFmB,EAEhB,CAFgB,EAEb,CAFa,EAGtB,CAHsB,EAGnB,CAHmB,EAGhB,CAHgB,EAGb,CAHa,EAItB,CAJsB,EAInB,CAJmB,EAIhB,CAJgB,EAIb,CAJa,EAKtB,CALsB,EAKnB,CALmB,EAKhB,CALgB,EAKb,CALa,EAMtB,CANsB,EAMnB,CANmB,EAMhB,CANgB,EAMb,CANa,EAOtB/E,KAAK,KAAK,CAAV,GAAc,GAPQ,EAQtBA,KAAK,GAAG,GARc,EAStBI,MAAM,KAAK,CAAX,GAAe,GATO,EAUtBA,MAAM,GAAG,GAVa,EAWtB,CAXsB,EAWnB,EAXmB,EAWf,CAXe,EAWZ,CAXY,EAYtB,CAZsB,EAYnB,EAZmB,EAYf,CAZe,EAYZ,CAZY,EAatB,CAbsB,EAanB,CAbmB,EAahB,CAbgB,EAab,CAba,EActB,CAdsB,EAcnB,CAdmB,EAetB,CAfsB,EAgBtB,CAhBsB,EAgBnB,CAhBmB,EAgBhB,CAhBgB,EAgBb,CAhBa,EAiBtB,CAjBsB,EAiBnB,CAjBmB,EAiBhB,CAjBgB,EAiBb,CAjBa,EAkBtB,CAlBsB,EAkBnB,CAlBmB,EAkBhB,CAlBgB,EAkBb,CAlBa,EAmBtB,CAnBsB,EAmBnB,CAnBmB,EAmBhB,CAnBgB,EAmBb,CAnBa,EAoBtB,CApBsB,EAoBnB,CApBmB,EAoBhB,CApBgB,EAoBb,CApBa,EAqBtB,CArBsB,EAqBnB,CArBmB,EAqBhB,CArBgB,EAqBb,CArBa,EAsBtB,CAtBsB,EAsBnB,CAtBmB,EAsBhB,CAtBgB,EAsBb,CAtBa,EAuBtB,CAvBsB,EAuBnB,CAvBmB,EAuBhB,CAvBgB,EAwBtB,CAxBsB,EAwBnB,EAxBmB,EAyBtB,GAzBsB,EAyBjB,GAzBiB,CAAf,CAAX;CA2BA,WAAO4iC,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUC,IAAlB,EAAwB93B,IAAxB,EAA8B43B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUp7B,IAAlB,EAAwBo/B,IAAxB,CAA9B,CAAP;CACH;;CAEU,SAAJ9D,IAAI,CAACmD,IAAD,EAAO;CACd,QAAIW,IAAI,GAAGX,IAAI,CAACW,IAAhB;CACA,UAAMjnC,KAAK,GAAGsmC,IAAI,CAACY,UAAnB;CACA,UAAM9mC,MAAM,GAAGkmC,IAAI,CAACa,WAApB;CACA,QAAI/7B,IAAI,GAAG,IAAIrG,UAAJ,CAAe,CACtB,CADsB,EACnB,CADmB,EAChB,CADgB,EACb,CADa,EAEtB,CAFsB,EAEnB,CAFmB,EAEhB,CAFgB,EAEb,CAFa,EAGtB,CAHsB,EAGnB,CAHmB,EAGhB,CAHgB,EAGb,CAHa,EAItB,CAJsB,EAInB,CAJmB,EAIhB,CAJgB,EAIb,CAJa,EAKtB,CALsB,EAKnB,CALmB,EAKhB,CALgB,EAKb,CALa,EAMtB,CANsB,EAMnB,CANmB,EAMhB,CANgB,EAMb,CANa,EAOtB/E,KAAK,KAAK,CAAV,GAAc,GAPQ,EAQtBA,KAAK,GAAG,GARc,EAStBI,MAAM,KAAK,CAAX,GAAe,GATO,EAUtBA,MAAM,GAAG,GAVa,EAWtB,CAXsB,EAWnB,EAXmB,EAWf,CAXe,EAWZ,CAXY,EAYtB,CAZsB,EAYnB,EAZmB,EAYf,CAZe,EAYZ,CAZY,EAatB,CAbsB,EAanB,CAbmB,EAahB,CAbgB,EAab,CAba,EActB,CAdsB,EAcnB,CAdmB,EAetB,CAfsB,EAgBtB,CAhBsB,EAgBnB,CAhBmB,EAgBhB,CAhBgB,EAgBb,CAhBa,EAiBtB,CAjBsB,EAiBnB,CAjBmB,EAiBhB,CAjBgB,EAiBb,CAjBa,EAkBtB,CAlBsB,EAkBnB,CAlBmB,EAkBhB,CAlBgB,EAkBb,CAlBa,EAmBtB,CAnBsB,EAmBnB,CAnBmB,EAmBhB,CAnBgB,EAmBb,CAnBa,EAoBtB,CApBsB,EAoBnB,CApBmB,EAoBhB,CApBgB,EAoBb,CApBa,EAqBtB,CArBsB,EAqBnB,CArBmB,EAqBhB,CArBgB,EAqBb,CArBa,EAsBtB,CAtBsB,EAsBnB,CAtBmB,EAsBhB,CAtBgB,EAsBb,CAtBa,EAuBtB,CAvBsB,EAuBnB,CAvBmB,EAuBhB,CAvBgB,EAwBtB,CAxBsB,EAwBnB,EAxBmB,EAyBtB,GAzBsB,EAyBjB,GAzBiB,CAAf,CAAX;CA2BA,WAAO4iC,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUE,IAAlB,EAAwB/3B,IAAxB,EAA8B43B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUG,IAAlB,EAAwB6D,IAAxB,CAA9B,CAAP;CACH,GAhdK;;;CAodK,SAAJ9C,IAAI,CAACmC,IAAD,EAAO;CACd,WAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUkB,IAAlB,EAAwBnB,KAAG,CAACiC,IAAJ,CAASqB,IAAT,CAAxB,CAAP;CACH,GAtdK;;;CAydK,SAAJrB,IAAI,CAACqB,IAAD,EAAO;CACd,QAAIE,OAAO,GAAGF,IAAI,CAACvkB,EAAnB;CACA,QAAI3W,IAAI,GAAG,IAAIrG,UAAJ,CAAe,CACtB,IADsB,EAChB,IADgB,EACV,IADU,EACJ,IADI;CAErByhC,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAFG;CAGrBA,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAHG,EAIrBA,OAAO,KAAK,CAAb,GAAkB,IAJI,EAKrBA,OAAD,GAAY,IALU,EAMtB,IANsB,EAMhB,IANgB,EAMV,IANU,EAMJ,IANI;CAOtB,QAPsB,EAOhB,IAPgB,EAOV,IAPU,EAOJ,IAPI;CAQtB,QARsB,EAQhB,IARgB,EAQV,IARU,EAQJ,IARI;CAStB,QATsB,EAShB,IATgB,EASV,IATU,EASJ,IATI;CAAA,KAAf,CAAX;CAWA,WAAOxD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUgC,IAAlB,EAAwB75B,IAAxB,CAAP;CACH,GAveK;;;CA0eK,SAAJ44B,IAAI,CAACjhB,KAAD,EAAQqkB,mBAAR,EAA6B;CACpC,WAAOpE,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUe,IAAlB,EAAwBhB,KAAG,CAACc,IAAJ,CAAS/gB,KAAK,CAACskB,cAAf,CAAxB,EAAwDrE,KAAG,CAAC8B,IAAJ,CAAS/hB,KAAT,EAAgBqkB,mBAAhB,CAAxD,CAAP;CACH;;CAEU,SAAJtD,IAAI,CAACuD,cAAD,EAAiB;CACxB,QAAIj8B,IAAI,GAAG,IAAIrG,UAAJ,CAAe,CACtB,IADsB,EAChB,IADgB,EACV,IADU,EACJ,IADI,EAErBsiC,cAAc,KAAK,EAApB,GAA0B,IAFJ;CAGrBA,IAAAA,cAAc,KAAK,EAApB,GAA0B,IAHJ,EAIrBA,cAAc,KAAK,CAApB,GAAyB,IAJH,EAKrBA,cAAD,GAAmB,IALG,CAAf,CAAX;CAOA,WAAOrE,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUa,IAAlB,EAAwB14B,IAAxB,CAAP;CACH,GAvfK;;;CA0fK,SAAJ05B,IAAI,CAAC/hB,KAAD,EAAQqkB,mBAAR,EAA6B;CACpC,QAAIZ,OAAO,GAAGzjB,KAAK,CAAChB,EAApB,CADoC;;CAIpC,QAAI8iB,IAAI,GAAG7B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU4B,IAAlB,EAAwB,IAAI9/B,UAAJ,CAAe,CAC9C,IAD8C,EACxC,IADwC,EAClC,IADkC,EAC5B,IAD4B;CAE7CyhC,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAF2B;CAG7CA,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAH2B,EAI7CA,OAAO,KAAK,CAAb,GAAkB,IAJ4B,EAK7CA,OAAD,GAAY,IALkC,CAAf,CAAxB,CAAX,CAJoC;;CAYpC,QAAI5B,IAAI,GAAG5B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU2B,IAAlB,EAAwB,IAAI7/B,UAAJ,CAAe,CAC9C,IAD8C,EACxC,IADwC,EAClC,IADkC,EAC5B,IAD4B;CAE7CqiC,IAAAA,mBAAmB,KAAK,EAAzB,GAA+B,IAFe;CAG7CA,IAAAA,mBAAmB,KAAK,EAAzB,GAA+B,IAHe,EAI7CA,mBAAmB,KAAK,CAAzB,GAA8B,IAJgB,EAK7CA,mBAAD,GAAwB,IALsB,CAAf,CAAxB,CAAX;CAOA,QAAI/C,IAAI,GAAGrB,KAAG,CAACqB,IAAJ,CAASthB,KAAT,CAAX;CACA,QAAIiiB,IAAI,GAAGhC,KAAG,CAACgC,IAAJ,CAASjiB,KAAT,EAAgBshB,IAAI,CAACtsB,UAAL,GAAkB,EAAlB,GAAuB,EAAvB,GAA4B,CAA5B,GAAgC,EAAhC,GAAqC,CAArC,GAAyC,CAAzD,CAAX;CAEA,WAAOirB,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU6B,IAAlB,EAAwBD,IAAxB,EAA8BD,IAA9B,EAAoCI,IAApC,EAA0CX,IAA1C,CAAP;CACH,GAjhBK;;;CAohBQ,SAAPiD,OAAO,CAACC,CAAD,EAAI;CACd,QAAIpjC,CAAC,GAAG,IAAIY,UAAJ,CAAe,IAAI,CAAnB,CAAR;CAAA,QACIyf,CAAC,GAAG+iB,CAAC,CAAC1U,KADV;CAEA,WAAO1uB,CAAC,CAAC,CAAD,CAAD,GAAOqgB,CAAC,CAACgjB,SAAF,IAAe,CAAf,GAAmBhjB,CAAC,CAACijB,SAAF,IAAe,CAAlC,GAAsCjjB,CAAC,CAACkjB,YAAF,IAAkB,CAAxD,GAA4DljB,CAAC,CAACmjB,aAArE,EAAoF3E,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUoB,IAAlB,EAAwBlgC,CAAxB,CAA3F;CACH;;CAEU,SAAJkgC,IAAI,CAACthB,KAAD,EAAQ;CACf,QAAI3X,IAAI,GAAG,IAAIrG,UAAJ,CAAe,IAAI,CAAnB,CAAX;CACA,QAAI8tB,KAAK,GAAG9P,KAAK,CAAC8P,KAAlB;CACAznB,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUynB,KAAK,CAAC2U,SAAN,IAAmB,CAAnB,GACJ3U,KAAK,CAAC4U,SAAN,IAAmB,CADf,GAEJ5U,KAAK,CAAC6U,YAAN,IAAsB,CAFlB,GAGJ7U,KAAK,CAAC8U,aAHZ;CAIA,WAAO3E,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUoB,IAAlB,EAAwBj5B,IAAxB,CAAP;CACH;;CAEU,SAAJ45B,IAAI,CAACjiB,KAAD,EAAQ2G,MAAR,EAAgB;CACvB,QAAIke,QAAQ,GAAG,KAAK,EAApB;CACA,QAAIx8B,IAAI,GAAG,IAAIrG,UAAJ,CAAe6iC,QAAf,CAAX;CACAle,IAAAA,MAAM,IAAI,IAAIke,QAAd;CAEAx8B,IAAAA,IAAI,CAACwe,GAAL,CAAS,CACL,IADK,EACC,IADD,EACO,IADP,EACa,IADb;CAEL,QAFK,EAEC,IAFD,EAEO,IAFP,EAEa,IAFb;CAGJF,IAAAA,MAAM,KAAK,EAAZ,GAAkB,IAHb;CAIJA,IAAAA,MAAM,KAAK,EAAZ,GAAkB,IAJb,EAKJA,MAAM,KAAK,CAAZ,GAAiB,IALZ,EAMJA,MAAD,GAAW,IANN,CAAT,EAOG,CAPH;CASA,QAAI9M,QAAQ,GAAGmG,KAAK,CAACnG,QAArB;CACA,QAAItV,IAAI,GAAGyb,KAAK,CAACzb,IAAjB;CACA,QAAIurB,KAAK,GAAG9P,KAAK,CAAC8P,KAAlB;CACA,QAAIgV,GAAG,GAAG9kB,KAAK,CAAC8kB,GAAhB;CAEAz8B,IAAAA,IAAI,CAACwe,GAAL,CAAS,CACJhN,QAAQ,KAAK,EAAd,GAAoB,IADf;CAEJA,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IAFf,EAGJA,QAAQ,KAAK,CAAd,GAAmB,IAHd,EAIJA,QAAD,GAAa,IAJR,EAKJtV,IAAI,KAAK,EAAV,GAAgB,IALX;CAMJA,IAAAA,IAAI,KAAK,EAAV,GAAgB,IANX,EAOJA,IAAI,KAAK,CAAV,GAAe,IAPV,EAQJA,IAAD,GAAS,IARJ,EASJurB,KAAK,CAAC2U,SAAN,IAAmB,CAApB,GAAyB3U,KAAK,CAAC4U,SAT1B;CAUJ5U,IAAAA,KAAK,CAAC6U,YAAN,IAAsB,CAAvB,GAA6B7U,KAAK,CAAC8U,aAAN,IAAuB,CAApD,GAAyD9U,KAAK,CAACiV,SAV1D,EAWL,IAXK,EAWC,IAXD;CAYJD,IAAAA,GAAG,KAAK,EAAT,GAAe,IAZV;CAaJA,IAAAA,GAAG,KAAK,EAAT,GAAe,IAbV,EAcJA,GAAG,KAAK,CAAT,GAAc,IAdT,EAeJA,GAAD,GAAQ,IAfH,CAAT,EAgBG,EAhBH;CAkBA,WAAO7E,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU+B,IAAlB,EAAwB55B,IAAxB,CAAP;CACH;;CAGU,SAAJu4B,IAAI,CAACv4B,IAAD,EAAO;CACd,WAAO43B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUU,IAAlB,EAAwBv4B,IAAxB,CAAP;CACH;;CA/kBK;;AAklBV43B,MAAG,CAACtrC,IAAJ;;CCllBA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CAGA;CACA,MAAMqwC,SAAN,CAAgB;CAEZ7pC,EAAAA,WAAW,CAAC8pC,UAAD,EAAa;CACpB,SAAKC,GAAL,GAAW,WAAX;CAEA,SAAKC,OAAL,GAAeF,UAAf;CACA,SAAKG,aAAL,GAAqB,CAArB;CACA,SAAKC,YAAL,GAAoBJ,UAAU,CAACjwB,UAA/B;CACA,SAAKswB,WAAL,GAAmBL,UAAU,CAACjwB,UAAX,GAAwB,CAA3C;CACA,SAAKuwB,aAAL,GAAqB,CAArB;CACA,SAAKC,uBAAL,GAA+B,CAA/B;CACH;;CAED5tC,EAAAA,OAAO,GAAG;CACN,SAAKutC,OAAL,GAAe,IAAf;CACH;;CAEDM,EAAAA,gBAAgB,GAAG;CACf,QAAIC,iBAAiB,GAAG,KAAKL,YAAL,GAAoB,KAAKD,aAAjD;;CAKA,QAAIO,UAAU,GAAGzoC,IAAI,CAACuG,GAAL,CAAS,CAAT,EAAYiiC,iBAAZ,CAAjB;CACA,QAAIE,IAAI,GAAG,IAAI5jC,UAAJ,CAAe,CAAf,CAAX;CACA4jC,IAAAA,IAAI,CAAC/e,GAAL,CAAS,KAAKse,OAAL,CAAangC,QAAb,CAAsB,KAAKogC,aAA3B,EAA0C,KAAKA,aAAL,GAAqBO,UAA/D,CAAT;CACA,SAAKJ,aAAL,GAAqB,IAAI/d,QAAJ,CAAaoe,IAAI,CAAC1uC,MAAlB,EAA0BwjC,SAA1B,CAAoC,CAApC,EAAuC,KAAvC,CAArB;CAEA,SAAK0K,aAAL,IAAsBO,UAAtB;CACA,SAAKH,uBAAL,GAA+BG,UAAU,GAAG,CAA5C;CACH;;CAEDE,EAAAA,QAAQ,CAACvW,IAAD,EAAO;;CAKX,QAAIA,IAAI,IAAI,KAAKkW,uBAAjB,EAA0C;CACtC,UAAI1/B,MAAM,GAAG,KAAKy/B,aAAL,KAAwB,KAAKjW,IAA1C;CACA,WAAKiW,aAAL,KAAuBjW,IAAvB;CACA,WAAKkW,uBAAL,IAAgClW,IAAhC;CACA,aAAOxpB,MAAP;CACH;;CAED,QAAIA,MAAM,GAAG,KAAK0/B,uBAAL,GAA+B,KAAKD,aAApC,GAAoD,CAAjE;CACAz/B,IAAAA,MAAM,GAAGA,MAAM,KAAM,KAAK,KAAK0/B,uBAA/B;CACA,QAAIM,cAAc,GAAGxW,IAAI,GAAG,KAAKkW,uBAAjC;;CAEA,SAAKC,gBAAL;;CACA,QAAIM,cAAc,GAAG7oC,IAAI,CAACuG,GAAL,CAASqiC,cAAT,EAAyB,KAAKN,uBAA9B,CAArB;CAEA,QAAIQ,OAAO,GAAG,KAAKT,aAAL,KAAwB,KAAKQ,cAA3C;CACA,SAAKR,aAAL,KAAuBQ,cAAvB;CACA,SAAKP,uBAAL,IAAgCO,cAAhC;CAEAjgC,IAAAA,MAAM,GAAIA,MAAM,IAAIigC,cAAX,GAA6BC,OAAtC;CACA,WAAOlgC,MAAP;CACH;;CAEDmgC,EAAAA,QAAQ,GAAG;CACP,WAAO,KAAKJ,QAAL,CAAc,CAAd,MAAqB,CAA5B;CACH;;CAEDK,EAAAA,QAAQ,GAAG;CACP,WAAO,KAAKL,QAAL,CAAc,CAAd,CAAP;CACH;;CAEDM,EAAAA,gBAAgB,GAAG;CACf,QAAIC,UAAJ;;CACA,SAAKA,UAAU,GAAG,CAAlB,EAAqBA,UAAU,GAAG,KAAKZ,uBAAvC,EAAgEY,UAAU,EAA1E,EAA8E;CAC1E,UAAI,OAAO,KAAKb,aAAL,GAAsB,eAAea,UAA5C,CAAJ,EAA8D;CAC1D,aAAKb,aAAL,KAAuBa,UAAvB;CACA,aAAKZ,uBAAL,IAAgCY,UAAhC;CACA,eAAOA,UAAP;CACH;CACJ;;CACD,SAAKX,gBAAL;;CACA,WAAOW,UAAU,GAAG,KAAKD,gBAAL,EAApB;CACH;;CAEDE,EAAAA,OAAO,GAAG;CAAG;CACT,QAAIC,aAAa,GAAG,KAAKH,gBAAL,EAApB;;CACA,WAAO,KAAKN,QAAL,CAAcS,aAAa,GAAG,CAA9B,IAAmC,CAA1C;CACH;;CAEDC,EAAAA,OAAO,GAAG;CAAG;CACT,QAAI5iC,KAAK,GAAG,KAAK0iC,OAAL,EAAZ;;CACA,QAAI1iC,KAAK,GAAG,IAAZ,EAAkB;CACd,aAAQA,KAAK,GAAG,CAAT,KAAgB,CAAvB;CACH,KAFD,MAEO;CACH,aAAO,CAAC,CAAD,IAAMA,KAAK,KAAK,CAAhB,CAAP;CACH;CACJ;;CA5FW;;CCpBhB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAIA,MAAM6iC,WAAN,CAAgB;CAEK,SAAVC,UAAU,CAACxB,UAAD,EAAa;CAC1B,QAAI3X,GAAG,GAAG2X,UAAV;CACA,QAAIyB,UAAU,GAAGpZ,GAAG,CAACtY,UAArB;CACA,QAAI2xB,GAAG,GAAG,IAAI3kC,UAAJ,CAAe0kC,UAAf,CAAV;CACA,QAAIE,OAAO,GAAG,CAAd;;CAEA,SAAK,IAAI5oC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0oC,UAApB,EAAgC1oC,CAAC,EAAjC,EAAqC;CACjC,UAAIA,CAAC,IAAI,CAAT,EAAY;CACR;CACA,YAAIsvB,GAAG,CAACtvB,CAAD,CAAH,KAAW,IAAX,IAAmBsvB,GAAG,CAACtvB,CAAC,GAAG,CAAL,CAAH,KAAe,IAAlC,IAA0CsvB,GAAG,CAACtvB,CAAC,GAAG,CAAL,CAAH,KAAe,IAA7D,EAAmE;CAC/D;CACH;CACJ;;CACD2oC,MAAAA,GAAG,CAACC,OAAD,CAAH,GAAetZ,GAAG,CAACtvB,CAAD,CAAlB;CACA4oC,MAAAA,OAAO;CACV;;CAED,WAAO,IAAI5kC,UAAJ,CAAe2kC,GAAG,CAACzvC,MAAnB,EAA2B,CAA3B,EAA8B0vC,OAA9B,CAAP;CACH,GApBW;CAuBZ;;;CACe,SAARC,QAAQ,CAAC5B,UAAD,EAAa;CACxB,QAAI6B,IAAI,GAAGN,WAAS,CAACC,UAAV,CAAqBxB,UAArB,CAAX;;CACA,QAAI8B,EAAE,GAAG,IAAI/B,SAAJ,CAAc8B,IAAd,CAAT;CAEAC,IAAAA,EAAE,CAACb,QAAH,GAJwB;CAMxB;;CAEA,QAAIc,WAAW,GAAGD,EAAE,CAACb,QAAH,EAAlB,CARwB;;CASxBa,IAAAA,EAAE,CAACb,QAAH,GATwB;CAUxB;;CACA,QAAIe,SAAS,GAAGF,EAAE,CAACb,QAAH,EAAhB,CAXwB;CAYxB;;CACAa,IAAAA,EAAE,CAACV,OAAH,GAbwB;;CAexB,QAAIa,cAAc,GAAGV,WAAS,CAACW,gBAAV,CAA2BH,WAA3B,CAArB;CAEA,QAAII,YAAY,GAAGZ,WAAS,CAACa,cAAV,CAAyBJ,SAAzB,CAAnB;CAEA,QAAIK,iBAAiB,GAAG,CAAxB;CACA,QAAIC,aAAa,GAAG,GAApB;CACA,QAAIC,mBAAmB,GAAG,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,GAAd,CAA1B;CACA,QAAIC,SAAS,GAAG,CAAhB,CAtBwB;;CAyBxB,QAAIT,WAAW,KAAK,GAAhB,IAAuBA,WAAW,KAAK,GAAvC,IAA8CA,WAAW,KAAK,GAA9D,IACAA,WAAW,KAAK,GADhB,IACuBA,WAAW,KAAK,EADvC,IAC6CA,WAAW,KAAK,EAD7D,IAEAA,WAAW,KAAK,EAFhB,IAEsBA,WAAW,KAAK,GAFtC,IAE6CA,WAAW,KAAK,GAF7D,IAGAA,WAAW,KAAK,GAHhB,IAGuBA,WAAW,KAAK,GAH3C,EAGgD;CAC5C;CACAM,MAAAA,iBAAiB,GAAGP,EAAE,CAACV,OAAH,EAApB;;CAEA,UAAIiB,iBAAiB,KAAK,CAA1B,EAA6B;CACzBP,QAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EADyB;CAE5B;;CACD,UAAIyB,iBAAiB,IAAI,CAAzB,EAA4B;CACxBC,QAAAA,aAAa,GAAGC,mBAAmB,CAACF,iBAAD,CAAnC;CACH;;CAEDG,MAAAA,SAAS,GAAGV,EAAE,CAACV,OAAH,KAAe,CAA3B,CAX4C;;CAY5CU,MAAAA,EAAE,CAACV,OAAH,GAZ4C;;CAa5CU,MAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EAb4C;;CAc5C,UAAIkB,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClB,YAAIyB,kBAAkB,GAAIJ,iBAAiB,KAAK,CAAvB,GAA4B,CAA5B,GAAgC,EAAzD;;CACA,aAAK,IAAItpC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0pC,kBAApB,EAAwC1pC,CAAC,EAAzC,EAA6C;CACzC,cAAI+oC,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClB,gBAAIjoC,CAAC,GAAG,CAAR,EAAW;CACPwoC,cAAAA,WAAS,CAACmB,gBAAV,CAA2BZ,EAA3B,EAA+B,EAA/B;CACH,aAFD,MAEO;CACHP,cAAAA,WAAS,CAACmB,gBAAV,CAA2BZ,EAA3B,EAA+B,EAA/B;CACH;CACJ;CACJ;CACJ;CACJ,KAtDuB;;;CAwDxBA,IAAAA,EAAE,CAACV,OAAH,GAxDwB;CAyDxB;;CACA,QAAIuB,kBAAkB,GAAGb,EAAE,CAACV,OAAH,EAAzB;;CACA,QAAIuB,kBAAkB,KAAK,CAA3B,EAA8B;CAC1Bb,MAAAA,EAAE,CAACV,OAAH,GAD0B;CAE7B,KAFD,MAEO,IAAIuB,kBAAkB,KAAK,CAA3B,EAA8B;CACjCb,MAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EADiC;;CAEjCkB,MAAAA,EAAE,CAACR,OAAH,GAFiC;;CAGjCQ,MAAAA,EAAE,CAACR,OAAH,GAHiC;;CAIjC,UAAIsB,qCAAqC,GAAGd,EAAE,CAACV,OAAH,EAA5C;;CACA,WAAK,IAAIroC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6pC,qCAApB,EAA2D7pC,CAAC,EAA5D,EAAgE;CAC5D+oC,QAAAA,EAAE,CAACR,OAAH,GAD4D;CAE/D;CACJ,KArEuB;;;CAuExB,QAAIuB,UAAU,GAAGf,EAAE,CAACV,OAAH,EAAjB,CAvEwB;CAwExB;;CACAU,IAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EAzEwB;CA0ExB;;CACA,QAAIkC,uBAAuB,GAAGhB,EAAE,CAACV,OAAH,EAA9B,CA3EwB;CA6ExB;;CACA,QAAI2B,8BAA8B,GAAGjB,EAAE,CAACV,OAAH,EAArC,CA9EwB;CAgFxB;CACA;;CACA,QAAI4B,mBAAmB,GAAGlB,EAAE,CAAClB,QAAH,CAAY,CAAZ,CAA1B;;CACA,QAAIoC,mBAAmB,KAAK,CAA5B,EAA+B;CAC3B;CACAlB,MAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EAF2B;CAG9B,KAtFuB;;;CAwFxBkB,IAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EAxFwB;;CA0FxB,QAAIqC,sBAAsB,GAAG,CAA7B;CACA,QAAIC,uBAAuB,GAAG,CAA9B;CACA,QAAIC,qBAAqB,GAAG,CAA5B;CACA,QAAIC,wBAAwB,GAAG,CAA/B;CAEA,QAAIC,mBAAmB,GAAGvB,EAAE,CAACd,QAAH,EAA1B;;CACA,QAAIqC,mBAAJ,EAAyB;CACrBJ,MAAAA,sBAAsB,GAAGnB,EAAE,CAACV,OAAH,EAAzB;CACA8B,MAAAA,uBAAuB,GAAGpB,EAAE,CAACV,OAAH,EAA1B;CACA+B,MAAAA,qBAAqB,GAAGrB,EAAE,CAACV,OAAH,EAAxB;CACAgC,MAAAA,wBAAwB,GAAGtB,EAAE,CAACV,OAAH,EAA3B;CACH;;CAED,QAAIkC,SAAS,GAAG,CAAhB;CAAA,QAAmBC,UAAU,GAAG,CAAhC;CACA,QAAI3iC,GAAG,GAAG,CAAV;CAAA,QAAa4iC,SAAS,GAAG,IAAzB;CAAA,QAA+BC,OAAO,GAAG,CAAzC;CAAA,QAA4CC,OAAO,GAAG,CAAtD,CAxGwB;;CA0GxB,QAAIC,2BAA2B,GAAG7B,EAAE,CAACd,QAAH,EAAlC;;CACA,QAAI2C,2BAAJ,EAAiC;CAC7B,UAAI7B,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClB,YAAI4C,gBAAgB,GAAG9B,EAAE,CAACb,QAAH,EAAvB;CACA,YAAI4C,WAAW,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,GAAhD,EAAqD,CAArD,EAAwD,CAAxD,EAA2D,CAA3D,CAAlB;CACA,YAAIC,WAAW,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAiD,EAAjD,EAAqD,CAArD,EAAwD,CAAxD,EAA2D,CAA3D,CAAlB;;CAEA,YAAIF,gBAAgB,GAAG,CAAnB,IAAwBA,gBAAgB,GAAG,EAA/C,EAAmD;CAC/CN,UAAAA,SAAS,GAAGO,WAAW,CAACD,gBAAgB,GAAG,CAApB,CAAvB;CACAL,UAAAA,UAAU,GAAGO,WAAW,CAACF,gBAAgB,GAAG,CAApB,CAAxB;CACH,SAHD,MAGO,IAAIA,gBAAgB,KAAK,GAAzB,EAA8B;CACjCN,UAAAA,SAAS,GAAGxB,EAAE,CAACb,QAAH,MAAiB,CAAjB,GAAqBa,EAAE,CAACb,QAAH,EAAjC;CACAsC,UAAAA,UAAU,GAAGzB,EAAE,CAACb,QAAH,MAAiB,CAAjB,GAAqBa,EAAE,CAACb,QAAH,EAAlC;CACH;CACJ;;CAED,UAAIa,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClBc,QAAAA,EAAE,CAACd,QAAH,GADe;CAElB;;CACD,UAAIc,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClBc,QAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EADe;;CAEf,YAAIkB,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClBc,UAAAA,EAAE,CAAClB,QAAH,CAAY,EAAZ,EADe;CAElB;CACJ;;CACD,UAAIkB,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClBc,QAAAA,EAAE,CAACV,OAAH,GADe;;CAEfU,QAAAA,EAAE,CAACV,OAAH,GAFe;CAGlB;;CACD,UAAIU,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClB,YAAI+C,iBAAiB,GAAGjC,EAAE,CAAClB,QAAH,CAAY,EAAZ,CAAxB;CACA,YAAIoD,UAAU,GAAGlC,EAAE,CAAClB,QAAH,CAAY,EAAZ,CAAjB;CACA4C,QAAAA,SAAS,GAAG1B,EAAE,CAACd,QAAH,EAAZ,CAHe;;CAKfyC,QAAAA,OAAO,GAAGO,UAAV;CACAN,QAAAA,OAAO,GAAGK,iBAAiB,GAAG,CAA9B;CACAnjC,QAAAA,GAAG,GAAG6iC,OAAO,GAAGC,OAAhB;CACH;CACJ;;CAED,QAAIO,QAAQ,GAAG,CAAf;;CACA,QAAIX,SAAS,KAAK,CAAd,IAAmBC,UAAU,KAAK,CAAtC,EAAyC;CACrCU,MAAAA,QAAQ,GAAGX,SAAS,GAAGC,UAAvB;CACH;;CAED,QAAIW,WAAW,GAAG,CAAlB;CAAA,QAAqBC,WAAW,GAAG,CAAnC;;CACA,QAAI9B,iBAAiB,KAAK,CAA1B,EAA6B;CACzB6B,MAAAA,WAAW,GAAG,CAAd;CACAC,MAAAA,WAAW,GAAG,IAAInB,mBAAlB;CACH,KAHD,MAGO;CACH,UAAIoB,MAAM,GAAI/B,iBAAiB,KAAK,CAAvB,GAA4B,CAA5B,GAAgC,CAA7C;CACA,UAAIgC,MAAM,GAAIhC,iBAAiB,KAAK,CAAvB,GAA4B,CAA5B,GAAgC,CAA7C;CACA6B,MAAAA,WAAW,GAAGE,MAAd;CACAD,MAAAA,WAAW,GAAGE,MAAM,IAAI,IAAIrB,mBAAR,CAApB;CACH;;CAED,QAAIsB,WAAW,GAAG,CAACxB,uBAAuB,GAAG,CAA3B,IAAgC,EAAlD;CACA,QAAIyB,YAAY,GAAG,CAAC,IAAIvB,mBAAL,KAA6B,CAACD,8BAA8B,GAAG,CAAlC,IAAuC,EAApE,CAAnB;CAEAuB,IAAAA,WAAW,IAAI,CAACrB,sBAAsB,GAAGC,uBAA1B,IAAqDgB,WAApE;CACAK,IAAAA,YAAY,IAAI,CAACpB,qBAAqB,GAAGC,wBAAzB,IAAqDe,WAArE;CAEA,QAAIK,aAAa,GAAGvsC,IAAI,CAACmpB,IAAL,CAAUkjB,WAAW,GAAGL,QAAxB,CAApB;CAEAnC,IAAAA,EAAE,CAACnvC,OAAH;CACAmvC,IAAAA,EAAE,GAAG,IAAL,CA3KwB;;CA+KxB,WAAO;CACHG,MAAAA,cAAc,EAAEA,cADb;CAC8B;CACjCE,MAAAA,YAAY,EAAEA,YAFX;CAE0B;CAC7BK,MAAAA,SAAS,EAAEA,SAHR;CAGoB;CACvBK,MAAAA,UAAU,EAAEA,UAJT;CAKHP,MAAAA,aAAa,EAAEA,aALZ;CAK4B;CAC/BmC,MAAAA,oBAAoB,EAAElD,WAAS,CAACmD,qBAAV,CAAgCpC,aAAhC,CANnB;CAQHqC,MAAAA,UAAU,EAAE;CACRC,QAAAA,KAAK,EAAEpB,SADC;CAER5iC,QAAAA,GAAG,EAAEA,GAFG;CAGR8iC,QAAAA,OAAO,EAAEA,OAHD;CAIRD,QAAAA,OAAO,EAAEA;CAJD,OART;CAeHoB,MAAAA,SAAS,EAAE;CACP7sC,QAAAA,KAAK,EAAEsrC,SADA;CAEPlrC,QAAAA,MAAM,EAAEmrC;CAFD,OAfR;CAoBHuB,MAAAA,UAAU,EAAE;CACR9sC,QAAAA,KAAK,EAAEssC,WADC;CAERlsC,QAAAA,MAAM,EAAEmsC;CAFA,OApBT;CAyBHQ,MAAAA,YAAY,EAAE;CACV/sC,QAAAA,KAAK,EAAEwsC,aADG;CAEVpsC,QAAAA,MAAM,EAAEmsC;CAFE;CAzBX,KAAP;CA8BH;;CAEsB,SAAhB7B,gBAAgB,CAACZ,EAAD,EAAKkD,KAAL,EAAY;CAC/B,QAAIC,UAAU,GAAG,CAAjB;CAAA,QAAoBC,UAAU,GAAG,CAAjC;CACA,QAAIC,WAAW,GAAG,CAAlB;;CACA,SAAK,IAAIpsC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGisC,KAApB,EAA2BjsC,CAAC,EAA5B,EAAgC;CAC5B,UAAImsC,UAAU,KAAK,CAAnB,EAAsB;CAClBC,QAAAA,WAAW,GAAGrD,EAAE,CAACR,OAAH,EAAd;CACA4D,QAAAA,UAAU,GAAG,CAACD,UAAU,GAAGE,WAAb,GAA2B,GAA5B,IAAmC,GAAhD;CACH;;CACDF,MAAAA,UAAU,GAAIC,UAAU,KAAK,CAAhB,GAAqBD,UAArB,GAAkCC,UAA/C;CACH;CACJ,GAjPW;CAoPZ;CACA;CACA;CACA;;;CACuB,SAAhBhD,gBAAgB,CAACH,WAAD,EAAc;CACjC,YAAQA,WAAR;CACI,WAAK,EAAL;CACI,eAAO,UAAP;;CACJ,WAAK,EAAL;CACI,eAAO,MAAP;;CACJ,WAAK,EAAL;CACI,eAAO,UAAP;;CACJ,WAAK,GAAL;CACI,eAAO,MAAP;;CACJ,WAAK,GAAL;CACI,eAAO,QAAP;;CACJ,WAAK,GAAL;CACI,eAAO,SAAP;;CACJ,WAAK,GAAL;CACI,eAAO,SAAP;;CACJ;CACI,eAAO,SAAP;CAhBR;CAkBH;;CAEoB,SAAdK,cAAc,CAACJ,SAAD,EAAY;CAC7B,WAAO,CAACA,SAAS,GAAG,EAAb,EAAiBthC,OAAjB,CAAyB,CAAzB,CAAP;CACH;;CAE2B,SAArBgkC,qBAAqB,CAACU,MAAD,EAAS;CACjC,YAAQA,MAAR;CACI,WAAK,GAAL;CACI,eAAO,OAAP;;CACJ,WAAK,GAAL;CACI,eAAO,OAAP;;CACJ,WAAK,GAAL;CACI,eAAO,OAAP;;CACJ;CACI,eAAO,SAAP;CARR;CAUH;;CA5RW;;CCjBT,SAASC,kCAAT,CAA4C5T,WAA5C,EAAyD;CAC5D,QAAM6M,IAAI,GAAG,EAAb;CACA,QAAMt3B,CAAC,GAAG,IAAIub,QAAJ,CAAakP,WAAW,CAACx/B,MAAzB,CAAV;CACA,MAAIkf,OAAO,GAAGnK,CAAC,CAACwuB,QAAF,CAAW,CAAX,CAAd,CAH4D;;CAI5D,MAAI8P,UAAU,GAAGt+B,CAAC,CAACwuB,QAAF,CAAW,CAAX,CAAjB,CAJ4D;;CAK5D,EAA2BxuB,CAAC,CAACwuB,QAAF,CAAW,CAAX,EALiC;;CAM5D,EAAexuB,CAAC,CAACwuB,QAAF,CAAW,CAAX,EAN6C;;CAQ5D,MAAIrkB,OAAO,KAAK,CAAZ,IAAiBm0B,UAAU,KAAK,CAApC,EAAuC;CACnC;CAEA;CACH;;CAED,QAAMC,eAAe,GAAG,CAACv+B,CAAC,CAACwuB,QAAF,CAAW,CAAX,IAAgB,CAAjB,IAAsB,CAA9C,CAd4D;;;CAgB5D,MAAI+P,eAAe,KAAK,CAApB,IAAyBA,eAAe,KAAK,CAAjD,EAAoD;CAAG;CACnD;CACA;CACH;;CACD,MAAIC,QAAQ,GAAGx+B,CAAC,CAACwuB,QAAF,CAAW,CAAX,IAAgB,EAA/B,CApB4D;;CAsB5D,MAAIgQ,QAAQ,KAAK,CAAjB,EAAoB;CAChB;CACA;CACH;;CAID,MAAI9jB,MAAM,GAAG,CAAb;;CACA,OAAK,IAAI3oB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGysC,QAApB,EAA8BzsC,CAAC,EAA/B,EAAmC;CAC/B,QAAIwK,GAAG,GAAGyD,CAAC,CAACy+B,SAAF,CAAY/jB,MAAZ,EAAoB,KAApB,CAAV,CAD+B;;CAE/BA,IAAAA,MAAM,IAAI,CAAV;;CAEA,QAAIne,GAAG,KAAK,CAAZ,EAAe;CACX;CACH,KAN8B;;;CAS/B,QAAI9O,GAAG,GAAG,IAAIsI,UAAJ,CAAe00B,WAAW,CAACx/B,MAA3B,EAAmCyvB,MAAnC,EAA2Cne,GAA3C,CAAV;CACAme,IAAAA,MAAM,IAAIne,GAAV,CAV+B;CAY/B;CACA;CACA;;CACA,QAAIuN,MAAM,GAAGywB,WAAS,CAACK,QAAV,CAAmBntC,GAAnB,CAAb;;CACA,QAAIsE,CAAC,KAAK,CAAV,EAAa;CACT;CACA;CACH;;CAEDulC,IAAAA,IAAI,CAACY,UAAL,GAAkBpuB,MAAM,CAACg0B,UAAP,CAAkB9sC,KAApC;CACAsmC,IAAAA,IAAI,CAACa,WAAL,GAAmBruB,MAAM,CAACg0B,UAAP,CAAkB1sC,MAArC;CACAkmC,IAAAA,IAAI,CAACG,YAAL,GAAoB3tB,MAAM,CAACi0B,YAAP,CAAoB/sC,KAAxC;CACAsmC,IAAAA,IAAI,CAACI,aAAL,GAAqB5tB,MAAM,CAACi0B,YAAP,CAAoB3sC,MAAzC;CAEAkmC,IAAAA,IAAI,CAACoH,OAAL,GAAe50B,MAAM,CAACmxB,cAAtB;CACA3D,IAAAA,IAAI,CAACqH,KAAL,GAAa70B,MAAM,CAACqxB,YAApB;CACA7D,IAAAA,IAAI,CAACsH,QAAL,GAAgB90B,MAAM,CAAC0xB,SAAvB;CACAlE,IAAAA,IAAI,CAACuH,YAAL,GAAoB/0B,MAAM,CAACwxB,aAA3B;CACAhE,IAAAA,IAAI,CAACwH,QAAL,GAAgBh1B,MAAM,CAAC+zB,SAAvB;CACAvG,IAAAA,IAAI,CAACnmB,SAAL,GAAiBrH,MAAM,CAAC6zB,UAAxB;;CAEA,QAAI7zB,MAAM,CAAC6zB,UAAP,CAAkBC,KAAlB,KAA4B,KAA5B,IACA9zB,MAAM,CAAC6zB,UAAP,CAAkBlB,OAAlB,KAA8B,CAD9B,IAEA3yB,MAAM,CAAC6zB,UAAP,CAAkBjB,OAAlB,KAA8B,CAFlC,EAEqC;CACjCpF,MAAAA,IAAI,CAACnmB,SAAL,GAAiB,EAAjB;CACH;;CAED,QAAIurB,OAAO,GAAGpF,IAAI,CAACnmB,SAAL,CAAeurB,OAA7B;CACA,QAAID,OAAO,GAAGnF,IAAI,CAACnmB,SAAL,CAAesrB,OAA7B;CAEAnF,IAAAA,IAAI,CAACyH,iBAAL,GAAyBzH,IAAI,CAACC,SAAL,IAAkBmF,OAAO,GAAGD,OAA5B,CAAzB;CAEA,QAAI3jC,UAAU,GAAGrL,GAAG,CAACsL,QAAJ,CAAa,CAAb,EAAgB,CAAhB,CAAjB;CAEA,QAAIC,WAAW,GAAG,OAAlB;;CACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;CACxB,UAAIC,CAAC,GAAGJ,UAAU,CAACG,CAAD,CAAV,CAAcE,QAAd,CAAuB,EAAvB,CAAR;;CACA,UAAID,CAAC,CAACjH,MAAF,GAAW,CAAf,EAAkB;CACdiH,QAAAA,CAAC,GAAG,MAAMA,CAAV;CACH;;CACDF,MAAAA,WAAW,IAAIE,CAAf;CACH,KArD8B;;;CAuD/Bo+B,IAAAA,IAAI,CAACl+B,KAAL,GAAaJ,WAAb;CACH;;CAED,MAAIgmC,QAAQ,GAAGh/B,CAAC,CAACwuB,QAAF,CAAW9T,MAAX,CAAf,CAxF4D;;CAyF5D,MAAIskB,QAAQ,KAAK,CAAjB,EAAoB;CAChB;CACA;CACH;;CAIDtkB,EAAAA,MAAM;;CACN,OAAK,IAAI3oB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGitC,QAApB,EAA8BjtC,CAAC,EAA/B,EAAmC;CAC/B,QAAIwK,GAAG,GAAGyD,CAAC,CAACy+B,SAAF,CAAY/jB,MAAZ,EAAoB,KAApB,CAAV,CAD+B;;CAE/BA,IAAAA,MAAM,IAAI,CAAV;;CAEA,QAAIne,GAAG,KAAK,CAAZ,EAAe;CACX;CACH;;CACD,IAAU,IAAIxG,UAAJ,CAAe00B,WAAW,CAACx/B,MAA3B,EAAmCyvB,MAAnC,EAA2Cne,GAA3C,EAPqB;;CAU/Bme,IAAAA,MAAM,IAAIne,GAAV;CACH;;CAED+6B,EAAAA,IAAI,CAACO,SAAL,GAAiB,KAAjB,CA9G4D;;CAiH5D,SAAOP,IAAP;CACH;;CCrHD,MAAMiD,SAAN,CAAgB;CACG,SAARK,QAAQ,CAAC5B,UAAD,EAAa;;CADhB;;CCGT,SAASiG,mCAAT,CAA6CxU,WAA7C,EAA0D;CAC7D,QAAM6M,IAAI,GAAG,EAAb;CACAA,EAAAA,IAAI,CAACO,SAAL,GAAiB,MAAjB;CACA,MAAInd,MAAM,GAAG,KAAK,CAAlB,CAH6D;;CAK7D,QAAMwkB,MAAM,GAAGzU,WAAW,CAAC/P,MAAD,CAA1B;;CAEA,MAAIwkB,MAAM,KAAK3xC,aAAa,CAACC,GAA7B,EAAkC;CAC9B,WAAO8pC,IAAP;CACH;;CAED5c,EAAAA,MAAM,IAAI,CAAV;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAMykB,SAAS,GAAG1U,WAAW,CAAC/P,MAAM,GAAG,CAAV,CAAX,GAA2B+P,WAAW,CAAC/P,MAAD,CAAX,IAAuB,CAApE;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAM0kB,OAAO,GAAG3U,WAAW,CAACtuB,KAAZ,CAAkBue,MAAlB,EAA2BA,MAAM,GAAGykB,SAApC,CAAhB;CACA5vC,EAAAA,OAAO,CAAChF,GAAR,CAAYwL,UAAU,CAACspC,IAAX,CAAgBD,OAAhB,CAAZ;CACA1kB,EAAAA,MAAM,IAAIykB,SAAV;CAEA,QAAMG,MAAM,GAAG7U,WAAW,CAAC/P,MAAD,CAA1B;;CACA,MAAI4kB,MAAM,KAAK/xC,aAAa,CAACE,GAA7B,EAAkC;CAC9B,WAAO6pC,IAAP;CACH;;CACD5c,EAAAA,MAAM,IAAI,CAAV;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAM6kB,SAAS,GAAG9U,WAAW,CAAC/P,MAAM,GAAG,CAAV,CAAX,GAA2B+P,WAAW,CAAC/P,MAAD,CAAX,IAAuB,CAApE;CAEAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAM8kB,OAAO,GAAG/U,WAAW,CAACtuB,KAAZ,CAAkBue,MAAlB,EAA2BA,MAAM,GAAG6kB,SAApC,CAAhB;CACAhwC,EAAAA,OAAO,CAAChF,GAAR,CAAYwL,UAAU,CAACspC,IAAX,CAAgBG,OAAhB,CAAZ;CAEA9kB,EAAAA,MAAM,IAAI6kB,SAAV;CAEA,QAAME,MAAM,GAAGhV,WAAW,CAAC/P,MAAD,CAA1B;;CAEA,MAAI+kB,MAAM,KAAKlyC,aAAa,CAACG,GAA7B,EAAkC;CAC9B,WAAO4pC,IAAP;CACH;;CACD5c,EAAAA,MAAM,IAAI,CAAV;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAMglB,SAAS,GAAGjV,WAAW,CAAC/P,MAAM,GAAG,CAAV,CAAX,GAA2B+P,WAAW,CAAC/P,MAAD,CAAX,IAAuB,CAApE;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAMilB,OAAO,GAAGlV,WAAW,CAACtuB,KAAZ,CAAkBue,MAAlB,EAA2BA,MAAM,GAAGglB,SAApC,CAAhB;CACAnwC,EAAAA,OAAO,CAAChF,GAAR,CAAYwL,UAAU,CAACspC,IAAX,CAAgBM,OAAhB,CAAZ;CAEA,MAAIlyC,GAAG,GAAGsI,UAAU,CAACspC,IAAX,CAAgBG,OAAhB,CAAV;CACA,MAAI11B,MAAM,GAAGywB,SAAS,CAACK,QAAV,CAAmBntC,GAAnB,CAAb;CAEA6pC,EAAAA,IAAI,CAACY,UAAL,GAAkBpuB,MAAM,CAACg0B,UAAP,CAAkB9sC,KAApC;CACAsmC,EAAAA,IAAI,CAACa,WAAL,GAAmBruB,MAAM,CAACg0B,UAAP,CAAkB1sC,MAArC;CACAkmC,EAAAA,IAAI,CAACG,YAAL,GAAoB3tB,MAAM,CAACi0B,YAAP,CAAoB/sC,KAAxC;CACAsmC,EAAAA,IAAI,CAACI,aAAL,GAAqB5tB,MAAM,CAACi0B,YAAP,CAAoB3sC,MAAzC;CAEAkmC,EAAAA,IAAI,CAACoH,OAAL,GAAe50B,MAAM,CAACmxB,cAAtB;CACA3D,EAAAA,IAAI,CAACqH,KAAL,GAAa70B,MAAM,CAACqxB,YAApB;CACA7D,EAAAA,IAAI,CAACsH,QAAL,GAAgB90B,MAAM,CAAC0xB,SAAvB;CACAlE,EAAAA,IAAI,CAACuH,YAAL,GAAoB/0B,MAAM,CAACwxB,aAA3B;CACAhE,EAAAA,IAAI,CAACwH,QAAL,GAAgBh1B,MAAM,CAAC+zB,SAAvB;CAEA,SAAOvG,IAAP;CACH;;CCzDc,MAAMsI,UAAN,SAAyBjkC,OAAzB,CAAiC;CAC5CzM,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAKovC,KAAL,GAAa,IAAb;CACA,SAAKC,WAAL,GAAmB,IAAItuC,MAAM,CAAC0I,WAAX,EAAnB;CACA,SAAK6lC,YAAL,GAAoB,IAApB;CACA,SAAKlR,OAAL,GAAe,KAAf;CACA,SAAKC,UAAL,GAAkB,KAAlB;CACA,SAAKkR,UAAL,GAAkB,EAAlB;CACA,SAAKC,QAAL,GAAgB,KAAhB;CACA,SAAK5H,cAAL,GAAsB,CAAtB;CACA,SAAK6H,eAAL,GAAuB,KAAvB;CACA,SAAKr7B,UAAL,GAAkB,EAAlB;CACA,SAAK+nB,QAAL,GAAgB,KAAhB;CACA,SAAKn8B,MAAL,CAAYnH,KAAZ,CAAkB4R,aAAlB,CAAgCmmB,GAAhC,GAAsC7vB,MAAM,CAACgF,GAAP,CAAWC,eAAX,CAA2B,KAAKqpC,WAAhC,CAAtC;CACA,UAAM;CACFn5C,MAAAA,KADE;CAEF8T,MAAAA,MAAM,EAAE;CAAC9K,QAAAA;CAAD;CAFN,QAGFc,MAHJ;CAMAd,IAAAA,KAAK,CAAC,KAAKmwC,WAAN,EAAmB,YAAnB,EAAiC,MAAM;CACxC,WAAKI,eAAL,GAAuB,IAAvB;CACA,WAAKzvC,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACgC,aAAxB;CACH,KAHI,CAAL;CAKA+D,IAAAA,KAAK,CAAC,KAAKmwC,WAAN,EAAmB,aAAnB,EAAkC,MAAM;CACzC,WAAKrvC,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACiC,cAAxB;CACH,KAFI,CAAL;CAIA4E,IAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,aAAjB,EAAgC,MAAhC;CACH;;CAEQ,MAALqd,KAAK,GAAG;CACR,WAAO,KAAKk4B,WAAL,CAAiBK,UAAxB;CACH;;CAEc,MAAXC,WAAW,GAAG;CACd,WAAO,KAAKx4B,KAAL,KAAe/Y,kBAAkB,CAAChC,IAAzC;CACH;;CAEgB,MAAbwzC,aAAa,GAAG;CAChB,WAAO,KAAKz4B,KAAL,KAAe/Y,kBAAkB,CAACE,MAAzC;CACH;;CAEe,MAAZuxC,YAAY,GAAG;CACf,WAAO,KAAK14B,KAAL,KAAe/Y,kBAAkB,CAACC,KAAzC;CACH;;CAEW,MAAR8e,QAAQ,GAAG;CACX,WAAO,KAAKkyB,WAAL,CAAiBlyB,QAAxB;CACH;;CAEW,MAARA,QAAQ,CAACA,QAAD,EAAW;CACnB,SAAKkyB,WAAL,CAAiBlyB,QAAjB,GAA4BA,QAA5B;CACH;;CAEDwe,EAAAA,WAAW,CAACa,OAAD,EAAU3qB,EAAV,EAAcosB,QAAd,EAAwB;CAC/B,UAAMj+B,MAAM,GAAG,KAAKA,MAApB;;CAEA,QAAI,CAAC,KAAKo+B,OAAV,EAAmB;CACf,UAAIH,QAAQ,IAAIzB,OAAO,CAAC,CAAD,CAAP,KAAe,CAA/B,EAAkC;CAC9B,cAAMoC,UAAU,GAAIpC,OAAO,CAAC,CAAD,CAAP,GAAa,IAAjC;CACAx8B,QAAAA,MAAM,CAACnH,KAAP,CAAayX,eAAb,CAA6B;CACzBC,UAAAA,WAAW,EAAEquB;CADY,SAA7B,EAF8B;;CAO9B,YAAIA,UAAU,KAAKliC,cAAc,CAACE,IAAlC,EAAwC;CACpC,eAAKmN,IAAL,CAAUpO,YAAY,CAACK,yBAAvB;CACA;CACH;;CAED,aAAK8zC,0BAAL,CAAgCtT,OAAhC,EAAyC3qB,EAAzC,EAA6CosB,QAA7C,EAAuDW,UAAvD;;CACA,aAAKR,OAAL,GAAe,IAAf;CACH;CACJ,KAhBD,MAgBO;CACH,WAAK2R,YAAL,CAAkBvT,OAAlB,EAA2B3qB,EAA3B,EAA+BosB,QAA/B;CACH;CACJ;;CAEDvB,EAAAA,SAAS,GAAG;CACR,UAAMnmB,UAAU,GAAG,KAAKnC,UAAL,CAAgBoC,KAAhB,EAAnB;;CACA,QAAID,UAAJ,EAAgB;CACZ,WAAKw5B,YAAL,CAAkBx5B,UAAU,CAACimB,OAA7B,EAAsCjmB,UAAU,CAAC1E,EAAjD,EAAqD0E,UAAU,CAAC0nB,QAAhE;CACH;CACJ;;CAGD6R,EAAAA,0BAA0B,CAACtT,OAAD,EAAU3qB,EAAV,EAAcosB,QAAd,EAAwBW,UAAxB,EAAoC;CAC1D,QAAIjzB,IAAI,GAAG6wB,OAAO,CAAC9wB,KAAR,CAAc,CAAd,CAAX;CACA,QAAI2N,MAAM,GAAG,EAAb;;CAEA,QAAIulB,UAAU,KAAKliC,cAAc,CAACC,IAAlC,EAAwC;CACpC0c,MAAAA,MAAM,GAAGu0B,kCAAkC,CAACjiC,IAAD,CAA3C;CACH,KAFD,MAEO,IAAIizB,UAAU,KAAKliC,cAAc,CAACE,IAAlC,EAAwC;CAC3Cyc,MAAAA,MAAM,GAAGm1B,mCAAmC,CAAC7iC,IAAD,CAA5C;CACH;;CACD,UAAMqkC,QAAQ,GAAG;CACb1tB,MAAAA,EAAE,EAAE,CADS;CACN;CACPpd,MAAAA,IAAI,EAAE,OAFO;CAGb4hC,MAAAA,SAAS,EAAE,IAHE;CAIb3pB,MAAAA,QAAQ,EAAE,CAJG;CAKbqqB,MAAAA,IAAI,EAAE77B,IALO;CAMb87B,MAAAA,UAAU,EAAEpuB,MAAM,CAACouB,UANN;CAObC,MAAAA,WAAW,EAAEruB,MAAM,CAACquB,WAPP;CAQbN,MAAAA,SAAS,EAAE/tB,MAAM,CAAC+tB;CARL,KAAjB,CAT0D;;CAoB1D,UAAM6I,OAAO,GAAG1M,KAAG,CAACqD,mBAAJ,CAAwBoJ,QAAxB,CAAhB;CACA,SAAKZ,KAAL,GAAa,IAAb;CACA,SAAKc,YAAL,CAAkBD,OAAO,CAACz1C,MAA1B;CACA,SAAKotC,cAAL,GAAsB,CAAtB;CACA,SAAK2H,UAAL,GAAkB,IAAlB;CACA,SAAKC,QAAL,GAAgB,KAAhB;CACH,GApH2C;;;CAuH5CO,EAAAA,YAAY,CAACvT,OAAD,EAAU3qB,EAAV,EAAcosB,QAAd,EAAwB;CAChC,UAAMj+B,MAAM,GAAG,KAAKA,MAApB;CACA,QAAIg6B,WAAW,GAAGwC,OAAO,CAAC9wB,KAAR,CAAc,CAAd,CAAlB;CACA,QAAI6X,KAAK,GAAGyW,WAAW,CAAC1hB,UAAxB;CACA,QAAI8vB,GAAG,GAAG,CAAV;CACA,QAAI+H,GAAG,GAAGt+B,EAAV;CAEA,UAAM2B,MAAM,GAAGxT,MAAM,CAACnH,KAAP,CAAa4R,aAA5B;;CAEA,QAAI+I,MAAM,CAAC48B,QAAP,CAAgB5uC,MAAhB,GAAyB,CAA7B,EAAgC;CAC5B,WAAK6uC,YAAL,CAAkB78B,MAAM,CAAC48B,QAAP,CAAgB11C,KAAhB,CAAsB,CAAtB,CAAlB,EAA4C8Y,MAAM,CAAC48B,QAAP,CAAgBE,GAAhB,CAAoB,CAApB,CAA5C;CACA,WAAKd,QAAL,GAAgB,KAAhB;CACH;;CACD,QAAIh8B,MAAM,CAAC+8B,IAAP,IAAeJ,GAAG,GAAG,KAAKZ,UAAL,CAAgBY,GAAtB,GAA4B,IAA/C,EAAqD;CACjD38B,MAAAA,MAAM,CAAC+8B,IAAP,GAAc,KAAd;CACA,WAAKhB,UAAL,GAAkB,EAAlB;CACH,KAHD,MAGO,IAAI,KAAKA,UAAL,IAAmBY,GAAG,GAAG,KAAKZ,UAAL,CAAgBY,GAA7C,EAAkD;CACrD;CACA,UAAIK,SAAS,GAAG,IAAI,KAAKjB,UAAL,CAAgB1nC,IAApC;CACA,UAAI4oC,OAAO,GAAG,IAAInrC,UAAJ,CAAekrC,SAAf,CAAd;CACAC,MAAAA,OAAO,CAAC,CAAD,CAAP,GAAaD,SAAS,KAAK,EAAd,GAAmB,GAAhC;CACAC,MAAAA,OAAO,CAAC,CAAD,CAAP,GAAaD,SAAS,KAAK,EAAd,GAAmB,GAAhC;CACAC,MAAAA,OAAO,CAAC,CAAD,CAAP,GAAaD,SAAS,KAAK,CAAd,GAAkB,GAA/B;CACAC,MAAAA,OAAO,CAAC,CAAD,CAAP,GAAaD,SAAS,GAAG,GAAzB;CACAC,MAAAA,OAAO,CAACtmB,GAAR,CAAYoZ,KAAG,CAACC,KAAJ,CAAUU,IAAtB,EAA4B,CAA5B;CACAuM,MAAAA,OAAO,CAACtmB,GAAR,CAAY,KAAKolB,UAAL,CAAgB5jC,IAA5B,EAAkC,CAAlC;CAEA,WAAK4jC,UAAL,CAAgBpyB,QAAhB,GAA2BgzB,GAAG,GAAG,KAAKZ,UAAL,CAAgBY,GAAjD,CAXqD;;CAarD,UAAIO,OAAO,GAAGnN,KAAG,CAACgB,IAAJ,CAAS,KAAKgL,UAAd,EAA0B,KAAKA,UAAL,CAAgBY,GAA1C,CAAd;CACA,UAAI/mC,MAAM,GAAG,IAAI9D,UAAJ,CAAeorC,OAAO,CAACp4B,UAAR,GAAqBm4B,OAAO,CAACn4B,UAA5C,CAAb;CACAlP,MAAAA,MAAM,CAAC+gB,GAAP,CAAWumB,OAAX,EAAoB,CAApB;CACAtnC,MAAAA,MAAM,CAAC+gB,GAAP,CAAWsmB,OAAX,EAAoBC,OAAO,CAACp4B,UAA5B,EAhBqD;;CAkBrD,WAAK43B,YAAL,CAAkB9mC,MAAM,CAAC5O,MAAzB;CACAwF,MAAAA,MAAM,CAACu7B,YAAP;CACAv7B,MAAAA,MAAM,CAACw7B,WAAP,CAAmB;CAACryB,QAAAA,GAAG,EAAE,IAAN;CAAY0I,QAAAA,EAAE,EAAEA,EAAhB;CAAoB4pB,QAAAA,GAAG,EAAEz7B,MAAM,CAAC8X,KAAP,CAAa4jB;CAAtC,OAAnB;CACH,KArBM,MAqBA;CACH17B,MAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,aAAjB,EAAgC,sCAAhC;CACA,WAAK01C,QAAL,GAAgB,KAAhB;CACA,WAAKD,UAAL,GAAkB,EAAlB;CACH;;CAED,SAAKA,UAAL,CAAgBjtB,EAAhB,GAAqB,CAArB;CACA,SAAKitB,UAAL,CAAgB3H,cAAhB,GAAiC,EAAE,KAAKA,cAAxC;CACA,SAAK2H,UAAL,CAAgB1nC,IAAhB,GAAuB0b,KAAvB;CACA,SAAKgsB,UAAL,CAAgBY,GAAhB,GAAsBA,GAAtB;CACA,SAAKZ,UAAL,CAAgBnH,GAAhB,GAAsBA,GAAtB;CACA,SAAKmH,UAAL,CAAgBoB,UAAhB,GAA6B1S,QAA7B;CACA,SAAKsR,UAAL,CAAgB5jC,IAAhB,GAAuBquB,WAAvB,CAjDgC;;CAmDhC,SAAKuV,UAAL,CAAgBnc,KAAhB,GAAwB;CACpB2U,MAAAA,SAAS,EAAE,CADS;CAEpBC,MAAAA,SAAS,EAAE/J,QAAQ,GAAG,CAAH,GAAO,CAFN;CAGpBgK,MAAAA,YAAY,EAAEhK,QAAQ,GAAG,CAAH,GAAO,CAHT;CAIpBiK,MAAAA,aAAa,EAAE,CAJK;CAKpBG,MAAAA,SAAS,EAAEpK,QAAQ,GAAG,CAAH,GAAO;CALN,KAAxB,CAnDgC;;CA4DhC,QAAI,CAAC,KAAKuR,QAAN,IAAkBh8B,MAAM,CAAC48B,QAAP,CAAgB5uC,MAAhB,KAA2B,CAAjD,EAAoD;CAChDxB,MAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,aAAjB,EAAgC,mBAAhC;CACA,WAAK01C,QAAL,GAAgB,IAAhB;CACAh8B,MAAAA,MAAM,CAACwD,WAAP,GAAqBxD,MAAM,CAAC48B,QAAP,CAAgBE,GAAhB,CAAoB,CAApB,CAArB;CACH;;CAED,QAAI,CAAC,KAAKjS,UAAN,IAAoB7qB,MAAM,CAACE,UAAP,GAAoB,CAAxC,IAA6CF,MAAM,CAACG,WAAP,GAAqB,CAAtE,EAAyE;CACrE3T,MAAAA,MAAM,CAAC9J,KAAP,CAAa4D,GAAb,CAAiB,aAAjB,EAAiC,oBAAmB0Z,MAAM,CAACE,UAAW,IAAGF,MAAM,CAACG,WAAY,EAA5F;CACA3T,MAAAA,MAAM,CAACnH,KAAP,CAAayX,eAAb,CAA6B;CACzB/P,QAAAA,KAAK,EAAEiT,MAAM,CAACE,UADW;CAEzB/S,QAAAA,MAAM,EAAE6S,MAAM,CAACG;CAFU,OAA7B;CAIA3T,MAAAA,MAAM,CAACnH,KAAP,CAAa6Y,kBAAb;CACA,WAAK2sB,UAAL,GAAkB,IAAlB;CACH;CACJ;;CAED6R,EAAAA,YAAY,CAAC11C,MAAD,EAAS;CACjB,UAAM;CACFtE,MAAAA,KADE;CAEF8T,MAAAA,MAAM,EAAE;CAAC9K,QAAAA;CAAD;CAFN,QAGF,KAAKc,MAHT;;CAKA,QAAI,KAAKsvC,YAAL,KAAsB,IAA1B,EAAgC;CAC5B,WAAKA,YAAL,GAAoB,KAAKD,WAAL,CAAiBuB,eAAjB,CAAiC3yC,UAAU,CAACC,GAA5C,CAApB;CACAgB,MAAAA,KAAK,CAAC,KAAKowC,YAAN,EAAoB,OAApB,EAA8Bv1C,KAAD,IAAW;CACzC,aAAKiG,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACkC,oBAAxB,EAA8CtB,KAA9C;CACH,OAFI,CAAL;CAGH;;CAED,QAAI,KAAKu1C,YAAL,CAAkBuB,QAAlB,KAA+B,KAA/B,IAAwC,KAAKlB,WAAjD,EAA8D;CAC1D,WAAKL,YAAL,CAAkBY,YAAlB,CAA+B11C,MAA/B;CACA;CACH;;CAED,QAAI,KAAKo1C,aAAT,EAAwB;CACpB,WAAK5vC,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACkC,oBAAxB,EAA8C,+DAA9C;CACH,KAFD,MAEO,IAAI,KAAKw0C,YAAT,EAAuB;CAC1B,WAAK7vC,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACkC,oBAAxB,EAA8C,uBAA9C;CACH,KAFM,MAEA;CACH,UAAI,KAAKi0C,YAAL,CAAkBuB,QAAlB,KAA+B,IAAnC,EAAyC;CACrC,aAAK7wC,MAAL,CAAY+J,IAAZ,CAAiB5Q,MAAM,CAACmC,mBAAxB;CACA,aAAKw1C,gBAAL,CAAsB,IAAtB;CACH;CACJ;CACJ;;CAEDt2B,EAAAA,IAAI,GAAG;CACH,QAAI,KAAKm1B,WAAT,EAAsB;CAClB,UAAI,KAAKL,YAAT,EAAuB;CACnB,aAAKA,YAAL,CAAkB92B,KAAlB;CACH;CACJ;;CACD,SAAKu4B,WAAL;CACH;;CAEDD,EAAAA,gBAAgB,CAACl6B,IAAD,EAAO;CACnB,UAAM/d,KAAK,GAAG,KAAKmH,MAAL,CAAYnH,KAA1B;CACA,UAAM2a,MAAM,GAAG3a,KAAK,CAAC4R,aAArB;CACA,SAAK0xB,QAAL,GAAgBvlB,IAAhB;;CACA,QAAIpD,MAAM,CAAC48B,QAAP,CAAgB5uC,MAAhB,GAAyB,CAA7B,EAAgC;CAC5B,UAAIgS,MAAM,CAAC48B,QAAP,CAAgBE,GAAhB,CAAoB,CAApB,IAAyB98B,MAAM,CAACwD,WAAhC,GAA8C,CAAlD,EAAqD;CACjDxD,QAAAA,MAAM,CAACwD,WAAP,GAAqBxD,MAAM,CAAC48B,QAAP,CAAgBE,GAAhB,CAAoB,CAApB,CAArB;CACH;CACJ;CACJ;;CAGDD,EAAAA,YAAY,CAAC31C,KAAD,EAAQ41C,GAAR,EAAa;CAErB,QAAI,KAAKX,WAAL,IAAoB,KAAKL,YAAL,CAAkBuB,QAAlB,KAA+B,KAAvD,EAA8D;CAC1D,UAAI;CACA,aAAKvB,YAAL,CAAkBvkC,MAAlB,CAAyBrQ,KAAzB,EAAgC41C,GAAhC;CACH,OAFD,CAEE,OAAO5rC,CAAP,EAAU;CACR5F,QAAAA,OAAO,CAAC/E,KAAR,CAAc2K,CAAd;CACH;CACJ;CACJ;;CAEDqsC,EAAAA,WAAW,GAAG;CACV,QAAI,KAAKpB,WAAT,EAAsB;CAClB,WAAKN,WAAL,CAAiB0B,WAAjB;CACH;CACJ;;CAED71C,EAAAA,OAAO,GAAG;CACN,SAAKsf,IAAL;CACA,SAAKpG,UAAL,GAAkB,EAAlB;CACA,SAAKi7B,WAAL,GAAmB,IAAnB;CACA,SAAKI,eAAL,GAAuB,KAAvB;CACA,SAAKH,YAAL,GAAoB,IAApB;CACA,SAAKlR,OAAL,GAAe,KAAf;CACA,SAAKC,UAAL,GAAkB,KAAlB;CACA,SAAKuJ,cAAL,GAAsB,CAAtB;CACA,SAAK2H,UAAL,GAAkB,IAAlB;CACA,SAAKC,QAAL,GAAgB,KAAhB;CACA,SAAKltC,GAAL;CACA,SAAKtC,MAAL,CAAY9J,KAAZ,CAAkB4D,GAAlB,CAAsB,aAAtB,EAAqC,SAArC;CACH;;CArR2C;;CCNhD;CAEA,MAAMk3C,IAAI,GAAG,qyOAAb;CACA,MAAMzN,GAAG,GAAG,o6JAAZ;;CAIA,MACI0N,MAAM,GAAG,MACL,OAAOv1B,SAAP,KAAqB,WAArB,IACAlU,UAAU,CACN,CACI,KACA,CAAC,oEAAoE0pC,IAApE,CACGx1B,SAAS,CAAC4F,SADb,KAEI,CAAC,CAAD,EAAI,EAAJ,CAFL,EAEc,CAFd,CAFJ,EAMKnc,OANL,CAMa,WANb,EAM0B,KAN1B,EAOKA,OAPL,CAOa,GAPb,EAOkB,GAPlB,EAQKA,OARL,CAQa,GARb,EAQkB,EARlB,CADM,CAAV,GAUI,EAXJ,IAYA,CAACpE,MAAM,CAACowC,QAdhB;;;CAiBA,MAAMC,cAAc,GAAG,MAAM,cAAc11B,SAA3C;;CAEe,MAAM21B,OAAN,CAAc;CACzB5yC,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAKsxC,OAAL,GAAe,KAAf;;CACA,QAAIF,cAAc,EAAlB,EAAsB;CAClB,WAAKG,SAAL,GAAiB,IAAjB;;CACA,YAAMC,sBAAsB,GAAG,MAAM;CACjC,YAAI,KAAKD,SAAL,KAAmB,IAAnB,IAA2BzwC,QAAQ,CAACsiC,eAAT,KAA6B,SAA5D,EAAuE;CACnE,eAAKqO,MAAL;CACH;CACJ,OAJD;;CAKA3wC,MAAAA,QAAQ,CAACnB,gBAAT,CAA0B,kBAA1B,EAA8C6xC,sBAA9C;CACA1wC,MAAAA,QAAQ,CAACnB,gBAAT,CAA0B,kBAA1B,EAA8C6xC,sBAA9C;CACH,KATD,MASO,IAAIP,MAAM,EAAV,EAAc;CACjB,WAAKS,YAAL,GAAoB,IAApB;CACH,KAFM,MAEA;CACH;CACA,WAAKC,YAAL,GAAoB7wC,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAApB;CAEA,WAAK8rC,YAAL,CAAkBlS,YAAlB,CAA+B,OAA/B,EAAwC,UAAxC;CACA,WAAKkS,YAAL,CAAkBlS,YAAlB,CAA+B,aAA/B,EAA8C,EAA9C;;CAEA,WAAKmS,iBAAL,CAAuB,KAAKD,YAA5B,EAA0C,MAA1C,EAAkDX,IAAlD;;CACA,WAAKY,iBAAL,CAAuB,KAAKD,YAA5B,EAA0C,KAA1C,EAAiDpO,GAAjD;;CAEA,WAAKoO,YAAL,CAAkBhyC,gBAAlB,CAAmC,gBAAnC,EAAqD,MAAM;CACvD,YAAI,KAAKgyC,YAAL,CAAkBx0B,QAAlB,IAA8B,CAAlC,EAAqC;CACjC;CACA,eAAKw0B,YAAL,CAAkBlS,YAAlB,CAA+B,MAA/B,EAAuC,EAAvC;CACH,SAHD,MAGO;CACH;CACA,eAAKkS,YAAL,CAAkBhyC,gBAAlB,CAAmC,YAAnC,EAAiD,MAAM;CACnD,gBAAI,KAAKgyC,YAAL,CAAkB36B,WAAlB,GAAgC,GAApC,EAAyC;CACrC,mBAAK26B,YAAL,CAAkB36B,WAAlB,GAAgCxW,IAAI,CAAC0jB,MAAL,EAAhC;CACH;CACJ,WAJD;CAKH;CACJ,OAZD;CAaH;CACJ;;CAED0tB,EAAAA,iBAAiB,CAAC5vC,OAAD,EAAUkD,IAAV,EAAgB2sC,OAAhB,EAAyB;CACtC,QAAIh9B,MAAM,GAAG/T,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACAgP,IAAAA,MAAM,CAAC+b,GAAP,GAAaihB,OAAb;CACAh9B,IAAAA,MAAM,CAAC3P,IAAP,GAAe,SAAQA,IAAK,EAA5B;CACAlD,IAAAA,OAAO,CAAC6O,WAAR,CAAoBgE,MAApB;CACH;;CAEY,MAATvR,SAAS,GAAG;CACZ,WAAO,KAAKguC,OAAZ;CACH;;CAEDG,EAAAA,MAAM,GAAG;CACL,UAAMv7C,KAAK,GAAG,KAAK8J,MAAL,CAAY9J,KAA1B;;CACA,QAAIk7C,cAAc,EAAlB,EAAsB;CAClB,aAAO11B,SAAS,CAACo2B,QAAV,CACF/vC,OADE,CACM,QADN,EAEFY,IAFE,CAEImvC,QAAD,IAAc;CAChB,aAAKP,SAAL,GAAiBO,QAAjB;CACA,aAAKR,OAAL,GAAe,IAAf;CACAp7C,QAAAA,KAAK,CAAC4D,GAAN,CAAU,UAAV,EAAsB,mBAAtB;;CACA,aAAKy3C,SAAL,CAAe5xC,gBAAf,CAAgC,SAAhC,EAA2C,MAAM;CAC7C;CACA;CACA;CACAzJ,UAAAA,KAAK,CAAC4D,GAAN,CAAU,UAAV,EAAsB,qBAAtB;CACH,SALD;CAMH,OAZE,EAaF8I,KAbE,CAaKmvC,GAAD,IAAS;CACZ,aAAKT,OAAL,GAAe,KAAf;CACAp7C,QAAAA,KAAK,CAAC6D,KAAN,CAAY,UAAZ,EAAyB,GAAEg4C,GAAG,CAACpzC,IAAK,KAAIozC,GAAG,CAAC94B,OAAQ,EAApD;CACA,cAAM84B,GAAN;CACH,OAjBE,CAAP;CAkBH,KAnBD,MAmBO,IAAId,MAAM,EAAV,EAAc;CACjB,WAAKe,OAAL;CACA,WAAKN,YAAL,GAAoB3wC,MAAM,CAAC44B,WAAP,CAAmB,MAAM;CACzC,YAAI,CAAC74B,QAAQ,CAACmxC,MAAd,EAAsB;CAClBlxC,UAAAA,MAAM,CAAC8gB,QAAP,CAAgB/b,IAAhB,GAAuB/E,MAAM,CAAC8gB,QAAP,CAAgB/b,IAAhB,CAAqBf,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAvB;CACAhE,UAAAA,MAAM,CAACwZ,UAAP,CAAkBxZ,MAAM,CAACyZ,IAAzB,EAA+B,CAA/B;CACH;CACJ,OALmB,EAKjB,KALiB,CAApB;CAMA,WAAK82B,OAAL,GAAe,IAAf;CACA,aAAOpvC,OAAO,CAACC,OAAR,EAAP;CACH,KAVM,MAUA;CACH,UAAI+vC,WAAW,GAAG,KAAKP,YAAL,CAAkB36C,IAAlB,EAAlB;CACA,aAAOk7C,WAAW,CACbvvC,IADE,CACIqV,GAAD,IAAS;CACX,aAAKs5B,OAAL,GAAe,IAAf;CACA,eAAOt5B,GAAP;CACH,OAJE,EAKFpV,KALE,CAKKmvC,GAAD,IAAS;CACZ,aAAKT,OAAL,GAAe,KAAf;CACA,cAAMS,GAAN;CACH,OARE,CAAP;CASH;CACJ;;CAEDC,EAAAA,OAAO,GAAG;CACN,UAAM97C,KAAK,GAAG,KAAK8J,MAAL,CAAY9J,KAA1B;;CACA,QAAIk7C,cAAc,EAAlB,EAAsB;CAClB,UAAI,KAAKG,SAAT,EAAoB;CAChB,aAAKA,SAAL,CAAeY,OAAf;CACH;;CACD,WAAKZ,SAAL,GAAiB,IAAjB;CACH,KALD,MAKO,IAAIN,MAAM,EAAV,EAAc;CACjB,UAAI,KAAKS,YAAT,EAAuB;CACnBx7C,QAAAA,KAAK,CAAC6I,IAAN,CAAW,UAAX,EAAuB,6CAAvB;CAEAgC,QAAAA,MAAM,CAAC64B,aAAP,CAAqB,KAAK8X,YAA1B;CACA,aAAKA,YAAL,GAAoB,IAApB;CACH;CACJ,KAPM,MAOA;CACH,WAAKC,YAAL,CAAkBp4C,KAAlB;CACH;;CACD,SAAK+3C,OAAL,GAAe,KAAf;CACH;;CAnHwB;;CC1B7B,SAASc,WAAT,CAAsBC,IAAtB,EAA4B;CACxB,QAAM96C,GAAG,GAAG,IAAIwO,GAAJ,CAAQssC,IAAR,CAAZ;;CACA,MAAI96C,GAAG,CAAC+6C,MAAJ,IAAc/6C,GAAG,CAAC+6C,MAAJ,KAAe,MAAjC,EAAyC;CACrC,WAAQ,GAAEvxC,MAAM,CAAC8gB,QAAP,CAAgBywB,MAAO,+BAA8B/6C,GAAG,CAACg7C,QAAJ,CAAazf,MAAb,CAAoB,CAApB,CAAuB,EAAtF;CACH,GAFD,MAEO;CACH,QAAIyf,QAAQ,GAAGh7C,GAAG,CAACg7C,QAAnB;CACA,QAAIC,UAAU,GAAG,EAAjB;CACA,QAAIrkC,KAAK,GAAG,CAAZ;;CACA,QAAI5W,GAAG,CAACg7C,QAAJ,CAAaE,UAAb,CAAwB,IAAxB,CAAJ,EAAmC;CAC/BF,MAAAA,QAAQ,GAAGh7C,GAAG,CAACg7C,QAAJ,CAAazf,MAAb,CAAoB,CAApB,CAAX;CACH;;CAED3kB,IAAAA,KAAK,GAAGokC,QAAQ,CAACzvB,OAAT,CAAiB,GAAjB,CAAR;CACA0vB,IAAAA,UAAU,GAAGD,QAAQ,CAAC9rB,SAAT,CAAmBtY,KAAK,GAAG,CAA3B,CAAb;;CAEA,QAAIokC,QAAJ,EAAc;CACV,aAAQ,GAAExxC,MAAM,CAAC8gB,QAAP,CAAgBywB,MAAO,sCAAqCE,UAAW,EAAjF;CACH,KAFD,MAEO;CACH1zC,MAAAA,OAAO,CAAChF,GAAR,CAAY,0BAAZ;CACH;CACJ;CACJ;;CAED,eAAe44C,WAAf,CAA2B1yC,MAA3B,EAAmC;CAC/B,MAAI2yC,EAAE,GAAG,IAAIC,iBAAJ,EAAT;CACA,QAAMJ,UAAU,GAAIJ,WAAW,CAACpyC,MAAM,CAACpB,IAAP,CAAYrH,GAAb,CAA/B;CACA,QAAMic,MAAM,GAAGxT,MAAM,CAACK,UAAP,CAAkBoK,aAAjC;CACA,QAAMooC,QAAQ,GAAG;CACbC,IAAAA,kBAAkB,EAAEH,EAAE,IAAIA,EAAE,CAACG,kBADhB;CAEbluB,IAAAA,MAAM,EAAE,IAFK;CAGbmuB,IAAAA,QAAQ,EAAE,EAHG;CAIbC,IAAAA,SAAS,EAAE,EAJE;CAKbC,IAAAA,YAAY,EAAE,EALD;CAMbC,IAAAA,WAAW,EAAE,EANA;CAObV,IAAAA,UAAU,EAAE;CAPC,GAAjB;CAUAG,EAAAA,EAAE,CAACQ,cAAH,CAAkB,OAAlB,EAA0B;CACtBC,IAAAA,SAAS,EAAE;CADW,GAA1B;CAIAP,EAAAA,QAAQ,CAACL,UAAT,GAAsBA,UAAtB;;CAEAG,EAAAA,EAAE,CAACU,sBAAH,GAA4B3uC,CAAC,IAAI;CAEhC,GAFD;;CAIAiuC,EAAAA,EAAE,CAACW,0BAAH,GAAgC5uC,CAAC,IAAI;CACjCmuC,IAAAA,QAAQ,CAACC,kBAAT,GAA8BH,EAAE,CAACG,kBAAjC;CACH,GAFD;;CAIAH,EAAAA,EAAE,CAACY,cAAH,GAAoBxzC,KAAK,IAAI;CAE5B,GAFD;;CAIA4yC,EAAAA,EAAE,CAACa,OAAH,GAAazzC,KAAK,IAAI;CAClBjB,IAAAA,OAAO,CAAChF,GAAR,CAAY,YAAZ,EAA0BiG,KAA1B;;CACA,QAAIA,KAAK,CAACujB,KAAN,CAAYuB,IAAZ,IAAoB,OAAxB,EAAiC;CAC7BguB,MAAAA,QAAQ,CAACjuB,MAAT,GAAkB7kB,KAAK,CAACw4B,OAAN,CAAc,CAAd,CAAlB;CACA/kB,MAAAA,MAAM,CAACyR,SAAP,GAAmB4tB,QAAQ,CAACjuB,MAA5B;CACApR,MAAAA,MAAM,CAACxc,IAAP;CACH;CACJ,GAPD;;CASA,QAAM27C,EAAE,CAACc,mBAAH,CAAuB,MAAMd,EAAE,CAACe,WAAH,EAA7B,CAAN;CAEAb,EAAAA,QAAQ,CAACE,QAAT,GAAoBJ,EAAE,CAACgB,gBAAH,CAAoBC,GAAxC;CAEAf,EAAAA,QAAQ,CAACK,WAAT,GAAuBntC,GAAG,CAACC,eAAJ,CACnB,IAAIkW,IAAJ,CAAS,CAAC22B,QAAQ,CAACE,QAAV,CAAT,EAA8B;CAAE7tC,IAAAA,IAAI,EAAE;CAAR,GAA9B,CADmB,CAAvB;CAIA,QAAMkE,MAAM,GAAG,MAAM3T,KAAK,CAACo9C,QAAQ,CAACL,UAAV,EAAsB;CAC5CqB,IAAAA,MAAM,EAAE,MADoC;CAE5CvpC,IAAAA,IAAI,EAAEkhB,IAAI,CAACC,SAAL,CAAeknB,EAAE,CAACgB,gBAAH,CAAoBG,MAApB,EAAf,CAFsC;CAG5CC,IAAAA,OAAO,EAAE;CACL,sBAAgB;CADX;CAHmC,GAAtB,CAAL,CAMlBpxC,IANkB,CAMbqV,GAAG,IAAIA,GAAG,CAAC+a,IAAJ,EANM,CAArB;;CAQA,MAAI3pB,MAAM,CAAC4qC,MAAX,EAAmB;CACfl1C,IAAAA,OAAO,CAAC/E,KAAR,CAAcqP,MAAM,CAAC4qC,MAArB;CACA;CACH,GAHD,MAGO;CACHnB,IAAAA,QAAQ,CAACG,SAAT,GAAqB5pC,MAAM,CAACwqC,GAA5B;CACAf,IAAAA,QAAQ,CAACI,YAAT,GAAwBltC,GAAG,CAACC,eAAJ,CAAoB,IAAIkW,IAAJ,CAAS,CAAC22B,QAAQ,CAACG,SAAV,CAAT,EAA+B;CAAE9tC,MAAAA,IAAI,EAAE;CAAR,KAA/B,CAApB,CAAxB;CACH;;CAED,QAAMytC,EAAE,CAACsB,oBAAH,CAAwB,IAAIC,qBAAJ,CAA0B9qC,MAA1B,CAAxB,CAAN;CAEH;;CCrEc,MAAM+qC,MAAN,SAAqBjpC,OAArB,CAA6B;CACxCzM,EAAAA,WAAW,CAAC21C,SAAD,EAAYnyC,OAAZ,EAAqB;CAC5B;CACA,SAAK5B,UAAL,GAAkB+zC,SAAlB;CACA,SAAKx1C,IAAL,GAAYqB,MAAM,CAACo0C,MAAP,CAAc,EAAd,EAAkBx+C,sBAAlB,EAA0CoM,OAA1C,CAAZ;CACA,SAAK/L,KAAL,GAAa,IAAIsI,KAAJ,CAAU,IAAV,CAAb;;CAGA,QAAI,KAAKI,IAAL,CAAU/G,MAAd,EAAsB;CAClB,WAAK+G,IAAL,CAAU/G,MAAV,GAAmBqQ,UAAU,EAA7B;CACH;;CAED,QAAI,KAAKtJ,IAAL,CAAU9G,MAAd,EAAsB;CAClB,WAAK8G,IAAL,CAAU9G,MAAV,GAAmB0R,UAAU,EAA7B;CACH,KAb2B;;;CAgB5B,QAAI,KAAK5K,IAAL,CAAU9G,MAAd,EAAsB;CAClB,UAAI,KAAK8G,IAAL,CAAU/G,MAAd,EAAsB;CAClB,aAAK3B,KAAL,CAAW4D,GAAX,CAAe,QAAf,EAAyB,wBAAzB;CACH;;CAED,UAAI,CAAC,KAAK8E,IAAL,CAAUnH,gBAAf,EAAiC;CAC7B,aAAKvB,KAAL,CAAW4D,GAAX,CAAe,QAAf,EAAyB,kCAAzB;CACH;;CAED,WAAK8E,IAAL,CAAU/G,MAAV,GAAmB,KAAnB;CACA,WAAK+G,IAAL,CAAUnH,gBAAV,GAA6B,IAA7B;CACH,KAXD,MAWO,IAAI,KAAKmH,IAAL,CAAU/G,MAAd,EAAsB;;CAK7B,QAAI,CAAC,KAAK+G,IAAL,CAAUnH,gBAAf,EAAiC;CAC7B,UAAI,CAACuM,kBAAkB,EAAvB,EAA2B;CACvB,aAAKpF,IAAL,CAAUnH,gBAAV,GAA6B,IAA7B;CACA,aAAKmH,IAAL,CAAU7G,YAAV,GAAyB,KAAzB;CACH,OAHD,MAGO;CACH,aAAK6G,IAAL,CAAU7G,YAAV,GAAyB,IAAzB;CACH;CACJ;;CAGD,SAAK6G,IAAL,CAAUzH,UAAV,GAAuB,KAAKm9C,WAAL,EAAvB,CA1C4B;;CA4C5B,SAAKC,QAAL,GAAgB,KAAhB;CACA,SAAKC,QAAL,GAAgB,KAAhB;CACA,SAAKvqC,UAAL,GAAkB,KAAlB,CA9C4B;;CAiD5B,SAAKwqC,kBAAL,GAA0B,IAA1B;CACA,SAAKC,oBAAL,GAA4B,IAA5B,CAlD4B;;CAqD5B,SAAKC,aAAL,GAAqB,IAArB;CACA,SAAKtR,0BAAL,GAAkC,KAAlC;CACA,SAAKuR,MAAL,GAAc;CACVnZ,MAAAA,GAAG,EAAE,CADK;CACF;CACRtyB,MAAAA,GAAG,EAAE,CAFK;CAEF;CACRm0B,MAAAA,IAAI,EAAE,CAHI;CAGD;CACTC,MAAAA,IAAI,EAAE,CAJI;CAID;CACT1rB,MAAAA,EAAE,EAAE,CALM;;CAAA,KAAd,CAvD4B;;CAgE5B,SAAKgjC,eAAL,GAAuB,CAAvB;CACA,SAAKC,eAAL,GAAuB,CAAvB;CAEAhS,IAAAA,UAAQ,CAAC,IAAD,CAAR;CAEA,SAAK94B,MAAL,GAAc,IAAIhL,MAAJ,CAAW,IAAX,CAAd;CACA,SAAKnG,KAAL,GAAa,IAAIkb,KAAJ,CAAU,IAAV,CAAb;CACA,SAAK9c,KAAL,GAAa,IAAIsgB,KAAJ,CAAU,IAAV,CAAb;CACA,SAAK0H,QAAL,GAAgB,IAAI/E,QAAJ,CAAa,IAAb,CAAhB;CACA,SAAK+gB,aAAL,GAAqB,IAAID,aAAJ,CAAkB,IAAlB,CAArB;CAGA,SAAKpW,MAAL,GAAc,IAAd;CACA,SAAK9M,KAAL,GAAa,IAAb;;CAGA,QAAI,KAAKlZ,IAAL,CAAU/G,MAAd,EAAsB;CAClB,WAAK+kC,gBAAL,GAAwB,IAAIuB,gBAAJ,CAAqB,IAArB,CAAxB;CACH;;CAED,QAAI,KAAKv/B,IAAL,CAAU9G,MAAd,EAAsB;CAClB,WAAK+kC,UAAL,GAAkB,IAAIsS,UAAJ,CAAe,IAAf,CAAlB;CACH,KAtF2B;;;CAyF5B,SAAK9P,OAAL,GAAe,IAAIsD,OAAJ,CAAY,IAAZ,CAAf;CAEA,SAAKnsC,YAAL,GAAoB,IAAI66C,OAAJ,CAAY,IAAZ,CAApB;CAGArnC,IAAAA,QAAM,CAAC,IAAD,CAAN;CACA64B,IAAAA,QAAQ,CAAC,IAAD,CAAR;;CAGA,QAAI,KAAKjkC,IAAL,CAAU/G,MAAd,EAAsB;CAClB,WAAK3B,KAAL,CAAW4D,GAAX,CAAe,QAAf,EAAyB,SAAzB;CACH;;CAED,QAAI,KAAK8E,IAAL,CAAU9G,MAAd,EAAsB;CAClB,WAAK5B,KAAL,CAAW4D,GAAX,CAAe,QAAf,EAAyB,SAAzB;CACH;;CAED,QAAI,KAAK8E,IAAL,CAAU7G,YAAd,EAA4B;CACxB,WAAK7B,KAAL,CAAW4D,GAAX,CAAe,QAAf,EAAyB,eAAzB;CACH;;CAED,QAAI,OAAO,KAAK8E,IAAL,CAAUm2C,YAAjB,KAAkC,UAAtC,EAAkD;CAC9C,WAAKn2C,IAAL,CAAUm2C,YAAV,CAAuB,IAAvB;CACH;;CAED,SAAK7+C,KAAL,CAAW4D,GAAX,CAAe,gBAAf,EAAiC,KAAK8E,IAAtC;CACH;;CAGa,MAAV9H,UAAU,CAACmQ,KAAD,EAAQ;CAClB,SAAK8C,IAAL,CAAU5Q,MAAM,CAACrC,UAAjB,EAA6BmQ,KAA7B;CACH;;CAEa,MAAVnQ,UAAU,GAAG;CACb,WAAO+R,YAAY,MAAM,KAAKzP,aAA9B;CACH;;CAEgB,MAAbA,aAAa,CAAC6N,KAAD,EAAQ;CACrB,SAAK8C,IAAL,CAAU5Q,MAAM,CAACC,aAAjB,EAAgC6N,KAAhC;CACH;;CAEgB,MAAb7N,aAAa,GAAG;CAChB,WAAO,KAAKiH,UAAL,CAAgB6J,SAAhB,CAA0B8qC,QAA1B,CAAmC,0BAAnC,CAAP;CACH;;CAES,MAAN5Z,MAAM,GAAG;CACT,WAAO,KAAKnxB,UAAZ;CACH,GAzIuC;;;CA4I7B,MAAP3Q,OAAO,CAAC2N,KAAD,EAAQ;CAEf,QAAIA,KAAJ,EAAW;CACP;CACA,WAAKvN,OAAL,GAAe,KAAf;CACH;;CAED,QAAI,KAAKJ,OAAL,KAAiB2N,KAArB,EAA4B;CACxB,WAAKutC,QAAL,GAAgBvtC,KAAhB;CACA,WAAK8C,IAAL,CAAU5Q,MAAM,CAACG,OAAjB,EAA0B2N,KAA1B;CACA,WAAK8C,IAAL,CAAU5Q,MAAM,CAAC8B,YAAjB,EAA+B,KAAK+a,MAApC;;CAEA,UAAI/O,KAAJ,EAAW;CACP,aAAK8C,IAAL,CAAU5Q,MAAM,CAACnC,IAAjB;CACH,OAFD,MAEO;CACH,aAAK+S,IAAL,CAAU5Q,MAAM,CAACI,KAAjB;CACH;CACJ;CAEJ;;CAEU,MAAPD,OAAO,GAAG;CACV,WAAO,KAAKk7C,QAAZ;CACH;;CAES,MAANx+B,MAAM,GAAG;CACT,WAAO,KAAK/e,KAAL,CAAW+e,MAAlB;CACH;;CAES,MAANA,MAAM,CAAC/O,KAAD,EAAQ;CACd,SAAKhQ,KAAL,CAAW4f,SAAX,CAAqB5P,KAArB;CACH;;CAEU,MAAPvN,OAAO,CAACuN,KAAD,EAAQ;CACf,QAAI,KAAKvN,OAAL,KAAiBuN,KAArB,EAA4B;CACxB,WAAKstC,QAAL,GAAgBttC,KAAhB;CACA,WAAK8C,IAAL,CAAU5Q,MAAM,CAACO,OAAjB,EAA0B,KAAK66C,QAA/B;CACH;CACJ;;CAEU,MAAP76C,OAAO,GAAG;CACV,WAAO,KAAK66C,QAAZ;CACH;;CAEY,MAATp6C,SAAS,CAAC8M,KAAD,EAAQ;CACjB,QAAI,KAAK3N,OAAT,EAAkB;CACd,UAAI2N,KAAJ,EAAW;CACP,aAAKgY,QAAL,CAAcyb,WAAd;CACH,OAFD,MAEO;CACH,aAAKzb,QAAL,CAAc6b,iBAAd;CACH;CACJ;CACJ;;CAEY,MAAT3gC,SAAS,GAAG;CACZ,WAAO,KAAK8kB,QAAL,CAAc9kB,SAArB;CACH;;CAEiB,MAAdwb,cAAc,CAAC1O,KAAD,EAAQ;CACtB,QAAIA,KAAK,KAAK,IAAd,EAAoB;CAChB;CACH;;CACD,SAAK6tC,eAAL,GAAuB7tC,KAAvB;CACH,GA3MuC;;;CA8MtB,MAAd0O,cAAc,GAAG;CACjB,WAAO,KAAKm/B,eAAZ;CACH,GAhNuC;;;CAmNtB,MAAdljC,cAAc,CAAC3K,KAAD,EAAQ;CACtB,QAAIA,KAAK,KAAK,IAAd,EAAoB;CAChB;CACH;;CACD,SAAK4tC,eAAL,GAAuB5tC,KAAvB,CAJsB;;CAMtB,QAAI,CAAC,KAAKrI,IAAL,CAAU/G,MAAX,IAAqB,CAAC,KAAK+G,IAAL,CAAU9G,MAApC,EAA4C;CACxC,UAAI,KAAK6d,cAAL,IAAuB,KAAK/D,cAAhC,EAAgD;CAC5C,aAAK3a,KAAL,CAAW8S,IAAX,CAAgB5Q,MAAM,CAACsC,cAAvB,EAAuC;CACnCka,UAAAA,cAAc,EAAE,KAAKA,cADc;CAEnC/D,UAAAA,cAAc,EAAE,KAAKA,cAFc;CAGnC4D,UAAAA,IAAI,EAAE,KAAKG,cAAL,GAAsB,KAAK/D;CAHE,SAAvC;CAKH;CACJ;CACJ,GAlOuC;;;CAqOtB,MAAdA,cAAc,GAAG;CACjB,WAAO,KAAKijC,eAAZ;CACH;CAGD;CACJ;CACA;CACA;;;CACII,EAAAA,YAAY,CAAChzC,OAAD,EAAU;CAClB,SAAKrD,IAAL,GAAYqB,MAAM,CAACo0C,MAAP,CAAc,EAAd,EAAkB,KAAKz1C,IAAvB,EAA6BqD,OAA7B,CAAZ;CACH;CAED;CACJ;CACA;CACA;;;CACIhK,EAAAA,IAAI,GAAG;CACH,WAAO,IAAIiK,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,UAAI,CAAC,KAAKwiB,MAAV,EAAkB;CACd,aAAKA,MAAL,GAAc,IAAI1L,MAAJ,CAAW,IAAX,CAAd;CACH;;CAED,UAAI,CAAC,KAAKpB,KAAV,EAAiB;CACb,aAAKA,KAAL,GAAa,IAAIomB,KAAJ,CAAU,IAAV,CAAb;CACH;;CAED,UAAI,KAAKt/B,IAAL,CAAU/G,MAAd,EAAsB;CAClB,YAAI,CAAC,KAAK+kC,gBAAV,EAA4B;CACxB,eAAKA,gBAAL,GAAwB,IAAIuB,gBAAJ,CAAqB,IAArB,CAAxB;CACH;CACJ;;CAED,UAAI,KAAKv/B,IAAL,CAAU9G,MAAd,EAAsB;CAClB,YAAI,CAAC,KAAK+kC,UAAV,EAAsB;CAClB,eAAKA,UAAL,GAAkB,IAAIsS,UAAJ,CAAe,IAAf,CAAlB;CACH;CACJ;;CAED,UAAI,CAAC,KAAKlU,aAAV,EAAyB;CACrB,aAAKA,aAAL,GAAqB,IAAID,aAAJ,CAAkB,IAAlB,CAArB;CAEA,aAAK5vB,IAAL,CAAUjS,MAAM,CAACE,iBAAjB,EAAoC,MAAM;CACtC8I,UAAAA,OAAO;CACV,SAFD;CAGH,OAND,MAMO;CACHA,QAAAA,OAAO;CACV;CAEJ,KA/BM,CAAP;CAgCH;CAGD;CACJ;CACA;CACA;CACA;;;CACInL,EAAAA,IAAI,CAACO,GAAD,EAAM;CACN,WAAO,IAAI2K,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,UAAI,CAAC7K,GAAD,IAAQ,CAAC,KAAKqH,IAAL,CAAUrH,GAAvB,EAA4B;CACxB,eAAO6K,MAAM,EAAb;CACH;;CAED,WAAK1I,OAAL,GAAe,IAAf;CACA,WAAKJ,OAAL,GAAe,KAAf;;CACA,UAAI,CAAC/B,GAAL,EAAU;CACNA,QAAAA,GAAG,GAAG,KAAKqH,IAAL,CAAUrH,GAAhB;CACH;;CACD,WAAKqH,IAAL,CAAUrH,GAAV,GAAgBA,GAAhB;CAEA,WAAK29C,sBAAL;CAEAp2C,MAAAA,OAAO,CAAChF,GAAR,CAAY,WAAZ,EAAyB,IAAzB,EAdoC;;CAiBpC,UAAI,KAAK8E,IAAL,CAAUhI,SAAd,EAAyB;CACrB;CACA,YAAI,KAAKgI,IAAL,CAAUnI,SAAd,EAAyB;CACrB,eAAK+C,IAAL,CAAU,KAAV;CACH;;CAED5C,QAAAA,WAAS,CAAC,IAAD,CAAT;CACH,OAPD,MAOO;CAEH,aAAKqB,IAAL,GAAY0K,IAAZ,CAAiB,MAAM;CACnB;CACA,cAAI,KAAK/D,IAAL,CAAUnI,SAAd,EAAyB;CACrB,iBAAK+C,IAAL,CAAU,KAAV;CACH;;CAGD,cAAI,KAAKojC,gBAAT,EAA2B;CACvB,iBAAKA,gBAAL,CAAsBxxB,IAAtB,CAA2BzP,YAAY,CAACI,uBAAxC,EAAiE,MAAM;CACnE,mBAAKgO,IAAL,CAAUpO,YAAY,CAACI,uBAAvB;CACA,mBAAKgO,IAAL,CAAU5Q,MAAM,CAACY,KAAjB,EAAwB4B,YAAY,CAACI,uBAArC;CACH,aAHD;CAIH;;CAED,cAAI,KAAK8gC,UAAT,EAAqB;CACjB,iBAAKA,UAAL,CAAgBzxB,IAAhB,CAAqBzP,YAAY,CAACK,yBAAlC,EAA6D,MAAM;CAC/D,mBAAK+N,IAAL,CAAUpO,YAAY,CAACK,yBAAvB;CACA,mBAAK+N,IAAL,CAAU5Q,MAAM,CAACY,KAAjB,EAAwB4B,YAAY,CAACK,yBAArC;CACH,aAHD;CAIH;;CAED,eAAKsnC,cAAL;CAEA,eAAK1e,MAAL,CAAY/M,WAAZ,CAAwBtgB,GAAxB,EAvBmB;;CA0BnB,eAAK49C,mBAAL,GA1BmB;;CA4BnB,eAAKvwB,MAAL,CAAYxZ,IAAZ,CAAiBzP,YAAY,CAACE,UAA9B,EAA2C9B,KAAD,IAAW;CACjDqI,YAAAA,MAAM,CAACrI,KAAD,CAAN;CACH,WAFD,EA5BmB;;CAiCnB,eAAK6qB,MAAL,CAAYxZ,IAAZ,CAAiBzP,YAAY,CAACG,cAA9B,EAA+C/B,KAAD,IAAW;CACrDqI,YAAAA,MAAM,CAACrI,KAAD,CAAN;CACH,WAFD,EAjCmB;;CAsCnB,eAAK6qB,MAAL,CAAYxZ,IAAZ,CAAiBjS,MAAM,CAAC2B,aAAxB,EAAuC,MAAM;CACzCqH,YAAAA,OAAO,GADkC;;CAGzC,gBAAI,KAAKvD,IAAL,CAAU9G,MAAd,EAAsB;CAClB,mBAAKe,KAAL,CAAW7B,IAAX;CACH;CACJ,WAND;CAQH,SA9CD,EA8CG4L,KA9CH,CA8CU8B,CAAD,IAAO;CACZtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH,SAhDD;CAiDH;CAEJ,KA7EM,CAAP;CA8EH;CAED;CACJ;CACA;;;CACIxL,EAAAA,KAAK,GAAG;CACJ,WAAO,IAAIgJ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,WAAKgzC,MAAL,GAAczyC,IAAd,CAAmB,MAAM;CACrB,aAAK9J,KAAL,CAAW+Z,SAAX;CACAzQ,QAAAA,OAAO;CACV,OAHD;CAIH,KALM,CAAP;CAMH;;CAEDizC,EAAAA,MAAM,GAAG;CACL,WAAO,IAAIlzC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC;CACA,UAAI,KAAKwiB,MAAT,EAAiB;CACb,aAAKA,MAAL,CAAY1pB,OAAZ;CACA,aAAK0pB,MAAL,GAAc,IAAd;CACH;;CAED,UAAI,KAAK9M,KAAT,EAAgB;CACZ,aAAKA,KAAL,CAAW5c,OAAX;CACA,aAAK4c,KAAL,GAAa,IAAb;CACH,OAVmC;;;CAapC,UAAI,KAAKmjB,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmB//B,OAAnB;CACA,aAAK+/B,aAAL,GAAqB,IAArB;CACH;;CAED,UAAI,KAAK2B,gBAAT,EAA2B;CACvB,aAAKA,gBAAL,CAAsB1hC,OAAtB;CACA,aAAK0hC,gBAAL,GAAwB,IAAxB;CACH;;CAED,UAAI,KAAKC,UAAT,EAAqB;CACjB,aAAKA,UAAL,CAAgB3hC,OAAhB;CACA,aAAK2hC,UAAL,GAAkB,IAAlB;CACH;;CAGD,WAAKqY,sBAAL;CACA,WAAKG,wBAAL;CACA,WAAK/7C,OAAL,GAAe,KAAf;CACA,WAAKI,OAAL,GAAe,KAAf;CACA,WAAKS,SAAL,GAAiB,KAAjB,CAjCoC;;CAmCpC,WAAKlD,KAAL,CAAWsC,KAAX,GAnCoC;;CAqCpC,WAAK+7C,eAAL,GArCoC;;CAuCpC,WAAKC,UAAL,GAvCoC;;CAyCpC,WAAKT,eAAL,GAAuB,CAAvB;CACA,WAAKD,eAAL,GAAuB,CAAvB,CA1CoC;;CA4CpCt6B,MAAAA,UAAU,CAAC,MAAM;CACbpY,QAAAA,OAAO;CACV,OAFS,EAEP,CAFO,CAAV;CAGH,KA/CM,CAAP;CAgDH;CAED;CACJ;CACA;CACA;CACA;;;CACI5I,EAAAA,KAAK,CAACqd,IAAD,EAAO;CACR,QAAIA,IAAJ,EAAU;CACN,aAAO,KAAK1d,KAAL,EAAP;CACH,KAFD,MAEO;CACH,aAAO,KAAKk8C,MAAL,EAAP;CACH;CACJ;CAED;CACJ;CACA;CACA;;;CACI57C,EAAAA,IAAI,CAACod,IAAD,EAAO;CACP,SAAK3f,KAAL,CAAWuC,IAAX,CAAgBod,IAAhB;CACH;CAED;CACJ;CACA;;;CACIhc,EAAAA,MAAM,GAAG;CACL,SAAK/B,KAAL,CAAW+B,MAAX;CACH;CAED;CACJ;CACA;CACA;CACA;;;CACI8/B,EAAAA,WAAW,CAAC/0B,QAAD,EAAW20B,QAAX,EAAqB;CAC5B,QAAI,KAAKngC,SAAT,EAAoB;CAChB;CACH;;CAED,SAAK8kB,QAAL,CAAcub,WAAd,CAA0B70B,QAA1B,EAAoC20B,QAApC;CACA,SAAKngC,SAAL,GAAiB,IAAjB;CACH;CAED;CACJ;CACA;;;CACI2gC,EAAAA,iBAAiB,GAAG;CAChB,QAAI,KAAK3gC,SAAT,EAAoB;CAChB,WAAKA,SAAL,GAAiB,KAAjB;CACH;CACJ;;CAEDm6C,EAAAA,WAAW,GAAG;CACV,QAAIlrC,MAAM,GAAG,KAAb;CAEA,QAAIosC,UAAU,GAAG,KAAjB;CACAv1C,IAAAA,MAAM,CAACiH,IAAP,CAAY,KAAKtI,IAAL,CAAU/H,WAAtB,EAAmCiJ,OAAnC,CAA4C/B,GAAD,IAAS;CAChD,UAAI,KAAKa,IAAL,CAAU/H,WAAV,CAAsBkH,GAAtB,CAAJ,EAAgC;CAC5By3C,QAAAA,UAAU,GAAG,IAAb;CACH;CACJ,KAJD;;CAMA,QAAI,KAAK52C,IAAL,CAAUrI,aAAV,IAA2B,KAAKqI,IAAL,CAAU62C,IAArC,IAA6CD,UAAjD,EAA6D;CACzDpsC,MAAAA,MAAM,GAAG,IAAT;CACH;;CAED,WAAOA,MAAP;CACH;;CAEDssC,EAAAA,UAAU,GAAG;CACT,SAAKR,sBAAL;CACA,SAAKS,iBAAL;CACH,GAtfuC;;;CAyfxCA,EAAAA,iBAAiB,GAAG;CAChB,SAAKlB,kBAAL,GAA0Bl6B,UAAU,CAAC,MAAM;CACvC,WAAKhhB,KAAL,CAAW,KAAX,EAAkBoJ,IAAlB,CAAuB,MAAM;CACzB,aAAKoH,IAAL,CAAU5Q,MAAM,CAAC9C,OAAjB,EAA0B8C,MAAM,CAACa,YAAjC;CACA,aAAK+P,IAAL,CAAU5Q,MAAM,CAACa,YAAjB;CACH,OAHD;CAIH,KALmC,EAKjC,KAAK4E,IAAL,CAAUxI,YAAV,GAAyB,IALQ,CAApC;CAMH,GAhgBuC;;;CAmgBxC8+C,EAAAA,sBAAsB,GAAG;CACrB,QAAI,KAAKT,kBAAT,EAA6B;CACzB9xB,MAAAA,YAAY,CAAC,KAAK8xB,kBAAN,CAAZ;CACA,WAAKA,kBAAL,GAA0B,IAA1B;CACH;CACJ,GAxgBuC;;;CA2gBxCU,EAAAA,mBAAmB,GAAG;CAClB,SAAKT,oBAAL,GAA4Bn6B,UAAU,CAAC,MAAM;CACzC,WAAKhhB,KAAL,CAAW,KAAX,EAAkBoJ,IAAlB,CAAuB,MAAM;CACzB,aAAKoH,IAAL,CAAU5Q,MAAM,CAAC9C,OAAjB,EAA0B8C,MAAM,CAAChD,cAAjC;CACA,aAAK4T,IAAL,CAAU5Q,MAAM,CAAChD,cAAjB;CACH,OAHD;CAIH,KALqC,EAKnC,KAAKyI,IAAL,CAAUzI,cAAV,GAA2B,IALQ,CAAtC;CAMH;;CAEDk/C,EAAAA,wBAAwB,GAAG;CACvB,QAAI,KAAKX,oBAAT,EAA+B;CAC3B/xB,MAAAA,YAAY,CAAC,KAAK+xB,oBAAN,CAAZ;CACA,WAAKA,oBAAL,GAA4B,IAA5B;CACH;CACJ;;CAEDnZ,EAAAA,YAAY,GAAG;CACX,QAAI,KAAK7hC,OAAT,EAAkB;CACd,WAAKqQ,IAAL,CAAU5Q,MAAM,CAACuB,KAAjB;CACA,WAAKhB,OAAL,GAAe,KAAf;CACA,WAAK27C,wBAAL;CACH;;CACD,QAAI,CAAC,KAAK/7C,OAAV,EAAmB;CACf,WAAKA,OAAL,GAAe,IAAf;CACH;;CACD,SAAKo8C,UAAL;CACH,GAriBuC;;;CAyiBxCla,EAAAA,WAAW,CAACv5B,OAAD,EAAU;CACjBA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;;CAEA,QAAI,CAAC,KAAK0yC,aAAV,EAAyB;CACrB,WAAKA,aAAL,GAAqBxuC,GAAG,EAAxB;CACH;;CAED,QAAI0D,UAAU,CAAC5H,OAAO,CAAC4P,EAAT,CAAd,EAA4B;CACxB,WAAK+iC,MAAL,CAAY/iC,EAAZ,GAAiB5P,OAAO,CAAC4P,EAAzB;CACH;;CAED,QAAIhI,UAAU,CAAC5H,OAAO,CAACw5B,GAAT,CAAd,EAA6B;CACzB,WAAKmZ,MAAL,CAAYnZ,GAAZ,GAAkBx5B,OAAO,CAACw5B,GAA1B;CACH;;CAED,QAAIx5B,OAAO,CAACkH,GAAZ,EAAiB;CACb,WAAKyrC,MAAL,CAAYzrC,GAAZ,IAAmB,CAAnB;CACH;;CACD,QAAIlH,OAAO,CAACq7B,IAAZ,EAAkB;CACd,WAAKsX,MAAL,CAAYtX,IAAZ,IAAoBr7B,OAAO,CAACq7B,IAA5B;CACH;;CACD,QAAIr7B,OAAO,CAACs7B,IAAZ,EAAkB;CACd,WAAKqX,MAAL,CAAYrX,IAAZ,IAAoBt7B,OAAO,CAACs7B,IAA5B;CACH;;CAED,UAAMqY,QAAQ,GAAGzvC,GAAG,EAApB;;CACA,UAAMw0B,SAAS,GAAGib,QAAQ,GAAG,KAAKjB,aAAlC;;CAEA,QAAIha,SAAS,GAAG,IAAI,IAApB,EAA0B;CACtB;CACH;;CAED,SAAK5wB,IAAL,CAAU5Q,MAAM,CAACc,KAAjB,EAAwB,KAAK26C,MAA7B;CACA,SAAK7qC,IAAL,CAAU5Q,MAAM,CAACe,WAAjB,EAA8BgP,SAAS,CAAC,KAAK0rC,MAAL,CAAYzrC,GAAb,CAAvC;CACA,SAAKyrC,MAAL,CAAYzrC,GAAZ,GAAkB,CAAlB;CACA,SAAKyrC,MAAL,CAAYtX,IAAZ,GAAmB,CAAnB;CACA,SAAKsX,MAAL,CAAYrX,IAAZ,GAAmB,CAAnB;CACA,SAAKoX,aAAL,GAAqBiB,QAArB;CACH;;CAEDL,EAAAA,UAAU,GAAG;CACT,SAAKZ,aAAL,GAAqB,IAArB;CACA,SAAKC,MAAL,GAAc;CACVnZ,MAAAA,GAAG,EAAE,CADK;CACF;CACRtyB,MAAAA,GAAG,EAAE,CAFK;CAGVm0B,MAAAA,IAAI,EAAE,CAHI;CAIVC,MAAAA,IAAI,EAAE,CAJI;CAKV1rB,MAAAA,EAAE,EAAE;CALM,KAAd;CAOH;;CAEDyxB,EAAAA,cAAc,GAAG;CACb,QAAI,KAAK1kC,IAAL,CAAUpI,YAAd,EAA4B;CACxB,WAAKA,YAAL,CAAkBi7C,MAAlB;CACH;CACJ;;CAED6D,EAAAA,eAAe,GAAG;CACd,QAAI,KAAK12C,IAAL,CAAUpI,YAAd,EAA4B;CACxB,WAAKA,YAAL,CAAkBw7C,OAAlB;CACH;CACJ;;CAED92C,EAAAA,OAAO,GAAG;CACN,SAAKq5C,QAAL,GAAgB,KAAhB;CACA,SAAKC,QAAL,GAAgB,KAAhB;CACA,SAAKvqC,UAAL,GAAkB,KAAlB;;CAGA,QAAI,KAAKgxB,aAAT,EAAwB;CACpB,WAAKA,aAAL,CAAmB//B,OAAnB;CACA,WAAK+/B,aAAL,GAAqB,IAArB;CACH;;CACD,QAAI,KAAKpiC,KAAT,EAAgB;CACZ,WAAKA,KAAL,CAAWqC,OAAX;CACA,WAAKrC,KAAL,GAAa,IAAb;CACH;;CAED,QAAI,KAAK5B,KAAT,EAAgB;CACZ,WAAKA,KAAL,CAAWiE,OAAX;CACA,WAAKjE,KAAL,GAAa,IAAb;CACH;;CAED,QAAI,KAAK2tB,MAAT,EAAiB;CACb,WAAKA,MAAL,CAAY1pB,OAAZ;CACA,WAAK0pB,MAAL,GAAc,IAAd;CACH;;CAED,QAAI,KAAK3F,QAAT,EAAmB;CACf,WAAKA,QAAL,CAAc/jB,OAAd;CACA,WAAK+jB,QAAL,GAAgB,IAAhB;CACH;;CAED,QAAI,KAAKogB,OAAT,EAAkB;CACd,WAAKA,OAAL,CAAankC,OAAb;CACA,WAAKmkC,OAAL,GAAe,IAAf;CACH;;CAED,QAAI,KAAKzC,gBAAT,EAA2B;CACvB,WAAKA,gBAAL,CAAsB1hC,OAAtB;CACA,WAAK0hC,gBAAL,GAAwB,IAAxB;CACH;;CAED,QAAI,KAAKC,UAAT,EAAqB;CACjB,WAAKA,UAAL,CAAgB3hC,OAAhB;CACA,WAAK2hC,UAAL,GAAkB,IAAlB;CACH;;CAED,QAAI,KAAK/kB,KAAT,EAAgB;CACZ,WAAKA,KAAL,CAAW5c,OAAX;CACA,WAAK4c,KAAL,GAAa,IAAb;CACH;;CAGD,QAAI,KAAK9N,MAAT,EAAiB;CACb,WAAKA,MAAL,CAAY9O,OAAZ;CACA,WAAK8O,MAAL,GAAc,IAAd;CACH;;CAED,SAAKkrC,sBAAL;CACA,SAAKG,wBAAL,GAzDM;;CA2DN,SAAKC,eAAL;CACA,SAAK9+C,YAAL,GAAoB,IAApB,CA5DM;;CA8DN,SAAK++C,UAAL;CACA,SAAKT,eAAL,GAAuB,CAAvB;CACA,SAAKD,eAAL,GAAuB,CAAvB,CAhEM;;CAmEN,SAAK9qC,IAAL,CAAU,SAAV,EAnEM;;CAqEN,SAAKzH,GAAL;CAEA,SAAKpM,KAAL,CAAW4D,GAAX,CAAe,MAAf,EAAuB,aAAvB;CACH;;CAhrBuC;;;CCrB5C;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA,GAAC,UAAS4K,CAAT,EAAWqgB,CAAX,EAAa;CAAC,IAAqD9jB,cAAA,GAAe8jB,CAAC,EAArE,CAAA;CAAwL,GAAtM,CAAuM8wB,cAAvM,EAA4M,YAAU;;CAAc,QAAI9wB,CAAJ,EAAM3f,CAAN;;CAAQ,aAASV,CAAT,CAAWA,CAAX,EAAa;CAAC,WAAK/F,IAAL,GAAU,UAAQ,MAAI6B,IAAI,CAAC0jB,MAAL,EAAJ,KAAoB,CAA5B,IAA+Ba,CAA/B,GAAiC,IAA3C,EAAgD,QAAMrgB,CAAN,IAASA,CAAC,CAAC5E,OAAF,CAAU,KAAKqK,GAAf,EAAmB,IAAnB,CAAzD,EAAkF4a,CAAC,IAAE,CAArF;CAAuF;;CAAAxlB,IAAAA,KAAK,CAACuf,SAAN,CAAgBg3B,IAAhB,IAAsB71C,MAAM,CAACC,cAAP,CAAsBX,KAAK,CAACuf,SAA5B,EAAsC,MAAtC,EAA6C;CAACi3B,MAAAA,YAAY,EAAC,CAAC,CAAf;CAAiBC,MAAAA,QAAQ,EAAC,CAAC,CAA3B;CAA6B/uC,MAAAA,KAAK,EAAC,UAASvC,CAAT,EAAW;CAAC,YAAG,SAAO,IAAV,EAAe,MAAM,IAAIuxC,SAAJ,CAAc,+BAAd,CAAN;CAAqD,YAAIlxB,CAAC,GAAC9kB,MAAM,CAAC,IAAD,CAAZ;CAAA,YAAmBmF,CAAC,GAAC2f,CAAC,CAACvjB,MAAF,KAAW,CAAhC;CAAkC,YAAG,cAAY,OAAOkD,CAAtB,EAAwB,MAAM,IAAIuxC,SAAJ,CAAc,8BAAd,CAAN;;CAAoD,aAAI,IAAI30C,CAAC,GAACkgB,SAAS,CAAC,CAAD,CAAf,EAAmBoN,CAAC,GAAC,CAAzB,EAA2BA,CAAC,GAACxpB,CAA7B,GAAgC;CAAC,cAAIsqB,CAAC,GAAC3K,CAAC,CAAC6J,CAAD,CAAP;CAAW,cAAGlqB,CAAC,CAACiW,IAAF,CAAOrZ,CAAP,EAASouB,CAAT,EAAWd,CAAX,EAAa7J,CAAb,CAAH,EAAmB,OAAO2K,CAAP;CAASd,UAAAA,CAAC,IAAE,CAAH;CAAK;CAAC;CAA/S,KAA7C,CAAtB,EAAqX0E,MAAM,CAACxU,SAAP,CAAiB2zB,UAAjB,IAA6BxyC,MAAM,CAACC,cAAP,CAAsBozB,MAAM,CAACxU,SAA7B,EAAuC,YAAvC,EAAoD;CAAC7X,MAAAA,KAAK,EAAC,UAASvC,CAAT,EAAWqgB,CAAX,EAAa;CAAC,eAAO,KAAK0B,SAAL,CAAe1B,CAAC,GAAC,CAACA,CAAD,IAAIA,CAAC,GAAC,CAAN,GAAQ,CAAR,GAAU,CAACA,CAA5B,EAA8BA,CAAC,GAACrgB,CAAC,CAAClD,MAAlC,MAA4CkD,CAAnD;CAAqD;CAA1E,KAApD,CAAlZ,EAAmhB3D,MAAM,CAACm1C,OAAP,KAAiBnxB,CAAC,GAAC3e,IAAI,CAACD,GAAL,KAAW,GAAb,EAAiBzB,CAAC,CAACoa,SAAF,CAAY3U,GAAZ,GAAgB,UAASzF,CAAT,EAAW;CAAC,UAAIqgB,CAAC,GAAC,KAAKpmB,IAAX;CAAgB,aAAO+F,CAAC,CAACqgB,CAAD,CAAD,IAAM9kB,MAAM,CAACC,cAAP,CAAsBwE,CAAtB,EAAwBqgB,CAAxB,EAA0B;CAAC9d,QAAAA,KAAK,EAAC,CAAC,CAAR;CAAU+uC,QAAAA,QAAQ,EAAC,CAAC;CAApB,OAA1B,CAAN,EAAwD,IAA/D;CAAoE,KAAjI,EAAkItxC,CAAC,CAACoa,SAAF,CAAYq3B,MAAZ,GAAmB,UAASzxC,CAAT,EAAW;CAAC,aAAM,CAAC,CAACA,CAAC,CAAC,KAAK/F,IAAN,CAAH,IAAgB,EAAE+F,CAAC,CAAC,KAAK/F,IAAN,CAAD,GAAa,KAAK,CAApB,CAAtB;CAA6C,KAA9M,EAA+M+F,CAAC,CAACoa,SAAF,CAAYs3B,GAAZ,GAAgB,UAAS1xC,CAAT,EAAW;CAAC,aAAM,CAAC,CAACA,CAAC,CAAC,KAAK/F,IAAN,CAAT;CAAqB,KAAhQ,EAAiQyG,CAAC,GAACV,CAAnQ,EAAqQzE,MAAM,CAACC,cAAP,CAAsBa,MAAtB,EAA6B,SAA7B,EAAuC;CAACkG,MAAAA,KAAK,EAAC,UAASvC,CAAT,EAAW;CAAC,eAAO,IAAIU,CAAJ,CAAMV,CAAN,CAAP;CAAgB;CAAnC,KAAvC,CAAtR,CAAnhB,EAAu3BzE,MAAM,CAACo0C,MAAP,IAAep0C,MAAM,CAACC,cAAP,CAAsBD,MAAtB,EAA6B,QAA7B,EAAsC;CAACyD,MAAAA,UAAU,EAAC,CAAC,CAAb;CAAeqyC,MAAAA,YAAY,EAAC,CAAC,CAA7B;CAA+BC,MAAAA,QAAQ,EAAC,CAAC,CAAzC;CAA2C/uC,MAAAA,KAAK,EAAC,UAASvC,CAAT,EAAW;CAAC,YAAG,QAAMA,CAAT,EAAW,MAAM,IAAIuxC,SAAJ,CAAc,yCAAd,CAAN;;CAA+D,aAAI,IAAIlxB,CAAC,GAAC9kB,MAAM,CAACyE,CAAD,CAAZ,EAAgBU,CAAC,GAAC,CAAtB,EAAwBA,CAAC,GAACoc,SAAS,CAAChgB,MAApC,EAA2C4D,CAAC,EAA5C,EAA+C,IAAG,SAAO9D,CAAC,GAACkgB,SAAS,CAACpc,CAAD,CAAlB,CAAH,EAA0B,KAAI,IAAI9D,CAAC,GAACrB,MAAM,CAACqB,CAAD,CAAZ,EAAgBstB,CAAC,GAAC3uB,MAAM,CAACiH,IAAP,CAAYjH,MAAM,CAACqB,CAAD,CAAlB,CAAlB,EAAyCouB,CAAC,GAAC,CAA3C,EAA6C2mB,CAAC,GAACznB,CAAC,CAACptB,MAArD,EAA4DkuB,CAAC,GAAC2mB,CAA9D,EAAgE3mB,CAAC,EAAjE,EAAoE;CAAC,cAAI7oB,CAAC,GAAC+nB,CAAC,CAACc,CAAD,CAAP;CAAA,cAAWpgB,CAAC,GAACrP,MAAM,CAACq2C,wBAAP,CAAgCh1C,CAAhC,EAAkCuF,CAAlC,CAAb;CAAkD,kBAAMyI,CAAN,IAASA,CAAC,CAAC5L,UAAX,KAAwBqhB,CAAC,CAACle,CAAD,CAAD,GAAKvF,CAAC,CAACuF,CAAD,CAA9B;CAAmC;;CAAA,eAAOke,CAAP;CAAS;CAAnX,KAAtC,CAAt4B;;CAAkyC,QAAIzjB,CAAC,GAAC,UAASoD,CAAT,EAAWqgB,CAAX,EAAa;CAAC,aAAM,CAACzjB,CAAC,GAACrB,MAAM,CAACs2C,cAAP,IAAuB;CAACC,QAAAA,SAAS,EAAC;CAAX,mBAAyBj3C,KAAzB,IAAgC,UAASmF,CAAT,EAAWqgB,CAAX,EAAa;CAACrgB,QAAAA,CAAC,CAAC8xC,SAAF,GAAYzxB,CAAZ;CAAc,OAAnF,IAAqF,UAASrgB,CAAT,EAAWqgB,CAAX,EAAa;CAAC,aAAI,IAAI3f,CAAR,IAAa2f,CAAb,EAAe9kB,MAAM,CAAC6e,SAAP,CAAiB8mB,cAAjB,CAAgCjrB,IAAhC,CAAqCoK,CAArC,EAAuC3f,CAAvC,MAA4CV,CAAC,CAACU,CAAD,CAAD,GAAK2f,CAAC,CAAC3f,CAAD,CAAlD;CAAuD,OAA5K,EAA8KV,CAA9K,EAAgLqgB,CAAhL,CAAN;CAAyL,KAA7M;CAAA,QAA8M0xB,CAAC,GAAC,YAAU;CAAC,aAAM,CAACA,CAAC,GAACx2C,MAAM,CAACo0C,MAAP,IAAe,UAAS3vC,CAAT,EAAW;CAAC,aAAI,IAAIqgB,CAAJ,EAAM3f,CAAC,GAAC,CAAR,EAAU9D,CAAC,GAACkgB,SAAS,CAAChgB,MAA1B,EAAiC4D,CAAC,GAAC9D,CAAnC,EAAqC8D,CAAC,EAAtC,EAAyC,KAAI,IAAIwpB,CAAR,IAAa7J,CAAC,GAACvD,SAAS,CAACpc,CAAD,CAAxB,EAA4BnF,MAAM,CAAC6e,SAAP,CAAiB8mB,cAAjB,CAAgCjrB,IAAhC,CAAqCoK,CAArC,EAAuC6J,CAAvC,MAA4ClqB,CAAC,CAACkqB,CAAD,CAAD,GAAK7J,CAAC,CAAC6J,CAAD,CAAlD;;CAAuD,eAAOlqB,CAAP;CAAS,OAAnK,EAAqK6G,KAArK,CAA2K,IAA3K,EAAgLiW,SAAhL,CAAN;CAAiM,KAA5Z;;CAA6Z,aAASlS,CAAT,GAAY;CAAC,WAAI,IAAI5K,CAAC,GAAC,CAAN,EAAQqgB,CAAC,GAAC,CAAV,EAAY3f,CAAC,GAACoc,SAAS,CAAChgB,MAA5B,EAAmCujB,CAAC,GAAC3f,CAArC,EAAuC2f,CAAC,EAAxC,EAA2CrgB,CAAC,IAAE8c,SAAS,CAACuD,CAAD,CAAT,CAAavjB,MAAhB;;CAAuB,WAAI,IAAIF,CAAC,GAAC/B,KAAK,CAACmF,CAAD,CAAX,EAAekqB,CAAC,GAAC,CAAjB,EAAmB7J,CAAC,GAAC,CAAzB,EAA2BA,CAAC,GAAC3f,CAA7B,EAA+B2f,CAAC,EAAhC,EAAmC,KAAI,IAAI2K,CAAC,GAAClO,SAAS,CAACuD,CAAD,CAAf,EAAmBsxB,CAAC,GAAC,CAArB,EAAuBxvC,CAAC,GAAC6oB,CAAC,CAACluB,MAA/B,EAAsC60C,CAAC,GAACxvC,CAAxC,EAA0CwvC,CAAC,IAAGznB,CAAC,EAA/C,EAAkDttB,CAAC,CAACstB,CAAD,CAAD,GAAKc,CAAC,CAAC2mB,CAAD,CAAN;;CAAU,aAAO/0C,CAAP;CAAS;;CAAA,aAASo1C,CAAT,CAAWhyC,CAAX,EAAa;CAAC,aAAM,CAACA,CAAC,GAACnF,KAAK,CAACC,OAAN,CAAckF,CAAd,IAAiBA,CAAjB,GAAmB,CAACA,CAAD,CAAtB,EAA2BjF,GAA3B,CAA+B,UAASslB,CAAT,EAAW3f,CAAX,EAAa;CAAC,eAAOnF,MAAM,CAAC02C,mBAAP,CAA2B5xB,CAA3B,EAA8BtlB,GAA9B,CAAkC,UAASiF,CAAT,EAAW;CAAC,iBAAOkqB,CAAC,CAAClqB,CAAD,CAAD,GAAK,GAAL,GAASU,CAAT,GAAW,IAAX,IAAiB,KAAK,CAAL,KAAS2f,CAAC,CAACrgB,CAAD,CAAV,GAAc,EAAd,GAAiBkqB,CAAC,CAAC7J,CAAC,CAACrgB,CAAD,CAAF,CAAnC,CAAP;CAAkD,SAAhG,EAAkGsH,IAAlG,CAAuG,GAAvG,CAAP;CAAmH,OAAhK,EAAkKA,IAAlK,CAAuK,GAAvK,KAA6KtH,CAAC,CAAClD,MAAF,GAAS,YAAUkD,CAAC,CAAClD,MAArB,GAA4B,EAAzM,CAAN;CAAmN;;CAAA,QAAIiH,CAAJ;CAAA,QAAMinB,CAAC,IAAE2mB,CAAC,CAACv3B,SAAF,CAAYgE,OAAZ,GAAoB,UAASpe,CAAT,EAAWqgB,CAAX,EAAa;CAAC,WAAI,IAAI3f,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACV,CAAC,CAAClD,MAAhB,EAAuB4D,CAAC,EAAxB,EAA2B,IAAGV,CAAC,CAACU,CAAD,CAAD,CAAK/F,QAAL,KAAgB0lB,CAAnB,EAAqB,OAAO3f,CAAP;;CAAS,aAAM,CAAC,CAAP;CAAS,KAApG,EAAqGixC,CAAC,CAACv3B,SAAF,CAAYvc,EAAZ,GAAe,UAASmC,CAAT,EAAWqgB,CAAX,EAAa3f,CAAb,EAAe;CAAC,UAAG,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,CAAf,GAAkB,IAArB,EAA0B;CAAC,YAAI9D,CAAC,GAAC,KAAKs1C,UAAL,CAAgBlyC,CAAhB,CAAN;CAAyB,eAAM,CAACpD,CAAC,KAAG,KAAKs1C,UAAL,CAAgBlyC,CAAhB,IAAmB,EAAnB,EAAsBpD,CAAC,GAAC,KAAKs1C,UAAL,CAAgBlyC,CAAhB,CAA3B,CAAD,EAAgD,CAAC,CAAD,KAAK,KAAKoe,OAAL,CAAaxhB,CAAb,EAAeyjB,CAAf,CAAtD,IAAyE,IAAzE,IAA+EzjB,CAAC,CAACzB,IAAF,CAAO;CAAClB,UAAAA,IAAI,EAAC+F,CAAN;CAAQQ,UAAAA,IAAI,EAACE,CAAC,IAAE,CAAhB;CAAkB/F,UAAAA,QAAQ,EAAC0lB;CAA3B,SAAP,GAAsC,IAArH,CAAN;CAAiI;CAAC,KAA1T,EAA2TsxB,CAAC,CAACv3B,SAAF,CAAY+3B,GAAZ,GAAgB,UAASnyC,CAAT,EAAWqgB,CAAX,EAAa;CAAC,WAAKxiB,EAAL,CAAQmC,CAAR,EAAUqgB,CAAV,EAAY,CAAZ;CAAe,KAAxW,EAAyWsxB,CAAC,CAACv3B,SAAF,CAAY/T,MAAZ,GAAmB,UAASrG,CAAT,EAAWqgB,CAAX,EAAa;CAAC,UAAG,IAAH,EAAQ;CAAC,YAAI3f,CAAC,GAAC,KAAKwxC,UAAL,CAAgBlyC,CAAhB,CAAN;CAAyB,YAAG,CAACU,CAAJ,EAAM,OAAO,IAAP;CAAY,YAAG2f,CAAH,EAAK,OAAO3f,CAAC,CAAC5D,MAAF,KAAWujB,CAAC,GAAC,KAAKjC,OAAL,CAAa1d,CAAb,EAAe2f,CAAf,CAAF,EAAoB3f,CAAC,CAAC0xC,MAAF,CAAS/xB,CAAT,EAAW,CAAX,CAA/B,GAA8C,IAArD;;CAA0D,YAAG;CAAC,iBAAO,KAAK6xB,UAAL,CAAgBlyC,CAAhB,CAAP;CAA0B,SAA9B,CAA8B,OAAMA,CAAN,EAAQ;;CAAE,eAAO,IAAP;CAAY;CAAC,KAAljB,EAAmjB2xC,CAAC,CAACv3B,SAAF,CAAYhM,KAAZ,GAAkB,YAAU;CAAC,WAAK8jC,UAAL,GAAgB,EAAhB;CAAmB,KAAnmB,EAAomBP,CAAtmB,CAAP;CAAA,QAAgnBznB,CAAC,GAAC,UAAS7J,CAAT,EAAW;CAAC,UAAG;CAAC,eAAOgyB,kBAAkB,CAACC,kBAAkB,CAACjyB,CAAD,CAAnB,CAAzB;CAAiD,OAArD,CAAqD,OAAMrgB,CAAN,EAAQ;CAAC,eAAOqgB,CAAP;CAAS;CAAC,KAAtsB;;CAAusB,aAASsxB,CAAT,GAAY;CAAC,UAAIA,CAAC,GAAC,IAAN;CAAW,WAAKtsC,IAAL,GAAU,UAASrF,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAGsxB,CAAH,EAAK;CAAC,cAAIjxC,CAAJ;CAAM,cAAG,SAAO9D,CAAC,GAAC+0C,CAAC,CAACO,UAAF,CAAalyC,CAAb,CAAT,KAA2BpD,CAAC,CAACE,MAAhC,EAAuC,KAAI,IAAIF,CAAC,GAACA,CAAC,CAACoK,KAAF,EAAN,EAAgBkjB,CAAC,GAAC,CAAtB,EAAwBA,CAAC,GAACttB,CAAC,CAACE,MAA5B,EAAmCotB,CAAC,EAApC,EAAuC;CAACxpB,YAAAA,CAAC,GAAC9D,CAAC,CAACstB,CAAD,CAAH;;CAAO,gBAAG;CAAC,kBAAIc,CAAC,GAACtqB,CAAC,CAAC/F,QAAF,CAAWkM,KAAX,CAAiB8qC,CAAjB,EAAmB,CAACtxB,CAAD,CAAnB,CAAN;CAA8B,kBAAG,MAAI3f,CAAC,CAACF,IAAN,IAAYmxC,CAAC,CAACtrC,MAAF,CAASrG,CAAT,EAAWU,CAAC,CAAC/F,QAAb,CAAZ,EAAmC,CAAC,CAAD,KAAKqwB,CAA3C,EAA6C;CAAM,aAArF,CAAqF,OAAMhrB,CAAN,EAAQ;CAAC,oBAAMA,CAAN;CAAQ;CAAC;CAAA,iBAAO2xC,CAAP;CAAS;CAAC,OAA3O,EAA4O,KAAKO,UAAL,GAAgB,EAA5P;CAA+P;;CAAA,KAACK,EAAE,GAACxuC,CAAC,GAACA,CAAC,IAAE,EAAT,EAAawuC,EAAE,CAACC,MAAH,GAAU,CAAC,CAAxB,IAA2B,QAA3B,EAAoCD,EAAE,CAACzsB,MAAH,GAAU,EAA9C;;CAAiD,aAAS3jB,CAAT,CAAWnC,CAAX,EAAaqgB,CAAb,EAAe;CAAC,aAAM,YAAU,OAAOrgB,CAAjB,IAAoB,YAAU,OAAOA,CAArC,GAAuCA,CAAvC,GAAyCqgB,CAAC,GAACtc,CAAC,CAAC+hB,MAAH,GAAU/hB,CAAC,CAACyuC,MAA5D;CAAmE;;CAAA,aAASvnB,CAAT,CAAWjrB,CAAX,EAAaqgB,CAAb,EAAe;CAAC,aAAM,YAAU,OAAOrgB,CAAjB,GAAmBA,CAAC,CAACK,KAAF,CAAQ,GAAR,EAAaggB,CAAC,GAAC,CAAD,GAAG,CAAjB,KAAqB,EAAxC,GAA2CrgB,CAAjD;CAAmD;;CAAA,aAAS6K,CAAT,CAAW7K,CAAX,EAAa;CAAC,aAAM,YAAU,OAAOA,CAAjB,IAAoBA,CAAC,CAAC+tC,UAAF,CAAa,IAAb,CAApB,GAAuC,eAAa,OAAO5wB,QAApB,IAA8B,aAAWA,QAAQ,CAAClqB,QAAzF,GAAkG,SAASwrB,IAAT,CAAcze,CAAd,CAAxG;CAAyH;;CAAA,aAASyyC,CAAT,CAAWpyB,CAAX,EAAa;CAAC,aAAOxjB,CAAC,CAAC61C,IAAF,CAAO,UAAS1yC,CAAT,EAAW;CAAC,eAAM,CAAC,CAAD,KAAKqgB,CAAC,CAACjC,OAAF,CAAUpe,CAAV,CAAX;CAAwB,OAA3C,CAAP;CAAoD;;CAAA,QAAI2yC,CAAJ;CAAA,QAAMC,CAAN;CAAA,QAAQxjB,CAAR;CAAA,QAAUvyB,CAAC,GAAC,CAAC,0BAAD,EAA4B,uBAA5B,EAAoD,iBAApD,EAAsE,iBAAtE,EAAwF,oBAAxF,EAA6G,wBAA7G,EAAsI,wBAAtI,EAA+J,8BAA/J,EAA8L,iBAA9L,EAAgN,WAAhN,EAA4N,UAA5N,EAAuO,iBAAvO,EAAyP,OAAzP,EAAiQ,OAAjQ,EAAyQ,OAAzQ,CAAZ;CAAA,QAA8R0uB,CAAC,GAAC,CAAC,KAAD,EAAO,SAAP,EAAiB,MAAjB,EAAwB,SAAxB,CAAhS;CAAA,QAAmUsnB,CAAC,GAAC,UAAS7yC,CAAT,EAAWqgB,CAAX,EAAa3f,CAAb,EAAe;CAAC,UAAI9D,CAAJ;;CAAM,UAAG;CAAC,YAAG,cAAY,QAAO,QAAMyjB,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACyyB,cAAxB,CAAf,EAAuD;CAAC,cAAI5oB,CAAC,GAAC7J,CAAC,CAACyyB,cAAF,CAAiB9yC,CAAjB,EAAmB,QAAMU,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC7N,GAApC,EAAwC,QAAM6N,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC+F,GAAzD,KAA+D,EAArE;CAAwE,iBAAM;CAACmwB,YAAAA,IAAI,EAAC,KAAK,CAAL,MAAU5L,CAAC,GAACd,CAAC,CAAC0M,IAAd,IAAoB,SAApB,GAA8B5L,CAApC;CAAsC+nB,YAAAA,KAAK,EAAC7oB,CAAC,CAAC6oB;CAA9C,WAAN;CAA2D;;CAAA,oBAAU,OAAO/yC,CAAjB,KAAqBA,CAAC,GAAC8mB,IAAI,CAACksB,KAAL,CAAWhzC,CAAX,CAAvB,GAAsC,cAAY,QAAO,UAAQpD,CAAC,GAAC,QAAMyjB,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACtjB,GAA3B,KAAiC,KAAK,CAAL,KAASH,CAA1C,GAA4C,KAAK,CAAjD,GAAmDA,CAAC,CAAC0K,IAA5D,CAAZ,KAAgFikB,CAAC,GAAC,GAAGY,MAAH,CAAU9L,CAAC,CAACtjB,GAAF,CAAMhC,GAAN,CAAU,UAASiF,CAAT,EAAW;CAAC,iBAAOA,CAAC,CAACwe,WAAF,EAAP;CAAuB,SAA7C,CAAV,CAAlF,CAAtC;CAAmL,YAAIwM,CAAJ;CAAA,YAAM2mB,CAAC,GAACp2C,MAAM,CAAC02C,mBAAP,CAA2BjyC,CAA3B,EAA8BogB,MAA9B,CAAqC,UAASpgB,CAAT,EAAW;CAAC,iBAAM,CAAC,CAAD,KAAKurB,CAAC,CAACnN,OAAF,CAAUpe,CAAC,CAACwe,WAAF,EAAV,CAAX;CAAsC,SAAvF,CAAR;CAAiG,eAAOmzB,CAAC,CAAC70C,MAAF,GAAS;CAAC85B,UAAAA,IAAI,EAAC,MAAI5L,CAAC,GAACjd,MAAM,CAAC/N,CAAC,CAAC2xC,CAAC,CAAC,CAAD,CAAF,CAAF,CAAZ,CAAN;CAA6BoB,UAAAA,KAAK,EAAC,MAAI/nB;CAAvC,SAAT,GAAmD;CAAC4L,UAAAA,IAAI,EAAC,SAAN;CAAgBmc,UAAAA,KAAK,EAAC,CAAC;CAAvB,SAA1D;CAAoF,OAAviB,CAAuiB,OAAM/yC,CAAN,EAAQ;CAAC,eAAM;CAAC42B,UAAAA,IAAI,EAAC,SAAN;CAAgBmc,UAAAA,KAAK,EAAC,CAAC;CAAvB,SAAN;CAAgC;CAAC,KAA56B;CAAA,QAA66BE,CAAC,GAAC,UAASjzC,CAAT,EAAW;CAAC,UAAG,YAAU,OAAOA,CAApB,EAAsB,OAAOA,CAAP;;CAAS,UAAG;CAAC,eAAM,CAAC8mB,IAAI,CAACC,SAAL,CAAe/mB,CAAf,GAAkBpD,CAAC,GAAC,EAAF,EAAKstB,CAAC,GAAC,EAAP,EAAU,UAASlqB,CAAT,EAAWqgB,CAAX,EAAa;CAAC,cAAGA,CAAC,YAAYO,KAAhB,EAAsB,OAAM,oBAAkBP,CAAC,CAAC9L,OAApB,GAA4B,oBAA5B,GAAiD8L,CAAC,CAAC6yB,KAAzD;;CAA+D,cAAG,YAAU,OAAO7yB,CAAjB,IAAoB,SAAOA,CAA9B,EAAgC;CAAC,gBAAI3f,CAAC,GAAC9D,CAAC,CAACwhB,OAAF,CAAUiC,CAAV,CAAN;CAAmB,gBAAG,CAAC,CAAD,KAAK3f,CAAR,EAAU,OAAM,eAAawpB,CAAC,CAACxpB,CAAD,CAAd,GAAkB,GAAxB;CAA4B9D,YAAAA,CAAC,CAACzB,IAAF,CAAOklB,CAAP,GAAU6J,CAAC,CAAC/uB,IAAF,CAAO6E,CAAC,IAAE,MAAV,CAAV;CAA4B;;CAAA,iBAAOqgB,CAAP;CAAS,SAA9P,GAAgQ,CAAhQ,KAAoQ,WAArQ,EAAkR5f,OAAlR,CAA0R,MAA1R,EAAiS,EAAjS,CAAN;CAA2S,OAA/S,CAA+S,OAAMT,CAAN,EAAQ;CAAC,eAAM,2CAAyCA,CAAC,CAACuU,OAA3C,GAAmD,MAAnD,GAA0DvU,CAAC,CAACkzC,KAAlE;CAAwE;;CAAA,UAAIt2C,CAAJ,EAAMstB,CAAN;CAAQ,KAAl2C;CAAA,QAAm2Cvf,CAAC,GAAC,UAASjK,CAAT,EAAW9D,CAAX,EAAa;CAAC,WAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,CAAf;CAAkB,UAAIstB,CAAJ;CAAA,UAAMc,CAAN;CAAA,UAAQ2mB,CAAR;CAAA,UAAUxvC,CAAC,GAAC,EAAZ;CAAe,aAAOtH,KAAK,CAACC,OAAN,CAAc4F,CAAd,KAAkByB,CAAC,IAAE,GAAH,EAAO+nB,CAAC,GAACxpB,CAAC,CAAC5D,MAAX,EAAkB4D,CAAC,CAACtF,OAAF,CAAU,UAAS4E,CAAT,EAAWqgB,CAAX,EAAa;CAACle,QAAAA,CAAC,IAAE,YAAU,OAAOnC,CAAjB,IAAoB,IAAEpD,CAAtB,GAAwB+N,CAAC,CAAC3K,CAAD,EAAGpD,CAAC,GAAC,CAAL,CAAzB,GAAiC8N,CAAC,CAAC1K,CAAD,CAArC,EAAyCmC,CAAC,IAAEke,CAAC,KAAG6J,CAAC,GAAC,CAAN,GAAQ,EAAR,GAAW,GAAvD;CAA2D,OAAnF,CAAlB,EAAuG/nB,CAAC,IAAE,GAA5H,IAAiIzB,CAAC,YAAYnF,MAAb,IAAqB4G,CAAC,GAAC,GAAF,EAAM6oB,CAAC,GAACzvB,MAAM,CAACiH,IAAP,CAAY9B,CAAZ,CAAR,EAAuBixC,CAAC,GAAC3mB,CAAC,CAACluB,MAA3B,EAAkCkuB,CAAC,CAAC5vB,OAAF,CAAU,UAAS4E,CAAT,EAAWqgB,CAAX,EAAa;CAAC,oBAAU,OAAO3f,CAAC,CAACV,CAAD,CAAlB,IAAuB,IAAEpD,CAAzB,GAA2BuF,CAAC,IAAE,MAAInC,CAAJ,GAAM,IAAN,GAAW2K,CAAC,CAACjK,CAAC,CAACV,CAAD,CAAF,EAAMpD,CAAC,GAAC,CAAR,CAA1C,GAAqDuF,CAAC,IAAEgxC,CAAC,CAACnzC,CAAD,EAAGU,CAAC,CAACV,CAAD,CAAJ,CAAzD,EAAkEmC,CAAC,IAAEke,CAAC,KAAGsxB,CAAC,GAAC,CAAN,IAAStxB,CAAC,GAACsxB,CAAC,GAAC,CAAJ,IAAO,KAAK,CAAL,KAASjxC,CAAC,CAACsqB,CAAC,CAAC3K,CAAC,GAAC,CAAH,CAAF,CAA1B,GAAmC,EAAnC,GAAsC,GAA3G;CAA+G,OAAvI,CAAlC,EAA2Kle,CAAC,IAAE,GAAnM,IAAwMA,CAAC,IAAEzB,CAA5U,EAA8UyB,CAArV;CAAuV,KAA3uD;CAAA,QAA4uDgxC,CAAC,GAAC,UAASnzC,CAAT,EAAWqgB,CAAX,EAAa;CAAC,UAAI3f,CAAC,GAAC,OAAO2f,CAAb;CAAA,UAAezjB,CAAC,GAAC,EAAjB;CAAoB,aAAM,YAAU8D,CAAV,IAAa,YAAUA,CAAvB,GAAyB9D,CAAC,IAAE,MAAIoD,CAAJ,GAAM,KAAN,GAAYqgB,CAAZ,GAAc,GAA1C,GAA8C,cAAY,OAAOA,CAAnB,GAAqBzjB,CAAC,IAAE,MAAIoD,CAAJ,GAAM,cAAN,GAAqBqgB,CAAC,CAACpmB,IAAvB,GAA4B,GAApD,GAAwD,YAAU,OAAOomB,CAAjB,GAAmBzjB,CAAC,IAAE,MAAIoD,CAAJ,GAAM,YAA5B,GAAyC,YAAU,OAAOqgB,CAAjB,IAAoB,aAAW3f,CAA/B,KAAmC9D,CAAC,IAAE,MAAIoD,CAAJ,GAAM,KAAN,GAAYqgB,CAAlD,CAA/I,EAAoMzjB,CAA1M;CAA4M,KAA59D;CAAA,QAA69D8N,CAAC,GAAC,UAAS1K,CAAT,EAAW;CAAC,UAAIqgB,CAAC,GAAC,OAAOrgB,CAAb;CAAe,aAAM,MAAI,eAAaqgB,CAAb,IAAgB,YAAUA,CAA1B,IAA6B,cAAYA,CAAzC,GAA2C,MAA3C,GAAkD,YAAUA,CAAV,IAAa,YAAUA,CAAvB,GAAyB,MAAIrgB,CAAJ,GAAM,GAA/B,GAAmCA,CAAzF,CAAN;CAAkG,KAA5lE;CAAA,QAA6lEoC,CAAC,IAAEywB,CAAC,CAACzY,SAAF,CAAYg5B,SAAZ,GAAsB,YAAU;CAAC,aAAO,KAAKnsC,IAAL,CAAUosC,WAAjB;CAA6B,KAA9D,EAA+DxgB,CAAC,CAACzY,SAAF,CAAYk5B,MAAZ,GAAmB,YAAU;CAAC,aAAOvlC,MAAM,CAAC,KAAK9G,IAAL,CAAUqsC,MAAX,CAAb;CAAgC,KAA7H,EAA8HzgB,CAAC,CAACzY,SAAF,CAAYi1B,OAAZ,GAAoB,YAAU;CAAC,UAAIrvC,CAAC,GAAC,KAAKiH,IAAL,CAAUssC,qBAAV,GAAkClzC,KAAlC,CAAwC,IAAxC,CAAN;CAAA,UAAoDK,CAAC,GAAC,EAAtD;CAAyD,aAAOV,CAAC,CAAC5E,OAAF,CAAU,UAAS4E,CAAT,EAAW;CAAC,YAAIqgB,CAAJ;CAAMrgB,QAAAA,CAAC,KAAGA,CAAC,GAAC,CAACqgB,CAAC,GAACrgB,CAAC,CAACK,KAAF,CAAQ,IAAR,CAAH,EAAkB,CAAlB,CAAF,EAAuBggB,CAAC,GAACA,CAAC,CAAC,CAAD,CAAD,CAAKmzB,IAAL,EAAzB,EAAqC9yC,CAAC,CAACV,CAAD,CAAD,GAAKqgB,CAA7C,CAAD;CAAiD,OAA7E,GAA+E3f,CAAtF;CAAwF,KAA9S,EAA+SmyB,CAAjT,CAA9lE;CAAA,QAAk5E4gB,CAAC,IAAEC,CAAC,CAACt5B,SAAF,CAAYg5B,SAAZ,GAAsB,YAAU;CAAC,aAAO,KAAKnsC,IAAL,CAAUpU,GAAjB;CAAqB,KAAtD,EAAuD6gD,CAAC,CAACt5B,SAAF,CAAYk5B,MAAZ,GAAmB,YAAU;CAAC,aAAOvlC,MAAM,CAAC,KAAK9G,IAAL,CAAUqsC,MAAX,CAAb;CAAgC,KAArH,EAAsHI,CAAC,CAACt5B,SAAF,CAAYi1B,OAAZ,GAAoB,YAAU;CAAC,UAAI3uC,CAAC,GAAC,EAAN;CAAS,aAAO,KAAKuG,IAAL,CAAUooC,OAAV,CAAkBj0C,OAAlB,CAA0B,UAAS4E,CAAT,EAAWqgB,CAAX,EAAa;CAAC3f,QAAAA,CAAC,CAAC2f,CAAD,CAAD,GAAKrgB,CAAL;CAAO,OAA/C,GAAiDU,CAAxD;CAA0D,KAAxN,EAAyNgzC,CAA3N,CAAn5E;;CAAinF,aAASA,CAAT,CAAW1zC,CAAX,EAAaqgB,CAAb,EAAe;CAAC,WAAK7f,IAAL,GAAU,OAAV,EAAkB,KAAKyG,IAAL,GAAUjH,CAAC,IAAE,EAA/B,EAAkC,KAAKiH,IAAL,CAAU0sC,QAAV,GAAmBtzB,CAArD;CAAuD;;CAAA,aAASwS,CAAT,CAAW7yB,CAAX,EAAa;CAAC,WAAKQ,IAAL,GAAU,KAAV,EAAgB,KAAKyG,IAAL,GAAUjH,CAA1B;CAA4B;;CAAA,KAAC4zC,EAAE,GAACjB,CAAC,GAACA,CAAC,IAAE,EAAT,EAAakB,QAAb,GAAsB,IAAtB,EAA2BD,EAAE,CAACE,YAAH,GAAgB,GAA3C,EAA+CF,EAAE,CAACG,IAAH,GAAQ,GAAvD,EAA2DH,EAAE,CAACI,KAAH,GAAS,GAApE,EAAwEJ,EAAE,CAACK,aAAH,GAAiB,GAAzF,EAA6FL,EAAE,CAACM,UAAH,GAAc,IAA3G,EAAgHN,EAAE,CAACO,YAAH,GAAgB,IAAhI,EAAqIP,EAAE,CAACQ,WAAH,GAAe,IAApJ,EAAyJR,EAAE,CAACS,SAAH,GAAa,KAAtK,EAA4KT,EAAE,CAACU,aAAH,GAAiB,KAA7L,EAAmMV,EAAE,CAACW,WAAH,GAAe,KAAlN,EAAwNX,EAAE,CAACY,SAAH,GAAa,MAArO,EAA4OZ,EAAE,CAACa,MAAH,GAAU,MAAtP,EAA6Pb,EAAE,CAACc,EAAH,GAAM,MAAnQ,EAA0Qd,EAAE,CAACe,KAAH,GAAS,MAAnR,EAA0Rf,EAAE,CAACgB,oBAAH,GAAwB,OAAlT,EAA0T,CAACC,EAAE,GAAC,EAAJ,EAAQA,EAAE,CAACC,OAAH,GAAW,CAAnB,IAAsB,SAAhV,EAA0VD,EAAE,CAACA,EAAE,CAACE,GAAH,GAAO,CAAR,CAAF,GAAa,KAAvW,EAA6WF,EAAE,CAACA,EAAE,CAACG,OAAH,GAAW,CAAZ,CAAF,GAAiB,SAA9X,EAAwYH,EAAE,CAACA,EAAE,CAACI,KAAH,GAAS,CAAV,CAAF,GAAe,OAAvZ,EAA+ZJ,EAAE,CAACA,EAAE,CAACK,KAAH,GAAS,CAAV,CAAF,GAAe,OAA9a,EAAsbL,EAAE,CAACA,EAAE,CAACM,QAAH,GAAY,CAAb,CAAF,GAAkB,UAAxc,EAAmdN,EAAE,CAACA,EAAE,CAACO,KAAH,GAAS,GAAV,CAAF,GAAiB,OAApe,EAA4e,CAACC,EAAE,GAAC,EAAJ,EAAQA,EAAE,CAACC,OAAH,GAAW,GAAnB,IAAwB,SAApgB,EAA8gBD,EAAE,CAACA,EAAE,CAACE,IAAH,GAAQ,CAAT,CAAF,GAAc,MAA5hB,EAAmiBF,EAAE,CAACA,EAAE,CAACG,KAAH,GAAS,CAAV,CAAF,GAAe,OAAljB,EAA0jBH,EAAE,CAACA,EAAE,CAACI,KAAH,GAAS,CAAV,CAAF,GAAe,OAAzkB,EAAilBJ,EAAE,CAACA,EAAE,CAACK,KAAH,GAAS,CAAV,CAAF,GAAe,OAAhmB,EAAwmBL,EAAE,CAACA,EAAE,CAACM,KAAH,GAAS,CAAV,CAAF,GAAe,OAAvnB,EAA+nBN,EAAE,CAACA,EAAE,CAACO,KAAH,GAAS,CAAV,CAAF,GAAe,OAA9oB,EAAspB,CAACC,EAAE,GAACjD,CAAC,GAACA,CAAC,IAAE,EAAT,EAAakD,GAAb,GAAiB,KAAvqB,EAA6qBD,EAAE,CAACE,KAAH,GAAS,OAAtrB,EAA8rBF,EAAE,CAACG,WAAH,GAAe,aAA7sB,EAA2tBH,EAAE,CAACI,OAAH,GAAW,SAAtuB,EAAgvBJ,EAAE,CAACK,UAAH,GAAc,WAA9vB,EAA0wBL,EAAE,CAACM,MAAH,GAAU,QAApxB,EAA6xBN,EAAE,CAACnB,EAAH,GAAM,IAAnyB,EAAwyBmB,EAAE,CAACO,SAAH,GAAa,UAArzB,EAAg0BP,EAAE,CAAClB,KAAH,GAAS,OAAz0B,EAAi1BkB,EAAE,CAACQ,MAAH,GAAU,QAA31B,EAAo2BR,EAAE,CAACS,SAAH,GAAa,UAAj3B,EAA43BT,EAAE,CAACU,QAAH,GAAY,SAAx4B,EAAk5B,CAACC,EAAE,GAACpnB,CAAC,GAACA,CAAC,IAAE,EAAT,EAAaqnB,UAAb,GAAwB,YAA16B,EAAu7BD,EAAE,CAACE,IAAH,GAAQ,MAA/7B,EAAs8BF,EAAE,CAACG,GAAH,GAAO,KAA78B,EAAm9BH,EAAE,CAACI,KAAH,GAAS,OAA59B,EAAo+BJ,EAAE,CAACK,KAAH,GAAS,OAA7+B,EAAq/BL,EAAE,CAAC/3B,IAAH,GAAQ,MAA7/B,EAAogC+3B,EAAE,CAACM,MAAH,GAAU,QAA9gC;;CAAuhC,aAASC,CAAT,CAAW/2C,CAAX,EAAa;CAAC,aAAOA,CAAC,CAACogB,MAAF,CAAS,UAAS1f,CAAT,EAAW9D,CAAX,EAAa;CAAC,eAAM,aAAW8D,CAAC,CAACF,IAAb,IAAmB,CAACR,CAAC,CAACoxC,IAAF,CAAO,UAASpxC,CAAT,EAAWqgB,CAAX,EAAa;CAAC,iBAAOzjB,CAAC,KAAGyjB,CAAJ,IAAO3f,CAAC,CAAC7N,GAAF,KAAQmN,CAAC,CAACnN,GAAjB,IAAsB,QAAM6N,CAAC,CAAC4yC,MAArC;CAA4C,SAAjE,CAA1B;CAA6F,OAApH,CAAP;CAA6H;;CAAA,aAAS0D,CAAT,CAAWh3C,CAAX,EAAa;CAACA,MAAAA,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACkB,QAAZ,KAAuB7zC,CAAC,CAACwpC,KAAF,GAAQmJ,CAAC,CAACoB,IAAjC;CAAuC;;CAAA,aAAS3Q,CAAT,CAAWlZ,CAAX,EAAa;CAAC,aAAO,UAASlqB,CAAT,EAAWqgB,CAAX,EAAa;CAAC6J,QAAAA,CAAC,CAAC+sB,SAAF,CAAY5xC,IAAZ,CAAiB,eAAjB,EAAiCrF,CAAjC;CAAoC,YAAIU,CAAC,GAACwpB,CAAC,CAACvV,MAAF,CAASuiC,aAAf;CAA6B,YAAG,cAAY,OAAOx2C,CAAtB,EAAwB,IAAG;CAAC,cAAI9D,CAAC,GAAC8D,CAAC,CAACV,CAAD,CAAP;CAAW,sBAAU,OAAOpD,CAAjB,IAAoB,SAAQA,CAA5B,KAAgCoD,CAAC,GAACpD,CAAlC;CAAqC,SAApD,CAAoD,OAAMoD,CAAN,EAAQ;CAAC5F,UAAAA,OAAO,CAAC/E,KAAR,CAAc2K,CAAd;CAAiB;CAAAqgB,QAAAA,CAAC,CAACrgB,CAAD,CAAD;CAAK,OAAjM;CAAkM;;CAAA,aAASm3C,CAAT,CAAWv6C,CAAX,EAAa;CAAC,aAAO,UAASoD,CAAT,EAAWqgB,CAAX,EAAa;CAACzjB,QAAAA,CAAC,CAACq6C,SAAF,CAAY5xC,IAAZ,CAAiB,cAAjB,EAAgCrF,CAAhC;CAAmC,YAAIU,CAAC,GAAC9D,CAAC,CAAC+X,MAAF,CAASyiC,YAAf;CAA4B,sBAAY,OAAO12C,CAAnB,IAAsB,CAAC,CAAD,KAAKA,CAAC,CAACV,CAAD,CAA5B,IAAiCqgB,CAAC,CAACrgB,CAAD,CAAlC;CAAsC,OAA1H;CAA2H;;CAAA,aAAS8e,CAAT,GAAY;;CAAE,aAAShY,CAAT,CAAWuZ,CAAX,EAAa3f,CAAb,EAAe;CAACnF,MAAAA,MAAM,CAAC02C,mBAAP,CAA2B5xB,CAA3B,EAA8BjlB,OAA9B,CAAsC,UAAS4E,CAAT,EAAW;CAAC,sBAAY,OAAOqgB,CAAC,CAACrgB,CAAD,CAApB,IAAyB,kBAAgBA,CAAzC,KAA6CU,CAAC,GAACA,CAAC,CAACV,CAAD,CAAD,GAAK,mBAAiBA,CAAjB,GAAmB,YAAU;CAAC,iBAAO,YAAU,EAAjB;CAAoB,SAAlD,GAAmD,YAAU,EAAnE,GAAsEqgB,CAAC,CAACrgB,CAAD,CAAD,GAAK,YAAU,EAAnI;CAAuI,OAAzL;CAA2L;;CAAA,aAASq3C,CAAT,CAAWh3B,CAAX,EAAa;CAAC,UAAGA,CAAC,CAACyX,OAAL,EAAa;CAAC,YAAIp3B,CAAC,GAAC,EAAN;CAAS,eAAOnF,MAAM,CAACiH,IAAP,CAAY6d,CAAZ,EAAejlB,OAAf,CAAuB,UAAS4E,CAAT,EAAW;CAAC,wBAAYA,CAAZ,KAAgBU,CAAC,CAACV,CAAD,CAAD,GAAKqgB,CAAC,CAACrgB,CAAD,CAAtB;CAA2B,SAA9D,GAAgEU,CAAvE;CAAyE;;CAAA,aAAO2f,CAAP;CAAS;;CAAA,aAASvc,CAAT,GAAY;CAAC,aAAO,KAAK,CAAL,KAASzH,MAAM,CAAC7G,WAAhB,IAA6B,cAAY,OAAOA,WAAW,CAAC8hD,oBAA5D,IAAkF,cAAY,OAAO9hD,WAAW,CAAC+hD,gBAAjH,IAAmI,cAAY,OAAO/hD,WAAW,CAACiM,GAAzK;CAA6K;;CAAA,aAAS+1C,CAAT,CAAWn3B,CAAX,EAAa;CAAC,UAAGo3B,EAAE,CAACrG,IAAH,CAAQ,UAASpxC,CAAT,EAAW;CAAC,eAAOA,CAAC,CAAC/F,IAAF,KAASomB,CAAC,CAACpmB,IAAlB;CAAuB,OAA3C,CAAH,EAAgD,MAAM,IAAI2mB,KAAJ,CAAU,WAASP,CAAC,CAACpmB,IAAX,GAAgB,qCAA1B,CAAN;CAAuE,UAAIyG,CAAJ,EAAM9D,CAAN;CAAQ66C,MAAAA,EAAE,CAACt8C,IAAH,CAAQklB,CAAR,GAAW,CAACq3B,EAAD,IAAKr7C,MAAM,CAACs7C,cAAZ,KAA6BD,EAAE,GAAC,CAAC,CAAJ,EAAMh3C,CAAC,GAACrE,MAAM,CAACs7C,cAAP,CAAsBv9B,SAAtB,CAAgCw9B,IAAxC,EAA6Ch7C,CAAC,GAACP,MAAM,CAACs7C,cAAP,CAAsBv9B,SAAtB,CAAgC1iB,IAA/E,EAAoF2E,MAAM,CAACs7C,cAAP,CAAsBv9B,SAAtB,CAAgC1iB,IAAhC,GAAqC,YAAU;CAAC,YAAG,KAAKmgD,WAAL,GAAiB/6B,SAAS,CAAC,CAAD,CAA1B,EAA8B,KAAKg7B,QAAL,GAAch7B,SAAS,CAAC,CAAD,CAArD,EAAyD,KAAKi7B,iBAAL,GAAuBr2C,IAAI,CAACD,GAAL,EAAhF,EAA2F,CAAC,KAAKu2C,WAApG,EAAgH,KAAI,IAAIh4C,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACy3C,EAAE,CAAC36C,MAAjB,EAAwBkD,CAAC,EAAzB,EAA4B;CAAC,cAAIqgB,CAAC,GAACo3B,EAAE,CAACz3C,CAAD,CAAR;;CAAY,cAAG;CAAC,0BAAY,OAAOqgB,CAAC,CAAC3oB,IAArB,IAA2B2oB,CAAC,CAAC3oB,IAAF,CAAO,IAAP,CAA3B;CAAwC,WAA5C,CAA4C,OAAMsI,CAAN,EAAQ;CAAG;CAAA,eAAOpD,CAAC,CAACiK,KAAF,CAAQ,IAAR,EAAaiW,SAAb,CAAP;CAA+B,OAAnX,EAAoXzgB,MAAM,CAACs7C,cAAP,CAAsBv9B,SAAtB,CAAgCw9B,IAAhC,GAAqC,YAAU;CAAC,YAAG,CAAC,KAAKI,WAAT,EAAqB,KAAI,IAAIh4C,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACy3C,EAAE,CAAC36C,MAAjB,EAAwBkD,CAAC,EAAzB,EAA4B;CAAC,cAAIqgB,CAAC,GAACo3B,EAAE,CAACz3C,CAAD,CAAR;;CAAY,cAAG;CAAC,0BAAY,OAAOqgB,CAAC,CAACu3B,IAArB,IAA2Bv3B,CAAC,CAACu3B,IAAF,CAAO,IAAP,EAAY96B,SAAS,CAAC,CAAD,CAArB,CAA3B;CAAqD,WAAzD,CAAyD,OAAM9c,CAAN,EAAQ;CAAG;CAAA,eAAOU,CAAC,CAACmG,KAAF,CAAQ,IAAR,EAAaiW,SAAb,CAAP;CAA+B,OAAlmB,CAAX;CAA+mB;;CAAA,aAASm7B,CAAT,CAAW53B,CAAX,EAAa;CAAC,UAAIrgB,CAAC,GAACy3C,EAAE,CAACS,SAAH,CAAa,UAASl4C,CAAT,EAAW;CAAC,eAAOA,CAAC,CAAC/F,IAAF,KAASomB,CAAC,CAACpmB,IAAlB;CAAuB,OAAhD,CAAN;CAAwD,OAAC,CAAD,KAAK+F,CAAL,IAAQy3C,EAAE,CAACrF,MAAH,CAAUpyC,CAAV,EAAY,CAAZ,CAAR;CAAuB;;CAAA,QAAIm4C,CAAJ;CAAA,QAAMC,CAAN;CAAA,QAAQC,CAAC,GAAC,UAASz7C,CAAT,EAAWstB,CAAX,EAAa;CAAC,aAAO,UAASlqB,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAI3f,CAAC,GAACwpB,CAAC,CAACouB,UAAR;CAAmB,YAAG,cAAY,OAAO53C,CAAtB,EAAwB,OAAO9D,CAAC,CAAC,aAAD,EAAeoD,CAAf,CAAD,EAAmBqgB,CAAC,CAACrgB,CAAD,CAA3B;CAA+BA,QAAAA,CAAC,GAACA,CAAC,CAACogB,MAAF,CAAS,UAASpgB,CAAT,EAAW;CAAC,iBAAM,CAAC,CAAD,KAAKU,CAAC,CAACV,CAAD,CAAZ;CAAgB,SAArC,CAAF;CAAyC,eAAOpD,CAAC,CAAC,aAAD,EAAeoD,CAAf,CAAD,EAAmBqgB,CAAC,CAACrgB,CAAD,CAA3B;CAA+B,OAAvK;CAAwK,KAAhM;CAAA,QAAiMu4C,CAAC,GAAC,UAASv4C,CAAT,EAAWU,CAAX,EAAa;CAAC,UAAI9D,CAAJ;CAAA,UAAMstB,CAAC,GAAC,EAAR;CAAA,UAAWc,CAAC,GAAChrB,CAAC,CAAC2U,MAAf;CAAsB,aAAO3U,CAAC,CAACi3C,SAAF,CAAYp5C,EAAZ,CAAe,SAAf,EAAyB,YAAU;CAACqsB,QAAAA,CAAC,CAACptB,MAAF,GAAS,CAAT;CAAW,OAA/C,GAAiD,UAASkD,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAG6J,CAAC,CAAC/uB,IAAF,CAAO6E,CAAP,GAAUU,CAAC,IAAEwpB,CAAC,CAACptB,MAAF,IAAU4D,CAA1B,EAA4B,OAAOwpB,CAAC,GAAC6sB,CAAC,CAAC7sB,CAAD,CAAH,EAAO7J,CAAC,CAAC6J,CAAC,CAACkoB,MAAF,CAAS,CAAT,EAAWloB,CAAC,CAACptB,MAAb,CAAD,CAAR,EAA+B,MAAKF,CAAC,IAAEqhB,YAAY,CAACrhB,CAAD,CAApB,CAAtC;CAA+DA,QAAAA,CAAC,IAAEqhB,YAAY,CAACrhB,CAAD,CAAf,EAAmBA,CAAC,GAACiZ,UAAU,CAAC,YAAU;CAACjZ,UAAAA,CAAC,GAAC,IAAF,EAAO,IAAE,CAACstB,CAAC,GAAC6sB,CAAC,CAAC7sB,CAAD,CAAJ,EAASptB,MAAX,IAAmBujB,CAAC,CAAC6J,CAAC,CAACkoB,MAAF,CAAS,CAAT,EAAWloB,CAAC,CAACptB,MAAb,CAAD,CAA3B;CAAkD,SAA9D,EAA+DkuB,CAAC,CAACgM,KAAjE,CAA/B;CAAuG,OAAxQ;CAAyQ,KAAhf;CAAA,QAAifwhB,CAAC,GAAC,UAASx4C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,aAAOxlB,KAAK,CAACC,OAAN,CAAckF,CAAd,IAAiBqgB,CAAC,CAACrgB,CAAC,CAACjF,GAAF,CAAM,UAASiF,CAAT,EAAW;CAAC,eAAO+xC,CAAC,CAACA,CAAC,CAAC,EAAD,EAAI/xC,CAAJ,CAAF,EAAS;CAACiN,UAAAA,GAAG,EAAC,YAAU,OAAOjN,CAAC,CAACiN,GAAnB,GAAuBjN,CAAC,CAACiN,GAAzB,GAA6B,GAAGkf,MAAH,CAAUnsB,CAAC,CAACiN,GAAZ,EAAiBlS,GAAjB,CAAqBk4C,CAArB,EAAwB3rC,IAAxB,CAA6B,GAA7B;CAAlC,SAAT,CAAR;CAAuF,OAAzG,CAAD,CAAlB,GAA+H+Y,CAAC,CAAC0xB,CAAC,CAACA,CAAC,CAAC,EAAD,EAAI/xC,CAAJ,CAAF,EAAS;CAACiN,QAAAA,GAAG,EAAC,YAAU,OAAOjN,CAAC,CAACiN,GAAnB,GAAuBjN,CAAC,CAACiN,GAAzB,GAA6BgmC,CAAC,CAACjzC,CAAC,CAACiN,GAAH;CAAnC,OAAT,CAAF,CAAvI;CAAgM,KAAjsB;CAAA,QAAksBwrC,CAAC,GAAC,UAAS9G,CAAT,EAAW;CAAC,UAAI3xC,CAAJ;CAAA,UAAMmC,CAAC,GAAC,CAAC,CAAT;CAAA,UAAWyI,CAAC,GAAC,CAAC,CAAd;CAAA,UAAgByV,CAAC,GAAC,CAAC,CAAnB;CAAA,UAAqB+O,CAAC,GAAC,EAAvB;CAA0B,aAAOuiB,CAAC,CAACsF,SAAF,CAAYp5C,EAAZ,CAAe,gBAAf,EAAgC,YAAU;CAACmC,QAAAA,CAAC,IAAEie,YAAY,CAACje,CAAD,CAAf,EAAmBA,CAAC,GAAC6V,UAAU,CAAC,YAAU;CAAC,cAAI7V,CAAJ,EAAMU,CAAN;CAAQ,WAAC2f,CAAD,IAAIsxB,CAAC,CAACh9B,MAAN,KAAe0L,CAAC,GAAC,CAAC,CAAH,EAAKrgB,CAAC,GAAC2xC,CAAC,CAACh9B,MAAF,CAAS+jC,YAAhB,EAA6B,CAACh4C,CAAC,GAAC,KAAK,CAAL,KAASV,CAAT,GAAW,EAAX,GAAcA,CAAjB,KAAqB2xC,CAAC,CAACgH,YAAF,CAAe,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAACA,YAAAA,CAAC,CAAC;CAACxtB,cAAAA,GAAG,EAAC6N,CAAL;CAAOF,cAAAA,IAAI,EAACoyC,CAAC,CAACsD,UAAd;CAAyB0C,cAAAA,OAAO,EAAC,UAAS54C,CAAT,EAAW;CAAC4K,gBAAAA,CAAC,GAAC,CAAC,CAAH;;CAAK,oBAAG;CAAC,sBAAIyV,CAAC,GAACrgB,CAAC,CAACiH,IAAF,IAAQ6f,IAAI,CAACksB,KAAL,CAAWhzC,CAAX,CAAd;CAAA,sBAA4BU,CAAC,GAAC2f,CAAC,CAACw4B,OAAhC;CAAA,sBAAwCj8C,CAAC,GAACyjB,CAAC,CAAC3b,MAA5C;CAAA,sBAAmDwlB,CAAC,GAAC,KAAK,CAAL,KAASttB,CAAT,GAAW,EAAX,GAAcA,CAAnE;;CAAqE,sBAAG,MAAI8D,CAAP,EAAS;CAAC,wBAAGyB,CAAC,GAAC+nB,CAAC,CAAC4uB,gBAAJ,EAAqBnH,CAAC,CAACoH,WAAF,GAAc52C,CAAnC,EAAqC+nB,CAAC,CAAC8uB,QAA1C,EAAmD,OAAO,KAAKrH,CAAC,CAACn7C,OAAF,EAAZ;CAAwB,yBAAG0zB,CAAC,CAAChX,IAAL,IAAWgX,CAAC,CAAChX,IAAF,IAAQ,CAAnB,KAAuBy+B,CAAC,CAACh9B,MAAF,CAAS6K,MAAT,GAAgB0K,CAAC,CAAChX,IAAlB,EAAuBy+B,CAAC,CAACsH,WAAF,GAAc,CAAC,CAA7D;CAAgE;;CAAAtH,kBAAAA,CAAC,CAACoH,WAAF,IAAe3pB,CAAC,CAACtyB,MAAjB,GAAwBo8C,CAAC,CAACvH,CAAD,CAAD,CAAKviB,CAAC,CAACgjB,MAAF,CAAS,CAAT,CAAL,EAAiB,YAAU,EAA3B,CAAxB,GAAuD,CAACT,CAAC,CAACoH,WAAH,IAAgB3pB,CAAC,CAACtyB,MAAlB,KAA2BsyB,CAAC,CAACtyB,MAAF,GAAS,CAApC,CAAvD;CAA8F,sBAAIkuB,CAAC,GAAC2mB,CAAC,CAACh9B,MAAF,CAASwkC,WAAf;CAA2B,gCAAY,OAAOnuB,CAAnB,IAAsBA,CAAC,CAAC7oB,CAAD,CAAvB;CAA2B,iBAAlX,CAAkX,OAAMnC,CAAN,EAAQ;CAAG,eAA/a;CAAgbo5C,cAAAA,IAAI,EAAC,UAASp5C,CAAT,EAAW;CAAC,oCAAkBA,CAAlB,IAAqB2xC,CAAC,CAACn7C,OAAF,EAArB,EAAiCoU,CAAC,GAAC,CAAC,CAApC;CAAsC;CAAve,aAAD,CAAD;CAA4e,WAA3f,CAAf,EAA4gBgoC,CAAC,CAACsD,UAA9gB,EAA0hB,IAA1hB,CAAlD,EAAklB71B,CAAC,GAAC,CAAC,CAApmB;CAAumB,SAA3nB,EAA4nBsxB,CAAC,CAACh9B,MAAF,CAAS0kC,GAAT,GAAa,EAAb,GAAgB,GAA5oB,CAA/B;CAAgrB,OAA3tB,GAA6tB1H,CAAC,CAACsF,SAAF,CAAYp5C,EAAZ,CAAe,SAAf,EAAyB,YAAU;CAACuxB,QAAAA,CAAC,CAACtyB,MAAF,GAAS,CAAT;CAAW,OAA/C,CAA7tB,EAA8wB,UAASkD,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAI3f,CAAJ;CAAMyB,QAAAA,CAAC,IAAE,UAAQzB,CAAC,GAAC,UAAQA,CAAC,GAACixC,CAAC,CAACh9B,MAAZ,KAAqB,KAAK,CAAL,KAASjU,CAA9B,GAAgC,KAAK,CAArC,GAAuCA,CAAC,CAAC44C,GAAnD,KAAyD,KAAK,CAAL,KAAS54C,CAAlE,IAAqEA,CAAC,CAAC64C,aAA1E,GAAwFl5B,CAAC,CAACrgB,CAAC,CAACmsB,MAAF,CAASiD,CAAC,CAACgjB,MAAF,CAAS,CAAT,CAAT,EAAsBr3C,GAAtB,CAA0B,UAASiF,CAAT,EAAW;CAAC,iBAAOg3C,CAAC,CAACh3C,CAAD,CAAD,EAAKA,CAAZ;CAAc,SAApD,CAAD,CAAzF,GAAiJ,CAACA,CAAC,GAACA,CAAC,CAACogB,MAAF,CAAS,UAASpgB,CAAT,EAAW;CAAC,iBAAOA,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACoB,IAAZ,IAAkB/zC,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACmB,YAA9B,IAA4CkD,CAAC,CAACh3C,CAAD,CAAD,EAAK,CAAC,CAAlD,KAAsD4K,CAAC,KAAGwkB,CAAC,CAACj0B,IAAF,CAAO6E,CAAP,GAAU,OAAKovB,CAAC,CAACtyB,MAAP,KAAgBsyB,CAAC,CAACtyB,MAAF,GAAS,GAAzB,CAAb,CAAD,EAA6C,CAAC,CAApG,CAAP;CAA8G,SAAnI,CAAH,EAAyIA,MAAzI,IAAiJujB,CAAC,CAACrgB,CAAD,CAAnS;CAAuS,OAAhlC;CAAilC,KAA3zD;CAAA,QAA4zDw5C,CAAC,GAAC,UAAS58C,CAAT,EAAW;CAAC,aAAOiZ,UAAU,CAAC,YAAU;CAAC,YAAI7V,CAAC,GAACpD,CAAC,CAAC+X,MAAF,CAAS8kC,KAAf;CAAA,YAAqB/4C,CAAC,GAAC,KAAK,CAAL,KAASV,CAAT,GAAW,EAAX,GAAcA,CAArC;CAAuCU,QAAAA,CAAC,IAAE9D,CAAC,CAAC+7C,YAAF,CAAe,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAACA,UAAAA,CAAC,CAAC;CAACxtB,YAAAA,GAAG,EAAC6N,CAAL;CAAOF,YAAAA,IAAI,EAACoyC,CAAC,CAAC8B,EAAd;CAAiB0E,YAAAA,IAAI,EAAC,UAASp5C,CAAT,EAAW;CAAC,kCAAkBA,CAAlB,IAAqBpD,CAAC,CAACpG,OAAF,EAArB;CAAiC;CAAnE,WAAD,CAAD;CAAwE,SAAvF,CAAf,EAAwGo8C,CAAC,CAAC8B,EAA1G,EAA8G,IAA9G,CAAH;CAAuH,OAA1K,EAA2K,GAA3K,CAAV,EAA0L,UAAS10C,CAAT,EAAWqgB,CAAX,EAAa;CAACA,QAAAA,CAAC,CAACrgB,CAAD,CAAD;CAAK,OAApN;CAAqN,KAA/hE;CAAA,QAAgiE05C,CAAC,GAAC,UAASxvB,CAAT,EAAW;CAAC,UAAIc,CAAC,GAAC,EAAN;CAAS,aAAO,UAAShrB,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAI3f,CAAJ,EAAM9D,CAAN;CAAQstB,QAAAA,CAAC,CAACyvB,WAAF,IAAe/8C,CAAC,GAAC,YAAU,OAAOstB,CAAC,CAAC0vB,MAAnB,GAA0B1vB,CAAC,CAAC0vB,MAA5B,GAAmC;CAACA,UAAAA,MAAM,EAAC1vB,CAAC,CAAC0vB;CAAV,SAArC,EAAuDl5C,CAAC,GAAC,CAAC9D,CAAC,CAACi9C,KAAH,IAAU,CAACj9C,CAAC,CAACg9C,MAAb,IAAqB,CAA9E,EAAgF/+C,KAAK,CAACC,OAAN,CAAckF,CAAd,IAAiB,CAACpD,CAAC,GAACoD,CAAC,CAACogB,MAAF,CAAS,UAASpgB,CAAT,EAAW;CAAC,cAAIqgB,CAAC,GAAC,CAAC2K,CAAC,CAAChrB,CAAC,CAACnN,GAAH,CAAF,IAAWm4B,CAAC,CAAChrB,CAAC,CAACnN,GAAH,CAAD,GAAS6N,CAA1B;CAA4B,iBAAOsqB,CAAC,CAAChrB,CAAC,CAACnN,GAAH,CAAD,GAAS,IAAE,CAAC,CAACm4B,CAAC,CAAChrB,CAAC,CAACnN,GAAH,CAAd,EAAsBwtB,CAA7B;CAA+B,SAAhF,CAAH,EAAsFvjB,MAAtF,IAA8FujB,CAAC,CAACzjB,CAAD,CAAhH,GAAoH,CAAC,CAACouB,CAAC,CAAChrB,CAAC,CAACnN,GAAH,CAAF,IAAWm4B,CAAC,CAAChrB,CAAC,CAACnN,GAAH,CAAD,GAAS6N,CAArB,MAA0BsqB,CAAC,CAAChrB,CAAC,CAACnN,GAAH,CAAD,GAAS,IAAE,CAAC,CAACm4B,CAAC,CAAChrB,CAAC,CAACnN,GAAH,CAAd,EAAsBwtB,CAAC,CAACrgB,CAAD,CAAjD,CAAnN,IAA0QqgB,CAAC,CAACrgB,CAAD,CAA3Q;CAA+Q,OAA5S;CAA6S,KAAp2E;CAAA,QAAq2E85C,CAAC,GAAC,UAASl9C,CAAT,EAAW;CAAC,UAAIstB,CAAC,GAAC,EAAN;CAAS,aAAO,UAASlqB,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAI3f,CAAC,GAAC,YAAU,OAAO9D,CAAC,CAACg9C,MAAnB,GAA0Bh9C,CAAC,CAACg9C,MAA5B,GAAmC,CAAzC;CAA2C,YAAG,MAAIl5C,CAAP,EAAS,OAAO2f,CAAC,CAACrgB,CAAD,CAAR;CAAYqgB,QAAAA,CAAC,CAACrgB,CAAC,CAACogB,MAAF,CAAS,UAASpgB,CAAT,EAAW;CAAC,iBAAOA,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACqB,KAAZ,IAAmBh0C,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACsB,aAA/B,IAA8Cj0C,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACuB,UAA1D,IAAsEl0C,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACwB,YAAlF,IAAgGn0C,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACyB,WAA5G,IAAyHp0C,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAAC0B,SAArI,IAAgJr0C,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAAC4B,WAA5J,KAA0KrqB,CAAC,CAAClqB,CAAC,CAACiN,GAAH,CAAD,GAASid,CAAC,CAAClqB,CAAC,CAACiN,GAAH,CAAD,IAAU,CAAnB,EAAqBid,CAAC,CAAClqB,CAAC,CAACiN,GAAH,CAAD,IAAU,CAA/B,EAAiC,EAAEid,CAAC,CAAClqB,CAAC,CAACiN,GAAH,CAAD,GAASvM,CAAX,CAA3M,CAAP;CAAiO,SAAtP,CAAD,CAAD;CAA2P,OAAhV;CAAiV,KAA7sF;CAAA,QAA8sFw4C,CAAC,GAAC,UAASt8C,CAAT,EAAW;CAAC,aAAO,UAASoD,CAAT,EAAW;CAAC,eAAOpD,CAAC,CAAC+7C,YAAF,CAAe,CAAC,UAAS34C,CAAT,EAAWU,CAAX,EAAa;CAAC,iBAAOA,CAAC,CAAC;CAAC7N,YAAAA,GAAG,EAAC+J,CAAC,CAAC+X,MAAF,CAAS9hB,GAAT,IAAc,EAAnB;CAAsBoU,YAAAA,IAAI,EAAC+qC,CAAC,CAAChyC,CAAD,CAA5B;CAAgCmvC,YAAAA,MAAM,EAAC,MAAvC;CAA8C4K,YAAAA,WAAW,EAAC,mCAA1D;CAA8Fv5C,YAAAA,IAAI,EAACoyC,CAAC,CAACkD,GAArG;CAAyG1gD,YAAAA,GAAG,EAAC4K,CAA7G;CAA+Gg6C,YAAAA,aAAa,EAAC;CAACroD,cAAAA,OAAO,EAAC;CAAT,aAA7H;CAA2IinD,YAAAA,OAAO,EAAC,YAAU;CAAC,kBAAIv4B,CAAC,GAACzjB,CAAC,CAAC+X,MAAF,CAASslC,QAAf;CAAwB,4BAAY,OAAO55B,CAAnB,IAAsBrgB,CAAC,CAAC5E,OAAF,CAAU,UAAS4E,CAAT,EAAW;CAACqgB,gBAAAA,CAAC,CAACrgB,CAAD,CAAD;CAAK,eAA3B,CAAtB,EAAmD,cAAY,OAAOU,CAAnB,IAAsBA,CAAC,CAAC,EAAD,CAA1E;CAA+E,aAArQ;CAAsQ04C,YAAAA,IAAI,EAAC,UAASp5C,CAAT,EAAW;CAAC,kCAAkBA,CAAlB,IAAqBpD,CAAC,CAACpG,OAAF,EAArB;CAAiC;CAAxT,WAAD,CAAR;CAAoU,SAAnV,CAAf,EAAoWo8C,CAAC,CAACkD,GAAtW,EAA2W91C,CAA3W,CAAP;CAAqX,OAAxY;CAAyY,KAArmG;CAAA,QAAsmGk6C,CAAC,GAAC,UAASx5C,CAAT,EAAW;CAAC,UAAG,CAACA,CAAD,IAAI,CAACA,CAAC,CAAC+5B,MAAP,IAAe,CAAC/5B,CAAC,CAAC5D,MAArB,EAA4B,MAAM,IAAIy0C,SAAJ,CAAc,iDAAd,CAAN;CAAuE,aAAO,MAAI7wC,CAAC,CAAC5D,MAAN,GAAa,UAASkD,CAAT,EAAWqgB,CAAX,EAAa;CAAC3f,QAAAA,CAAC,CAAC,CAAD,CAAD,CAAKV,CAAL,EAAOqgB,CAAC,IAAEvB,CAAV;CAAa,OAAxC,GAAyCpe,CAAC,CAAC+5B,MAAF,CAAS,UAAS/5B,CAAT,EAAW9D,CAAX,EAAa;CAAC,eAAO,UAASoD,CAAT,EAAWqgB,CAAX,EAAa;CAAC,iBAAO,KAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAACvB,CAAf,GAAkBpe,CAAC,CAACV,CAAD,EAAG,UAASA,CAAT,EAAW;CAAC,mBAAO,QAAMpD,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACoD,CAAD,EAAGqgB,CAAH,CAAvB;CAA6B,WAA5C,CAA1B;CAAwE,SAA7F;CAA8F,OAArH,CAAhD;CAAuK,KAA93G;CAAA,QAA+3G85B,CAAC,IAAE5+C,MAAM,CAACC,cAAP,CAAsB4+C,EAAE,CAAChgC,SAAzB,EAAmC,aAAnC,EAAiD;CAAC3e,MAAAA,GAAG,EAAC,YAAU;CAAC,eAAOrB,OAAO,CAACC,IAAR,CAAa,6CAAb,GAA4D,SAAnE;CAA6E,OAA7F;CAA8F2E,MAAAA,UAAU,EAAC,CAAC,CAA1G;CAA4GqyC,MAAAA,YAAY,EAAC,CAAC;CAA1H,KAAjD,GAA+K91C,MAAM,CAACC,cAAP,CAAsB4+C,EAAE,CAAChgC,SAAzB,EAAmC,SAAnC,EAA6C;CAAC3e,MAAAA,GAAG,EAAC,YAAU;CAAC,eAAOrB,OAAO,CAACC,IAAR,CAAa,yCAAb,GAAwDs4C,CAA/D;CAAiE,OAAjF;CAAkF3zC,MAAAA,UAAU,EAAC,CAAC,CAA9F;CAAgGqyC,MAAAA,YAAY,EAAC,CAAC;CAA9G,KAA7C,CAA/K,EAA8U+I,EAAE,CAAChgC,SAAH,CAAa7mB,IAAb,GAAkB,UAASyM,CAAT,EAAW;CAAC,WAAKq6C,SAAL,CAAer6C,CAAf;;CAAkB,WAAI,IAAIqgB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC+5B,EAAE,CAACE,gBAAH,CAAoBx9C,MAAlC,EAAyCujB,CAAC,EAA1C,EAA6C,IAAG;CAAC+5B,QAAAA,EAAE,CAACE,gBAAH,CAAoBj6B,CAApB,EAAuBk6B,KAAvB,CAA6B,IAA7B;CAAmC,OAAvC,CAAuC,OAAMv6C,CAAN,EAAQ;CAAC,aAAKw6C,YAAL,CAAkBx6C,CAAlB;CAAqB;;CAAA,WAAKi3C,SAAL,CAAe5xC,IAAf,CAAoB,UAApB;CAAgC,KAAhhB,EAAihB+0C,EAAE,CAAChgC,SAAH,CAAaigC,SAAb,GAAuB,UAASr6C,CAAT,EAAW;CAACzE,MAAAA,MAAM,CAACo0C,MAAP,CAAc,KAAKh7B,MAAnB,EAA0B3U,CAA1B;CAA6B,UAAIqgB,CAAC,GAAC,KAAK1L,MAAX;CAAA,UAAkBjU,CAAC,GAAC2f,CAAC,CAACzC,EAAtB;CAAA,UAAyBhhB,CAAC,GAACyjB,CAAC,CAACg5B,GAA7B;CAAA,UAAiCnvB,CAAC,GAAC7J,CAAC,CAACrL,OAArC;CAAA,UAA6CgW,CAAC,GAAC3K,CAAC,CAACo6B,IAAjD;CAAA,UAAsD9I,CAAC,GAACtxB,CAAC,CAACq6B,IAA1D;CAAA,UAA+Dv4C,CAAC,GAACke,CAAC,CAACs6B,IAAnE;CAAA,UAAwE36C,CAAC,GAACqgB,CAAC,CAACu6B,GAA5E;CAAA,UAAgFv6B,CAAC,GAACA,CAAC,CAACw6B,GAApF;CAAA,UAAwFjwC,CAAC,GAAC,KAAK,CAAL,KAASyV,CAAT,GAAW,YAAX,GAAwBA,CAAlH;CAAA,UAAoHA,CAAC,GAAC,KAAKy6B,IAAL,CAAUl9B,EAAV,KAAeld,CAAf,IAAkB,KAAKo6C,IAAL,CAAUzB,GAAV,KAAgBz8C,CAAlC,IAAqC,KAAKk+C,IAAL,CAAUF,GAAV,KAAgB56C,CAA3K;CAA6K,aAAO,KAAK86C,IAAL,CAAUl9B,EAAV,GAAald,CAAC,IAAE,EAAhB,EAAmB,KAAKo6C,IAAL,CAAUzB,GAAV,GAAcz8C,CAAC,IAAE,EAApC,EAAuC,KAAKk+C,IAAL,CAAU9lC,OAAV,GAAkBkV,CAAC,IAAE,SAA5D,EAAsE,KAAK4wB,IAAL,CAAUF,GAAV,GAAc56C,CAAC,IAAE,EAAvF,EAA0F,KAAK86C,IAAL,CAAUD,GAAV,GAAc,YAAU;CAAC,gBAAOjwC,CAAP;CAAU,eAAKwkB,CAAC,CAACqnB,UAAP;CAAkB,eAAKrnB,CAAC,CAACsnB,IAAP;CAAY,eAAKtnB,CAAC,CAACunB,GAAP;CAAW,eAAKvnB,CAAC,CAACwnB,KAAP;CAAa,eAAKxnB,CAAC,CAACynB,KAAP;CAAa,eAAKznB,CAAC,CAAC0nB,MAAP;CAAc,mBAAO,CAAP;;CAAS;CAAQ;CAA5G;CAAoH,OAA/H,KAAkIlsC,CAAlI,GAAoIwkB,CAAC,CAAC0nB,MAA9O,EAAqP9rB,CAAC,KAAG,KAAK8vB,IAAL,CAAUL,IAAV,GAAepI,kBAAkB,CAACrnB,CAAD,CAApC,CAAtP,EAA+R2mB,CAAC,KAAG,KAAKmJ,IAAL,CAAUJ,IAAV,GAAerI,kBAAkB,CAACV,CAAD,CAApC,CAAhS,EAAyUxvC,CAAC,KAAG,KAAK24C,IAAL,CAAUH,IAAV,GAAetI,kBAAkB,CAAClwC,CAAD,CAApC,CAA1U,EAAmXke,CAAC,IAAE,KAAK42B,SAAL,CAAe5xC,IAAf,CAAoB,gBAApB,EAAqC,KAAKsP,MAA1C,CAAtX,EAAwa,KAAKA,MAApb;CAA2b,KAAzrC,EAA0rCylC,EAAE,CAACW,GAAH,GAAO,UAAS/6C,CAAT,EAAW;CAAC,OAAC,CAAD,KAAKo6C,EAAE,CAACE,gBAAH,CAAoBl8B,OAApB,CAA4Bpe,CAA5B,CAAL,IAAqCA,CAAC,CAACg7C,WAAvC,IAAoDZ,EAAE,CAACE,gBAAH,CAAoBn/C,IAApB,CAAyB6E,CAAzB,CAApD;CAAgF,KAA7xC,EAA8xCo6C,EAAE,CAACa,KAAH,GAAS,UAASj7C,CAAT,EAAW;CAACA,MAAAA,CAAC,GAACo6C,EAAE,CAACE,gBAAH,CAAoBl8B,OAApB,CAA4Bpe,CAA5B,CAAF;CAAiC,OAAC,CAAD,KAAKA,CAAL,IAAQo6C,EAAE,CAACE,gBAAH,CAAoBlI,MAApB,CAA2BpyC,CAA3B,EAA6B,CAA7B,CAAR;CAAwC,KAA53C,EAA63Co6C,EAAE,CAAChgC,SAAH,CAAaoS,IAAb,GAAkB,YAAU;CAAC,WAAI,IAAIxsB,CAAC,GAAC,EAAN,EAASqgB,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACvD,SAAS,CAAChgB,MAA7B,EAAoCujB,CAAC,EAArC,EAAwCrgB,CAAC,CAACqgB,CAAD,CAAD,GAAKvD,SAAS,CAACuD,CAAD,CAAd;;CAAkB,UAAI3f,CAAC,GAAC;CAAC8oC,QAAAA,KAAK,EAACmJ,CAAC,CAACoB,IAAT;CAAc9mC,QAAAA,GAAG,EAACjN;CAAlB,OAAN;CAA2B,YAAIA,CAAC,CAAClD,MAAN,IAAckD,CAAC,CAAC,CAAD,CAAD,CAAKiN,GAAnB,IAAwB1R,MAAM,CAACo0C,MAAP,CAAcjvC,CAAd,EAAgBqxC,CAAC,CAAC,EAAD,EAAI/xC,CAAC,CAAC,CAAD,CAAL,CAAjB,EAA2B;CAACwpC,QAAAA,KAAK,EAACmJ,CAAC,CAACoB;CAAT,OAA3B,CAAxB,EAAmE,KAAKmH,iBAAL,CAAuBx6C,CAAvB,CAAnE;CAA6F,KAA5kD,EAA6kD05C,EAAE,CAAChgC,SAAH,CAAa+gC,OAAb,GAAqB,YAAU;CAAC,WAAI,IAAIn7C,CAAC,GAAC,EAAN,EAASqgB,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACvD,SAAS,CAAChgB,MAA7B,EAAoCujB,CAAC,EAArC,EAAwCrgB,CAAC,CAACqgB,CAAD,CAAD,GAAKvD,SAAS,CAACuD,CAAD,CAAd;;CAAkB,UAAI3f,CAAC,GAAC;CAAC8oC,QAAAA,KAAK,EAACmJ,CAAC,CAACkB,QAAT;CAAkB5mC,QAAAA,GAAG,EAACjN;CAAtB,OAAN;CAA+B,YAAIA,CAAC,CAAClD,MAAN,IAAckD,CAAC,CAAC,CAAD,CAAD,CAAKiN,GAAnB,IAAwB1R,MAAM,CAACo0C,MAAP,CAAcjvC,CAAd,EAAgBqxC,CAAC,CAAC,EAAD,EAAI/xC,CAAC,CAAC,CAAD,CAAL,CAAjB,EAA2B;CAACwpC,QAAAA,KAAK,EAACmJ,CAAC,CAACkB;CAAT,OAA3B,CAAxB,EAAuE,KAAKqH,iBAAL,CAAuBx6C,CAAvB,CAAvE;CAAiG,KAAvyD,EAAwyD05C,EAAE,CAAChgC,SAAH,CAAaghC,MAAb,GAAoB,YAAU;CAAC,WAAI,IAAIp7C,CAAC,GAAC,EAAN,EAASqgB,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACvD,SAAS,CAAChgB,MAA7B,EAAoCujB,CAAC,EAArC,EAAwCrgB,CAAC,CAACqgB,CAAD,CAAD,GAAKvD,SAAS,CAACuD,CAAD,CAAd;;CAAkB,UAAI3f,CAAC,GAAC;CAAC8oC,QAAAA,KAAK,EAACmJ,CAAC,CAAC8B,MAAT;CAAgBxnC,QAAAA,GAAG,EAACjN;CAApB,OAAN;CAA6B,YAAIA,CAAC,CAAClD,MAAN,IAAckD,CAAC,CAAC,CAAD,CAAD,CAAKiN,GAAnB,IAAwB1R,MAAM,CAACo0C,MAAP,CAAcjvC,CAAd,EAAgBqxC,CAAC,CAAC,EAAD,EAAI/xC,CAAC,CAAC,CAAD,CAAL,CAAjB,CAAxB,EAAoD,KAAKk7C,iBAAL,CAAuBx6C,CAAvB,CAApD;CAA8E,KAA5+D,EAA6+D05C,EAAE,CAAChgC,SAAH,CAAa/kB,KAAb,GAAmB,YAAU;CAAC,WAAI,IAAI2K,CAAC,GAAC,EAAN,EAASqgB,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACvD,SAAS,CAAChgB,MAA7B,EAAoCujB,CAAC,EAArC,EAAwCrgB,CAAC,CAACqgB,CAAD,CAAD,GAAKvD,SAAS,CAACuD,CAAD,CAAd;;CAAkB,UAAI3f,CAAC,GAAC;CAAC8oC,QAAAA,KAAK,EAACmJ,CAAC,CAACqB,KAAT;CAAe/mC,QAAAA,GAAG,EAACjN;CAAnB,OAAN;CAA4B,YAAIA,CAAC,CAAClD,MAAN,IAAckD,CAAC,CAAC,CAAD,CAAD,CAAKiN,GAAnB,IAAwB1R,MAAM,CAACo0C,MAAP,CAAcjvC,CAAd,EAAgBqxC,CAAC,CAAC,EAAD,EAAI/xC,CAAC,CAAC,CAAD,CAAL,CAAjB,EAA2B;CAACwpC,QAAAA,KAAK,EAACmJ,CAAC,CAACqB;CAAT,OAA3B,CAAxB,EAAoE,KAAKkH,iBAAL,CAAuBx6C,CAAvB,CAApE;CAA8F,KAA/rE,EAAgsE05C,EAAE,CAAChgC,SAAH,CAAaihC,gBAAb,GAA8B,UAASr7C,CAAT,EAAW;CAAC,YAAM,IAAI4gB,KAAJ,CAAU,gDAAV,CAAN;CAAkE,KAA5yE,EAA6yEw5B,EAAE,CAAChgC,SAAH,CAAakhC,QAAb,GAAsB,UAAS56C,CAAT,EAAW;CAAC,UAAI9D,CAAJ;CAAA,UAAMstB,CAAC,GAAC,IAAR;CAAaxpB,MAAAA,CAAC,KAAGtG,OAAO,CAACC,IAAR,CAAa,gDAAb,GAA+DuC,CAAC,GAAC,KAAGrB,MAAM,CAAC02C,mBAAP,CAA2B,KAAK6I,IAAhC,EAAsC16B,MAAtC,CAA6C,UAASpgB,CAAT,EAAW;CAAC,eAAM,SAAOA,CAAb;CAAe,OAAxE,EAA0EjF,GAA1E,CAA8E,UAASiF,CAAT,EAAW;CAAC,eAAOA,CAAC,GAAC,GAAF,GAAMkqB,CAAC,CAAC4wB,IAAF,CAAO96C,CAAP,CAAb;CAAuB,OAAjH,EAAmHsH,IAAnH,CAAwH,GAAxH,CAApE,EAAiM,KAAKqxC,YAAL,CAAkB,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAACA,QAAAA,CAAC,CAAC;CAACxtB,UAAAA,GAAG,EAACq3B,CAAC,CAACvV,MAAF,CAAS9hB,GAAT,GAAa,GAAb,GAAiB6N,CAAjB,GAAmB,GAAnB,GAAuB9D,CAA5B;CAA8B2+C,UAAAA,OAAO,EAAC,CAAC,CAAvC;CAAyC/6C,UAAAA,IAAI,EAACoyC,CAAC,CAACwD,SAAhD;CAA0DgD,UAAAA,IAAI,EAAC,UAASp5C,CAAT,EAAW;CAAC,gCAAkBA,CAAlB,IAAqBkqB,CAAC,CAAC1zB,OAAF,EAArB;CAAiC;CAA5G,SAAD,CAAD;CAAiH,OAAhI,CAAlB,EAAoJo8C,CAAC,CAACwD,SAAtJ,EAAiK,IAAjK,CAApM,CAAD;CAA6W,KAAzsF,EAA0sFgE,EAAE,CAAChgC,SAAH,CAAaohC,WAAb,GAAyB,UAASx7C,CAAT,EAAW;CAACA,MAAAA,CAAC,KAAG,CAACA,CAAC,GAAC,YAAU,OAAOA,CAAjB,GAAmB;CAAC/F,QAAAA,IAAI,EAAC+F,CAAN;CAAQy6C,QAAAA,IAAI,EAAC,KAAK9lC,MAAL,CAAY8lC,IAAZ,IAAkB,EAA/B;CAAkCC,QAAAA,IAAI,EAAC,KAAK/lC,MAAL,CAAY+lC,IAAZ,IAAkB,EAAzD;CAA4DC,QAAAA,IAAI,EAAC,KAAKhmC,MAAL,CAAYgmC,IAAZ,IAAkB;CAAnF,OAAnB,GAA0G36C,CAA7G,EAAgH/F,IAAhH,GAAqH,KAAKwhD,aAAL,CAAmBz7C,CAAnB,CAArH,GAA2I5F,OAAO,CAACC,IAAR,CAAa,0BAAb,CAA9I,CAAD;CAAyL,KAAx6F,EAAy6F+/C,EAAE,CAAChgC,SAAH,CAAashC,UAAb,GAAwB,UAAS17C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,UAAG,YAAU,OAAOrgB,CAApB,EAAsB,OAAO,KAAK27C,OAAL,CAAa37C,CAAb,CAAP;CAAuB,kBAAU,OAAOA,CAAjB,GAAmB,YAAU,OAAOqgB,CAAjB,GAAmBA,CAAC,GAAC,CAAF,IAAK,MAAIA,CAAT,GAAWjmB,OAAO,CAACC,IAAR,CAAa,+CAAb,CAAX,GAAyE,KAAKuhD,gBAAL,CAAsB57C,CAAtB,EAAwBqgB,CAAxB,CAA5F,GAAuHjmB,OAAO,CAACC,IAAR,CAAa,yCAAb,CAA1I,GAAkMD,OAAO,CAACC,IAAR,CAAa,0CAAb,CAAlM;CAA2P,KAAvvG,EAAwvG+/C,EAAE,CAAChgC,SAAH,CAAauhC,OAAb,GAAqB,UAAS37C,CAAT,EAAW;CAAC,UAAIqgB,CAAC,GAACrgB,CAAC,CAAC/F,IAAR;CAAA,UAAayG,CAAC,GAACV,CAAC,CAACyY,QAAjB;CAAA,UAA0B7b,CAAC,GAACoD,CAAC,CAACy6C,IAA9B;CAAA,UAAmCvwB,CAAC,GAAC,KAAK,CAAL,KAASttB,CAAT,GAAW,EAAX,GAAcA,CAAnD;CAAA,UAAqDouB,CAAC,GAAChrB,CAAC,CAAC06C,IAAzD;CAAA,UAA8D99C,CAAC,GAAC,KAAK,CAAL,KAASouB,CAAT,GAAW,EAAX,GAAcA,CAA9E;CAAA,UAAgFA,CAAC,GAAChrB,CAAC,CAAC26C,IAApF;CAAA,UAAyF3vB,CAAC,GAAC,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA,CAAzG;CAAA,UAA2GhrB,CAAC,GAACA,CAAC,CAACkqC,IAA/G;;CAAoH,UAAG,YAAU,OAAO7pB,CAAjB,IAAoB,YAAU,OAAO3f,CAArC,IAAwC,YAAU,OAAOwpB,CAAzD,IAA4D,YAAU,OAAOttB,CAA7E,IAAgF,YAAU,OAAOouB,CAApG,EAAsG;CAAC,YAAG,EAAEtqB,CAAC,GAAC,CAAF,IAAK,MAAIA,CAAX,CAAH,EAAiB,OAAO,KAAKk7C,gBAAL,CAAsBv7B,CAAtB,EAAwB3f,CAAxB,EAA0BwpB,CAA1B,EAA4BttB,CAA5B,EAA8BouB,CAA9B,EAAgC,KAAK,CAAL,KAAShrB,CAAT,GAAW,EAAX,GAAcA,CAA9C,CAAP;CAAwD5F,QAAAA,OAAO,CAACC,IAAR,CAAa,+CAAb;CAA8D,OAA9O,MAAmPD,OAAO,CAACC,IAAR,CAAa,0BAAb;CAAyC,KAAzqH,EAA0qH+/C,EAAE,CAAChgC,SAAH,CAAakX,IAAb,GAAkB,UAAStxB,CAAT,EAAW;CAAC,kBAAU,OAAOA,CAAjB,GAAmB,KAAK67C,OAAL,CAAa77C,CAAb,IAAgB5F,OAAO,CAACC,IAAR,CAAa,WAAS2F,CAAT,GAAW,iBAAxB,CAAhB,GAA2D,KAAK67C,OAAL,CAAa77C,CAAb,IAAgB0B,IAAI,CAACD,GAAL,EAA9F,GAAyGrH,OAAO,CAACC,IAAR,CAAa,oCAAb,CAAzG;CAA4J,KAAp2H,EAAq2H+/C,EAAE,CAAChgC,SAAH,CAAa0hC,OAAb,GAAqB,UAAS97C,CAAT,EAAW;CAAC,kBAAU,OAAOA,CAAjB,GAAmB,KAAK67C,OAAL,CAAa77C,CAAb,KAAiB,KAAK47C,gBAAL,CAAsB57C,CAAtB,EAAwB0B,IAAI,CAACD,GAAL,KAAW,KAAKo6C,OAAL,CAAa77C,CAAb,CAAnC,GAAoD,OAAO,KAAK67C,OAAL,CAAa77C,CAAb,CAA5E,IAA6F5F,OAAO,CAACC,IAAR,CAAa,WAAS2F,CAAT,GAAW,iBAAxB,CAAhH,GAA2J5F,OAAO,CAACC,IAAR,CAAa,uCAAb,CAA3J;CAAiN,KAAvlI,EAAwlI+/C,EAAE,CAAChgC,SAAH,CAAawhC,gBAAb,GAA8B,UAAS57C,CAAT,EAAWqgB,CAAX,EAAa3f,CAAb,EAAe9D,CAAf,EAAiBstB,CAAjB,EAAmBc,CAAnB,EAAqB;CAAC,WAAK+wB,kBAAL,CAAwB;CAAC9hD,QAAAA,IAAI,EAAC+F,CAAN;CAAQyY,QAAAA,QAAQ,EAAC4H,CAAjB;CAAmBo6B,QAAAA,IAAI,EAAC/5C,CAAC,IAAE,KAAKiU,MAAL,CAAY8lC,IAAvC;CAA4CC,QAAAA,IAAI,EAAC99C,CAAC,IAAE,KAAK+X,MAAL,CAAY+lC,IAAhE;CAAqEC,QAAAA,IAAI,EAACzwB,CAAC,IAAE,KAAKvV,MAAL,CAAYgmC,IAAzF;CAA8FzQ,QAAAA,IAAI,EAAClf,CAAC,IAAE,KAAK;CAA3G,OAAxB;CAAuI,KAAnxI,EAAoxIovB,EAAE,CAAChgC,SAAH,CAAa4hC,UAAb,GAAwB,UAASh8C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,WAAKy6B,IAAL,CAAU96C,CAAV,IAAaqgB,CAAb;CAAe,KAAz0I,EAA00I+5B,EAAE,CAAChgC,SAAH,CAAau+B,YAAb,GAA0B,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,UAAI3f,CAAJ;CAAA,UAAMsqB,CAAN;CAAA,UAAQ2mB,CAAR;CAAA,UAAUxvC,CAAC,GAAC,IAAZ;CAAiB,aAAO+3C,CAAC,CAACtvC,CAAC,CAAC,CAAC,UAAS5K,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAG,YAAU,OAAO3f,CAAC,CAACiU,MAAF,CAAS6K,MAA1B,KAAmCplB,OAAO,CAACC,IAAR,CAAa,sCAAb,GAAqDqG,CAAC,CAACiU,MAAF,CAAS6K,MAAT,GAAgB,CAAxG,GAA2G,CAAC9e,CAAC,CAACu7C,QAAH,IAAa,CAACv7C,CAAC,CAACu4C,WAA9H,EAA0I,IAAGv4C,CAAC,CAACu4C,WAAL,EAAiBv4C,CAAC,CAACu7C,QAAF,IAAY57B,CAAC,CAACrgB,CAAD,CAAb,CAAjB,KAAsC;CAAC,cAAGU,CAAC,CAACu4C,WAAF,GAAc,CAAC,CAAf,EAAiBn9C,IAAI,CAAC0jB,MAAL,KAAc9e,CAAC,CAACiU,MAAF,CAAS6K,MAA3C,EAAkD,OAAO9e,CAAC,CAACu7C,QAAF,GAAW,CAAC,CAAZ,EAAc57B,CAAC,CAACrgB,CAAD,CAAtB;CAA0BU,UAAAA,CAAC,CAACu7C,QAAF,GAAW,CAAC,CAAZ;CAAc;CAAC,OAA3R,GAA6RtK,CAAC,GAACtxB,CAAF,EAAI,UAASrgB,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAI3f,CAAC,GAAC7F,KAAK,CAACC,OAAN,CAAckF,CAAd,CAAN;CAAA,YAAuBpD,CAAC,GAAC8D,CAAC,GAACV,CAAD,GAAG,CAACA,CAAD,CAA7B;CAAiCgrB,QAAAA,CAAC,CAACisB,SAAF,CAAY5xC,IAAZ,CAAiB,eAAjB,EAAiCrF,CAAjC;CAAoC,YAAIkqB,CAAC,GAACc,CAAC,CAACrW,MAAF,CAASunC,aAAf;CAA6B,SAACt/C,CAAC,GAAC,cAAY,OAAOstB,CAAnB,GAAqBttB,CAAC,CAAC7B,GAAF,CAAM,UAASslB,CAAT,EAAW;CAAC,cAAG;CAAC,gBAAIrgB,CAAC,GAACkqB,CAAC,CAAC;CAACiyB,cAAAA,IAAI,EAAC97B,CAAN;CAAQ+7B,cAAAA,OAAO,EAACzK;CAAhB,aAAD,CAAP;CAA4B,mBAAM,CAAC,QAAM3xC,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACo8C,OAAlB,MAA6BzK,CAA7B,IAAgC,QAAM3xC,CAAtC,IAAyCA,CAAC,CAACm8C,IAA3C,GAAgDn8C,CAAC,CAACm8C,IAAlD,GAAuD,CAAC,CAAD,KAAKn8C,CAAL,IAAQqgB,CAArE;CAAuE,WAAvG,CAAuG,OAAMrgB,CAAN,EAAQ;CAAC,mBAAOqgB,CAAP;CAAS;CAAC,SAA5I,EAA8ID,MAA9I,CAAqJ,UAASpgB,CAAT,EAAW;CAAC,iBAAM,CAAC,CAAD,KAAKA,CAAX;CAAa,SAA9K,CAArB,GAAqMpD,CAAxM,EAA2ME,MAA3M,KAAoNF,CAAC,GAAC,UAASoD,CAAT,EAAWqgB,CAAX,EAAa;CAAC,cAAG,CAACxlB,KAAK,CAACC,OAAN,CAAckF,CAAd,CAAD,IAAmBA,CAAC,CAAClD,MAAF,IAAU,CAAhC,EAAkC,OAAOkD,CAAP;CAAS,cAAIU,CAAC,GAAC,EAAN;CAAA,cAAS9D,CAAC,GAAC,EAAX;CAAc,iBAAM,EAAEA,CAAC,GAAC,YAAU,OAAOyjB,CAAjB,GAAmB,CAACA,CAAD,CAAnB,GAAuBA,CAA3B,KAA+BzjB,CAAC,CAACE,MAAF,IAAU,CAAzC,KAA6CF,CAAC,CAACxB,OAAF,CAAU,UAASilB,CAAT,EAAW;CAACrgB,YAAAA,CAAC,CAAC5E,OAAF,CAAU,UAAS4E,CAAT,EAAW;CAAC,sBAAMA,CAAN,IAASA,CAAC,CAACqgB,CAAD,CAAV,IAAe3f,CAAC,CAACvF,IAAF,CAAOklB,CAAP,CAAf;CAAyB,aAA/C;CAAiD,WAAvE,GAAyE,IAAE3f,CAAC,CAAC5D,MAAJ,KAAakD,CAAC,GAACA,CAAC,CAACjF,GAAF,CAAM,UAASiF,CAAT,EAAW;CAAC,gBAAIqgB,CAAC,GAAC,EAAN;CAAS,mBAAO3f,CAAC,CAACtF,OAAF,CAAU,UAAS4E,CAAT,EAAW;CAACqgB,cAAAA,CAAC,CAACrgB,CAAD,CAAD,GAAK,EAAL;CAAQ,aAA9B,GAAgC+xC,CAAC,CAACA,CAAC,CAAC,EAAD,EAAI1xB,CAAJ,CAAF,EAASrgB,CAAT,CAAxC;CAAoD,WAA/E,CAAf,CAAtH,GAAwNA,CAA9N;CAAgO,SAAvS,CAAwSpD,CAAxS,EAA0S,CAAC,MAAD,EAAQ,MAAR,EAAe,MAAf,CAA1S,CAAF,EAAoUyjB,CAAC,CAAC3f,CAAC,GAAC9D,CAAD,GAAGA,CAAC,CAAC,CAAD,CAAN,CAAzhB;CAAqiB,OAAt7B,EAAD,EAA07BoD,CAA17B,EAA47B,CAACojC,CAAC,CAACpY,CAAC,GAACtqB,CAAC,GAAC,IAAL,CAAF,EAAa,UAAS9D,CAAT,EAAWstB,CAAX,EAAa;CAAC/nB,QAAAA,CAAC,CAAC9E,OAAF,CAAUT,CAAV,EAAY,YAAU;CAAC,eAAI,IAAIoD,CAAJ,EAAMqgB,CAAC,GAAC,EAAR,EAAW3f,CAAC,GAAC,CAAjB,EAAmBA,CAAC,GAACoc,SAAS,CAAChgB,MAA/B,EAAsC4D,CAAC,EAAvC,EAA0C2f,CAAC,CAAC3f,CAAD,CAAD,GAAKoc,SAAS,CAACpc,CAAD,CAAd;;CAAkBwpB,UAAAA,CAAC,CAAC;CAAC6oB,YAAAA,KAAK,EAAC,CAAC,CAAR;CAAUruC,YAAAA,MAAM,EAAC2b,CAAjB;CAAmB+7B,YAAAA,OAAO,EAAC,QAAMx/C,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC4D,IAA5C;CAAiD27C,YAAAA,IAAI,EAAC,QAAMv/C,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACxH;CAAvE,WAAD,CAAD,EAA+E,UAAQ4K,CAAC,GAAC,QAAMpD,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACg8C,OAA3B,KAAqC,KAAK,CAAL,KAAS54C,CAA9C,IAAiDA,CAAC,CAACiW,IAAF,CAAOpP,KAAP,CAAa7G,CAAb,EAAe4K,CAAC,CAAC,CAAChO,CAAD,CAAD,EAAKyjB,CAAL,CAAhB,CAAhI;CAAyJ,SAA5O,EAA6O,YAAU;CAAC,eAAI,IAAIrgB,CAAJ,EAAMqgB,CAAC,GAAC,EAAR,EAAW3f,CAAC,GAAC,CAAjB,EAAmBA,CAAC,GAACoc,SAAS,CAAChgB,MAA/B,EAAsC4D,CAAC,EAAvC,EAA0C2f,CAAC,CAAC3f,CAAD,CAAD,GAAKoc,SAAS,CAACpc,CAAD,CAAd;;CAAkBwpB,UAAAA,CAAC,CAAC;CAAC6oB,YAAAA,KAAK,EAAC,CAAC,CAAR;CAAUruC,YAAAA,MAAM,EAAC2b,CAAjB;CAAmB+7B,YAAAA,OAAO,EAAC,QAAMx/C,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC4D,IAA5C;CAAiD27C,YAAAA,IAAI,EAAC,QAAMv/C,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACxH;CAAvE,WAAD,CAAD,EAA+E,UAAQ4K,CAAC,GAAC,QAAMpD,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACw8C,IAA3B,KAAkC,KAAK,CAAL,KAASp5C,CAA3C,IAA8CA,CAAC,CAACiW,IAAF,CAAOpP,KAAP,CAAa7G,CAAb,EAAe4K,CAAC,CAAC,CAAChO,CAAD,CAAD,EAAKyjB,CAAL,CAAhB,CAA7H;CAAsJ,SAA1c;CAA4c,OAAve,EAAwe82B,CAAC,CAAC,IAAD,CAAze,CAA57B,CAAF,CAAR;CAAy7C,KAA5zL,EAA6zLiD,EAAE,CAAChgC,SAAH,CAAaw9B,IAAb,GAAkB,UAAS53C,CAAT,EAAWkqB,CAAX,EAAac,CAAb,EAAe;CAAC,UAAI3K,CAAC,GAAC,IAAN;CAAW,aAAO65B,CAAC,CAAC,CAAC9W,CAAC,CAAC,IAAD,CAAF,EAAS,UAAS1iC,CAAT,EAAW9D,CAAX,EAAa;CAACyjB,QAAAA,CAAC,CAAChjB,OAAF,CAAUqD,CAAV,EAAY,YAAU;CAAC,eAAI,IAAIV,CAAC,GAAC,EAAN,EAASqgB,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACvD,SAAS,CAAChgB,MAA7B,EAAoCujB,CAAC,EAArC,EAAwCrgB,CAAC,CAACqgB,CAAD,CAAD,GAAKvD,SAAS,CAACuD,CAAD,CAAd;;CAAkBzjB,UAAAA,CAAC,CAAC;CAACm2C,YAAAA,KAAK,EAAC,CAAC,CAAR;CAAUruC,YAAAA,MAAM,EAAC1E,CAAjB;CAAmBo8C,YAAAA,OAAO,EAAC17C,CAAC,CAACF,IAA7B;CAAkC27C,YAAAA,IAAI,EAACz7C,CAAC,CAACtL;CAAzC,WAAD,CAAD,EAAiD,QAAM80B,CAAN,IAASA,CAAC,CAACrjB,KAAF,CAAQ,KAAK,CAAb,EAAe7G,CAAf,CAA1D;CAA4E,SAA7J,EAA8J,YAAU;CAAC,eAAI,IAAIA,CAAC,GAAC,EAAN,EAASqgB,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACvD,SAAS,CAAChgB,MAA7B,EAAoCujB,CAAC,EAArC,EAAwCrgB,CAAC,CAACqgB,CAAD,CAAD,GAAKvD,SAAS,CAACuD,CAAD,CAAd;;CAAkBzjB,UAAAA,CAAC,CAAC;CAACm2C,YAAAA,KAAK,EAAC,CAAC,CAAR;CAAUruC,YAAAA,MAAM,EAAC1E,CAAjB;CAAmBo8C,YAAAA,OAAO,EAAC17C,CAAC,CAACF,IAA7B;CAAkC27C,YAAAA,IAAI,EAACz7C,CAAC,CAACtL;CAAzC,WAAD,CAAD,EAAiD,QAAM41B,CAAN,IAASA,CAAC,CAACnkB,KAAF,CAAQ,KAAK,CAAb,EAAe7G,CAAf,CAA1D;CAA4E,SAA/S;CAAiT,OAAxU,EAAyUm3C,CAAC,CAAC,IAAD,CAA1U,CAAD,CAAD,CAAqVn3C,CAArV,CAAP;CAA+V,KAAzsM,EAA0sMo6C,EAAE,CAAChgC,SAAH,CAAa/c,OAAb,GAAqB,UAAS2C,CAAT,EAAWqgB,CAAX,EAAa3f,CAAb,EAAe;CAAC,YAAM,IAAIkgB,KAAJ,CAAU,uCAAV,CAAN;CAAyD,KAAxyM,EAAyyMw5B,EAAE,CAAChgC,SAAH,CAAaogC,YAAb,GAA0B,UAASx6C,CAAT,EAAW;CAAC,UAAIU,CAAC,GAAC,IAAN;CAAW,WAAKi4C,YAAL,CAAkB,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAACA,QAAAA,CAAC,CAAC;CAACxtB,UAAAA,GAAG,EAAC6N,CAAC,CAACiU,MAAF,CAAS9hB,GAAT,GAAa,kBAAb,GAAgCw/C,kBAAkB,CAACY,CAAC,CAACjzC,CAAD,CAAF,CAAlD,GAAyD,mBAAzD,GAA6EU,CAAC,CAACiU,MAAF,CAASiJ,EAAtF,GAAyF,mBAAzF,GAA6Gld,CAAC,CAACiU,MAAF,CAASiJ,EAAtH,GAAyH,WAA9H;CAA0I29B,UAAAA,OAAO,EAAC,CAAC,CAAnJ;CAAqJpM,UAAAA,MAAM,EAAC,KAA5J;CAAkK3uC,UAAAA,IAAI,EAACoyC,CAAC,CAAC0D,SAAzK;CAAmLlhD,UAAAA,GAAG,EAAC4K;CAAvL,SAAD,CAAD;CAA6L,OAA5M,CAAlB,EAAgO4yC,CAAC,CAAC0D,SAAlO,EAA6Ot2C,CAA7O;CAAgP,KAA1kN,EAA2kNo6C,EAAE,CAAChgC,SAAH,CAAa5jB,OAAb,GAAqB,UAASwJ,CAAT,EAAW;CAAC,WAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,CAAC,CAAhB;CAAmB,UAAIqgB,CAAJ;CAAA,UAAM3f,CAAN;CAAA,UAAQ9D,CAAC,GAACw9C,EAAE,CAACiC,SAAH,CAAaj+B,OAAb,CAAqB,IAArB,CAAV;CAAqC,OAAC,CAAD,KAAKxhB,CAAL,IAAQw9C,EAAE,CAACiC,SAAH,CAAajK,MAAb,CAAoBx1C,CAApB,EAAsB,CAAtB,CAAR;;CAAiC,WAAI,IAAIstB,CAAC,GAACkwB,EAAE,CAACE,gBAAH,CAAoBx9C,MAApB,GAA2B,CAArC,EAAuC,KAAGotB,CAA1C,EAA4CA,CAAC,EAA7C,EAAgD,IAAG;CAACkwB,QAAAA,EAAE,CAACE,gBAAH,CAAoBpwB,CAApB,EAAuBoyB,OAAvB,CAA+B,IAA/B;CAAqC,OAAzC,CAAyC,OAAMt8C,CAAN,EAAQ;CAAC,aAAKw6C,YAAL,CAAkBx6C,CAAlB;CAAqB;;CAAA,UAAG,KAAKi3C,SAAL,CAAe5xC,IAAf,CAAoB,SAApB,GAA+B,KAAK4xC,SAAL,CAAe7oC,KAAf,EAA/B,EAAsDpO,CAAzD,EAA2DqgB,CAAC,GAAC,IAAF,EAAO3f,CAAC,GAACnF,MAAM,CAACghD,yBAAP,CAAiCl8B,CAAjC,CAAT,EAA6C9kB,MAAM,CAACiH,IAAP,CAAY9B,CAAZ,EAAetF,OAAf,CAAuB,UAAS4E,CAAT,EAAW;CAACU,QAAAA,CAAC,CAACV,CAAD,CAAD,CAAKsxC,QAAL,KAAgBjxB,CAAC,CAACrgB,CAAD,CAAD,GAAK,IAArB;CAA2B,OAA9D,CAA7C,EAA6GzE,MAAM,CAACs2C,cAAP,CAAsB,IAAtB,EAA2B,IAA3B,CAA7G,CAA3D,KAA6M;CAAC,aAAI,IAAI7mB,CAAC,GAAC,IAAV,EAAeA,CAAC,CAACjxB,WAAF,KAAgBwB,MAAhB,IAAwBuL,CAAC,CAACkkB,CAAD,EAAG,IAAH,CAAzB,EAAkCA,CAAC,GAACzvB,MAAM,CAACihD,cAAP,CAAsBxxB,CAAtB,CAAnD,EAA6E;;CAAC,cAAIovB,EAAE,CAACiC,SAAH,CAAav/C,MAAjB,KAA0BkD,CAAC,GAACzE,MAAM,CAACihD,cAAP,CAAsB,IAAtB,EAA4BziD,WAA9B,EAA0C+M,CAAC,CAAC9G,CAAD,CAA3C,EAA+C8G,CAAC,CAACszC,EAAD,CAA1E;CAAgF;CAAC,KAAzqO,EAA0qOA,EAAE,CAACplC,OAAH,GAAW,SAArrO,EAA+rOolC,EAAE,CAACiC,SAAH,GAAa,EAA5sO,EAA+sOjC,EAAE,CAACgC,OAAH,GAAWzJ,CAA1tO,EAA4tOyH,EAAE,CAACqC,WAAH,GAAertB,CAA3uO,EAA6uOgrB,EAAE,CAACE,gBAAH,GAAoB,EAAjwO,EAAowOF,EAAtwO,CAAh4G;CAAA,QAA0oVsC,CAAC,IAAEC,EAAE,CAACviC,SAAH,CAAamgC,KAAb,GAAmB,UAASv6C,CAAT,EAAW;CAAC,WAAK48C,MAAL,CAAY58C,CAAZ,KAAgB,KAAK68C,KAAL,CAAW78C,CAAX,CAAhB,KAAgC,KAAKq8C,SAAL,CAAelhD,IAAf,CAAoB6E,CAApB,GAAuB,KAAK88C,WAAL,CAAiB98C,CAAjB,CAAvB,EAA2C,KAAK+8C,iBAAL,CAAuB/8C,CAAvB,CAA3E;CAAsG,KAArI,EAAsI28C,EAAE,CAACviC,SAAH,CAAakiC,OAAb,GAAqB,UAASt8C,CAAT,EAAW;CAACA,MAAAA,CAAC,GAAC,KAAKq8C,SAAL,CAAej+B,OAAf,CAAuBpe,CAAvB,CAAF;CAA4B,OAAC,CAAD,KAAKA,CAAL,IAAQ,KAAKq8C,SAAL,CAAejK,MAAf,CAAsBpyC,CAAtB,EAAwB,CAAxB,CAAR;CAAmC,KAAtO,EAAuO28C,EAAE,CAACviC,SAAH,CAAa4iC,aAAb,GAA2B,YAAU;CAAC,aAAO,KAAKX,SAAL,CAAev/C,MAAtB;CAA6B,KAA1S,EAA2S6/C,EAAE,CAACviC,SAAH,CAAa6iC,SAAb,GAAuB,YAAU;CAAC,UAAIj9C,CAAJ;CAAM,gBAAQA,CAAC,GAAC,UAAQA,CAAC,GAAC,KAAKpF,MAAf,KAAwB,KAAK,CAAL,KAASoF,CAAjC,GAAmC,KAAK,CAAxC,GAA0CA,CAAC,CAACxJ,OAAtD,KAAgE,KAAK,CAAL,KAASwJ,CAAzE,IAA4EA,CAAC,CAAC6G,KAAF,CAAQ,IAAR,CAA5E;CAA0F,KAA7a,EAA8a81C,EAAE,CAACviC,SAAH,CAAa8iC,IAAb,GAAkB,UAASx8C,CAAT,EAAW;CAAC,UAAI9D,CAAC,GAAC,IAAN;CAAW,WAAKy/C,SAAL,CAAejhD,OAAf,CAAuB,UAAS4E,CAAT,EAAW;CAAC,YAAIqgB,CAAC,GAACzjB,CAAC,CAACggD,MAAF,CAAS58C,CAAT,CAAN;CAAkBqgB,QAAAA,CAAC,IAAE3f,CAAC,CAACV,CAAD,EAAGqgB,CAAH,CAAJ;CAAU,OAA/D;CAAiE,KAAxhB,EAAyhBs8B,EAAE,CAACviC,SAAH,CAAawiC,MAAb,GAAoB,UAAS58C,CAAT,EAAW;CAACA,MAAAA,CAAC,GAAC,KAAKm9C,SAAL,CAAen9C,CAAf,CAAF;CAAoB,aAAM,EAAE,CAACA,CAAD,IAAI,YAAU,OAAOA,CAAvB,KAA2B,CAAC,CAACA,CAAnC;CAAqC,KAAlnB,EAAmnB28C,EAAE,CAACviC,SAAH,CAAa+iC,SAAb,GAAuB,UAASn9C,CAAT,EAAW;CAAC,aAAO,UAAQA,CAAC,GAACA,CAAC,CAAC2U,MAAZ,KAAqB,KAAK,CAAL,KAAS3U,CAA9B,GAAgC,KAAK,CAArC,GAAuCA,CAAC,CAAC,KAAK/F,IAAN,CAA/C;CAA2D,KAAjtB,EAAktB0iD,EAAE,CAACviC,SAAH,CAAayiC,KAAb,GAAmB,UAAS78C,CAAT,EAAW;CAAC,aAAM,CAAC,CAAD,KAAK,KAAKq8C,SAAL,CAAej+B,OAAf,CAAuBpe,CAAvB,CAAX;CAAqC,KAAtxB,EAAuxB28C,EAAE,CAACviC,SAAH,CAAa0iC,WAAb,GAAyB,UAAS98C,CAAT,EAAW;CAAC,UAAIqgB,CAAJ;CAAM,WAAK+8B,MAAL,KAAc,KAAKA,MAAL,GAAY,CAAC,CAAb,EAAe,UAAQ/8B,CAAC,GAAC,UAAQA,CAAC,GAAC,KAAKzlB,MAAf,KAAwB,KAAK,CAAL,KAASylB,CAAjC,GAAmC,KAAK,CAAxC,GAA0CA,CAAC,CAAC9sB,IAAtD,KAA6D,KAAK,CAAL,KAAS8sB,CAAtE,IAAyEA,CAAC,CAACpK,IAAF,CAAO,KAAKrb,MAAZ,EAAmB,KAAKuiD,SAAL,CAAen9C,CAAf,CAAnB,CAAtG;CAA6I,KAA/8B,EAAg9B28C,EAAE,CAACviC,SAAH,CAAa2iC,iBAAb,GAA+B,UAAS/8C,CAAT,EAAW;CAAC,UAAIqgB,CAAJ;CAAM,gBAAQA,CAAC,GAAC,UAAQA,CAAC,GAAC,KAAKzlB,MAAf,KAAwB,KAAK,CAAL,KAASylB,CAAjC,GAAmC,KAAK,CAAxC,GAA0CA,CAAC,CAACg9B,UAAtD,KAAmE,KAAK,CAAL,KAASh9B,CAA5E,IAA+EA,CAAC,CAACpK,IAAF,CAAO,KAAKrb,MAAZ,EAAmBoF,CAAnB,EAAqB,KAAKm9C,SAAL,CAAen9C,CAAf,CAArB,CAA/E;CAAuH,KAAxnC,EAAynC28C,EAA3nC,CAA3oV;CAAA,QAA0wXW,CAAC,GAAC,IAAIZ,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC,KAAN;CAAY2gD,MAAAA,GAAG,EAAC,EAAhB;CAAmBrnD,MAAAA,IAAI,EAAC,UAASyM,CAAT,EAAW;CAAC,YAAG;CAAC,cAAIqgB,CAAC,GAAC,CAAC,CAAD,KAAKrgB,CAAL,IAAQA,CAAR,IAAW3D,MAAM,CAACkhD,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAjB;CAAyDn9B,UAAAA,CAAC,KAAGA,CAAC,GAAC,uCAAuC5f,OAAvC,CAA+C,OAA/C,EAAuD,UAAST,CAAT,EAAW;CAAC,gBAAIqgB,CAAC,GAAC,KAAGvkB,IAAI,CAAC0jB,MAAL,EAAH,GAAiB,CAAvB;CAAyB,mBAAM,CAAC,QAAMxf,CAAN,GAAQqgB,CAAR,GAAU,IAAEA,CAAF,GAAI,CAAf,EAAkBrc,QAAlB,CAA2B,EAA3B,CAAN;CAAqC,WAAjI,CAAF,EAAqI3H,MAAM,CAACkhD,YAAP,CAAoBE,OAApB,CAA4B,UAA5B,EAAuCp9B,CAAvC,CAAxI,CAAD,EAAoL,KAAKu6B,GAAL,GAASv6B,CAA7L;CAA+L,SAA5P,CAA4P,OAAMrgB,CAAN,EAAQ;CAAG,OAA3S;CAA4Sq9C,MAAAA,UAAU,EAAC,UAASr9C,CAAT,EAAW;CAACA,QAAAA,CAAC,CAAC86C,IAAF,CAAOF,GAAP,GAAW,KAAKA,GAAhB,EAAoB56C,CAAC,CAAC2U,MAAF,CAASimC,GAAT,GAAa,KAAKA,GAAtC;CAA0C;CAA7W,KAAN,CAA5wX;CAAA,QAAkoY8C,CAAC,GAAC,UAAS19C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,UAAI3f,CAAJ;CAAA,UAAM9D,CAAC,GAAC;CAAC7L,QAAAA,KAAK,EAAC,EAAP;CAAU4sD,QAAAA,MAAM,EAAC;CAAjB,OAAR;CAAA,UAA6BzzB,CAAC,GAAC,IAAI0zB,QAAJ,EAA/B;CAA4C,aAAO/iD,KAAK,CAACC,OAAN,CAAckF,CAAd,IAAiBA,CAAC,CAAC5E,OAAF,CAAU,UAAS4E,CAAT,EAAW;CAAC,YAAIqgB,CAAC,GAACg3B,CAAC,CAACr3C,CAAD,CAAP;CAAWpD,QAAAA,CAAC,CAACoD,CAAC,CAACQ,IAAH,CAAD,CAAUrF,IAAV,CAAeklB,CAAf;CAAkB,OAAnD,CAAjB,IAAuE3f,CAAC,GAAC22C,CAAC,CAACr3C,CAAD,CAAH,EAAOpD,CAAC,CAACoD,CAAC,CAACQ,IAAH,CAAD,CAAUrF,IAAV,CAAeuF,CAAf,CAA9E,GAAiGwpB,CAAC,CAAC2zB,MAAF,CAAS,SAAT,EAAmB/2B,IAAI,CAACC,SAAL,CAAegrB,CAAC,CAAC;CAACt5B,QAAAA,QAAQ,EAAC7b;CAAV,OAAD,EAAcyjB,CAAd,CAAhB,CAAnB,CAAjG,EAAuJ6J,CAA9J;CAAgK,KAA91Y;CAAA,QAA+1Y4zB,EAAE,GAAC,IAAIpB,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC;CAAN,KAAN,CAAl2Y;CAAA,QAAm4Y8jD,EAAE,GAACD,EAAE,GAAC,IAAIpB,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC,kBAAN;CAAyB+jD,MAAAA,UAAU,EAAC,CAApC;CAAsCC,MAAAA,qBAAqB,EAAC,CAAC,KAAD,EAAO,KAAP,EAAa,QAAb,EAAsB,MAAtB,EAA6B,OAA7B,EAAqC,OAArC,CAA5D;CAA0GZ,MAAAA,UAAU,EAAC,UAASr9C,CAAT,EAAW;CAAC,YAAIqgB,CAAC,GAAC,IAAN;CAAWvc,QAAAA,CAAC,OAAK,KAAKo6C,iBAAL,CAAuBl+C,CAAvB,GAA0B,KAAKm+C,cAAL,CAAoBn+C,CAApB,CAA1B,EAAiDxK,WAAW,CAAC4oD,0BAAZ,GAAuC,YAAU;CAAC/9B,UAAAA,CAAC,CAAC29B,UAAF,GAAa,CAAb,EAAexoD,WAAW,CAAC8hD,oBAAZ,EAAf;CAAkD,SAA1J,CAAD;CAA6J,OAAzS;CAA0S+G,MAAAA,OAAO,EAAC,UAASh+B,CAAT,EAAW;CAAC,aAAKi+B,KAAL,CAAW,UAASt+C,CAAT,EAAW;CAACA,UAAAA,CAAC,CAACq7C,gBAAF,CAAmBh7B,CAAnB;CAAsB,SAA7C;CAA+C,OAA7W;CAA8W69B,MAAAA,iBAAiB,EAAC,UAASl+C,CAAT,EAAW;CAAC,iBAASU,CAAT,CAAWV,CAAX,EAAa;CAAC,eAAI,IAAIqgB,CAAC,GAAC,CAAN,EAAQ3f,CAAC,GAACV,CAAC,CAAClD,MAAhB,EAAuBujB,CAAC,GAAC3f,CAAzB,EAA2B2f,CAAC,EAA5B,EAA+B;CAAC,gBAAIzjB,CAAC,GAACoD,CAAC,CAACqgB,CAAD,CAAP;CAAW,aAAC,CAAD,KAAK6J,CAAC,CAAC+zB,qBAAF,CAAwB7/B,OAAxB,CAAgCxhB,CAAC,CAAC2hD,aAAlC,CAAL,IAAuD,CAAC,CAAD,KAAK3hD,CAAC,CAAC3C,IAAF,CAAOmkB,OAAP,CAAe,2BAAf,CAA5D,IAAyG8L,CAAC,CAACm0B,OAAF,CAAUn0B,CAAC,CAACs0B,WAAF,CAAc5hD,CAAd,EAAgBouB,CAAhB,CAAV,CAAzG;CAAuI;CAAC;;CAAA,YAAI3K,CAAJ;CAAA,YAAMzjB,CAAN;CAAA,YAAQstB,CAAC,GAAC,IAAV;CAAA,YAAec,CAAC,GAAChrB,CAAC,CAAC2U,MAAnB;CAA0B,sBAAY,OAAOtY,MAAM,CAACoiD,mBAA1B,IAA+C/9C,CAAC,CAAClL,WAAW,CAAC+hD,gBAAZ,CAA6B,UAA7B,CAAD,CAAD,EAA4C,CAACl3B,CAAC,GAAC,IAAIhkB,MAAM,CAACoiD,mBAAX,CAA+B,UAASz+C,CAAT,EAAW;CAACU,UAAAA,CAAC,CAACV,CAAC,CAAC0+C,UAAF,EAAD,CAAD;CAAkB,SAA7D,CAAH,EAAmEC,OAAnE,CAA2E;CAACC,UAAAA,UAAU,EAAC,CAAC,UAAD;CAAZ,SAA3E,CAA5C,EAAkJ5+C,CAAC,CAACi3C,SAAF,CAAYp5C,EAAZ,CAAe,SAAf,EAAyB,YAAU;CAAC,gBAAIigD,EAAE,CAACd,aAAH,EAAJ,IAAwB38B,CAAC,CAAC7N,UAAF,EAAxB;CAAuC,SAA3E,CAAjM,KAAgR5V,CAAC,GAACq4B,WAAW,CAAC,YAAU;CAAC,cAAIj1B,CAAC,GAACxK,WAAW,CAAC+hD,gBAAZ,CAA6B,UAA7B,CAAN;CAAA,cAA+Cl3B,CAAC,GAACrgB,CAAC,CAACgH,KAAF,CAAQkjB,CAAC,CAAC8zB,UAAV,CAAjD;CAAuE9zB,UAAAA,CAAC,CAAC8zB,UAAF,GAAah+C,CAAC,CAAClD,MAAf,EAAsB4D,CAAC,CAAC2f,CAAD,CAAvB;CAA2B,SAA9G,EAA+G,GAA/G,CAAb,EAAiIrgB,CAAC,CAACi3C,SAAF,CAAYp5C,EAAZ,CAAe,SAAf,EAAyB,YAAU;CAAC,gBAAIigD,EAAE,CAACd,aAAH,EAAJ,IAAwB9nB,aAAa,CAACt4B,CAAD,CAArC;CAAyC,SAA7E,CAAjZ;CAAie,OAAxkC;CAAykCuhD,MAAAA,cAAc,EAAC,UAASn+C,CAAT,EAAW;CAAC,iBAASqgB,CAAT,CAAWrgB,CAAX,EAAa;CAAC,cAAIqgB,CAAJ,EAAM3f,CAAN;CAAQV,UAAAA,CAAC,KAAGA,CAAC,GAACA,CAAC,CAACtF,MAAF,IAAUsF,CAAC,CAAC6+C,UAAd,EAAyBx+B,CAAC,GAAC,CAAC,QAAMrgB,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACksB,GAAlB,MAAyB,QAAMlsB,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACoB,IAA1C,CAA3B,EAA2EpB,CAAC,GAAC,QAAMA,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC8+C,OAA9F,EAAsGz+B,CAAC,IAAE,YAAU,OAAOA,CAApB,KAAwB,UAAQrgB,CAAR,IAAW,CAAC,CAAD,GAAG3D,MAAM,CAAC8gB,QAAP,CAAgB/b,IAAhB,CAAqBgd,OAArB,CAA6BiC,CAA7B,CAAd,KAAgDrgB,CAAC,GAAC,cAAY,QAAO,UAAQA,CAAC,GAACkqB,CAAC,CAACovB,GAAZ,KAAkB,KAAK,CAAL,KAASt5C,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAAC++C,mBAA7C,CAAZ,GAA8E,UAAQr+C,CAAC,GAACwpB,CAAC,CAACovB,GAAZ,KAAkB,KAAK,CAAL,KAAS54C,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAACq+C,mBAAF,CAAsB1+B,CAAtB,CAAlH,GAA2I,EAA7I,EAAgJ3f,CAAC,GAAClL,WAAW,CAAC+hD,gBAAZ,CAA6B,UAA7B,EAAyCnG,IAAzC,CAA8C,UAASpxC,CAAT,EAAW;CAAC,mBAAOA,CAAC,CAAC/F,IAAF,KAASomB,CAAhB;CAAkB,WAA5E,CAAlJ,EAAgOrgB,CAAC,GAAC;CAACnN,YAAAA,GAAG,EAACo4B,CAAC,CAAC5K,CAAD,CAAN;CAAUizB,YAAAA,MAAM,EAAC,GAAjB;CAAqB76B,YAAAA,QAAQ,EAAC1K,MAAM,CAAC,CAAC,CAAC,QAAMrN,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC+X,QAAlB,KAA6B,CAA9B,EAAiClU,OAAjC,CAAyC,CAAzC,CAAD,CAApC;CAAkF4qC,YAAAA,MAAM,EAAC,KAAzF;CAA+F3uC,YAAAA,IAAI,EAACR,CAAC,IAAE,QAAvG;CAAgHg/C,YAAAA,OAAO,EAACn0C,CAAC,CAACwV,CAAD,CAAzH;CAA6H4+B,YAAAA,QAAQ,EAACh0B,CAAC,CAAC5K,CAAD,EAAG,CAAC,CAAJ,CAAvI;CAA8I6+B,YAAAA,YAAY,EAAC,CAA3J;CAA6JC,YAAAA,WAAW,EAAC;CAAzK,WAAlO,EAA8YviD,CAAC,CAACyhD,OAAF,CAAUr+C,CAAV,CAA9b,CAAxB,CAAzG,CAAD;CAAglB;;CAAA,YAAIpD,CAAC,GAAC,IAAN;CAAA,YAAWstB,CAAC,GAAClqB,CAAC,CAAC2U,MAAf;CAAsBtY,QAAAA,MAAM,CAACD,QAAP,CAAgBnB,gBAAhB,CAAiC,OAAjC,EAAyColB,CAAzC,EAA2C,CAAC,CAA5C,GAA+CrgB,CAAC,CAACi3C,SAAF,CAAYp5C,EAAZ,CAAe,SAAf,EAAyB,YAAU;CAAC,gBAAIigD,EAAE,CAACd,aAAH,EAAJ,IAAwB3gD,MAAM,CAACD,QAAP,CAAgBlB,mBAAhB,CAAoC,OAApC,EAA4CmlB,CAA5C,EAA8C,CAAC,CAA/C,CAAxB;CAA0E,SAA9G,CAA/C;CAA+J,OAA/3D;CAAg4Dm+B,MAAAA,WAAW,EAAC,UAASx+C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAI3f,CAAJ;CAAA,YAAM9D,CAAC,GAAC,cAAY,QAAO,UAAQ8D,CAAC,GAAC2f,CAAC,CAACi5B,GAAZ,KAAkB,KAAK,CAAL,KAAS54C,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAACq+C,mBAA7C,CAAZ,GAA8E,UAAQniD,CAAC,GAACyjB,CAAC,CAACi5B,GAAZ,KAAkB,KAAK,CAAL,KAAS18C,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAACmiD,mBAAF,CAAsB/+C,CAAC,CAAC/F,IAAxB,CAAlH,GAAgJ,EAAxJ;CAA2J,eAAM;CAACpH,UAAAA,GAAG,EAACo4B,CAAC,CAACjrB,CAAC,CAAC/F,IAAH,CAAN;CAAek1C,UAAAA,MAAM,EAAC,KAAtB;CAA4B12B,UAAAA,QAAQ,EAAC1K,MAAM,CAAC/N,CAAC,CAACyY,QAAF,CAAWlU,OAAX,CAAmB,CAAnB,CAAD,CAA3C;CAAmE+uC,UAAAA,MAAM,EAAC,GAA1E;CAA8E9yC,UAAAA,IAAI,EAAC5D,CAAC,IAAE,QAAtF;CAA+FoiD,UAAAA,OAAO,EAACn0C,CAAC,CAAC7K,CAAC,CAAC/F,IAAH,CAAxG;CAAiHglD,UAAAA,QAAQ,EAACh0B,CAAC,CAACjrB,CAAC,CAAC/F,IAAH,EAAQ,CAAC,CAAT,CAA3H;CAAuIilD,UAAAA,YAAY,EAAC/8C,CAAC,CAACnC,CAAC,CAACo/C,eAAF,GAAkBp/C,CAAC,CAACq/C,iBAArB,CAArJ;CAA6LF,UAAAA,WAAW,EAACh9C,CAAC,CAACnC,CAAC,CAACs/C,UAAF,GAAat/C,CAAC,CAACu/C,YAAhB;CAA1M,SAAN;CAA+O,OAApyE;CAAqyE/oD,MAAAA,OAAO,EAAC,YAAU;CAAC,aAAKoE,MAAL,CAAYyjD,OAAZ,GAAoB,YAAU,EAA9B;CAAiC;CAAz1E,KAAN,CAAz4Y;CAAA,QAA2ud3G,EAAE,GAAC,CAAC,CAA/ud;CAAA,QAAivdD,EAAE,GAAC,EAApvd;CAAA,QAAuvd+H,EAAE,GAAC,CAAC,CAA3vd;CAAA,QAA6vdC,EAAE,GAAC,EAAhwd;CAAA,QAAmwdlN,EAAE,IAAE,IAAImK,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC;CAAN,KAAN,GAA+B,IAAIyiD,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC,gBAAN;CAAuBylD,MAAAA,QAAQ,EAAC,CAAC,CAAjC;CAAmCrC,MAAAA,UAAU,EAAC,UAASr9C,CAAT,EAAW;CAAC,aAAK0/C,QAAL,KAAgB,KAAKA,QAAL,GAAc,CAAC,CAAf,EAAiB,KAAKC,aAAL,CAAmB3/C,CAAC,CAAC2U,MAArB,CAAjB,EAA8C,KAAKirC,WAAL,CAAiB5/C,CAAC,CAAC2U,MAAnB,CAA9D;CAA0F,OAApJ;CAAqJgrC,MAAAA,aAAa,EAAC,UAAS9iD,CAAT,EAAW;CAAC,YAAI0uB,CAAC,GAAC,IAAN;CAAA,YAAWvrB,CAAC,GAAC;CAAC/F,UAAAA,IAAI,EAAC,KAAKA,IAAX;CAAgBgE,UAAAA,IAAI,EAAC,UAAS+sB,CAAT,EAAW2mB,CAAX,EAAaxvC,CAAb,EAAeyI,CAAf,EAAiB;CAAC,gBAAI5K,CAAJ,EAAMovB,CAAN,EAAQ/O,CAAR,EAAU3f,CAAV;CAAY7D,YAAAA,CAAC,CAACgjD,OAAF,IAAW,CAAC,CAAD,GAAG19C,CAAC,CAACic,OAAF,CAAUvhB,CAAC,CAACgjD,OAAZ,CAAd,KAAqCzwB,CAAC,GAAC;CAACv8B,cAAAA,GAAG,EAACm4B,CAAC,CAACn4B,GAAP;CAAWmsD,cAAAA,OAAO,EAACn0C,CAAC,CAACmgB,CAAC,CAACn4B,GAAH,CAApB;CAA4Bs8C,cAAAA,MAAM,EAAC,CAAC,QAAMvkC,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACukC,MAAlB,KAA2B,KAA9D;CAAoE12B,cAAAA,QAAQ,EAACk5B,CAA7E;CAA+EnxC,cAAAA,IAAI,EAAC,OAApF;CAA4F8yC,cAAAA,MAAM,EAACtoB,CAAC,CAACsoB,MAAF,IAAU;CAA7G,aAAF,EAAkH,aAAW5yC,CAAC,GAAC,cAAY,QAAO,UAAQV,CAAC,GAACnD,CAAC,CAACy8C,GAAZ,KAAkB,KAAK,CAAL,KAASt5C,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAAC++C,mBAA7C,CAAZ,GAA8E,UAAQ1+B,CAAC,GAACxjB,CAAC,CAACy8C,GAAZ,KAAkB,KAAK,CAAL,KAASj5B,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAAC0+B,mBAAF,CAAsB/zB,CAAC,CAACn4B,GAAxB,CAAlH,GAA+I6N,CAA5J,KAAgK,aAAWA,CAA3K,KAA+K2f,CAAC,GAAC2K,CAAC,CAACqkB,OAAF,GAAUrkB,CAAC,CAACqkB,OAAF,CAAU5zC,GAAV,CAAc,cAAd,CAAV,GAAwC,EAA1C,EAA6CiF,CAAC,GAACsqB,CAAC,CAAC80B,EAAF,IAAM,YAAU,OAAOz/B,CAAvB,IAA0BoyB,CAAC,CAACpyB,CAAD,CAA3B,GAA+B,QAA/B,GAAwC,OAAtQ,CAAlH,EAAiY,YAAU3f,CAAV,GAAYsqB,CAAC,CAAC+0B,KAAF,GAAUhP,IAAV,GAAiB9yC,IAAjB,CAAsB,UAAS+B,CAAT,EAAW;CAAC,kBAAIqgB,CAAC,GAAC,UAAQ6J,CAAC,GAACrtB,CAAC,CAACy8C,GAAZ,KAAkB,KAAK,CAAL,KAASpvB,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAAC81B,SAA5C;CAAA,kBAAsDt/C,CAAC,GAACsqB,CAAC,CAACsoB,MAAF,IAAU,CAAV,IAAa,OAAKtoB,CAAC,CAACsoB,MAA5E;CAAA,kBAAmF12C,CAAC,GAACi2C,CAAC,CAAC7yC,CAAD,EAAGnD,CAAC,CAACy8C,GAAL,EAAS;CAACzmD,gBAAAA,GAAG,EAACsP,CAAL;CAAOsE,gBAAAA,GAAG,EAACukB;CAAX,eAAT,CAAtF;CAAA,kBAA8Gd,CAAC,GAACttB,CAAC,CAACg6B,IAAlH;CAAA,kBAAuHh6B,CAAC,GAACA,CAAC,CAACm2C,KAA3H;CAAA,kBAAiI1yB,CAAC,GAAC,CAAC3f,CAAC,GAAC,kBAAgBV,CAAhB,GAAkB,OAAnB,GAA2B,EAA7B,IAAiC,WAAjC,GAA6CmC,CAA7C,GAA+C,mDAA/C,IAAoG,CAAC,QAAMyI,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACukC,MAAlB,KAA2B,KAA/H,IAAsI,kDAAtI,IAA0L9uB,CAAC,GAAC1V,CAAC,CAAC,QAAMC,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAChF,IAAlB,CAAF,GAA0B,EAArN,IAAyN,qDAAzN,GAA+Q+rC,CAA/Q,GAAiR,mDAAjR,IAAsU3mB,CAAC,CAACsoB,MAAF,IAAU,CAAhV,IAAmV,oDAAnV,GAAwYppB,CAAxY,GAA0Y,gDAA1Y,IAA4b7J,CAAC,GAACrgB,CAAD,GAAG,EAAhc,CAAnI;CAAukBovB,cAAAA,CAAC,CAAC0I,OAAF,GAAU,IAAI2b,CAAJ,CAAMzoB,CAAN,EAAQhrB,CAAR,CAAV,EAAqBovB,CAAC,CAACryB,GAAF,GAAMmtB,CAA3B,EAA6BkF,CAAC,CAAC2jB,KAAF,GAAQ,CAACn2C,CAAtC,EAAwC2uB,CAAC,CAAC00B,gBAAF,CAAmB;CAAChzC,gBAAAA,GAAG,EAACoT,CAAL;CAAOmpB,gBAAAA,KAAK,EAAC9oC,CAAC,GAACiyC,CAAC,CAACuB,UAAH,GAAct3C,CAAC,GAAC+1C,CAAC,CAAC6B,SAAH,GAAa7B,CAAC,CAACmB,YAA5C;CAAyDld,gBAAAA,IAAI,EAAC1M;CAA9D,eAAnB,CAAxC;CAA6H,aAAtuB,CAAZ,GAAovB3uB,MAAM,CAACo0C,MAAP,CAAcvgB,CAAd,EAAgB;CAAC5uB,cAAAA,IAAI,EAAC,QAAN;CAAey+C,cAAAA,QAAQ,EAACh0B,CAAC,CAACD,CAAC,CAACn4B,GAAH,EAAO,CAAC,CAAR,CAAzB;CAAoCqsD,cAAAA,YAAY,EAACn7C,CAAC,CAACyuC,MAAnD;CAA0D2M,cAAAA,WAAW,EAACp7C,CAAC,CAACyuC;CAAxE,aAAhB,CAArnC,EAAstCjnB,CAAC,CAAC20B,YAAF,CAAe9wB,CAAf,CAA3vC;CAA8wC,WAAj0C;CAAk0ClxB,UAAAA,KAAK,EAAC,UAAS8B,CAAT,EAAWqgB,CAAX,EAAa3f,CAAb,EAAe9D,CAAf,EAAiB;CAAC,gBAAG,EAAEC,CAAC,CAACgjD,OAAF,IAAW,CAAC,CAAD,GAAGn/C,CAAC,CAAC0d,OAAF,CAAUvhB,CAAC,CAACgjD,OAAZ,CAAhB,CAAH,EAAyC;CAAC,kBAAI31B,CAAC,GAAC;CAACr3B,gBAAAA,GAAG,EAAC6N,CAAL;CAAOs+C,gBAAAA,OAAO,EAACn0C,CAAC,CAACnK,CAAD,CAAhB;CAAoByuC,gBAAAA,MAAM,EAAC,CAAC,QAAMvyC,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACuyC,MAAlB,KAA2B,KAAtD;CAA4D12B,gBAAAA,QAAQ,EAAC4H,CAArE;CAAuE7f,gBAAAA,IAAI,EAAC,OAA5E;CAAoF8yC,gBAAAA,MAAM,EAAC;CAA3F,eAAN;CAAoG/nB,cAAAA,CAAC,CAAC20B,YAAF,CAAeh2B,CAAf;CAAkBA,cAAAA,CAAC,GAAC,UAAQA,CAAC,GAACrtB,CAAC,CAACy8C,GAAZ,KAAkB,KAAK,CAAL,KAASpvB,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAAC81B,SAAxC,EAAkDpjD,CAAC,GAAC,iBAAeoD,CAAf,GAAiB,yFAAjB,GAA2GqgB,CAA3G,GAA6G,yCAA7G,GAAuJ3f,CAAvJ,GAAyJ,4CAAzJ,IAAuM,CAAC,QAAM9D,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACuyC,MAAlB,KAA2B,KAAlO,IAAyO,2CAAzO,IAAsRjlB,CAAC,GAACvf,CAAC,CAAC,QAAM/N,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACgJ,IAAlB,CAAF,GAA0B,EAAjT,CAApD;CAAyW,oBAAM2lB,CAAC,CAAC00B,gBAAF,CAAmB;CAAChzC,gBAAAA,GAAG,EAACrQ,CAAL;CAAO4sC,gBAAAA,KAAK,EAACmJ,CAAC,CAACuB,UAAf;CAA0Btd,gBAAAA,IAAI,EAAC,CAAC;CAAhC,eAAnB,GAAyD52B,CAA/D;CAAiE;CAAC;CAAr6D,SAAb;CAAo7D,aAAKmgD,gBAAL,GAAsBngD,CAAtB,EAAwB,UAASqgB,CAAT,EAAW;CAAC,cAAGo/B,EAAE,CAACrO,IAAH,CAAQ,UAASpxC,CAAT,EAAW;CAAC,mBAAOA,CAAC,CAAC/F,IAAF,KAASomB,CAAC,CAACpmB,IAAlB;CAAuB,WAA3C,CAAH,EAAgD,MAAM,IAAI2mB,KAAJ,CAAU,WAASP,CAAC,CAACpmB,IAAX,GAAgB,uCAA1B,CAAN;CAAyE,cAAI03C,CAAJ;CAAM8N,UAAAA,EAAE,CAACtkD,IAAH,CAAQklB,CAAR,GAAW,CAACm/B,EAAD,IAAKnjD,MAAM,CAACtL,KAAZ,KAAoByuD,EAAE,GAAC,CAAC,CAAJ,EAAM7N,CAAC,GAACt1C,MAAM,CAACtL,KAAf,EAAqBsL,MAAM,CAACtL,KAAP,GAAa,UAASiP,CAAT,EAAWpD,CAAX,EAAa;CAAC,iBAAK,CAAL,KAASA,CAAT,KAAaA,CAAC,GAAC,EAAf;;CAAmB,iBAAI,IAAIstB,CAAC,GAAC,YAAU,OAAOlqB,CAAjB,GAAmBA,CAAnB,GAAqBA,CAAC,CAACnN,GAA7B,EAAiCwtB,CAAC,GAAC,CAAvC,EAAyCA,CAAC,GAACo/B,EAAE,CAAC3iD,MAA9C,EAAqDujB,CAAC,EAAtD,EAAyD;CAAC,kBAAI3f,CAAC,GAAC++C,EAAE,CAACp/B,CAAD,CAAR;;CAAY,kBAAG;CAAC,8BAAY,OAAO3f,CAAC,CAAC0/C,WAArB,IAAkC1/C,CAAC,CAAC0/C,WAAF,CAAcl2B,CAAd,EAAgBttB,CAAhB,CAAlC;CAAqD,eAAzD,CAAyD,OAAMoD,CAAN,EAAQ;CAAG;;CAAA,gBAAIgrB,CAAC,GAACtpB,IAAI,CAACD,GAAL,EAAN;CAAiB,mBAAOkwC,CAAC,CAAC3xC,CAAD,EAAGpD,CAAH,CAAD,CAAOqB,IAAP,CAAY,UAAS+B,CAAT,EAAW;CAAC,mBAAI,IAAIqgB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACo/B,EAAE,CAAC3iD,MAAjB,EAAwBujB,CAAC,EAAzB,EAA4B;CAAC,oBAAI3f,CAAC,GAAC++C,EAAE,CAACp/B,CAAD,CAAR;;CAAY,oBAAG;CAAC,gCAAY,OAAO3f,CAAC,CAACzC,IAArB,IAA2ByC,CAAC,CAACzC,IAAF,CAAO+B,CAAP,EAAS0B,IAAI,CAACD,GAAL,KAAWupB,CAApB,EAAsBd,CAAtB,EAAwBttB,CAAxB,CAA3B;CAAsD,iBAA1D,CAA0D,OAAMoD,CAAN,EAAQ;CAAG;;CAAA,qBAAOA,CAAP;CAAS,aAA/I,EAAiJ9B,KAAjJ,CAAuJ,UAAS8B,CAAT,EAAW;CAAC,mBAAI,IAAIqgB,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACo/B,EAAE,CAAC3iD,MAAjB,EAAwBujB,CAAC,EAAzB,EAA4B;CAAC,oBAAI3f,CAAC,GAAC++C,EAAE,CAACp/B,CAAD,CAAR;;CAAY,oBAAG;CAAC,gCAAY,OAAO3f,CAAC,CAACxC,KAArB,IAA4BwC,CAAC,CAACxC,KAAF,CAAQ8B,CAAR,EAAU0B,IAAI,CAACD,GAAL,KAAWupB,CAArB,EAAuBd,CAAvB,EAAyBttB,CAAzB,CAA5B;CAAwD,iBAA5D,CAA4D,OAAMoD,CAAN,EAAQ;CAAG;;CAAA,oBAAMA,CAAN;CAAQ,aAA3R,CAAP;CAAoS,WAAthB,CAAX;CAAmiB,SAA9qB,CAA+qB,KAAKmgD,gBAAprB,CAAxB;CAA8tB,OAAj0F;CAAk0FE,MAAAA,cAAc,EAAC,UAASrgD,CAAT,EAAWqgB,CAAX,EAAa3f,CAAb,EAAe;CAAC,YAAI9D,CAAJ;CAAA,YAAMstB,CAAC,GAAC,cAAY,QAAO,UAAQttB,CAAC,GAACoD,CAAC,CAACs5C,GAAZ,KAAkB,KAAK,CAAL,KAAS18C,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAACmiD,mBAA7C,CAAZ,GAA8E,UAAQ70B,CAAC,GAAClqB,CAAC,CAACs5C,GAAZ,KAAkB,KAAK,CAAL,KAASpvB,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAAC60B,mBAAF,CAAsBr+C,CAAtB,CAAlH,GAA2I,EAAnJ;CAAsJ,eAAM,YAAUwpB,CAAV,IAAa,aAAWA,CAAxB,KAA4BxpB,CAAC,GAAC2f,CAAC,CAACigC,iBAAF,CAAoB,cAApB,CAAF,EAAsCp2B,CAAC,GAAC,OAAK7J,CAAC,CAACizB,MAAP,IAAe,YAAU,OAAO5yC,CAAhC,IAAmC,CAAC+xC,CAAC,CAAC/xC,CAAD,CAArC,GAAyC,OAAzC,GAAiD,QAArH,GAA+HwpB,CAArI;CAAuI,OAA9nG;CAA+nG01B,MAAAA,WAAW,EAAC,UAASnN,CAAT,EAAW;CAAC,YAAIU,CAAC,GAAC,IAAN;CAAA,YAAWnzC,CAAC,GAAC;CAAC/F,UAAAA,IAAI,EAAC,KAAKA,IAAX;CAAgB29C,UAAAA,IAAI,EAAC,UAASxoB,CAAT,EAAWvyB,CAAX,EAAa;CAAC,gBAAI0uB,CAAC,GAAC7pB,IAAI,CAACD,GAAL,EAAN;CAAiB2tB,YAAAA,CAAC,CAACn0B,gBAAF,CAAmB,SAAnB,EAA6B,YAAU;CAAC,kBAAI+E,CAAJ;CAAA,kBAAMqgB,CAAC,GAAC+O,CAAC,CAAC0oB,QAAV;;CAAmB,kBAAGz3B,CAAH,EAAK;CAAC,oBAAI3f,CAAC,GAACgB,IAAI,CAACD,GAAL,KAAW8pB,CAAjB;CAAA,oBAAmB3uB,CAAC,GAAC;CAAC/J,kBAAAA,GAAG,EAACwtB,CAAL;CAAO2+B,kBAAAA,OAAO,EAACn0C,CAAC,CAACwV,CAAD,CAAhB;CAAoBizB,kBAAAA,MAAM,EAAClkB,CAAC,CAACkkB,MAAF,IAAU,CAArC;CAAuCnE,kBAAAA,MAAM,EAAC/f,CAAC,CAACyoB,WAAF,IAAe,KAA7D;CAAmEr3C,kBAAAA,IAAI,EAAC,OAAxE;CAAgFiY,kBAAAA,QAAQ,EAAC/X,CAAzF;CAA2Fo3B,kBAAAA,OAAO,EAAC,IAAI11B,CAAJ,CAAMgtB,CAAN;CAAnG,iBAArB;CAAkI,oBAAG,YAAU+jB,CAAC,CAACkN,cAAF,CAAiB5N,CAAjB,EAAmBrjB,CAAnB,EAAqB/O,CAArB,CAAb,EAAqC,IAAG;CAAC,sBAAI6J,CAAC,GAAC,UAAQlqB,CAAC,GAACyyC,CAAC,CAAC6G,GAAZ,KAAkB,KAAK,CAAL,KAASt5C,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAACggD,SAA5C;CAAA,sBAAsDh1B,CAAC,GAAC6nB,CAAC,CAACzjB,CAAC,CAACukB,QAAH,EAAYlB,CAAC,CAAC6G,GAAd,EAAkB;CAACzmD,oBAAAA,GAAG,EAACwtB,CAAL;CAAO5Z,oBAAAA,GAAG,EAAC2oB;CAAX,mBAAlB,CAAzD;CAAA,sBAA0FuiB,CAAC,GAAC3mB,CAAC,CAAC4L,IAA9F;CAAA,sBAAmGz0B,CAAC,GAAC6oB,CAAC,CAAC+nB,KAAvG;CAAA,sBAA6GnoC,CAAC,GAAC,cAAYyV,CAAZ,GAAc,mDAAd,GAAkEzjB,CAAC,CAACuyC,MAApE,GAA2E,kDAA3E,IAA+HjlB,CAAC,GAACvf,CAAC,CAAC9N,CAAD,CAAF,GAAM,EAAtI,IAA0I,qDAA1I,GAAgM6D,CAAhM,GAAkM,mDAAlM,GAAsP9D,CAAC,CAAC02C,MAAxP,GAA+P,oDAA/P,GAAoT3B,CAApT,GAAsT,gDAAtT,IAAwWznB,CAAC,GAACvf,CAAC,CAACykB,CAAC,CAACukB,QAAH,CAAF,GAAe,EAAxX,CAA/G;CAA2e/2C,kBAAAA,CAAC,CAACG,GAAF,GAAM40C,CAAN,EAAQ/0C,CAAC,CAACm2C,KAAF,GAAQ,CAAC5wC,CAAjB,EAAmBgxC,CAAC,CAAC8M,gBAAF,CAAmB;CAAChzC,oBAAAA,GAAG,EAACrC,CAAL;CAAO4+B,oBAAAA,KAAK,EAACrnC,CAAC,GAACwwC,CAAC,CAAC6B,SAAH,GAAa7B,CAAC,CAACmB,YAA7B;CAA0Cld,oBAAAA,IAAI,EAAC+a;CAA/C,mBAAnB,CAAnB;CAAyF,iBAAxkB,CAAwkB,OAAM3xC,CAAN,EAAQ;CAACpD,kBAAAA,CAAC,CAACG,GAAF,GAAM,SAAN;CAAgB,iBAAtoB,MAA2oBxB,MAAM,CAACo0C,MAAP,CAAc/yC,CAAd,EAAgB;CAAC4D,kBAAAA,IAAI,EAAC,QAAN;CAAey+C,kBAAAA,QAAQ,EAACh0B,CAAC,CAAC5K,CAAD,EAAG,CAAC,CAAJ,CAAzB;CAAgC6+B,kBAAAA,YAAY,EAACn7C,CAAC,CAACyuC,MAA/C;CAAsD2M,kBAAAA,WAAW,EAACp7C,CAAC,CAACyuC;CAApE,iBAAhB;CAA6FW,gBAAAA,CAAC,CAAC+M,YAAF,CAAetjD,CAAf;CAAkB;CAAC,aAA97B;CAAg8B;CAAp/B,SAAb;CAAmgC,aAAK2jD,cAAL,GAAoBvgD,CAApB,EAAsBw3C,CAAC,CAAC,KAAK+I,cAAN,CAAvB;CAA6C,OAAvsI;CAAwsIL,MAAAA,YAAY,EAAC,UAASx/C,CAAT,EAAW;CAAC,YAAI9D,CAAC,GAAC,IAAN;CAAW8D,QAAAA,CAAC,CAAC7N,GAAF,GAAMo4B,CAAC,CAACvqB,CAAC,CAAC7N,GAAH,CAAP,EAAe,KAAKyrD,KAAL,CAAW,UAASt+C,CAAT,EAAW;CAAC,cAAIqgB,CAAC,GAACzjB,CAAC,CAAC4jD,UAAF,CAAaxgD,CAAb,CAAN;CAAsB,sBAAUU,CAAC,CAACF,IAAZ,IAAkB6f,CAAlB,IAAqB,cAAY,OAAOA,CAAC,CAACogC,UAA1C,GAAqDzgD,CAAC,CAACq7C,gBAAF,CAAmBtJ,CAAC,CAACA,CAAC,CAAC,EAAD,EAAIrxC,CAAJ,CAAF,EAAS;CAAC7N,YAAAA,GAAG,EAACw/C,kBAAkB,CAAChyB,CAAC,CAACogC,UAAF,CAAa//C,CAAC,CAAC7N,GAAf,EAAmB6N,CAAC,CAACo3B,OAArB,CAAD;CAAvB,WAAT,CAApB,CAArD,GAA4I93B,CAAC,CAACq7C,gBAAF,CAAmB36C,CAAnB,CAA5I;CAAkK,SAA/M,CAAf;CAAgO,OAA58I;CAA68Iu/C,MAAAA,gBAAgB,EAAC,UAAS5/B,CAAT,EAAW;CAAC,aAAKi+B,KAAL,CAAW,UAASt+C,CAAT,EAAW;CAACA,UAAAA,CAAC,CAACk7C,iBAAF,CAAoB76B,CAApB;CAAuB,SAA9C;CAAgD,OAA1hJ;CAA2hJ7pB,MAAAA,OAAO,EAAC,YAAU;CAAC,YAAI6pB,CAAJ,EAAMrgB,CAAN;CAAQ,aAAKpF,MAAL,CAAYslD,YAAZ,GAAyB,YAAU,EAAnC,EAAsC,KAAKtlD,MAAL,CAAYqlD,gBAAZ,GAA6B,YAAU,EAA7E,EAAgF,KAAKrlD,MAAL,CAAY2lD,cAAZ,IAA4BtI,CAAC,CAAC,KAAKr9C,MAAL,CAAY2lD,cAAb,CAA7G,EAA0I,KAAK3lD,MAAL,CAAYulD,gBAAZ,KAA+B9/B,CAAC,GAAC,KAAKzlB,MAAL,CAAYulD,gBAAd,EAA+B,CAAC,CAAD,MAAMngD,CAAC,GAACy/C,EAAE,CAACvH,SAAH,CAAa,UAASl4C,CAAT,EAAW;CAAC,iBAAOA,CAAC,CAAC/F,IAAF,KAASomB,CAAC,CAACpmB,IAAlB;CAAuB,SAAhD,CAAR,KAA4DwlD,EAAE,CAACrN,MAAH,CAAUpyC,CAAV,EAAY,CAAZ,CAA1H,CAA1I;CAAoR;CAA10J,KAAN,CAAjC,CAArwd;;CAA0nnB,aAAS28C,EAAT,CAAY38C,CAAZ,EAAc;CAAC,WAAKg7C,WAAL,GAAiB,CAAC,CAAlB,EAAoB,KAAK/gD,IAAL,GAAU,EAA9B,EAAiC,KAAKoiD,SAAL,GAAe,EAAhD,EAAmD,KAAKe,MAAL,GAAY,CAAC,CAAhE,EAAkEp9C,CAAC,CAACs+C,KAAF,GAAQ,KAAKpB,IAAL,CAAUziD,IAAV,CAAe,IAAf,CAA1E,EAA+FuF,CAAC,CAACwgD,UAAF,GAAa,KAAKrD,SAAL,CAAe1iD,IAAf,CAAoB,IAApB,CAA5G,EAAsI,KAAKG,MAAL,GAAYoF,CAAlJ,EAAoJ,KAAK/F,IAAL,GAAU+F,CAAC,CAAC/F,IAAhK;CAAqK;;CAAA,aAASmgD,EAAT,CAAYp6C,CAAZ,EAAc;CAAC,UAAIU,CAAJ;CAAA,UAAM2f,CAAN;CAAA,UAAQ6J,CAAC,GAAC,IAAV;CAAe,WAAK+uB,WAAL,GAAiB,CAAC,CAAlB,EAAoB,KAAKgD,QAAL,GAAc,CAAC,CAAnC,EAAqC,KAAKtnC,MAAL,GAAY;CAACK,QAAAA,OAAO,EAAC,CAAT;CAAWgiB,QAAAA,KAAK,EAAC,GAAjB;CAAqBzG,QAAAA,OAAO,EAAC,CAAC,CAA9B;CAAgCqpB,QAAAA,MAAM,EAAC,CAAvC;CAAyCp6B,QAAAA,MAAM,EAAC,CAAhD;CAAkDo7B,QAAAA,GAAG,EAAC,CAAC,CAAvD;CAAyD8F,QAAAA,MAAM,EAAC,CAAC,CAAjE;CAAmEC,QAAAA,eAAe,EAAC,CAAC,CAApF;CAAsFC,QAAAA,SAAS,EAAC,CAAC,CAAjG;CAAmGjH,QAAAA,WAAW,EAAC,CAAC,CAAhH;CAAkHkG,QAAAA,OAAO,EAAC,sBAA1H;CAAiJhF,QAAAA,GAAG,EAAC,YAArJ;CAAkKhoD,QAAAA,GAAG,EAAC,EAAtK;CAAyKguD,QAAAA,UAAU,EAAC,EAApL;CAAuLnI,QAAAA,YAAY,EAAC,EAApM;CAAuMe,QAAAA,KAAK,EAAC,EAA7M;CAAgNqH,QAAAA,QAAQ,EAAC,EAAzN;CAA4NC,QAAAA,aAAa,EAAC,EAA1O;CAA6OC,QAAAA,cAAc,EAAC,EAA5P;CAA+PC,QAAAA,YAAY,EAAC,EAA5Q;CAA+QC,QAAAA,QAAQ,EAAC;CAAxR,OAAjD,EAA6U,KAAKnI,WAAL,GAAiB,CAAC,CAA/V,EAAiW,KAAK9B,SAAL,GAAe,IAAIjsB,CAAJ,EAAhX,EAAsX,KAAK8vB,IAAL,GAAU,EAAhY,EAAmY,KAAKI,iBAAL,GAAuBhB,CAAC,CAAC,CAAC3B,CAAC,CAAC,IAAD,EAAM,CAAN,CAAF,EAAWC,CAAX,EAAa,UAASx4C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAIzjB,CAAC,GAAC8D,CAAC,CAACiU,MAAR;CAAe0L,QAAAA,CAAC,CAACrgB,CAAC,GAACA,CAAC,CAACjF,GAAF,CAAM,UAASiF,CAAT,EAAW;CAAC,cAAIqgB,CAAJ;CAAA,cAAM3f,CAAC,GAAC9D,CAAC,CAACukD,SAAF,IAAa,MAArB;;CAA4B,cAAG;CAAC,gBAAG,CAACnhD,CAAC,CAACiN,GAAH,IAAQjN,CAAC,CAACiN,GAAF,CAAMnQ,MAAN,IAAc4D,CAAzB,EAA2B,OAAOV,CAAP;CAASA,YAAAA,CAAC,CAACiN,GAAF,GAAM,UAAQoT,CAAC,GAACrgB,CAAC,CAACiN,GAAZ,KAAkB,KAAK,CAAL,KAASoT,CAA3B,GAA6B,KAAK,CAAlC,GAAoCA,CAAC,CAAC0B,SAAF,CAAY,CAAZ,EAAcrhB,CAAd,CAA1C;CAA2D,WAAnG,CAAmG,OAAM2f,CAAN,EAAQ;CAACrgB,YAAAA,CAAC,CAACiN,GAAF,GAAMgmC,CAAC,CAACjzC,CAAC,CAACiN,GAAH,CAAD,CAAS8U,SAAT,CAAmB,CAAnB,EAAqBnlB,CAAC,CAACukD,SAAvB,CAAN;CAAwC;;CAAA,iBAAOnhD,CAAP;CAAS,SAA3M,CAAH,CAAD;CAAkN,OAA5P,EAA6P85C,CAAC,CAAC,CAACp5C,CAAC,GAAC,IAAH,EAASiU,MAAV,CAA9P,EAAgR0jC,CAAC,CAAC,KAAKpB,SAAL,CAAe5xC,IAAhB,EAAqB,KAAKsP,MAA1B,CAAjR,EAAmT6kC,CAAC,CAAC,IAAD,CAApT,EAA2Tf,CAAC,CAAC,IAAD,CAA5T,EAAmU,UAASz4C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,YAAI3f,CAAC,GAAComB,IAAI,CAACksB,KAAL,CAAWlsB,IAAI,CAACC,SAAL,CAAe/mB,CAAf,CAAX,CAAN;CAAoCkqB,QAAAA,CAAC,CAAC+sB,SAAF,CAAY5xC,IAAZ,CAAiB,cAAjB,EAAgC3E,CAAhC;CAAmC,YAAI9D,CAAC,GAACstB,CAAC,CAACvV,MAAF,CAASysC,YAAf;CAA4B,SAACphD,CAAC,GAAC,cAAY,OAAOpD,CAAnB,GAAqBoD,CAAC,CAACogB,MAAF,CAAS,UAASpgB,CAAT,EAAW;CAAC,iBAAM,CAAC,CAAD,KAAKpD,CAAC,CAACoD,CAAD,CAAZ;CAAgB,SAArC,CAArB,GAA4DA,CAA/D,EAAkElD,MAAlE,IAA0EujB,CAAC,CAACrgB,CAAD,CAA3E;CAA+E,OAAngB,EAAogBk5C,CAAC,CAAC,IAAD,CAArgB,CAAD,CAA3Z,EAA06B,KAAKuC,aAAL,GAAmBvB,CAAC,CAAC,CAAC3B,CAAC,CAAC,IAAD,EAAM,CAAN,CAAF,EAAW,UAASv4C,CAAT,EAAW;CAACkqB,QAAAA,CAAC,CAACyuB,YAAF,CAAe,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,cAAI3f,CAAC,GAACV,CAAC,CAACjF,GAAF,CAAM,UAASiF,CAAT,EAAW;CAAC,mBAAM;CAAC/F,cAAAA,IAAI,EAAC+F,CAAC,CAAC/F,IAAR;CAAawgD,cAAAA,IAAI,EAACz6C,CAAC,CAACy6C,IAAF,IAAQvwB,CAAC,CAACvV,MAAF,CAAS8lC,IAAjB,IAAuB,EAAzC;CAA4CC,cAAAA,IAAI,EAAC16C,CAAC,CAAC06C,IAAF,IAAQxwB,CAAC,CAACvV,MAAF,CAAS+lC,IAAjB,IAAuB,EAAxE;CAA2EC,cAAAA,IAAI,EAAC36C,CAAC,CAAC26C,IAAF,IAAQzwB,CAAC,CAACvV,MAAF,CAASgmC,IAAjB,IAAuB;CAAvG,aAAN;CAAiH,WAAnI,CAAN;CAA2It6B,UAAAA,CAAC,CAAC;CAACxtB,YAAAA,GAAG,EAACq3B,CAAC,CAACvV,MAAF,CAASusC,QAAT,GAAkB,WAAlB,GAA8B7O,kBAAkB,CAACvrB,IAAI,CAACC,SAAL,CAAermB,CAAf,CAAD,CAArD;CAAyEF,YAAAA,IAAI,EAACoyC,CAAC,CAAC+B,KAAhF;CAAsFv/C,YAAAA,GAAG,EAAC4K,CAA1F;CAA4Fo5C,YAAAA,IAAI,EAAC,UAASp5C,CAAT,EAAW;CAAC,kCAAkBA,CAAlB,IAAqBkqB,CAAC,CAAC1zB,OAAF,EAArB;CAAiC;CAA9I,WAAD,CAAD;CAAmJ,SAA7S,CAAf,EAA8To8C,CAAC,CAAC+B,KAAhU,EAAuU30C,CAAvU;CAA0U,OAAjW,CAAD,CAA97B,EAAmyC,KAAK67C,OAAL,GAAa,EAAhzC,EAAmzC,KAAKE,kBAAL,GAAwB7B,CAAC,CAAC,CAAC3B,CAAC,CAAC,IAAD,EAAM,CAAN,CAAF,EAAW,UAASv4C,CAAT,EAAW;CAAC,eAAOkqB,CAAC,CAACyuB,YAAF,CAAe,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAACA,UAAAA,CAAC,CAAC;CAACxtB,YAAAA,GAAG,EAACq3B,CAAC,CAACvV,MAAF,CAASosC,aAAT,GAAuB,WAAvB,GAAmC1O,kBAAkB,CAACvrB,IAAI,CAACC,SAAL,CAAe;CAACs6B,cAAAA,MAAM,EAACrhD;CAAR,aAAf,CAAD,CAA1D;CAAuFQ,YAAAA,IAAI,EAACoyC,CAAC,CAACyD,MAA9F;CAAqGjhD,YAAAA,GAAG,EAAC4K,CAAzG;CAA2Go5C,YAAAA,IAAI,EAAC,UAASp5C,CAAT,EAAW;CAAC,kCAAkBA,CAAlB,IAAqBkqB,CAAC,CAAC1zB,OAAF,EAArB;CAAiC;CAA7J,WAAD,CAAD;CAAkK,SAAjL,CAAf,EAAkMo8C,CAAC,CAACyD,MAApM,EAA4Mr2C,CAA5M,CAAP;CAAsN,OAA7O,CAAD,CAA50C,EAA6jD,KAAK2U,MAAL,IAAa0L,CAAC,GAAC,KAAK1L,MAAP,EAAc,KAAK,CAAL,MAAU3U,CAAC,GAACA,CAAC,CAAC6/C,OAAd,MAAyB7/C,CAAC,GAAC,sBAA3B,CAAd,EAAiEqgB,CAAC,CAACxtB,GAAF,GAAMwtB,CAAC,CAACxtB,GAAF,IAAOmN,CAAC,GAAC,UAAhF,EAA2FqgB,CAAC,CAACwgC,UAAF,GAAaxgC,CAAC,CAACwgC,UAAF,IAAc7gD,CAAC,GAAC,UAAxH,EAAmIqgB,CAAC,CAACq4B,YAAF,GAAer4B,CAAC,CAACq4B,YAAF,IAAgB14C,CAAC,GAAC,oBAApK,EAAyLqgB,CAAC,CAACo5B,KAAF,GAAQp5B,CAAC,CAACo5B,KAAF,IAASz5C,CAAC,GAAC,aAA5M,EAA0NqgB,CAAC,CAAC6gC,QAAF,GAAW7gC,CAAC,CAAC6gC,QAAF,IAAYlhD,CAAC,GAAC,iBAAnP,EAAqQqgB,CAAC,CAACygC,QAAF,GAAWzgC,CAAC,CAACygC,QAAF,IAAY9gD,CAAC,GAAC,QAA9R,EAAuSqgB,CAAC,CAAC0gC,aAAF,GAAgB1gC,CAAC,CAAC0gC,aAAF,IAAiB/gD,CAAC,GAAC,eAA1U,EAA0VqgB,CAAC,CAAC2gC,cAAF,GAAiB3gC,CAAC,CAAC2gC,cAAF,IAAkBhhD,CAAC,GAAC,oBAA/X,EAAoZqgB,CAAC,CAAC4gC,YAAF,GAAe5gC,CAAC,CAAC4gC,YAAF,IAAgBjhD,CAAC,GAAC,kBAArb,EAAwcqgB,CAAC,CAACihC,gBAAF,GAAmBjhC,CAAC,CAACkhC,gBAAF,IAAoBvhD,CAAC,GAAC,wBAAjf,EAA0gBqgB,CAAvhB,CAA7jD,EAAulE+5B,EAAE,CAACiC,SAAH,CAAalhD,IAAb,CAAkB,IAAlB,CAAvlE;CAA+mE;;CAAA,KAACy4C,EAAE,GAACuE,CAAC,GAACA,CAAC,IAAE,EAAT,EAAavE,EAAE,CAAC0B,OAAH,GAAW,GAAxB,IAA6B,SAA7B,EAAuC1B,EAAE,CAACA,EAAE,CAAC2B,IAAH,GAAQ,CAAT,CAAF,GAAc,MAArD,EAA4D3B,EAAE,CAACA,EAAE,CAAC4B,KAAH,GAAS,CAAV,CAAF,GAAe,OAA3E,EAAmF5B,EAAE,CAACA,EAAE,CAAC6B,KAAH,GAAS,CAAV,CAAF,GAAe,OAAlG,EAA0G7B,EAAE,CAACA,EAAE,CAAC8B,KAAH,GAAS,CAAV,CAAF,GAAe,OAAzH,EAAiI9B,EAAE,CAACA,EAAE,CAAC+B,KAAH,GAAS,CAAV,CAAF,GAAe,OAAhJ,EAAwJ/B,EAAE,CAACA,EAAE,CAACgC,KAAH,GAAS,CAAV,CAAF,GAAe,OAAvK,EAA+K,CAACf,EAAE,GAACuD,CAAC,GAACA,CAAC,IAAE,EAAT,EAAavD,EAAE,CAACC,OAAH,GAAW,CAAxB,IAA2B,SAA1M,EAAoND,EAAE,CAACA,EAAE,CAACE,GAAH,GAAO,CAAR,CAAF,GAAa,KAAjO,EAAuOF,EAAE,CAACA,EAAE,CAACG,OAAH,GAAW,CAAZ,CAAF,GAAiB,SAAxP,EAAkQH,EAAE,CAACA,EAAE,CAACI,KAAH,GAAS,CAAV,CAAF,GAAe,OAAjR,EAAyRJ,EAAE,CAACA,EAAE,CAACK,KAAH,GAAS,CAAV,CAAF,GAAe,OAAxS,EAAgTL,EAAE,CAACA,EAAE,CAACO,KAAH,GAAS,GAAV,CAAF,GAAiB,OAAjU;;CAAyU,QAAIoM,EAAJ;CAAA,QAAOC,EAAP;CAAA,QAAUC,EAAV;CAAA,QAAaC,EAAb;CAAA,QAAgBC,EAAhB;CAAA,QAAmBC,EAAnB;CAAA,QAAsBC,EAAtB;CAAA,QAAyBC,EAAzB;CAAA,QAA4BC,EAA5B;CAAA,QAA+BC,EAA/B;CAAA,QAAkC5M,EAAE,GAAC,IAAIqH,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC,QAAN;CAAeojD,MAAAA,UAAU,EAAC,UAASr9C,CAAT,EAAW;CAACA,QAAAA,CAAC,CAACg8C,UAAF,CAAa,UAAb,EAAwB,KAAKkG,WAAL,EAAxB,GAA4CliD,CAAC,CAACg8C,UAAF,CAAa,SAAb,EAAuB7D,CAAC,CAAC7C,OAAzB,CAA5C,EAA8E,KAAK6M,MAAL,CAAYniD,CAAZ,CAA9E,EAA6F,KAAKoiD,wBAAL,CAA8BpiD,CAA9B,CAA7F;CAA8H,OAApK;CAAqKmiD,MAAAA,MAAM,EAAC,UAASniD,CAAT,EAAW;CAACA,QAAAA,CAAC,CAACg8C,UAAF,CAAa,IAAb,EAAkB3/C,MAAM,CAACgmD,UAAP,GAAkB,KAAlB,GAAwBhmD,MAAM,CAACimD,WAAjD,GAA8DjmD,MAAM,CAACghB,MAAP,IAAerd,CAAC,CAACg8C,UAAF,CAAa,IAAb,EAAkB3/C,MAAM,CAACghB,MAAP,CAAcxhB,KAAd,GAAoB,KAApB,GAA0BQ,MAAM,CAACghB,MAAP,CAAcphB,MAA1D,CAA7E;CAA+I,OAAvU;CAAwUimD,MAAAA,WAAW,EAAC,YAAU;CAAC,YAAI7hC,CAAC,GAAC;CAACy0B,UAAAA,OAAO,EAAC,qBAAT;CAA+BC,UAAAA,GAAG,EAAC,uCAAnC;CAA2EC,UAAAA,OAAO,EAAC,gBAAnF;CAAoGC,UAAAA,KAAK,EAAC,YAA1G;CAAuHC,UAAAA,KAAK,EAAC;CAA7H,SAAN;CAAA,YAAiJl1C,CAAC,GAACzE,MAAM,CAACiH,IAAP,CAAY6d,CAAZ,EAAe+wB,IAAf,CAAoB,UAASpxC,CAAT,EAAW;CAAC,iBAAOqgB,CAAC,CAACrgB,CAAD,CAAD,CAAKye,IAAL,CAAUzH,SAAS,CAAC4F,SAApB,CAAP;CAAsC,SAAtE,CAAnJ;CAA2N,eAAO5c,CAAC,GAACo4C,CAAC,CAACp4C,CAAD,CAAF,GAAMo4C,CAAC,CAAChD,KAAhB;CAAsB,OAAhlB;CAAilBgN,MAAAA,wBAAwB,EAAC,UAAS/hC,CAAT,EAAW;CAAC,YAAI3f,CAAC,GAAC,IAAN;CAAA,YAAWV,CAAC,GAACqgB,CAAC,CAAC1L,MAAf;CAAsB3U,QAAAA,CAAC,IAAE,CAAC,cAAY,OAAOA,CAAC,CAACuiD,cAArB,GAAoCviD,CAAC,CAACuiD,cAAtC,GAAqDC,EAAtD,EAA0D,UAASxiD,CAAT,EAAW;CAACm4C,UAAAA,CAAC,CAACn4C,CAAD,CAAD,KAAOA,CAAC,GAACm4C,CAAC,CAAC7C,OAAX,GAAoBj1B,CAAC,CAAC27B,UAAF,CAAa,SAAb,EAAuBh8C,CAAvB,CAApB,EAA8CU,CAAC,CAAC+hD,mBAAF,GAAsB5sC,UAAU,CAAC,YAAU;CAACnV,YAAAA,CAAC,CAAC0hD,wBAAF,CAA2B/hC,CAA3B,GAA8BpC,YAAY,CAACvd,CAAC,CAAC+hD,mBAAH,CAA1C;CAAkE,WAA9E,EAA+E,GAA/E,CAA9E;CAAkK,SAAxO,CAAH;CAA6O;CAAz3B,KAAN,CAArC;CAAA,QAAu6BD,EAAE,GAAC,UAASxiD,CAAT,EAAW;CAAC,UAAIqgB,CAAC,GAAC,EAAN;CAAA,UAAS3f,CAAC,GAACsW,SAAS,CAAC4F,SAAV,CAAoBoL,KAApB,CAA0B,gBAA1B,CAAX;CAAuDtnB,MAAAA,CAAC,GAAC2f,CAAC,GAAC3f,CAAC,CAAC,CAAD,CAAJ,GAAQsW,SAAS,CAAC0rC,UAAV,KAAuBriC,CAAC,GAACrJ,SAAS,CAAC0rC,UAAV,CAAqBC,aAArB,IAAoC3rC,SAAS,CAAC0rC,UAAV,CAAqBliD,IAAlF,CAAT,EAAiGR,CAAC,EAAEqgB,CAAC,GAACA,CAAC,GAACA,CAAC,IAAE,SAAP,EAAiB,KAAG,CAACA,CAAC,GAACuO,MAAM,CAACvO,CAAD,CAAN,CAAU7B,WAAV,EAAH,EAA4BJ,OAA5B,CAAoC,IAApC,CAAH,GAA6C+5B,CAAC,CAACzC,KAA/C,GAAqD,KAAGr1B,CAAC,CAACjC,OAAF,CAAU,MAAV,CAAH,GAAqB+5B,CAAC,CAAC5C,IAAvB,GAA4B,KAAGl1B,CAAC,CAACjC,OAAF,CAAU,IAAV,CAAH,GAAmB+5B,CAAC,CAACxC,KAArB,GAA2B,KAAGt1B,CAAC,CAACjC,OAAF,CAAU,IAAV,CAAH,GAAmB+5B,CAAC,CAACvC,KAArB,GAA2B,KAAGv1B,CAAC,CAACjC,OAAF,CAAU,IAAV,CAAH,GAAmB+5B,CAAC,CAAC1C,KAArB,GAA2B,KAAGp1B,CAAC,CAACjC,OAAF,CAAU,IAAV,CAAH,GAAmB+5B,CAAC,CAAC3C,KAArB,GAA2B2C,CAAC,CAAC7C,OAAlN,EAAlG;CAA8T,KAA3yC;CAAA,QAA4yCsN,EAAE,GAAC,IAAIlG,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC;CAAN,KAAN,CAA/yC;CAAA,QAAu0C47C,EAAE,GAAC+M,EAAE,GAAC,IAAIlG,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC,SAAN;CAAgBojD,MAAAA,UAAU,EAAC,UAASr9C,CAAT,EAAW;CAAC,aAAK6iD,WAAL,CAAiB7iD,CAAjB;CAAoB,OAA3D;CAA4D6iD,MAAAA,WAAW,EAAC,UAAS73B,CAAT,EAAW;CAAC,YAAIpuB,CAAC,GAAC,IAAN;CAAA,YAAW8D,CAAC,GAACrE,MAAM,CAACoC,OAApB;;CAA4BpC,QAAAA,MAAM,CAACoC,OAAP,GAAe,YAAU;CAAC,eAAI,IAAIuB,CAAC,GAAC,EAAN,EAASqgB,CAAC,GAAC,CAAf,EAAiBA,CAAC,GAACvD,SAAS,CAAChgB,MAA7B,EAAoCujB,CAAC,EAArC,EAAwCrgB,CAAC,CAACqgB,CAAD,CAAD,GAAKvD,SAAS,CAACuD,CAAD,CAAd;;CAAkBzjB,UAAAA,CAAC,CAACkmD,eAAF,CAAkB;CAAC71C,YAAAA,GAAG,EAAC,CAACgmC,CAAC,CAACjzC,CAAC,CAAC,CAAD,CAAF,CAAD,IAAS,EAAV,IAAc,MAAd,IAAsBizC,CAAC,CAACjzC,CAAC,CAAC,CAAD,CAAF,CAAD,IAAS,EAA/B,IAAmC,GAAnC,IAAwCA,CAAC,CAAC,CAAD,CAAD,IAAM,CAA9C,IAAiD,GAAjD,IAAsDA,CAAC,CAAC,CAAD,CAAD,IAAM,CAA5D,IAA+D,iBAA/D,GAAiFizC,CAAC,CAACjzC,CAAC,CAAC,CAAD,CAAD,IAAM,EAAP,CAAvF;CAAkGwpC,YAAAA,KAAK,EAACmJ,CAAC,CAACqB;CAA1G,WAAlB,GAAoI,QAAMtzC,CAAN,IAASA,CAAC,CAACuV,IAAF,CAAOpP,KAAP,CAAanG,CAAb,EAAekK,CAAC,CAAC,CAACvO,MAAD,CAAD,EAAU2D,CAAV,CAAhB,CAA7I;CAA2K,SAA/P;;CAAgQ,iBAASA,CAAT,CAAWA,CAAX,EAAa;CAACA,UAAAA,CAAC,GAACA,CAAC,IAAEizC,CAAC,CAACjzC,CAAC,CAAC+iD,MAAH,CAAN,EAAiBnmD,CAAC,CAACkmD,eAAF,CAAkB;CAAC71C,YAAAA,GAAG,EAAC,oBAAkBjN,CAAvB;CAAyBwpC,YAAAA,KAAK,EAACmJ,CAAC,CAACsB;CAAjC,WAAlB,CAAjB;CAAoF;;CAAA53C,QAAAA,MAAM,CAACpB,gBAAP,CAAwB,oBAAxB,EAA6C+E,CAA7C;;CAAgD,iBAASqgB,CAAT,CAAWrgB,CAAX,EAAa;CAAC,cAAGA,CAAC,GAAC,CAAC,QAAMA,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAACtF,MAAlB,MAA4B,QAAMsF,CAAN,GAAQ,KAAK,CAAb,GAAeA,CAAC,CAAC6+C,UAA7C,CAAL,EAA8D;CAAC,gBAAIx+B,CAAC,GAACrgB,CAAC,CAACksB,GAAF,IAAOlsB,CAAC,CAACoB,IAAf;CAAA,gBAAoBpB,CAAC,GAACA,CAAC,CAAC8+C,OAAxB;;CAAgC,gBAAG,YAAU,OAAOz+B,CAAjB,IAAoBrgB,CAAvB,EAAyB;CAAC,kBAAIU,CAAC,GAAC;CAACuM,gBAAAA,GAAG,EAACjN,CAAC,GAAC,cAAF,GAAiBqgB,CAAtB;CAAwBmpB,gBAAAA,KAAK,EAACmJ,CAAC,CAACoB;CAAhC,eAAN;;CAA4C,sBAAO/zC,CAAC,CAACwe,WAAF,EAAP;CAAwB,qBAAI,QAAJ;CAAa9d,kBAAAA,CAAC,CAAC8oC,KAAF,GAAQmJ,CAAC,CAACwB,YAAV;CAAuB;;CAAM,qBAAI,MAAJ;CAAWzzC,kBAAAA,CAAC,CAAC8oC,KAAF,GAAQmJ,CAAC,CAAC0B,SAAV;CAAoB;;CAAM,qBAAI,KAAJ;CAAU,sBAAG,CAAC,CAAD,GAAGh4C,MAAM,CAAC8gB,QAAP,CAAgB/b,IAAhB,CAAqBgd,OAArB,CAA6BiC,CAA7B,CAAN,EAAsC;CAAO3f,kBAAAA,CAAC,CAAC8oC,KAAF,GAAQmJ,CAAC,CAACyB,WAAV;CAAsB;;CAAM,qBAAI,OAAJ;CAAY,qBAAI,OAAJ;CAAY1zC,kBAAAA,CAAC,CAAC8oC,KAAF,GAAQmJ,CAAC,CAAC4B,WAAV;CAAsB;;CAAM;CAAQ;CAAtP;;CAA6P33C,cAAAA,CAAC,CAACkmD,eAAF,CAAkBpiD,CAAlB;CAAqB;CAAC;CAAC;;CAAArE,QAAAA,MAAM,CAACD,QAAP,CAAgBnB,gBAAhB,CAAiC,OAAjC,EAAyColB,CAAzC,EAA2C,CAAC,CAA5C,GAA+C2K,CAAC,CAACisB,SAAF,CAAYp5C,EAAZ,CAAe,SAAf,EAAyB,YAAU;CAAC,gBAAI+kD,EAAE,CAAC5F,aAAH,EAAJ,KAAyB3gD,MAAM,CAACD,QAAP,CAAgBlB,mBAAhB,CAAoC,oBAApC,EAAyD8E,CAAzD,GAA4D3D,MAAM,CAACD,QAAP,CAAgBlB,mBAAhB,CAAoC,OAApC,EAA4CmlB,CAA5C,EAA8C,CAAC,CAA/C,CAArF;CAAwI,SAA5K,CAA/C;CAA6N,YAAIsxB,CAAC,GAAC,IAAN;CAAA,YAAWznB,CAAC,GAAC;CAACjwB,UAAAA,IAAI,EAAC,KAAKA,IAAX;CAAgB29C,UAAAA,IAAI,EAAC,UAASh7C,CAAT,EAAWstB,CAAX,EAAa;CAACttB,YAAAA,CAAC,CAAC3B,gBAAF,CAAmB,SAAnB,EAA6B,YAAU;CAAC,kBAAI+E,CAAJ;CAAA,kBAAMqgB,CAAN;CAAA,kBAAQ3f,CAAC,GAAC,EAAV;CAAa,mBAAKsiD,QAAL,GAActiD,CAAC,GAAC,KAAKsiD,QAArB,GAA8B,KAAK1P,MAAL,GAAY,OAAK,KAAKA,MAAV,KAAmB5yC,CAAC,GAAC,OAArB,CAAZ,GAA0CA,CAAC,GAAC,QAA1E,EAAmFsqB,CAAC,CAACrW,MAAF,CAASkrC,OAAT,IAAkB,KAAK/H,QAAvB,IAAiC,CAAC,CAAD,GAAG,KAAKA,QAAL,CAAc15B,OAAd,CAAsB4M,CAAC,CAACrW,MAAF,CAASkrC,OAA/B,CAApC,KAA8Ex/B,CAAC,GAAC,UAAQrgB,CAAC,GAACgrB,CAAC,CAACrW,MAAF,CAAS2kC,GAAnB,KAAyB,KAAK,CAAL,KAASt5C,CAAlC,GAAoC,KAAK,CAAzC,GAA2CA,CAAC,CAACggD,SAA/C,EAAyDt/C,CAAC,KAAGV,CAAC,GAACpD,CAAC,CAACk7C,QAAJ,EAAa93C,CAAC,GAAC6yC,CAAC,CAACj2C,CAAC,CAAC+2C,QAAH,EAAY3oB,CAAC,CAACrW,MAAF,CAAS2kC,GAArB,EAAyB;CAACzmD,gBAAAA,GAAG,EAACmN,CAAL;CAAOyG,gBAAAA,GAAG,EAAC7J;CAAX,eAAzB,CAAD,CAAyCg6B,IAAxD,EAA6D+a,CAAC,CAACmR,eAAF,CAAkB;CAAC71C,gBAAAA,GAAG,EAAC,yBAAuBvM,CAAvB,GAAyB,wCAAzB,IAAmE,KAAK4yC,MAAL,IAAa,CAAhF,IAAmF,yCAAnF,GAA6HtzC,CAA7H,GAA+H,0CAA/H,IAA2K0B,IAAI,CAACD,GAAL,KAAW7E,CAAC,CAACm7C,iBAAxL,IAA2M,qCAA3M,GAAiP,KAAKD,QAAtP,GAA+P,wCAA/P,GAAwS,KAAKD,WAA7S,GAAyT,uCAAzT,IAAkWx3B,CAAC,GAAC1V,CAAC,CAACuf,CAAD,CAAF,GAAM,EAAzW,IAA6W,sCAA7W,IAAqZ7J,CAAC,GAAC,UAAQA,CAAC,GAAC,CAACA,CAAC,GAACzjB,CAAH,EAAMqmD,YAAN,IAAoB,WAAS5iC,CAAC,CAAC4iC,YAA/B,GAA4C,EAA5C,GAA+C5iC,CAAC,CAAC6iC,YAA3D,KAA0E,KAAK,CAAL,KAAS7iC,CAAnF,GAAqF,KAAK,CAA1F,GAA4FA,CAAC,CAACrZ,KAAF,CAAQ,CAAR,EAAU,GAAV,CAA7F,GAA4G,EAAlgB,CAAL;CAA2gBwiC,gBAAAA,KAAK,EAACmJ,CAAC,CAACuB;CAAnhB,eAAlB,CAAhE,CAAxI,CAAnF;CAA+0B,aAAp4B,GAAs4Bt3C,CAAC,CAAC3B,gBAAF,CAAmB,SAAnB,EAA6B,YAAU;CAAC2B,cAAAA,CAAC,CAAComD,QAAF,GAAW,SAAX;CAAqB,aAA7D,CAAt4B,EAAq8BpmD,CAAC,CAAC3B,gBAAF,CAAmB,OAAnB,EAA2B,YAAU;CAAC2B,cAAAA,CAAC,CAAComD,QAAF,GAAW,OAAX;CAAmB,aAAzD,CAAr8B,EAAggCpmD,CAAC,CAAC3B,gBAAF,CAAmB,OAAnB,EAA2B,YAAU;CAAC2B,cAAAA,CAAC,CAAComD,QAAF,GAAW,OAAX;CAAmB,aAAzD,CAAhgC;CAA2jC;CAA9lC,SAAb;CAA6mC,aAAKzC,cAAL,GAAoBr2B,CAApB,EAAsBstB,CAAC,CAAC,KAAK+I,cAAN,CAAvB;CAA6C,OAAh0E;CAAi0EuC,MAAAA,eAAe,EAAC,UAASziC,CAAT,EAAW;CAAC,aAAKi+B,KAAL,CAAW,UAASt+C,CAAT,EAAW;CAACA,UAAAA,CAAC,CAACk7C,iBAAF,CAAoB76B,CAApB;CAAuB,SAA9C;CAAgD,OAA74E;CAA84E7pB,MAAAA,OAAO,EAAC,YAAU;CAAC,aAAKoE,MAAL,CAAYkoD,eAAZ,GAA4B,YAAU,EAAtC,EAAyC,KAAKloD,MAAL,CAAY2lD,cAAZ,IAA4BtI,CAAC,CAAC,KAAKr9C,MAAL,CAAY2lD,cAAb,CAAtE;CAAmG;CAApgF,KAAN,CAA70C;CAAA,QAA01H4C,EAAE,IAAE,IAAIzG,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC;CAAN,KAAN,GAAgC,CAAlC,CAA51H;CAAA,QAAi4Hu8C,EAAE,GAAC,IAAIkG,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC,iBAAN;CAAwBojD,MAAAA,UAAU,EAAC,UAASzgD,CAAT,EAAW;CAAC,YAAIstB,CAAC,GAAC,IAAN;CAAW,YAAGpmB,CAAC,EAAJ,EAAO,IAAG09C,EAAH,EAAM,KAAKnD,OAAL,CAAamD,EAAb,EAAgB5kD,CAAhB,EAAN,KAA8B,IAAG;CAAC,eAAKwmD,oBAAL,CAA0BxmD,CAA1B,EAA4B,UAASoD,CAAT,EAAW;CAAC,gBAAIqgB,CAAJ;CAAA,gBAAM3f,CAAC,GAAClL,WAAW,CAAC6tD,MAApB;CAA2B3iD,YAAAA,CAAC,KAAG2f,CAAC,GAAC3f,CAAC,CAAC4iD,cAAF,GAAiB5iD,CAAC,CAAC6iD,cAArB,EAAoC/B,EAAE,GAAC;CAACgC,cAAAA,SAAS,EAAC9iD,CAAC,CAAC0+C,eAAF,GAAkB1+C,CAAC,CAAC2+C,iBAA/B;CAAiDoE,cAAAA,GAAG,EAAC/iD,CAAC,CAAC4+C,UAAF,GAAa5+C,CAAC,CAAC6+C,YAApE;CAAiFmE,cAAAA,GAAG,EAAC,MAAIhjD,CAAC,CAACijD,qBAAN,GAA4B,CAA5B,GAA8BjjD,CAAC,CAACkjD,YAAF,GAAeljD,CAAC,CAACijD,qBAApI;CAA0JE,cAAAA,IAAI,EAACnjD,CAAC,CAACojD,aAAF,GAAgBpjD,CAAC,CAACkjD,YAAjL;CAA8LG,cAAAA,eAAe,EAACrjD,CAAC,CAACsjD,WAAF,GAActjD,CAAC,CAACojD,aAA9N;CAA4OG,cAAAA,QAAQ,EAACvjD,CAAC,CAAC6iD,cAAF,GAAiB7iD,CAAC,CAACwjD,UAAxQ;CAAmRC,cAAAA,gBAAgB,EAAC9jC,CAAC,GAACA,CAAC,GAAC,CAAF,GAAI,IAAJ,GAASA,CAA/S;CAAiT+jC,cAAAA,iBAAiB,EAACtoD,IAAI,CAACmjB,KAAL,CAAWjf,CAAX;CAAnU,aAAvC,EAAyXkqB,CAAC,CAACm0B,OAAF,CAAUmD,EAAV,EAAa5kD,CAAb,CAA5X,CAAD;CAA8Y,WAAjd;CAAmd,SAAvd,CAAud,OAAMA,CAAN,EAAQ;CAAG,OAAjkB;CAAkkByhD,MAAAA,OAAO,EAAC,UAASr+C,CAAT,EAAW2xC,CAAX,EAAa;CAAC,YAAIxvC,CAAC,GAAC,IAAN;CAAWwvC,QAAAA,CAAC,CAACgH,YAAF,CAAe,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,cAAI3f,CAAJ;CAAA,cAAM9D,CAAC,GAAC,EAAR;;CAAW,eAAI8D,CAAJ,IAASV,CAAT,EAAWpD,CAAC,CAACzB,IAAF,CAAOuF,CAAC,GAAC,GAAF,GAAMV,CAAC,CAACU,CAAD,CAAd;;CAAmB,cAAIwpB,CAAC,GAAC/nB,CAAC,CAACq+C,UAAF,CAAa7O,CAAb,CAAN;;CAAsB,cAAGznB,CAAH,EAAK;CAAC,gBAAIc,CAAC,GAAC,CAAC,CAAD,KAAK2mB,CAAC,CAACh9B,MAAF,CAASqsC,cAAT,CAAwB5iC,OAAxB,CAAgC,GAAhC,CAAL,GAA0C,GAA1C,GAA8C,GAApD;CAAwD,mBAAM,cAAY,OAAO8L,CAAC,CAACu2B,UAArB,GAAgCpgC,CAAC,CAAC;CAACxtB,cAAAA,GAAG,EAAC8+C,CAAC,CAACh9B,MAAF,CAASqsC,cAAT,GAAwBh2B,CAAxB,GAA0BpuB,CAAC,CAAC0K,IAAF,CAAO,GAAP,CAA1B,GAAsC,QAAtC,IAAgD+qC,kBAAkB,CAACnoB,CAAC,CAACu2B,UAAF,EAAD,CAAlB,IAAoCpkD,MAAM,CAAC8gB,QAAP,CAAgB/b,IAApG,CAAL;CAA+GijD,cAAAA,UAAU,EAAC,CAAC,MAAD,CAA1H;CAAmI7jD,cAAAA,IAAI,EAACoyC,CAAC,CAACoD,WAA1I;CAAsJ5gD,cAAAA,GAAG,EAAC4K;CAA1J,aAAD,CAAjC,GAAgMqgB,CAAC,CAAC;CAACxtB,cAAAA,GAAG,EAAC8+C,CAAC,CAACh9B,MAAF,CAASqsC,cAAT,GAAwBh2B,CAAxB,GAA0BpuB,CAAC,CAAC0K,IAAF,CAAO,GAAP,CAA/B;CAA2C9G,cAAAA,IAAI,EAACoyC,CAAC,CAACoD,WAAlD;CAA8D5gD,cAAAA,GAAG,EAAC4K;CAAlE,aAAD,CAAvM;CAA8Q;CAAC,SAA3Z,CAAf,EAA4a4yC,CAAC,CAACoD,WAA9a,EAA2bh2C,CAA3b;CAA8b,OAAjiC;CAAkiCojD,MAAAA,oBAAoB,EAAC,UAASp4B,CAAT,EAAWtqB,CAAX,EAAa;CAACsqB,QAAAA,CAAC,CAACisB,SAAF,CAAYp5C,EAAZ,CAAe,SAAf,EAAyB,YAAU;CAAC0tB,UAAAA,CAAC,IAAEtN,YAAY,CAACsN,CAAD,CAAf;CAAmB,SAAvD;CAAyD,YAAI3uB,CAAC,GAAC,CAAC,QAAD,EAAU,OAAV,EAAkB,MAAlB,EAAyB,IAAzB,CAAN;CAAA,YAAqC+0C,CAAC,GAAC,EAAvC;CAAA,YAA0CxvC,CAAC,GAAC,IAA5C;CAAA,YAAiDyI,CAAC,GAAC,EAAnD;CAAA,YAAsDwkB,CAAC,GAAC,IAAIk1B,gBAAJ,CAAqB,UAAStkD,CAAT,EAAW;CAAC,cAAIqgB,CAAC,GAAC;CAACkkC,YAAAA,KAAK,EAAC,EAAP;CAAUC,YAAAA,WAAW,EAAC,EAAtB;CAAyBlzB,YAAAA,IAAI,EAAC97B,WAAW,CAACiM,GAAZ;CAA9B,WAAN;CAAuDzB,UAAAA,CAAC,CAAC5E,OAAF,CAAU,UAAS4E,CAAT,EAAW;CAACA,YAAAA,CAAC,IAAEA,CAAC,CAACykD,UAAL,IAAiBzkD,CAAC,CAACykD,UAAF,CAAarpD,OAA9B,IAAuC4E,CAAC,CAACykD,UAAF,CAAarpD,OAAb,CAAqB,UAAS4E,CAAT,EAAW;CAAC,oBAAIA,CAAC,CAAC0kD,QAAN,KAAiB1kD,CAAC,CAAC2kD,YAAF,CAAe,2BAAf,KAA6C3kD,CAAC,CAAC66B,aAAF,CAAgB,6BAAhB,CAA9D,KAA+Gt/B,MAAM,CAAC6e,SAAP,CAAiB8mB,cAAjB,CAAgCr6B,KAAhC,CAAsC+D,CAAtC,EAAwC,CAACyV,CAAC,CAACiR,IAAH,CAAxC,MAAoD1mB,CAAC,CAACyV,CAAC,CAACiR,IAAH,CAAD,GAAU,EAA9D,GAAkE1mB,CAAC,CAACyV,CAAC,CAACiR,IAAH,CAAD,CAAUn2B,IAAV,CAAe6E,CAAf,CAAjL,IAAoM,MAAIA,CAAC,CAAC0kD,QAAN,IAAgB,CAAC,CAAD,KAAK9nD,CAAC,CAACwhB,OAAF,CAAUpe,CAAC,CAAC8oB,QAAF,CAAW87B,iBAAX,EAAV,CAArB,IAAgEziD,CAAC,CAAC0iD,YAAF,CAAe7kD,CAAf,EAAiBqgB,CAAC,CAACkkC,KAAnB,CAAhE,IAA2FvkD,CAAC,CAAC2kD,YAAF,CAAe,kCAAf,CAA3F,KAAgJtkC,CAAC,CAACkkC,KAAF,CAAQppD,IAAR,CAAa6E,CAAb,GAAgBqgB,CAAC,CAACmkC,WAAF,CAAcrpD,IAAd,CAAmBgH,CAAC,CAAC2iD,YAAF,CAAe9kD,CAAf,KAAmB,CAAtC,CAAhK,CAApM;CAA8Y,aAA/a,CAAvC;CAAwd,WAA9e,GAAgfqgB,CAAC,CAACkkC,KAAF,CAAQznD,MAAR,IAAgB60C,CAAC,CAACx2C,IAAF,CAAOklB,CAAP,CAAhgB;CAA0gB,SAAlmB,CAAxD;CAA4pB+O,QAAAA,CAAC,CAACuvB,OAAF,CAAUviD,QAAV,EAAmB;CAAC2oD,UAAAA,SAAS,EAAC,CAAC,CAAZ;CAAcC,UAAAA,OAAO,EAAC,CAAC;CAAvB,SAAnB;;CAA8C,YAAInoD,CAAC,GAAC,YAAU;CAAC,cAAImD,CAAJ;CAAA,cAAMpD,CAAC,GAAC,CAAR;CAAA,cAAUstB,CAAC,GAAC,CAAZ;CAAA,cAAc7J,CAAC,GAAC9kB,MAAM,CAACiH,IAAP,CAAYoI,CAAZ,EAAewV,MAAf,CAAsB,UAASpgB,CAAT,EAAW;CAAC,mBAAO4K,CAAC,CAAC,CAAC5K,CAAF,CAAD,CAAMoxC,IAAN,CAAW,UAASpxC,CAAT,EAAW;CAAC,qBAAOmC,CAAC,CAAC8iD,eAAF,CAAkBjlD,CAAlB,CAAP;CAA4B,aAAnD,CAAP;CAA4D,WAA9F,CAAhB;CAAgHqgB,UAAAA,CAAC,CAACvjB,MAAF,IAAUotB,CAAC,GAACpuB,IAAI,CAACC,GAAL,CAAS8K,KAAT,CAAe,IAAf,EAAoBwZ,CAApB,CAAF,EAAyB,CAAC,YAAU,QAAO,UAAQA,CAAC,GAAC2K,CAAC,CAACrW,MAAZ,KAAqB,KAAK,CAAL,KAAS0L,CAA9B,GAAgC,KAAK,CAArC,GAAuCA,CAAC,CAACsgC,eAAhD,CAAV,IAA4E,UAAQ3gD,CAAC,GAACgrB,CAAC,CAACrW,MAAF,CAASgsC,eAAnB,KAAqC,KAAK,CAAL,KAAS3gD,CAA9C,IAAiDA,CAAC,CAACklD,eAAhI,MAAmJl6B,CAAC,CAACk6B,eAAF,GAAkB;CAAC5nD,YAAAA,OAAO,EAAC,UAAQ0C,CAAC,GAAC4K,CAAC,CAACsf,CAAD,CAAX,KAAiB,KAAK,CAAL,KAASlqB,CAA1B,GAA4B,KAAK,CAAjC,GAAmCA,CAAC,CAAC,CAAD,CAA7C;CAAiDqjD,YAAAA,MAAM,EAACn5B,CAAxD;CAA0Di7B,YAAAA,QAAQ,EAACv6C;CAAnE,WAArK,CAAnC,IAAgR+mC,CAAC,CAACv2C,OAAF,CAAU,UAAS4E,CAAT,EAAW;CAAC,iBAAI,IAAIqgB,CAAJ,EAAM3f,CAAC,GAAC,CAAZ,EAAcA,CAAC,GAACV,CAAC,CAACukD,KAAF,CAAQznD,MAAxB,EAA+B4D,CAAC,EAAhC,EAAmCV,CAAC,CAACwkD,WAAF,CAAc9jD,CAAd,IAAiB9D,CAAjB,IAAoBuF,CAAC,CAAC8iD,eAAF,CAAkBjlD,CAAC,CAACukD,KAAF,CAAQ7jD,CAAR,CAAlB,CAApB,KAAoD9D,CAAC,GAACoD,CAAC,CAACwkD,WAAF,CAAc9jD,CAAd,CAAF,EAAmBwpB,CAAC,GAAClqB,CAAC,CAACsxB,IAAvB,EAA4B,CAAC,YAAU,QAAO,UAAQjR,CAAC,GAAC2K,CAAC,CAACrW,MAAZ,KAAqB,KAAK,CAAL,KAAS0L,CAA9B,GAAgC,KAAK,CAArC,GAAuCA,CAAC,CAACsgC,eAAhD,CAAV,IAA4E,UAAQtgC,CAAC,GAAC2K,CAAC,CAACrW,MAAF,CAASgsC,eAAnB,KAAqC,KAAK,CAAL,KAAStgC,CAA9C,IAAiDA,CAAC,CAAC6kC,eAAhI,MAAmJl6B,CAAC,CAACk6B,eAAF,GAAkB;CAAC5nD,cAAAA,OAAO,EAAC0C,CAAC,CAACukD,KAAF,CAAQ7jD,CAAR,CAAT;CAAoB2iD,cAAAA,MAAM,EAACn5B;CAA3B,aAArK,CAAhF;CAAqR,WAA9U,CAAhR,EAAgmB,CAACA,CAAD,IAAIi5B,EAAJ,GAAO53B,CAAC,GAAC1V,UAAU,CAAC,YAAU;CAAC,mBAAOhZ,CAAC,EAAR;CAAW,WAAvB,EAAwB,GAAxB,CAAnB,IAAiDuyB,CAAC,CAAC5c,UAAF,IAAe,QAAM9R,CAAN,IAASA,CAAC,CAACwpB,CAAD,CAA1E,CAAhmB,EAA+qB,EAAEi5B,EAAjrB;CAAorB,SAArzB;CAAA,YAAszB53B,CAAC,GAAC1V,UAAU,CAAC,YAAU;CAAC,iBAAOhZ,CAAC,EAAR;CAAW,SAAvB,EAAwB,GAAxB,CAAl0B;CAA+1B,OAAvqF;CAAwqFgoD,MAAAA,YAAY,EAAC,UAAS7kD,CAAT,EAAWqgB,CAAX,EAAa;CAAC,eAAM,EAAE,CAACrgB,CAAD,IAAIA,CAAC,KAAG5D,QAAQ,CAAC0B,eAAnB,MAAsC,CAAC,CAAD,KAAKuiB,CAAC,CAACjC,OAAF,CAAUpe,CAAV,CAAL,IAAmB,KAAK6kD,YAAL,CAAkB7kD,CAAC,CAAColD,aAApB,EAAkC/kC,CAAlC,CAAzD,CAAN;CAAqG,OAAxyF;CAAyyF4kC,MAAAA,eAAe,EAAC,UAASjlD,CAAT,EAAW;CAAC,YAAG,CAACA,CAAD,IAAI,cAAY,OAAOA,CAAC,CAACpE,qBAA5B,EAAkD,OAAM,CAAC,CAAP;CAAS,YAAIykB,CAAC,GAACrgB,CAAC,CAACpE,qBAAF,EAAN;CAAA,YAAgC8E,CAAC,GAACrE,MAAM,CAACimD,WAAzC;CAAA,YAAqDtiD,CAAC,GAAC3D,MAAM,CAACgmD,UAA9D;CAAyE,eAAO,KAAGhiC,CAAC,CAACnU,IAAL,IAAWmU,CAAC,CAACnU,IAAF,GAAOlM,CAAlB,IAAqB,KAAGqgB,CAAC,CAACpU,GAA1B,IAA+BoU,CAAC,CAACpU,GAAF,GAAMvL,CAArC,IAAwC,IAAE2f,CAAC,CAACxkB,KAA5C,IAAmD,IAAEwkB,CAAC,CAACpkB,MAA9D;CAAqE,OAA9gG;CAA+gG6oD,MAAAA,YAAY,EAAC,UAAS9kD,CAAT,EAAW;CAAC,YAAIqgB,CAAC,GAAC,CAAN;;CAAQ,YAAGrgB,CAAC,IAAE,MAAIA,CAAC,CAAC0kD,QAAZ,EAAqB;CAACrkC,UAAAA,CAAC,IAAE,CAAH;CAAK,cAAI3f,CAAC,GAACV,CAAC,CAACqlD,QAAR;CAAiB,cAAG,QAAM3kD,CAAN,IAASA,CAAC,CAAC5D,MAAd,EAAqB,KAAI,IAAIF,CAAC,GAAC,CAAV,EAAYA,CAAC,GAAC8D,CAAC,CAAC5D,MAAhB,EAAuBF,CAAC,EAAxB,EAA2ByjB,CAAC,IAAE,KAAKykC,YAAL,CAAkBpkD,CAAC,CAAC9D,CAAD,CAAnB,CAAH;CAA2B;;CAAA,eAAOyjB,CAAP;CAAS;CAAhrG,KAAN,CAAp4H;;CAA6jO,aAASilC,EAAT,GAAa;CAAC1D,MAAAA,EAAE,GAAC,EAAH,EAAMF,EAAE,GAAC,CAAC,CAAV,EAAYD,EAAE,GAAC,IAAf,EAAoBO,EAAE,CAAC/mD,gBAAD,CAAtB;CAAyC;;CAAA,aAASsqD,EAAT,CAAYvlD,CAAZ,EAAcqgB,CAAd,EAAgB;CAACohC,MAAAA,EAAE,KAAGA,EAAE,GAACphC,CAAH,EAAKqhC,EAAE,GAAC1hD,CAAR,EAAU2hD,EAAE,GAAC,IAAIjgD,IAAJ,EAAb,EAAsBsgD,EAAE,CAAC9mD,mBAAD,CAAxB,EAA8C6mD,EAAE,EAAnD,CAAF;CAAyD;;CAAA,aAASyD,EAAT,CAAYxlD,CAAZ,EAAc;CAAC,UAAIqgB,CAAJ,EAAM3f,CAAN,EAAQ9D,CAAR,EAAUstB,CAAV;;CAAY,eAASc,CAAT,GAAY;CAACu6B,QAAAA,EAAE,CAAC7kD,CAAD,EAAG9D,CAAH,CAAF,EAAQstB,CAAC,EAAT;CAAY;;CAAA,eAASynB,CAAT,GAAY;CAACznB,QAAAA,CAAC;CAAG;;CAAAlqB,MAAAA,CAAC,CAAC8f,UAAF,KAAeO,CAAC,GAAC,CAAC,OAAKrgB,CAAC,CAACylD,SAAP,GAAiB,IAAI/jD,IAAJ,EAAjB,GAA0BlM,WAAW,CAACiM,GAAZ,EAA3B,IAA8CzB,CAAC,CAACylD,SAAlD,EAA4D,iBAAezlD,CAAC,CAACQ,IAAjB,IAAuBE,CAAC,GAAC2f,CAAF,EAAIzjB,CAAC,GAACoD,CAAN,EAAQkqB,CAAC,GAAC,YAAU;CAAChvB,QAAAA,mBAAmB,CAAC,WAAD,EAAa8vB,CAAb,EAAe62B,EAAf,CAAnB,EAAsC3mD,mBAAmB,CAAC,eAAD,EAAiBy2C,CAAjB,EAAmBkQ,EAAnB,CAAzD;CAAgF,OAArG,EAAsG5mD,gBAAgB,CAAC,WAAD,EAAa+vB,CAAb,EAAe62B,EAAf,CAAtH,EAAyI5mD,gBAAgB,CAAC,eAAD,EAAiB02C,CAAjB,EAAmBkQ,EAAnB,CAAhL,IAAwM0D,EAAE,CAACllC,CAAD,EAAGrgB,CAAH,CAArR;CAA4R;;CAAA6hD,IAAAA,EAAE,GAAC;CAAC6D,MAAAA,OAAO,EAAC,CAAC,CAAV;CAAYC,MAAAA,OAAO,EAAC,CAAC;CAArB,KAAH,EAA2B7D,EAAE,GAAC,IAAIpgD,IAAJ,EAA9B,EAAuCqgD,EAAE,GAAC,YAAU;CAAC,UAAI1hC,CAAJ;CAAM,WAAGqhC,EAAH,IAAOA,EAAE,GAACC,EAAE,GAACG,EAAb,KAAkBzhC,CAAC,GAAC;CAACulC,QAAAA,SAAS,EAAC,aAAX;CAAyB3rD,QAAAA,IAAI,EAACwnD,EAAE,CAACjhD,IAAjC;CAAsC9F,QAAAA,MAAM,EAAC+mD,EAAE,CAAC/mD,MAAhD;CAAuDolB,QAAAA,UAAU,EAAC2hC,EAAE,CAAC3hC,UAArE;CAAgF+lC,QAAAA,SAAS,EAACpE,EAAE,CAACgE,SAA7F;CAAuGK,QAAAA,eAAe,EAACrE,EAAE,CAACgE,SAAH,GAAa/D;CAApI,OAAF,EAA0IE,EAAE,CAACxmD,OAAH,CAAW,UAAS4E,CAAT,EAAW;CAACA,QAAAA,CAAC,CAACqgB,CAAD,CAAD;CAAK,OAA5B,CAA1I,EAAwKuhC,EAAE,GAAC,EAA7L;CAAiM,KAA5P,EAA6PI,EAAE,GAAC,UAAS3hC,CAAT,EAAW;CAAC,OAAC,WAAD,EAAa,SAAb,EAAuB,YAAvB,EAAoC,aAApC,EAAmDjlB,OAAnD,CAA2D,UAAS4E,CAAT,EAAW;CAAC,eAAOqgB,CAAC,CAACrgB,CAAD,EAAGwlD,EAAH,EAAM3D,EAAN,CAAR;CAAkB,OAAzF;CAA2F,KAAvW,EAAwWI,EAAE,GAAC,aAAW7lD,QAAQ,CAACsiC,eAApB,GAAoC,CAApC,GAAsC,IAAE,CAAnZ,EAAqZzjC,gBAAgB,CAAC,kBAAD,EAAoB,SAAS+E,CAAT,CAAWqgB,CAAX,EAAa;CAAC,mBAAWjkB,QAAQ,CAACsiC,eAApB,KAAsCujB,EAAE,GAAC5hC,CAAC,CAAColC,SAAL,EAAevqD,mBAAmB,CAAC,kBAAD,EAAoB8E,CAApB,EAAsB,CAAC,CAAvB,CAAxE;CAAmG,KAArI,EAAsI,CAAC,CAAvI,CAAra,EAA+iBslD,EAAE,EAAjjB,EAAojB3+C,IAAI,CAACi6C,SAAL,GAAe;CAACmF,MAAAA,kBAAkB,EAAC,UAAS/lD,CAAT,EAAW;CAAC4hD,QAAAA,EAAE,CAACzmD,IAAH,CAAQ6E,CAAR,GAAW+hD,EAAE,EAAb;CAAgB,OAAhD;CAAiDiE,MAAAA,uBAAuB,EAACV,EAAzE;;CAA4E,UAAIW,eAAJ,GAAqB;CAAC,eAAOhE,EAAP;CAAU;;CAA5G,KAAnkB;;CAAirB,aAASiE,EAAT,CAAYlmD,CAAZ,EAAcqgB,CAAd,EAAgB;CAAC,aAAM;CAACpmB,QAAAA,IAAI,EAAC+F,CAAN;CAAQuC,QAAAA,KAAK,EAAC,KAAK,CAAL,KAAS8d,CAAT,GAAW,CAAC,CAAZ,GAAcA,CAA5B;CAA8B/mB,QAAAA,KAAK,EAAC,CAApC;CAAsC6sD,QAAAA,OAAO,EAAC,EAA9C;CAAiDvoC,QAAAA,EAAE,EAAC,MAAMuO,MAAN,CAAazqB,IAAI,CAACD,GAAL,EAAb,EAAwB,GAAxB,EAA6B0qB,MAA7B,CAAoCrwB,IAAI,CAACmjB,KAAL,CAAW,gBAAcnjB,IAAI,CAAC0jB,MAAL,EAAzB,IAAwC,IAA5E;CAApD,OAAN;CAA6I;;CAAA,aAAS4mC,EAAT,CAAYpmD,CAAZ,EAAcqgB,CAAd,EAAgB;CAAC,UAAG;CAAC,YAAGo+B,mBAAmB,CAAC4H,mBAApB,CAAwC9/C,QAAxC,CAAiDvG,CAAjD,CAAH,EAAuD;CAAC,cAAG,kBAAgBA,CAAhB,IAAmB,EAAE,4BAA2B2G,IAA7B,CAAtB,EAAyD;CAAO,cAAIjG,CAAC,GAAC,IAAI+9C,mBAAJ,CAAwB,UAASz+C,CAAT,EAAW;CAAC,mBAAOA,CAAC,CAAC0+C,UAAF,GAAe3jD,GAAf,CAAmBslB,CAAnB,CAAP;CAA6B,WAAjE,CAAN;CAAyE,iBAAO3f,CAAC,CAACi+C,OAAF,CAAU;CAACn+C,YAAAA,IAAI,EAACR,CAAN;CAAQ0rC,YAAAA,QAAQ,EAAC,CAAC;CAAlB,WAAV,GAAgChrC,CAAvC;CAAyC;CAAC,OAA/O,CAA+O,OAAMV,CAAN,EAAQ;CAAG;;CAAA,aAASsmD,EAAT,CAAYjmC,CAAZ,EAAc3f,CAAd,EAAgB;CAAC,eAAS9D,CAAT,CAAWoD,CAAX,EAAa;CAAC,uBAAaA,CAAC,CAACQ,IAAf,IAAqB,aAAWpE,QAAQ,CAACsiC,eAAzC,KAA2Dre,CAAC,CAACrgB,CAAD,CAAD,EAAKU,CAAC,KAAGxF,mBAAmB,CAAC,kBAAD,EAAoB0B,CAApB,EAAsB,CAAC,CAAvB,CAAnB,EAA6C1B,mBAAmB,CAAC,UAAD,EAAY0B,CAAZ,EAAc,CAAC,CAAf,CAAnE,CAAjE;CAAwJ;;CAAA3B,MAAAA,gBAAgB,CAAC,kBAAD,EAAoB2B,CAApB,EAAsB,CAAC,CAAvB,CAAhB,EAA0C3B,gBAAgB,CAAC,UAAD,EAAY2B,CAAZ,EAAc,CAAC,CAAf,CAA1D;CAA4E;;CAAA,aAAS2pD,EAAT,CAAYlmC,CAAZ,EAAc;CAACplB,MAAAA,gBAAgB,CAAC,UAAD,EAAY,UAAS+E,CAAT,EAAW;CAACA,QAAAA,CAAC,CAACwmD,SAAF,IAAanmC,CAAC,CAACrgB,CAAD,CAAd;CAAkB,OAA1C,EAA2C,CAAC,CAA5C,CAAhB;CAA+D;;CAAA,aAASymD,EAAT,CAAYzmD,CAAZ,EAAcqgB,CAAd,EAAgB3f,CAAhB,EAAkB;CAAC,UAAI9D,CAAJ;CAAM,aAAO,YAAU;CAAC,aAAGyjB,CAAC,CAAC9d,KAAL,KAAa7B,CAAC,IAAEgmD,EAAE,CAAChV,GAAH,CAAOrxB,CAAP,CAAH,IAAc,aAAWjkB,QAAQ,CAACsiC,eAA/C,MAAkEre,CAAC,CAAC/mB,KAAF,GAAQ+mB,CAAC,CAAC9d,KAAF,IAAS3F,CAAC,IAAE,CAAZ,CAAR,EAAuB,CAACyjB,CAAC,CAAC/mB,KAAH,IAAU,KAAK,CAAL,KAASsD,CAAnB,KAAuBA,CAAC,GAACyjB,CAAC,CAAC9d,KAAJ,EAAUvC,CAAC,CAACqgB,CAAD,CAAlC,CAAzF;CAAiI,OAAnJ;CAAoJ;;CAAA,aAASsmC,EAAT,GAAa;CAACL,MAAAA,EAAE,CAAC,UAAStmD,CAAT,EAAW;CAACA,QAAAA,CAAC,GAACA,CAAC,CAACylD,SAAJ;CAAcmB,QAAAA,EAAE,GAAC5mD,CAAH;CAAK,OAAhC,EAAiC,CAAC,CAAlC,CAAF;CAAuC;;CAAA,aAAS6mD,EAAT,GAAa;CAAC,aAAOD,EAAE,GAAC,CAAH,KAAO,CAACA,EAAE,GAACjgD,IAAI,CAACi6C,SAAL,CAAeqF,eAAnB,MAAsC,IAAE,CAAxC,IAA2CU,EAAE,EAA7C,EAAgDJ,EAAE,CAAC,YAAU;CAAC1wC,QAAAA,UAAU,CAAC,YAAU;CAAC+wC,UAAAA,EAAE,GAAC,aAAWxqD,QAAQ,CAACsiC,eAApB,GAAoC,CAApC,GAAsC,IAAE,CAA3C,EAA6CioB,EAAE,EAA/C;CAAkD,SAA9D,EAA+D,CAA/D,CAAV;CAA4E,OAAxF,CAAzD,GAAoJ;CAAC,YAAIlB,SAAJ,GAAe;CAAC,iBAAOmB,EAAP;CAAU;;CAA3B,OAA3J;CAAwL;;CAAA,aAASE,EAAT,CAAY9mD,CAAZ,EAAc;CAAC,UAAIqgB,CAAC,GAACrgB,CAAC,CAAC/F,IAAR;CAAA,UAAa+F,CAAC,GAACA,CAAC,CAACuC,KAAjB;CAAuBwkD,MAAAA,EAAE,CAAC1mC,CAAD,CAAF,GAAMrgB,CAAN;CAAQ;;CAAA,QAAIgnD,EAAJ;CAAA,QAAOC,EAAP;CAAA,QAAUpS,EAAV;CAAA,QAAa6R,EAAE,GAAC,KAAI,cAAY,OAAOlV,OAAnB,GAA2BA,OAA3B,GAAmC0V,GAAvC,GAAhB;CAAA,QAA4DN,EAAE,GAAC,CAAC,CAAhE;CAAA,QAAkEG,EAAE,IAAE,IAAIrK,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC;CAAN,KAAN,GAA0B;CAACktD,MAAAA,GAAG,EAAC,CAAC,CAAN;CAAQC,MAAAA,GAAG,EAAC,CAAC,CAAb;CAAeC,MAAAA,GAAG,EAAC,CAAC,CAApB;CAAsBC,MAAAA,GAAG,EAAC,CAAC;CAA3B,KAA5B,CAApE;CAAA,QAA+H1T,EAAE,GAAC,IAAI8I,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC,WAAN;CAAkBojD,MAAAA,UAAU,EAAC,UAASr9C,CAAT,EAAW;CAAC,YAAIqgB,CAAJ,EAAM3f,CAAN,EAAQ9D,CAAR,EAAUstB,CAAV,EAAYc,CAAZ,EAAc2mB,CAAd,EAAgBxvC,CAAhB,EAAkByI,CAAlB,EAAoBwkB,CAApB,EAAsBvyB,CAAtB,EAAwB0uB,CAAxB,EAA0BknB,CAA1B,EAA4BU,CAA5B,EAA8BpvC,CAA9B,EAAgCknB,CAAhC,EAAkCpgB,CAAlC,EAAoCgoC,CAApC,EAAsCloC,CAAtC,EAAwCD,CAAxC,EAA0CtI,CAA1C,EAA4C2vC,CAA5C,EAA8CC,CAA9C,EAAgDW,CAAhD;CAAkD,YAAG7uC,CAAC,MAAI,cAAY,OAAOzH,MAAM,CAACoiD,mBAAlC,EAAsD,IAAG;CAAC9zC,UAAAA,CAAC,GAACm8C,EAAF,EAAK1kD,CAAC,GAACykD,EAAE,EAAT,EAAY9U,CAAC,GAACmU,EAAE,CAAC,KAAD,CAAhB,EAAwBlU,CAAC,GAACx8C,WAAW,CAAC+xD,gBAAZ,CAA6B,wBAA7B,EAAuD,CAAvD,CAA1B,EAAoF5U,CAAC,GAACX,CAAC,GAAC,IAAD,GAAMoU,EAAE,CAAC,OAAD,EAAS1S,CAAT,CAA/F,EAA2G,CAAC1B,CAAC,IAAEW,CAAJ,MAASjoC,CAAC,GAAC+7C,EAAE,CAAC97C,CAAD,EAAGonC,CAAH,EAAK,KAAK,CAAV,CAAJ,EAAiBC,CAAC,IAAE0B,CAAC,CAAC1B,CAAD,CAArB,EAAyBuU,EAAE,CAAC,UAASvmD,CAAT,EAAW;CAAC+xC,YAAAA,CAAC,GAACmU,EAAE,CAAC,KAAD,CAAJ,EAAYx7C,CAAC,GAAC+7C,EAAE,CAAC97C,CAAD,EAAGonC,CAAH,EAAK,KAAK,CAAV,CAAhB,EAA6Bz0B,qBAAqB,CAAC,YAAU;CAACA,cAAAA,qBAAqB,CAAC,YAAU;CAACy0B,gBAAAA,CAAC,CAACxvC,KAAF,GAAQ/M,WAAW,CAACiM,GAAZ,KAAkBzB,CAAC,CAACylD,SAA5B,EAAsCiB,EAAE,CAACjhD,GAAH,CAAOssC,CAAP,CAAtC,EAAgDrnC,CAAC,EAAjD;CAAoD,eAAhE,CAArB;CAAuF,aAAnG,CAAlD;CAAuJ,WAApK,CAApC,CAA3G,EAAsT+nC,CAAC,GAACqU,EAAxT,EAA2T77B,CAAC,GAAC47B,EAAE,EAA/T,EAAkUh8C,CAAC,GAACq7C,EAAE,CAAC,KAAD,CAAtU,EAA8U,CAACrT,CAAC,GAACuT,EAAE,CAAC,0BAAD,EAA4B3S,CAA5B,CAAL,MAAuCN,CAAC,GAACsT,EAAE,CAAChU,CAAD,EAAG5nC,CAAH,EAAK,KAAK,CAAV,CAAJ,EAAiB9G,CAAC,GAAC,YAAU;CAAC2iD,YAAAA,EAAE,CAAChV,GAAH,CAAO7mC,CAAP,MAAYgoC,CAAC,CAAC2U,WAAF,GAAgBzsD,GAAhB,CAAoB04C,CAApB,GAAuBZ,CAAC,CAACrgC,UAAF,EAAvB,EAAsCk0C,EAAE,CAACjhD,GAAH,CAAOoF,CAAP,CAAtC,EAAgDsoC,CAAC,EAA7D;CAAiE,WAA/F,EAAgG,CAAC,SAAD,EAAW,OAAX,EAAoB/3C,OAApB,CAA4B,UAAS4E,CAAT,EAAW;CAAC/E,YAAAA,gBAAgB,CAAC+E,CAAD,EAAG+D,CAAH,EAAK;CAAC2C,cAAAA,IAAI,EAAC,CAAC,CAAP;CAASi/C,cAAAA,OAAO,EAAC,CAAC;CAAlB,aAAL,CAAhB;CAA2C,WAAnF,CAAhG,EAAqLW,EAAE,CAACviD,CAAD,EAAG,CAAC,CAAJ,CAAvL,EAA8LwiD,EAAE,CAAC,UAASvmD,CAAT,EAAW;CAAC6K,YAAAA,CAAC,GAACq7C,EAAE,CAAC,KAAD,CAAJ,EAAY/S,CAAC,GAACsT,EAAE,CAAChU,CAAD,EAAG5nC,CAAH,EAAK,KAAK,CAAV,CAAhB,EAA6ByS,qBAAqB,CAAC,YAAU;CAACA,cAAAA,qBAAqB,CAAC,YAAU;CAACzS,gBAAAA,CAAC,CAACtI,KAAF,GAAQ/M,WAAW,CAACiM,GAAZ,KAAkBzB,CAAC,CAACylD,SAA5B,EAAsCiB,EAAE,CAACjhD,GAAH,CAAOoF,CAAP,CAAtC,EAAgDsoC,CAAC,EAAjD;CAAoD,eAAhE,CAArB;CAAuF,aAAnG,CAAlD;CAAuJ,WAApK,CAAvO,CAA9U,EAA4tBhxC,CAAC,GAAC2kD,EAA9tB,EAAiuBl8C,CAAC,GAACi8C,EAAE,EAAruB,EAAwuBz3B,CAAC,GAAC82B,EAAE,CAAC,KAAD,CAA5uB,EAAovBrpD,CAAC,GAACupD,EAAE,CAAC,aAAD,EAAenT,CAAf,CAAxvB,EAA0wB1nB,CAAC,GAACk7B,EAAE,CAACtkD,CAAD,EAAGitB,CAAH,EAAK,KAAK,CAAV,CAA9wB,EAA2xBvyB,CAAC,IAAEypD,EAAE,CAAC,YAAU;CAACzpD,YAAAA,CAAC,CAAC2qD,WAAF,GAAgBzsD,GAAhB,CAAoBk4C,CAApB,GAAuBp2C,CAAC,CAAC2V,UAAF,EAAvB;CAAsC,WAAlD,EAAmD,CAAC,CAApD,CAAhyB,EAAu1B3V,CAAC,IAAER,MAAM,CAACukD,SAAP,CAAiBmF,kBAAjB,CAAoC9S,CAApC,CAA11B,EAAi4BsT,EAAE,CAAC,YAAU;CAACn3B,YAAAA,CAAC,GAAC82B,EAAE,CAAC,KAAD,CAAJ,EAAY36B,CAAC,GAACk7B,EAAE,CAACtkD,CAAD,EAAGitB,CAAH,EAAK,KAAK,CAAV,CAAhB,EAA6B/yB,MAAM,CAACukD,SAAP,CAAiBoF,uBAAjB,EAA7B,EAAwE3pD,MAAM,CAACukD,SAAP,CAAiBmF,kBAAjB,CAAoC9S,CAApC,CAAxE;CAA+G,WAA3H,CAAn4B,EAAggCr2C,CAAC,GAACkqD,EAAlgC,EAAqgC97B,CAAC,GAACk7B,EAAE,CAAC,KAAD,EAAO,CAAP,CAAzgC,EAAmhC,CAACvU,CAAC,GAACyU,EAAE,CAAC,cAAD,EAAgBxT,CAAhB,CAAL,MAA2B1oB,CAAC,GAACu8B,EAAE,CAAC7pD,CAAD,EAAGouB,CAAH,EAAK,KAAK,CAAV,CAAJ,EAAiBs7B,EAAE,CAAC,YAAU;CAAC3U,YAAAA,CAAC,CAAC6V,WAAF,GAAgBzsD,GAAhB,CAAoB63C,CAApB,GAAuB1oB,CAAC,EAAxB;CAA2B,WAAvC,CAAnB,EAA4Dq8B,EAAE,CAAC,YAAU;CAACv7B,YAAAA,CAAC,GAACk7B,EAAE,CAAC,KAAD,EAAO,CAAP,CAAJ,EAAch8B,CAAC,GAACu8B,EAAE,CAAC7pD,CAAD,EAAGouB,CAAH,EAAK,KAAK,CAAV,CAAlB;CAA+B,WAA3C,CAAzF,CAAnhC,EAA0pC3K,CAAC,GAAC,KAAKg+B,OAAL,CAAa5jD,IAAb,CAAkB,IAAlB,EAAuBuF,CAAvB,CAA5pC,EAAsrCU,CAAC,GAAC,UAASV,CAAT,EAAW;CAAC,2BAAaA,CAAC,CAACQ,IAAf,IAAqB,aAAWpE,QAAQ,CAACsiC,eAAzC,KAA2Dre,CAAC,CAACrgB,CAAD,CAAD,EAAK9E,mBAAmB,CAAC,kBAAD,EAAoBwF,CAApB,EAAsB,CAAC,CAAvB,CAAxB,EAAkDxF,mBAAmB,CAAC,UAAD,EAAYwF,CAAZ,EAAc,CAAC,CAAf,CAAhI;CAAmJ,WAAv1C,EAAw1CzF,gBAAgB,CAAC,kBAAD,EAAoByF,CAApB,EAAsB,CAAC,CAAvB,CAAx2C,EAAk4CzF,gBAAgB,CAAC,UAAD,EAAYyF,CAAZ,EAAc,CAAC,CAAf,CAAl5C;CAAo6C,SAAx6C,CAAw6C,OAAMV,CAAN,EAAQ;;CAAE,iBAAS4yC,CAAT,CAAW5yC,CAAX,EAAa;CAACA,UAAAA,CAAC,CAACynD,cAAF,KAAmBz8B,CAAC,CAACzoB,KAAF,IAASvC,CAAC,CAACuC,KAAX,EAAiByoB,CAAC,CAACm7B,OAAF,CAAUhrD,IAAV,CAAe6E,CAAf,CAAjB,EAAmCkqB,CAAC,EAAvD;CAA2D;;CAAA,iBAAS+oB,CAAT,CAAWjzC,CAAX,EAAa;CAACA,UAAAA,CAAC,CAAC6lD,SAAF,GAAYj7C,CAAC,CAAC66C,SAAd,KAA0Br2B,CAAC,CAAC7sB,KAAF,GAAQvC,CAAC,CAAC8lD,eAAF,GAAkB9lD,CAAC,CAAC6lD,SAA5B,EAAsCz2B,CAAC,CAAC+2B,OAAF,CAAUhrD,IAAV,CAAe6E,CAAf,CAAtC,EAAwD0mD,EAAE,CAACjhD,GAAH,CAAO2pB,CAAP,CAAxD,EAAkE7D,CAAC,EAA7F;CAAiG;;CAAA,iBAASkoB,CAAT,CAAWzzC,CAAX,EAAa;CAAC,cAAIqgB,CAAC,GAACrgB,CAAC,CAAC6lD,SAAR;CAAkBxlC,UAAAA,CAAC,GAAC4K,CAAC,CAACw6B,SAAJ,KAAgB56C,CAAC,CAACtI,KAAF,GAAQ8d,CAAR,EAAUxV,CAAC,CAACs7C,OAAF,CAAUhrD,IAAV,CAAe6E,CAAf,CAA1B,GAA6CmzC,CAAC,EAA9C;CAAiD;;CAAA,iBAASO,CAAT,CAAW1zC,CAAX,EAAa;CAAC,uCAA2BA,CAAC,CAAC/F,IAA7B,KAAoC04C,CAAC,IAAEA,CAAC,CAACngC,UAAF,EAAH,EAAkBxS,CAAC,CAAC6lD,SAAF,GAAYzjD,CAAC,CAACqjD,SAAd,KAA0B1T,CAAC,CAACxvC,KAAF,GAAQvC,CAAC,CAAC6lD,SAAV,EAAoB9T,CAAC,CAACoU,OAAF,CAAUhrD,IAAV,CAAe6E,CAAf,CAApB,EAAsC0mD,EAAE,CAACjhD,GAAH,CAAOssC,CAAP,CAAtC,EAAgDrnC,CAAC,EAA3E,CAAtD;CAAsI;CAAC,OAAj+D;CAAk+D2zC,MAAAA,OAAO,EAAC,UAASrzB,CAAT,EAAW;CAACA,QAAAA,CAAC,CAAC2tB,YAAF,CAAe,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,cAAI3f,CAAJ;CAAA,cAAM9D,CAAC,GAAC,EAAR;;CAAW,eAAI8D,CAAJ,IAASV,CAAT,EAAWpD,CAAC,CAACzB,IAAF,CAAOuF,CAAC,GAAC,GAAF,GAAMV,CAAC,CAACU,CAAD,CAAd;;CAAmB,cAAIwpB,CAAC,GAAC,CAAC,CAAD,KAAKc,CAAC,CAACrW,MAAF,CAASqsC,cAAT,CAAwB5iC,OAAxB,CAAgC,GAAhC,CAAL,GAA0C,GAA1C,GAA8C,GAApD;CAAwDiC,UAAAA,CAAC,CAAC;CAACxtB,YAAAA,GAAG,EAACm4B,CAAC,CAACrW,MAAF,CAASssC,YAAT,GAAsB/2B,CAAtB,GAAwBttB,CAAC,CAAC0K,IAAF,CAAO,GAAP,CAA7B;CAAyC9G,YAAAA,IAAI,EAACoyC,CAAC,CAACuD,MAAhD;CAAuD/gD,YAAAA,GAAG,EAAC4K,CAA3D;CAA6D0nD,YAAAA,UAAU,EAAC,CAAC;CAAzE,WAAD,CAAD;CAA+E,SAA/L,CAAf,EAAgN9U,CAAC,CAACuD,MAAlN,EAA0N4Q,EAA1N;CAA8N,OAAptE;CAAqtEvwD,MAAAA,OAAO,EAAC,YAAU;CAAC,aAAKoE,MAAL,CAAYyjD,OAAZ,GAAoB,YAAU,EAA9B;CAAiC;CAAzwE,KAAN,CAAlI;CAAA,QAAo5EsJ,EAAE,GAAC,CAAv5E;CAAA,QAAy5EC,EAAE,IAAEhrD,CAAC,CAACqqD,EAAE,GAACY,EAAJ,EAAOhT,EAAE,GAACmS,EAAE,GAAC7M,CAAb,CAAD,EAAiB8M,EAAE,CAAC7sC,SAAH,GAAa,SAAOy6B,EAAP,GAAUt5C,MAAM,CAACusD,MAAP,CAAcjT,EAAd,CAAV,IAA6BkT,EAAE,CAAC3tC,SAAH,GAAay6B,EAAE,CAACz6B,SAAhB,EAA0B,IAAI2tC,EAAJ,EAAvD,CAA9B,EAA6FF,EAAE,CAACztC,SAAH,CAAa4tC,OAAb,GAAqB,UAAS3nC,CAAT,EAAW;CAAC,UAAI3f,CAAC,GAAC,IAAN;CAAW,aAAO,KAAK,CAAL,KAAS2f,CAAT,KAAaA,CAAC,GAAC,EAAf,GAAmB,KAAG9kB,MAAM,CAAC02C,mBAAP,CAA2B,KAAK6I,IAAhC,EAAsC16B,MAAtC,CAA6C,UAASpgB,CAAT,EAAW;CAAC,eAAM,CAAC,CAAD,KAAKqgB,CAAC,CAACjC,OAAF,CAAUpe,CAAV,CAAX;CAAwB,OAAjF,EAAmFjF,GAAnF,CAAuF,UAASiF,CAAT,EAAW;CAAC,eAAOA,CAAC,GAAC,GAAF,GAAMU,CAAC,CAACo6C,IAAF,CAAO96C,CAAP,CAAb;CAAuB,OAA1H,EAA4HsH,IAA5H,CAAiI,GAAjI,CAA7B;CAAmK,KAA5S,EAA6SugD,EAAE,CAACztC,SAAH,CAAa6tC,eAAb,GAA6B,YAAU;CAAC,WAAKC,UAAL,GAAgB,CAAC,CAAjB;CAAmB,UAAIloD,CAAC,GAAC,KAAKmoD,YAAL,CAAkBr2C,KAAlB,EAAN;CAAgC9R,MAAAA,CAAC,IAAE,KAAK3C,OAAL,CAAa2C,CAAC,CAACzC,OAAf,EAAuByC,CAAC,CAAC44C,OAAzB,EAAiC54C,CAAC,CAACo5C,IAAnC,CAAH;CAA4C,KAApb,EAAqbyO,EAAE,CAACztC,SAAH,CAAa/c,OAAb,GAAqB,UAAS2C,CAAT,EAAWqgB,CAAX,EAAa3f,CAAb,EAAe;CAAC,UAAI9D,CAAC,GAAC,IAAN;CAAW,UAAGoD,CAAC,IAAE,YAAU,OAAOA,CAAC,CAACnN,GAAtB,IAA2B,OAAKmN,CAAC,CAACnN,GAAlC,IAAuC,KAAKioD,IAAL,CAAUl9B,EAApD,EAAuD,IAAG,KAAKsqC,UAAR,EAAmB,KAAKC,YAAL,CAAkBhtD,IAAlB,CAAuB;CAACoC,QAAAA,OAAO,EAACyC,CAAT;CAAW44C,QAAAA,OAAO,EAACv4B,CAAnB;CAAqB+4B,QAAAA,IAAI,EAAC14C;CAA1B,OAAvB,EAAnB,KAA4E;CAAC,aAAKwnD,UAAL,GAAgB,CAAC,CAAjB;CAAmB,YAAIh+B,CAAC,GAAClqB,CAAC,CAACnN,GAAR;CAAY,SAAC,CAAD,KAAKmN,CAAC,CAACu7C,OAAP,KAAiBrxB,CAAC,GAACA,CAAC,IAAE,CAAC,CAAD,KAAKA,CAAC,CAAC9L,OAAF,CAAU,GAAV,CAAL,GAAoB,GAApB,GAAwB,GAA1B,CAAD,GAAgC,KAAK4pC,OAAL,CAAahoD,CAAC,CAACqkD,UAAf,CAAnD,GAA+ErkD,CAAC,CAACnN,GAAF,GAAMq3B,CAArF;CAAuF,YAAIc,CAAC,GAAChrB,CAAC,CAACmvC,MAAF,IAAU,KAAhB;CAAA,YAAsBjlB,CAAC,GAAC,KAAKvV,MAAL,CAAYyzC,eAApC;CAAoD,YAAG,EAAEpoD,CAAC,GAACkqB,CAAC,GAACA,CAAC,CAAClqB,CAAD,EAAG,IAAH,CAAF,GAAWA,CAAhB,CAAH,EAAsB,OAAO,KAAKioD,eAAL,IAAuB7tD,OAAO,CAAChF,GAAR,CAAY,yBAAZ,CAA9B;CAAqE,YAAG,CAAC4K,CAAC,CAACnN,GAAN,EAAU,OAAO,KAAKo1D,eAAL,IAAuB7tD,OAAO,CAACC,IAAR,CAAa,mEAAb,CAA9B;CAAgH,YAAG2c,SAAS,CAAC0wC,UAAV,IAAsB1nD,CAAC,CAAC0nD,UAA3B,EAAsC,OAAO,KAAKO,eAAL,IAAuBjxC,SAAS,CAAC0wC,UAAV,CAAqB1nD,CAAC,CAACnN,GAAvB,EAA2BmN,CAAC,CAACiH,IAA7B,CAA9B;CAAiE,YAAI0qC,CAAC,GAAC,IAAIgG,cAAJ,EAAN;CAAyBhG,QAAAA,CAAC,CAACqG,WAAF,GAAc,CAAC,CAAf,EAAiBz8C,MAAM,CAACo0C,MAAP,CAAcgC,CAAd,EAAgB;CAAChgD,UAAAA,OAAO,EAAC;CAAT,SAAhB,EAA8BqO,CAAC,CAACg6C,aAAhC,CAAjB,EAAgErI,CAAC,CAAC12C,gBAAF,CAAmB,kBAAnB,EAAsC,YAAU;CAAC,gBAAI02C,CAAC,CAAC3G,UAAN,KAAmBpuC,CAAC,CAACqrD,eAAF,IAAoB,OAAKtW,CAAC,CAAC2B,MAAP,IAAe,MAAI3B,CAAC,CAAC2B,MAArB,GAA4B,QAAM5yC,CAAN,IAASA,CAAC,CAACixC,CAAC,CAACgC,QAAH,CAAtC,GAAmD,QAAMtzB,CAAN,IAASA,CAAC,CAACsxB,CAAC,CAACgC,QAAH,CAApG;CAAkH,SAAnK,CAAhE,EAAqO,UAAQ3oB,CAAC,CAAC45B,iBAAF,EAAR,IAA+BjT,CAAC,CAACj6C,IAAF,CAAO,KAAP,EAAa,UAASsI,CAAT,EAAWU,CAAX,EAAa;CAAC,cAAG,YAAU,OAAOV,CAApB,EAAsB,OAAM,EAAN;;CAAS,cAAG,YAAU,OAAOU,CAAjB,IAAoBA,CAAvB,EAAyB;CAAC,gBAAI2f,CAAC,GAAC9kB,MAAM,CAAC02C,mBAAP,CAA2BvxC,CAA3B,EAA8B3F,GAA9B,CAAkC,UAASiF,CAAT,EAAW;CAAC,kBAAIqgB,CAAC,GAAC3f,CAAC,CAACV,CAAD,CAAP;CAAW,qBAAOA,CAAC,GAAC,GAAF,IAAO,YAAU,OAAOqgB,CAAjB,GAAmBgyB,kBAAkB,CAAChyB,CAAD,CAArC,GAAyCgyB,kBAAkB,CAACvrB,IAAI,CAACC,SAAL,CAAe1G,CAAf,CAAD,CAAlE,CAAP;CAA8F,aAAvJ,EAAyJ/Y,IAAzJ,CAA8J,GAA9J,EAAmK7G,OAAnK,CAA2K,QAA3K,EAAoL,MAApL,CAAN;CAAkM,mBAAOT,CAAC,IAAE,CAAC,CAAD,KAAKA,CAAC,CAACoe,OAAF,CAAU,GAAV,CAAL,GAAoB,GAApB,GAAwB,GAA1B,CAAD,GAAgCiC,CAAvC;CAAyC;;CAAA,iBAAOrgB,CAAP;CAAS,SAA3T,CAA4TA,CAAC,CAACnN,GAA9T,EAAkUmN,CAAC,CAACiH,IAApU,CAAb,GAAwV0qC,CAAC,CAACiG,IAAF,EAAvX,KAAkYjG,CAAC,CAACj6C,IAAF,CAAO,MAAP,EAAcsI,CAAC,CAACnN,GAAhB,GAAqBmN,CAAC,CAAC+5C,WAAF,IAAepI,CAAC,CAAC0W,gBAAF,CAAmB,cAAnB,EAAkCroD,CAAC,CAAC+5C,WAApC,CAApC,EAAqF,YAAU,OAAO/5C,CAAC,CAACiH,IAAnB,KAA0BjH,CAAC,CAACiH,IAAF,GAAOjH,CAAC,CAACiH,IAAF,CAAOxG,OAAP,CAAe,QAAf,EAAwB,MAAxB,CAAjC,CAArF,EAAuJkxC,CAAC,CAACiG,IAAF,CAAO53C,CAAC,CAACiH,IAAT,CAAzhB,CAArO;CAA8wB;CAAC,KAAv3D,EAAw3D4gD,EAAE,CAACS,cAAH,GAAkB,UAAS3W,CAAT,EAAW3xC,CAAX,EAAa;CAAC,UAAIqgB,CAAC,GAAC,CAACrgB,CAAC,GAAC,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA,CAAjB,EAAoBuoD,kBAA1B;CAAA,UAA6CpmD,CAAC,GAAC,KAAK,CAAL,KAASke,CAAT,GAAW,kBAAgBsnC,EAA3B,GAA8BtnC,CAA7E;CAAA,UAA+EA,CAAC,GAACrgB,CAAC,CAACwoD,WAAnF;CAAA,UAA+F59C,CAAC,GAAC,KAAK,CAAL,KAASyV,CAAT,GAAW,YAAU,EAArB,GAAwBA,CAAzH;CAAA,UAA2HrgB,CAAC,GAACA,CAAC,CAACyoD,0BAA/H;CAAA,UAA0Jr5B,CAAC,GAAC,KAAK,CAAL,KAASpvB,CAAT,GAAW,YAAU,EAArB,GAAwBA,CAApL;CAAsL,UAAG2nD,EAAE,IAAE,CAAJ,EAAM,YAAU,OAAOhW,CAA1B,EAA4B,MAAM,IAAIJ,SAAJ,CAAc,2CAAd,CAAN;CAAiE,UAAG,cAAY,OAAO3mC,CAAnB,IAAsB,cAAY,OAAOwkB,CAA5C,EAA8C,MAAM,IAAImiB,SAAJ,CAAc,6DAAd,CAAN;CAAmF,WAAKwJ,GAAL,CAAS,IAAI2B,CAAJ,CAAM;CAACziD,QAAAA,IAAI,EAAC,aAAN;CAAoBojD,QAAAA,UAAU,EAAC,UAASh9B,CAAT,EAAW;CAAC,cAAG;CAACzV,YAAAA,CAAC,CAACyV,CAAD,CAAD,EAAKwnC,EAAE,CAACa,WAAH,CAAe/W,CAAf,IAAkBviB,CAAC,CAAC/O,CAAD,EAAGhkB,MAAM,CAACwrD,EAAE,CAACa,WAAH,CAAe/W,CAAf,CAAD,CAAT,CAAnB,IAAkD3xC,CAAC,GAAC2xC,CAAF,EAAIjxC,CAAC,GAACyB,CAAN,EAAQvF,CAAC,GAAC,UAASoD,CAAT,EAAW;CAACA,cAAAA,CAAC,KAAG6nD,EAAE,CAACa,WAAH,CAAe/W,CAAf,IAAkBxvC,CAAlB,EAAoBnC,CAAC,GAAC3D,MAAM,CAAC8F,CAAD,CAA5B,EAAgCitB,CAAC,CAAC/O,CAAD,EAAGrgB,CAAH,CAApC,CAAD;CAA4C,aAAlE,EAAmEkqB,CAAC,GAAC9tB,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAArE,EAAsG6pB,CAAC,GAAC5uB,QAAQ,CAACshC,IAAjH,EAAsH,cAAY,OAAOh9B,CAAnB,KAAuB9D,CAAC,GAAC8D,CAAF,EAAIA,CAAC,GAAC,EAA7B,CAAtH,EAAuJwpB,CAAC,CAACgC,GAAF,GAAMlsB,CAA7J,EAA+JkqB,CAAC,CAAC6Q,YAAF,CAAe,MAAf,EAAsBr6B,CAAtB,CAA/J,EAAwLwpB,CAAC,CAACjwB,IAAF,GAAOyG,CAA/L,EAAiMwpB,CAAC,CAAC6Q,YAAF,CAAe,aAAf,EAA6B,WAA7B,CAAjM,EAA2O7Q,CAAC,CAACy+B,WAAF,GAAc,WAAzP,EAAqQz+B,CAAC,CAAC0+B,KAAF,GAAQ,CAAC,CAA9Q,EAAgR1+B,CAAC,CAAC2+B,SAAF,GAAY,CAAC,CAA7R,EAA+R3+B,CAAC,CAAC4+B,kBAAF,GAAqB,YAAU;CAAC5+B,cAAAA,CAAC,CAAC2+B,SAAF,IAAa3+B,CAAC,CAAC8gB,UAAF,IAAc,aAAW9gB,CAAC,CAAC8gB,UAA3B,IAAuC,eAAa9gB,CAAC,CAAC8gB,UAAnE,KAAgF9gB,CAAC,CAAC2+B,SAAF,GAAY,CAAC,CAAb,EAAe,cAAY,OAAOjsD,CAAnB,IAAsBA,CAAC,CAAC,CAAC,CAAF,CAAtC,EAA2CiZ,UAAU,CAAC,YAAU;CAACmV,gBAAAA,CAAC,CAACslB,QAAF,CAAWpmB,CAAX,KAAec,CAAC,CAACrc,WAAF,CAAcub,CAAd,CAAf;CAAgC,eAA5C,CAArI;CAAoL,aAAnf,EAAofA,CAAC,CAAC5S,MAAF,GAAS4S,CAAC,CAAC4+B,kBAA/f,EAAkhB5+B,CAAC,CAACzrB,OAAF,GAAU,YAAU;CAAC,4BAAY,OAAO7B,CAAnB,IAAsBA,CAAC,CAAC,CAAC,CAAF,CAAvB,EAA4BiZ,UAAU,CAAC,YAAU;CAACmV,gBAAAA,CAAC,CAACslB,QAAF,CAAWpmB,CAAX,KAAec,CAAC,CAACrc,WAAF,CAAcub,CAAd,CAAf;CAAgC,eAA5C,CAAtC;CAAoF,aAA3nB,EAA4nB,eAAa9tB,QAAQ,CAAC4uC,UAAtB,GAAiChgB,CAAC,CAAC7e,WAAF,CAAc+d,CAAd,CAAjC,GAAkD7tB,MAAM,CAACpB,gBAAP,CAAwB,MAAxB,EAA+B,YAAU;CAAC+vB,cAAAA,CAAC,CAAC7e,WAAF,CAAc+d,CAAd;CAAiB,aAA3D,CAAhuB,CAAL;CAAmyB,WAAvyB,CAAuyB,OAAMlqB,CAAN,EAAQ;CAAC5F,YAAAA,OAAO,CAAChF,GAAR,CAAY,iCAA+Bu8C,CAA/B,GAAiC,GAA7C,GAAkDv3C,OAAO,CAAC/E,KAAR,CAAc2K,CAAd,CAAlD;CAAmE;;CAAA,cAAIA,CAAJ,EAAMU,CAAN,EAAQ9D,CAAR,EAAUstB,CAAV,EAAYc,CAAZ;CAAc;CAA56B,OAAN,CAAT;CAA+7B,KAA3uG,EAA4uG68B,EAAE,CAACztC,SAAH,CAAa2uC,UAAb,GAAwB,UAAS/oD,CAAT,EAAWqgB,CAAX,EAAa;CAAC,WAAK42B,SAAL,CAAe5xC,IAAf,CAAoB,YAApB,EAAiCrF,CAAC,GAAC,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA,CAAjD,EAAmDqgB,CAAC,GAAC,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA,CAAnE;CAAsE,KAAx1G,EAAy1GwnC,EAAE,CAACmB,SAAH,GAAa,aAAWtnD,IAAI,CAACD,GAAL,EAAj3G,EAA43GomD,EAAE,CAACa,WAAH,GAAe,EAA34G,EAA84Gb,EAAE,CAACoB,IAAH,GAAQ;CAACC,MAAAA,YAAY,EAAC,8BAAd;CAA6CC,MAAAA,IAAI,EAAC,wEAAlD;CAA2HC,MAAAA,SAAS,EAAC;CAArI,KAAt5G,EAA+hHvB,EAAjiH,CAA35E;CAAA,QAAg8LwB,EAAE,GAAC,IAAI3M,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC;CAAN,KAAN,CAAn8L;CAAA,QAA89LkgD,CAAC,GAACkP,EAAE,GAAC,IAAI3M,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC,YAAN;CAAmBojD,MAAAA,UAAU,EAAC,UAASr9C,CAAT,EAAW;CAAC,YAAIqgB,CAAC,GAACunC,EAAE,CAACqB,IAAH,CAAQE,IAAd;CAAA,YAAmBplD,CAAC,GAAC/D,CAAC,CAAC2U,MAAvB;CAAA,YAA8BsW,CAAC,GAAC,EAAhC;CAAA,YAAmCpgB,CAAC,GAAC,IAArC;CAAA,YAA0CgoC,CAAC,GAAC,IAA5C;CAAA,YAAiDloC,CAAC,GAAC,UAAS3K,CAAT,EAAW;CAAC6yC,UAAAA,CAAC,GAAC7yC,CAAF;CAAI,SAAnE;CAAA,YAAoE0K,CAAC,GAAC,UAAS1K,CAAT,EAAW;CAACirB,UAAAA,CAAC,GAACA,CAAC,CAACkB,MAAF,CAASnsB,CAAT,CAAF;CAAc,SAAhG;CAAA,YAAiGoC,CAAC,GAAC,UAASpC,CAAT,EAAWqgB,CAAX,EAAa;CAACxV,UAAAA,CAAC,GAAC;CAACy+C,YAAAA,KAAK,EAACtpD,CAAC,GAAC,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA,CAAvB;CAAyBupD,YAAAA,MAAM,EAAClpC,CAAC,GAAC,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA;CAAhD,WAAF;CAAqD,SAAtK;;CAAuKunC,QAAAA,EAAE,CAACU,cAAH,CAAkBjoC,CAAlB,EAAoB;CAACkoC,UAAAA,kBAAkB,EAAC,MAApB;CAA2BC,UAAAA,WAAW,EAAC,UAASxoD,CAAT,EAAW;CAACA,YAAAA,CAAC,CAACi3C,SAAF,CAAYp5C,EAAZ,CAAe,aAAf,EAA6B6M,CAA7B,GAAgC1K,CAAC,CAACi3C,SAAF,CAAYp5C,EAAZ,CAAe,YAAf,EAA4BuE,CAA5B,CAAhC,EAA+DpC,CAAC,CAACi3C,SAAF,CAAYp5C,EAAZ,CAAe,gBAAf,EAAgC8M,CAAhC,CAA/D;CAAkG,WAArJ;CAAsJ89C,UAAAA,0BAA0B,EAAC,UAAS7rD,CAAT,EAAWoD,CAAX,EAAa;CAAC,gBAAIqgB,CAAJ;CAAA,gBAAM3f,CAAN;CAAA,gBAAQwpB,CAAR;CAAA,gBAAUc,CAAV;CAAA,gBAAY2mB,CAAZ;CAAA,gBAAcxvC,CAAC,GAAC4B,CAAC,CAACylD,QAAlB;CAAA,gBAA2B5+C,CAAC,GAAC,KAAK,CAAL,KAASzI,CAAT,GAAW,EAAX,GAAcA,CAA3C;CAAA,gBAA6CitB,CAAC,GAACrrB,CAAC,CAAClR,GAAjD;CAAA,gBAAqDgK,CAAC,GAAC,KAAK,CAAL,KAASuyB,CAAT,GAAWw4B,EAAE,CAACqB,IAAH,CAAQC,YAAnB,GAAgC95B,CAAvF;CAAA,gBAAyF7D,CAAC,GAACxnB,CAAC,CAAC0lD,aAA7F;CAAA,gBAA2GhX,CAAC,GAAC,KAAK,CAAL,KAASlnB,CAAT,GAAW,CAAX,GAAaA,CAA1H;CAAA,gBAA4HppB,CAAC,GAAC4B,CAAC,CAAC6Z,EAAhI;CAAA,gBAAmIwR,CAAC,GAACrrB,CAAC,CAACs1C,GAAvI;CAA2I,sBAAQ9tB,CAAC,GAAC3uB,CAAC,CAACq6C,SAAZ,KAAwB,KAAK,CAAL,KAAS1rB,CAAjC,IAAoCA,CAAC,CAACllB,MAAF,CAAS,aAAT,EAAuBqE,CAAvB,CAApC,EAA8D,UAAQ6gB,CAAC,GAAC3uB,CAAC,CAACq6C,SAAZ,KAAwB,KAAK,CAAL,KAAS1rB,CAAjC,IAAoCA,CAAC,CAACllB,MAAF,CAAS,YAAT,EAAsBjE,CAAtB,CAAlG,EAA2H,UAAQmpB,CAAC,GAAC3uB,CAAC,CAACq6C,SAAZ,KAAwB,KAAK,CAAL,KAAS1rB,CAAjC,IAAoCA,CAAC,CAACllB,MAAF,CAAS,gBAAT,EAA0BsE,CAA1B,CAA/J;CAA4LC,YAAAA,CAAC,GAACrP,MAAM,CAACo0C,MAAP,CAAc;CAAC+Z,cAAAA,SAAS,EAAC7sD,CAAC,GAAC,kBAAF,GAAqBsF,CAAhC;CAAkCwnD,cAAAA,YAAY,EAAClX,CAA/C;CAAiD70B,cAAAA,EAAE,EAACzb,CAApD;CAAsDk3C,cAAAA,GAAG,EAACjqB,CAA1D;CAA4DwrB,cAAAA,GAAG,EAAC,CAAC,UAAQxrB,CAAC,GAACxyB,CAAC,CAACk+C,IAAZ,KAAmB,KAAK,CAAL,KAAS1rB,CAA5B,GAA8B,KAAK,CAAnC,GAAqCA,CAAC,CAACwrB,GAAxC,KAA8C,EAA9G;CAAiHsB,cAAAA,aAAa,EAACt/C,CAAC,CAAC+X,MAAF,CAASunC,aAAxI;CAAsJ9E,cAAAA,YAAY,EAACx6C,CAAC,CAAC+X,MAAF,CAASyiC;CAA5K,aAAd,EAAwMxsC,CAAxM,EAA0M;CAACg/C,cAAAA,SAAS,EAAChC,EAAE,CAACoB;CAAd,aAA1M,CAAF;;CAAsO,gBAAG;CAAC,kBAAI7V,CAAC,GAAC,IAAInzC,CAAJ,CAAM4K,CAAN,CAAN;CAAeqgB,cAAAA,CAAC,CAAC7vB,OAAF,CAAU,UAAS4E,CAAT,EAAW;CAACmzC,gBAAAA,CAAC,CAAC1tC,GAAF,CAAMssC,CAAC,CAACA,CAAC,CAAC,EAAD,EAAI/xC,CAAJ,CAAF,EAAS;CAACwpC,kBAAAA,KAAK,EAACxpC,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACkB,QAAZ,GAAqBlB,CAAC,CAACoB,IAAvB,GAA4B/zC,CAAC,CAACwpC;CAArC,iBAAT,CAAP;CAA8D,eAApF,GAAsF,UAAQnpB,CAAC,GAACzjB,CAAC,CAACq6C,SAAZ,KAAwB,KAAK,CAAL,KAAS52B,CAAjC,IAAoCA,CAAC,CAACxiB,EAAF,CAAK,aAAL,EAAmB,UAASmC,CAAT,EAAW;CAAC,iBAACA,CAAC,GAAC,KAAK,CAAL,KAASA,CAAT,GAAW,EAAX,GAAcA,CAAjB,EAAoB5E,OAApB,CAA4B,UAAS4E,CAAT,EAAW;CAACmzC,kBAAAA,CAAC,CAAC1tC,GAAF,CAAMssC,CAAC,CAACA,CAAC,CAAC,EAAD,EAAI/xC,CAAJ,CAAF,EAAS;CAACwpC,oBAAAA,KAAK,EAACxpC,CAAC,CAACwpC,KAAF,KAAUmJ,CAAC,CAACkB,QAAZ,GAAqBlB,CAAC,CAACoB,IAAvB,GAA4B/zC,CAAC,CAACwpC;CAArC,mBAAT,CAAP;CAA8D,iBAAtG;CAAwG,eAAvI,CAA1H,EAAmQ,UAAQ9oC,CAAC,GAAC9D,CAAC,CAACq6C,SAAZ,KAAwB,KAAK,CAAL,KAASv2C,CAAjC,IAAoCA,CAAC,CAAC7C,EAAF,CAAK,YAAL,EAAkB,UAASmC,CAAT,EAAWqgB,CAAX,EAAa;CAAC,oBAAI3f,CAAJ;CAAM,qBAAK,CAAL,KAASV,CAAT,KAAaA,CAAC,GAAC,EAAf,GAAmB,KAAK,CAAL,KAASqgB,CAAT,KAAaA,CAAC,GAAC,EAAf,CAAnB,EAAsC8yB,CAAC,CAAC4V,UAAF,CAAaxtD,MAAM,CAACo0C,MAAP,CAAc;CAAC/xB,kBAAAA,EAAE,EAAC7Z,CAAC,CAAC6Z,EAAN;CAASy7B,kBAAAA,GAAG,EAACt1C,CAAC,CAACs1C,GAAf;CAAmBuB,kBAAAA,GAAG,EAAC,UAAQl6C,CAAC,GAAC9D,CAAC,CAACk+C,IAAZ,KAAmB,KAAK,CAAL,KAASp6C,CAA5B,GAA8B,KAAK,CAAnC,GAAqCA,CAAC,CAACk6C;CAA9D,iBAAd,EAAiF56C,CAAjF,CAAb,EAAiGqgB,CAAjG,CAAtC;CAA0I,eAAhL,CAAvS,EAAyd,UAAQ6J,CAAC,GAACttB,CAAC,CAACq6C,SAAZ,KAAwB,KAAK,CAAL,KAAS/sB,CAAjC,IAAoCA,CAAC,CAACrsB,EAAF,CAAK,gBAAL,EAAsB,UAASmC,CAAT,EAAW;CAACmzC,gBAAAA,CAAC,CAACkH,SAAF,CAAYr6C,CAAZ;CAAe,eAAjD,CAA7f,EAAgjB,UAAQgrB,CAAC,GAACpuB,CAAC,CAACq6C,SAAZ,KAAwB,KAAK,CAAL,KAASjsB,CAAjC,IAAoCA,CAAC,CAACntB,EAAF,CAAK,SAAL,EAAe,YAAU;CAAC,sBAAIwrD,EAAE,CAACrM,aAAH,EAAJ,KAAyB/xB,CAAC,CAACnuB,MAAF,GAAS,CAAT,EAAW,cAAY,QAAO,CAAC+N,CAAC,GAAC,IAAH,KAAUsoC,CAAV,GAAY,KAAK,CAAjB,GAAmBA,CAAC,CAAC38C,OAA5B,CAAZ,IAAkD28C,CAAC,CAAC38C,OAAF,EAAtF;CAAmG,eAA7H,CAAplB,EAAmtB28C,CAAC,CAACt1C,EAAF,CAAK,WAAL,EAAiB,UAASmC,CAAT,EAAW;CAACpD,gBAAAA,CAAC,CAAC+7C,YAAF,CAAe,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAAC,sBAAI3f,CAAC,GAACsxC,CAAC,CAAC;CAAC/kC,oBAAAA,GAAG,EAACgmC,CAAC,CAACjzC,CAAD,CAAN;CAAUwpC,oBAAAA,KAAK,EAACmJ,CAAC,CAACoB;CAAlB,mBAAD,CAAP;CAAiC1zB,kBAAAA,CAAC,CAAC;CAAC7f,oBAAAA,IAAI,EAACoyC,CAAC,CAACqD,OAAR;CAAgBhvC,oBAAAA,IAAI,EAACvG,CAArB;CAAuBq5C,oBAAAA,WAAW,EAAC,mCAAnC;CAAuE5K,oBAAAA,MAAM,EAAC,MAA9E;CAAqFoM,oBAAAA,OAAO,EAAC,CAAC,CAA9F;CAAgG1oD,oBAAAA,GAAG,EAACkR,CAAC,CAAClR,GAAF,GAAM,oBAAN,GAA2B+0D,EAAE,CAACoB,SAA9B,GAAwC,OAAxC,GAAgDjlD,CAAC,CAACs1C,GAAlD,GAAsD,QAAtD,GAA+Dt1C,CAAC,CAAC6Z,EAAjE,GAAoE,0BAAxK;CAAmMxoB,oBAAAA,GAAG,EAAC4K;CAAvM,mBAAD,CAAD;CAA6M,iBAA7P,CAAf,EAA8Q4yC,CAAC,CAACqD,OAAhR,EAAyRj2C,CAAzR;CAA4R,eAAzT,CAAntB,EAA8gC6yC,CAAC,KAAGM,CAAC,CAACkH,SAAF,CAAYxH,CAAZ,GAAeA,CAAC,GAAC,IAApB,CAA/gC,EAAyiChoC,CAAC,KAAG,UAAQ8mC,CAAC,GAAC/0C,CAAC,CAACq6C,SAAZ,KAAwB,KAAK,CAAL,KAAStF,CAAjC,IAAoCA,CAAC,CAACtsC,IAAF,CAAO,YAAP,EAAoBwF,CAAC,CAACy+C,KAAtB,EAA4Bz+C,CAAC,CAAC0+C,MAA9B,CAApC,EAA0E1+C,CAAC,GAAC,IAA/E,CAA1iC,EAA+nCjO,CAAC,CAACusD,IAAF,GAAOhW,CAAtoC;CAAwoC,aAA3pC,CAA2pC,OAAMv2C,CAAN,EAAQ;CAACxC,cAAAA,OAAO,CAAChF,GAAR,CAAYwH,CAAZ;CAAe;CAAC;CAAh6D,SAApB;CAAu7D;CAAxoE,KAAN,CAAn+L;CAAA,QAAonQi4C,EAAE,IAAE,IAAI6H,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC;CAAN,KAAN,GAAoB,IAAIyiD,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC,KAAN;CAAY1G,MAAAA,IAAI,EAAC,YAAU;CAACs2D,QAAAA,OAAO,CAACC,SAAR,GAAkB,KAAKC,EAAL,CAAQ,WAAR,KAAsBF,OAAO,CAACC,SAAhD,EAA0DD,OAAO,CAACG,YAAR,GAAqB,KAAKD,EAAL,CAAQ,cAAR,KAAyBF,OAAO,CAACG,YAAhH;CAA6H,YAAIhqD,CAAC,GAAC,CAAC,UAAQA,CAAC,GAACmd,QAAQ,CAAC/b,IAAnB,KAA0B,KAAK,CAAL,KAASpB,CAAnC,GAAqC,KAAK,CAA1C,GAA4CA,CAAC,CAACK,KAAF,CAAQ,GAAR,CAA7C,EAA2D,CAA3D,CAAN;CAAoE,aAAK4pD,QAAL,GAAcjqD,CAAd,EAAgB,KAAKkqD,MAAL,GAAY,KAAKA,MAAL,CAAYzvD,IAAZ,CAAiB,IAAjB,CAA5B,EAAmD,KAAK0vD,YAAL,EAAnD;CAAuE,OAApS;CAAqSA,MAAAA,YAAY,EAAC,YAAU;CAAC9tD,QAAAA,MAAM,CAACpB,gBAAP,CAAwB,cAAxB,EAAuC,KAAKivD,MAA5C,GAAoD7tD,MAAM,CAACpB,gBAAP,CAAwB,WAAxB,EAAoC,KAAKivD,MAAzC,CAApD,EAAqG7tD,MAAM,CAACpB,gBAAP,CAAwB,UAAxB,EAAmC,KAAKivD,MAAxC,CAArG;CAAqJ,OAAld;CAAmdH,MAAAA,EAAE,EAAC,UAASrpD,CAAT,EAAW;CAAC,YAAI9D,CAAC,GAACitD,OAAO,CAACnpD,CAAD,CAAb;CAAiB,eAAM,cAAY,OAAO9D,CAAnB,IAAsB,CAACitD,OAAO,CAACO,oBAA/B,KAAsD7uD,MAAM,CAACC,cAAP,CAAsBquD,OAAtB,EAA8B,sBAA9B,EAAqD;CAACtnD,UAAAA,KAAK,EAAC,CAAC,CAAR;CAAUvD,UAAAA,UAAU,EAAC,CAAC;CAAtB,SAArD,GAA+E,YAAU;CAAC,cAAIgB,CAAC,GAACpD,CAAC,CAACiK,KAAF,CAAQ,IAAR,EAAaiW,SAAb,CAAN;CAAA,cAA8BuD,CAAC,GAAC,IAAhC;CAAqC,iBAAM,cAAY,OAAOgqC,KAAnB,GAAyBhqC,CAAC,GAAC,IAAIgqC,KAAJ,CAAU3pD,CAAV,CAA3B,GAAwC,CAAC2f,CAAC,GAACjkB,QAAQ,CAACkuD,WAAT,CAAqB,YAArB,CAAH,EAAuCC,SAAvC,CAAiD7pD,CAAjD,EAAmD,CAAC,CAApD,EAAsD,CAAC,CAAvD,CAAxC,EAAkGrE,MAAM,CAACqjB,aAAP,CAAqBW,CAArB,CAAlG,EAA0HrgB,CAAhI;CAAkI,SAAvT,CAAN;CAA+T,OAAlzB;CAAmzBkqD,MAAAA,MAAM,EAAC,YAAU;CAAC,YAAIxpD,CAAC,GAAC,IAAN;CAAWmV,QAAAA,UAAU,CAAC,YAAU;CAAC,cAAIwK,CAAC,GAAClD,QAAQ,CAAC/b,IAAf;CAAA,cAAoBpB,CAAC,GAAC,CAAC,UAAQA,CAAC,GAACmd,QAAQ,CAAC/b,IAAnB,KAA0B,KAAK,CAAL,KAASpB,CAAnC,GAAqC,KAAK,CAA1C,GAA4CA,CAAC,CAACK,KAAF,CAAQ,GAAR,CAA7C,EAA2D,CAA3D,CAAtB;CAAoFL,UAAAA,CAAC,IAAEA,CAAC,KAAGU,CAAC,CAACupD,QAAT,KAAoBvpD,CAAC,CAAC49C,KAAF,CAAQ,UAASt+C,CAAT,EAAW;CAACA,YAAAA,CAAC,CAAC43C,IAAF,CAAO;CAAC/kD,cAAAA,GAAG,EAACmN,CAAC,CAAC2U,MAAF,CAAS8kC,KAAT,GAAe,QAAf,GAAwBpH,kBAAkB,CAAChyB,CAAD,CAA/C;CAAmDgkC,cAAAA,UAAU,EAAC,CAAC,MAAD,CAA9D;CAAuE7jD,cAAAA,IAAI,EAACoyC,CAAC,CAACsD;CAA9E,aAAP;CAAkG,WAAtH,GAAwHx1C,CAAC,CAACupD,QAAF,GAAWjqD,CAAvJ;CAA0J,SAA1P,EAA2P,CAA3P,CAAV;CAAwQ,OAAxlC;CAAylCxJ,MAAAA,OAAO,EAAC,YAAU;CAAC6F,QAAAA,MAAM,CAACnB,mBAAP,CAA2B,cAA3B,EAA0C,KAAKN,MAAL,CAAYsvD,MAAtD,GAA8D7tD,MAAM,CAACnB,mBAAP,CAA2B,WAA3B,EAAuC,KAAKN,MAAL,CAAYsvD,MAAnD,CAA9D,EAAyH7tD,MAAM,CAACnB,mBAAP,CAA2B,UAA3B,EAAsC,KAAKN,MAAL,CAAYsvD,MAAlD,CAAzH;CAAmL;CAA/xC,KAAN,CAAtB,CAAtnQ;;CAAq7S,aAASrC,EAAT,CAAY7nD,CAAZ,EAAc;CAAC,UAAIqgB,CAAJ;CAAA,UAAM3f,CAAN;CAAA,UAAQ9D,CAAR;CAAA,UAAUouB,CAAC,GAACg8B,EAAE,CAAC/wC,IAAH,CAAQ,IAAR,EAAajW,CAAb,KAAiB,IAA7B;CAAkCgrB,MAAAA,CAAC,CAACm9B,YAAF,GAAe,EAAf,EAAkBn9B,CAAC,CAACk9B,UAAF,GAAa,CAAC,CAAhC,EAAkCl9B,CAAC,CAACqwB,gBAAF,GAAmBnB,CAAC,CAAC,CAACR,CAAC,CAAC1uB,CAAC,CAACrW,MAAH,CAAF,EAAa4jC,CAAC,CAACvtB,CAAD,CAAd,GAAmBpuB,CAAC,GAACouB,CAAF,EAAI,UAAS3K,CAAT,EAAW3f,CAAX,EAAa;CAAC8hD,QAAAA,EAAE,CAAC,UAASxiD,CAAT,EAAW;CAACpD,UAAAA,CAAC,CAACo/C,UAAF,CAAa,SAAb,EAAuBh8C,CAAvB,GAA0BU,CAAC,CAAC2f,CAAD,CAA3B;CAA+B,SAA5C,CAAF;CAAgD,OAArF,GAAuF,UAASrgB,CAAT,EAAWqgB,CAAX,EAAa;CAAC2K,QAAAA,CAAC,CAACisB,SAAF,CAAY5xC,IAAZ,CAAiB,mBAAjB,EAAqCrF,CAArC;CAAwC,YAAIkqB,CAAC,GAACc,CAAC,CAACrW,MAAF,CAAS61C,iBAAf;CAAiC,YAAG,CAACxqD,CAAC,GAAC,cAAY,OAAOkqB,CAAnB,GAAqBlqB,CAAC,CAACogB,MAAF,CAAS,UAASpgB,CAAT,EAAW;CAAC,cAAIqgB,CAAJ;CAAA,cAAM3f,CAAN;CAAA,cAAQ9D,CAAC,GAAC,CAAC,CAAD,KAAKstB,CAAC,CAAClqB,CAAD,CAAhB;CAAoB,iBAAM,YAAUA,CAAC,CAACQ,IAAZ,IAAkB,KAAK,CAAL,KAASR,CAAC,CAACjD,GAA7B,IAAkCiD,CAAC,CAAC83B,OAApC,KAA8CzX,CAAC,GAAC,CAAC3f,CAAC,GAACmyC,CAAC,CAAC7yC,CAAC,CAAC83B,OAAF,CAAU7wB,IAAV,CAAe0sC,QAAhB,EAAyB3oB,CAAC,CAACrW,MAAF,CAAS2kC,GAAlC,EAAsC;CAACzmD,YAAAA,GAAG,EAACmN,CAAC,CAAC83B,OAAF,CAAU7wB,IAAV,CAAepU,GAApB;CAAwB4T,YAAAA,GAAG,EAACzG,CAAC,CAAC83B,OAAF,CAAU7wB;CAAtC,WAAtC,CAAD,IAAqF,EAAxF,EAA4F2vB,IAA9F,EAAmGl2B,CAAC,GAACA,CAAC,CAACqyC,KAAvG,EAA6G/yC,CAAC,CAACjD,GAAF,GAAMsjB,CAAnH,EAAqHrgB,CAAC,CAAC+yC,KAAF,GAAQ,CAACryC,CAA5K,GAA+K9D,CAArL;CAAuL,SAAhO,CAArB,GAAuPoD,CAA1P,EAA6PlD,MAAhQ,EAAuQ,OAAOujB,CAAC,CAACrgB,CAAD,CAAR;CAAY,OAAjc,EAAkc,UAASA,CAAT,EAAW;CAAC,eAAOgrB,CAAC,CAAC2tB,YAAF,CAAe,CAAC,UAAS34C,CAAT,EAAWqgB,CAAX,EAAa;CAACA,UAAAA,CAAC,CAAC;CAAC7f,YAAAA,IAAI,EAACoyC,CAAC,CAACmD,KAAR;CAAcljD,YAAAA,GAAG,EAAC,KAAGm4B,CAAC,CAACrW,MAAF,CAASmsC,QAA9B;CAAuC3R,YAAAA,MAAM,EAAC,MAA9C;CAAqDloC,YAAAA,IAAI,EAACy2C,CAAC,CAAC19C,CAAD,EAAGgrB,CAAC,CAAC8vB,IAAL,CAA3D;CAAsE1lD,YAAAA,GAAG,EAAC4K;CAA1E,WAAD,CAAD;CAAgF,SAA/F,CAAf,EAAgH4yC,CAAC,CAACmD,KAAlH,EAAyH/1C,CAAzH,CAAP;CAAmI,OAAjlB,CAAD,CAAtD,EAA2oBA,CAAC,CAAC0oD,WAAF,GAAc,CAAC,CAA1pB;;CAA4pB,UAAG;CAAC,uBAAa,OAAOtsD,QAApB,KAA+B4D,CAAC,CAACq5C,GAAF,GAAMr5C,CAAC,CAACq5C,GAAF,IAAO,CAAC,UAAQh5B,CAAC,GAACjkB,QAAQ,CAACquD,MAAT,CAAgBziC,KAAhB,CAAsB,gBAAtB,CAAV,KAAoD,KAAK,CAAL,KAAS3H,CAA7D,GAA+DA,CAA/D,GAAiE,EAAlE,EAAsE,CAAtE,CAAP,IAAiF,CAAC,UAAQ3f,CAAC,GAACtE,QAAQ,CAACquD,MAAT,CAAgBziC,KAAhB,CAAsB,sBAAtB,CAAV,KAA0D,KAAK,CAAL,KAAStnB,CAAnE,GAAqEA,CAArE,GAAuE,EAAxE,EAA4E,CAA5E,CAAjF,IAAiK,EAAtM,GAA0MsqB,CAAC,CAACz3B,IAAF,CAAOyM,CAAP,CAA1M,EAAoNgrB,CAAC,CAACgxB,UAAF,CAAa,WAAb,EAAyB6L,EAAE,CAACmB,SAA5B,CAApN,EAA2Ph+B,CAAC,CAACgxB,UAAF,CAAa,MAAb,EAAoB3J,kBAAkB,CAACryC,CAAC,CAAC0qD,OAAF,IAAWvtC,QAAQ,CAAC/b,IAArB,CAAtC,CAA3P,EAA6T,eAAa,OAAOhF,QAApB,IAA8B4uB,CAAC,CAACgxB,UAAF,CAAa,SAAb,EAAuB3J,kBAAkB,CAACj2C,QAAQ,CAACuuD,QAAT,IAAmB,EAApB,CAAzC,CAA3V,EAA6Z3qD,CAAC,CAACy6C,IAAF,IAAQzvB,CAAC,CAACgxB,UAAF,CAAa,MAAb,EAAoBh8C,CAAC,CAACy6C,IAAtB,CAAra,EAAicz6C,CAAC,CAAC06C,IAAF,IAAQ1vB,CAAC,CAACgxB,UAAF,CAAa,MAAb,EAAoBh8C,CAAC,CAAC06C,IAAtB,CAAzc,EAAqe16C,CAAC,CAAC26C,IAAF,IAAQ3vB,CAAC,CAACgxB,UAAF,CAAa,MAAb,EAAoBh8C,CAAC,CAAC26C,IAAtB,CAA7e;CAAygB,OAA7gB,CAA6gB,OAAM36C,CAAN,EAAQ;CAAC5F,QAAAA,OAAO,CAACC,IAAR,CAAa2F,CAAb,GAAgB5F,OAAO,CAAChF,GAAR,CAAY,kMAAZ,EAA+M,YAA/M,CAAhB,EAA6O41B,CAAC,CAACwvB,YAAF,CAAex6C,CAAf,CAA7O;CAA+P;;CAAA,aAAOgrB,CAAP;CAAS;;CAAA,aAAS+8B,EAAT,GAAa;CAAC,WAAKhuD,WAAL,GAAiBktD,EAAjB;CAAoB;;CAAA,WAAO,IAAIvK,CAAJ,CAAM;CAACziD,MAAAA,IAAI,EAAC;CAAN,KAAN,GAAmB2tD,EAAE,CAAC7M,GAAH,CAAOlF,EAAP,CAAnB,EAA8B+R,EAAE,CAAC7M,GAAH,CAAOxI,EAAP,CAA9B,EAAyCqV,EAAE,CAAC7M,GAAH,CAAOgD,EAAP,CAAzC,EAAoD6J,EAAE,CAAC7M,GAAH,CAAOvE,EAAP,CAApD,EAA+DoR,EAAE,CAAC7M,GAAH,CAAOnH,EAAP,CAA/D,EAA0EgU,EAAE,CAAC7M,GAAH,CAAOuC,CAAP,CAA1E,EAAoFsK,EAAE,CAAC7M,GAAH,CAAO1F,EAAP,CAApF,EAA+FuS,EAAE,CAAC7M,GAAH,CAAOZ,CAAP,CAA/F,EAAyGyN,EAAE,CAAC7M,GAAH,CAAOlG,EAAP,CAAzG,EAAoH+S,EAA3H;CAA8H,GAA/moD,CAAD;;;CCDA,MAAMgD,SAAN,SAAwBpkD,OAAxB,CAAgC;CAQ5BzM,EAAAA,WAAW,CAACwD,OAAD,EAAU;CACjB;CACA,QAAIrD,IAAI,GAAGqD,OAAX;CACA,QAAI5B,UAAU,GAAG4B,OAAO,CAACmyC,SAAzB;;CACA,QAAI,OAAOnyC,OAAO,CAACmyC,SAAf,KAA6B,QAAjC,EAA2C;CACvC/zC,MAAAA,UAAU,GAAGS,QAAQ,CAACy+B,aAAT,CAAuBt9B,OAAO,CAACmyC,SAA/B,CAAb;CACH;;CACD,QAAI,CAAC/zC,UAAL,EAAiB;CACb,YAAM,IAAIilB,KAAJ,CAAU,iCAAV,CAAN;CAEH;;CAEDxmB,IAAAA,OAAO,CAAChF,GAAR,CAAY,2BAAZ,EAAyCmI,OAAzC;CACA5B,IAAAA,UAAU,CAAC6J,SAAX,CAAqBC,GAArB,CAAyB,qBAAzB;CAEA,WAAOvL,IAAI,CAACw1C,SAAZ,CAfiB;;CAkBjB,QAAIvqC,UAAU,CAACjL,IAAI,CAAC9I,WAAN,CAAd,EAAkC;CAC9B8I,MAAAA,IAAI,CAAC9I,WAAL,GAAmB2c,MAAM,CAAC7T,IAAI,CAAC9I,WAAN,CAAN,GAA2B,IAA9C;CACH,KApBgB;;;CAuBjB,QAAI+T,UAAU,CAACjL,IAAI,CAACvI,OAAN,CAAd,EAA8B;CAC1B,UAAIsT,OAAO,CAAC/K,IAAI,CAACzI,cAAN,CAAX,EAAkC;CAC9ByI,QAAAA,IAAI,CAACzI,cAAL,GAAsByI,IAAI,CAACvI,OAA3B;CACH;;CAED,UAAIsT,OAAO,CAAC/K,IAAI,CAACxI,YAAN,CAAX,EAAgC;CAC5BwI,QAAAA,IAAI,CAACxI,YAAL,GAAoBwI,IAAI,CAACvI,OAAzB;CACH;CACJ;;CAED,SAAKuI,IAAL,GAAYA,IAAZ;CACA,SAAKyB,UAAL,GAAkBA,UAAlB;CACA,SAAKyF,IAAL,GAAY,IAAZ;CACA,SAAKkE,MAAL,GAAc,IAAIhL,MAAJ,CAAW,IAAX,CAAd;CACA,SAAKgB,MAAL,GAAc,IAAIm0C,MAAJ,CAAW9zC,UAAX,EAAuBzB,IAAvB,CAAd;;CACA,SAAK2wD,WAAL;;CACA,SAAKC,UAAL;CACH;;CAEDA,EAAAA,UAAU,GAAG;CACT;CACR;CACA;CACA;CACA;CACA;CACA;CACK;;CAEDD,EAAAA,WAAW,GAAG;CACV;CACAtvD,IAAAA,MAAM,CAACiH,IAAP,CAAYxL,gBAAZ,EAA8BoE,OAA9B,CAAuC/B,GAAD,IAAS;CAC3C,WAAKiC,MAAL,CAAYuC,EAAZ,CAAe7G,gBAAgB,CAACqC,GAAD,CAA/B,EAAuCkJ,KAAD,IAAW;CAC7C,aAAK8C,IAAL,CAAUhM,GAAV,EAAekJ,KAAf;CACH,OAFD;CAGH,KAJD;CAKH;CAED;CACJ;CACA;CACA;;;CACIwoD,EAAAA,QAAQ,CAACxoD,KAAD,EAAQ;CACZ,SAAKjH,MAAL,CAAYi1C,YAAZ,CAAyB;CACrBya,MAAAA,OAAO,EAAE,CAAC,CAACzoD;CADU,KAAzB;CAGH;CAED;CACJ;CACA;;;CACIzN,EAAAA,IAAI,GAAG;CACH,SAAKwG,MAAL,CAAYxG,IAAZ,CAAiB,IAAjB;CACH;CAED;CACJ;CACA;;;CACIm2D,EAAAA,UAAU,GAAG;CACT,SAAK3vD,MAAL,CAAYxG,IAAZ,CAAiB,KAAjB;CACH;CAED;CACJ;CACA;CACA;;;CACIqd,EAAAA,SAAS,CAAC5P,KAAD,EAAQ;CACb,SAAKjH,MAAL,CAAYgW,MAAZ,GAAqB/O,KAArB;CACH;CAED;CACJ;CACA;;;CACI2oD,EAAAA,WAAW,GAAG;CACV,SAAK5vD,MAAL,CAAY/I,KAAZ,CAAkBoe,YAAlB,CAA+B,IAA/B;CACH;CAED;CACJ;CACA;CACA;;;CACIkF,EAAAA,UAAU,CAACyb,IAAD,EAAO;CACbA,IAAAA,IAAI,GAAGvjB,MAAM,CAACujB,IAAD,CAAb;CACA,SAAKh2B,MAAL,CAAYi1C,YAAZ,CAAyB;CACrB5+C,MAAAA,OAAO,EAAE2/B,IADY;CAErB7/B,MAAAA,cAAc,EAAE6/B,IAFK;CAGrB5/B,MAAAA,YAAY,EAAE4/B;CAHO,KAAzB;CAKH;CAED;CACJ;CACA;CACA;;;CACI65B,EAAAA,YAAY,CAAC3qD,IAAD,EAAO;CACfA,IAAAA,IAAI,GAAGuN,MAAM,CAACvN,IAAD,CAAb;CACA,QAAIjD,OAAO,GAAG;CACVjM,MAAAA,YAAY,EAAE,KADJ;CAEVD,MAAAA,QAAQ,EAAE;CAFA,KAAd;;CAIA,YAAQmP,IAAR;CACI,WAAK/H,eAAe,CAACC,IAArB;CACI6E,QAAAA,OAAO,CAACjM,YAAR,GAAuB,KAAvB;CACAiM,QAAAA,OAAO,CAAClM,QAAR,GAAmB,KAAnB;CACA;;CACJ,WAAKoH,eAAe,CAACE,IAArB;CACI4E,QAAAA,OAAO,CAACjM,YAAR,GAAuB,KAAvB;CACAiM,QAAAA,OAAO,CAAClM,QAAR,GAAmB,IAAnB;CACA;;CACJ,WAAKoH,eAAe,CAACG,QAArB;CACI2E,QAAAA,OAAO,CAACjM,YAAR,GAAuB,IAAvB;CACAiM,QAAAA,OAAO,CAAClM,QAAR,GAAmB,IAAnB;CACA;CAZR;;CAeA,SAAKiK,MAAL,CAAYi1C,YAAZ,CAAyBhzC,OAAzB;CACA,SAAKrH,MAAL;CACH;CAED;CACJ;CACA;CACA;;;CACIrB,EAAAA,KAAK,GAAG;CACJ,WAAO,KAAKyG,MAAL,CAAYzG,KAAZ,EAAP;CACH;CAED;CACJ;CACA;;;CACIL,EAAAA,KAAK,GAAG;CACJ;CACA,SAAK0F,IAAL,CAAUrH,GAAV,GAAgB,EAAhB;CACA,WAAO,KAAKyI,MAAL,CAAY9G,KAAZ,EAAP;CACH;CAGD;CACJ;CACA;;;CACI0Z,EAAAA,SAAS,GAAG;CACR,SAAK5S,MAAL,CAAYnH,KAAZ,CAAkB+Z,SAAlB;CACH;CAED;CACJ;CACA;CACA;CACA;;;CACI5b,EAAAA,IAAI,CAACO,GAAD,EAAM;CACN,WAAO,IAAI2K,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,UAAI,CAAC7K,GAAD,IAAQ,CAAC,KAAKqH,IAAL,CAAUrH,GAAvB,EAA4B;CACxB,aAAKwS,IAAL,CAAU5Q,MAAM,CAACY,KAAjB,EAAwB4B,YAAY,CAACC,SAArC;CACAwG,QAAAA,MAAM;CACN;CACH;;CAED,UAAI7K,GAAJ,EAAS;CACL;CACA,YAAI,KAAKqH,IAAL,CAAUrH,GAAd,EAAmB;CACf;CACA,cAAIA,GAAG,KAAK,KAAKqH,IAAL,CAAUrH,GAAtB,EAA2B;CACvB;CACA,gBAAI,KAAKyI,MAAL,CAAY1G,OAAhB,EAAyB;CACrB6I,cAAAA,OAAO;CACV,aAFD,MAEO;CACH;CACA,mBAAKyQ,SAAL;CACA,mBAAK5S,MAAL,CAAYhJ,IAAZ,CAAiB,KAAK4H,IAAL,CAAUrH,GAA3B,EAAgCoL,IAAhC,CAAqC,MAAM;CACvCR,gBAAAA,OAAO;CACV,eAFD,EAEGS,KAFH,CAES,MAAM;CACX,qBAAK5C,MAAL,CAAYzG,KAAZ,GAAoBoJ,IAApB,CAAyB,MAAM;CAC3BP,kBAAAA,MAAM;CACT,iBAFD;CAGH,eAND;CAOH;CACJ,WAfD,MAeO;CACH;CACA,iBAAKpC,MAAL,CAAYzG,KAAZ,GAAoBoJ,IAApB,CAAyB,MAAM;CAC3B;CACA,mBAAKiQ,SAAL;CACA,qBAAO,KAAKk9C,KAAL,CAAWv4D,GAAX,CAAP;CACH,aAJD,EAIGqL,KAJH,CAIS,MAAM;CACXR,cAAAA,MAAM;CACT,aAND;CAOH;CACJ,SA3BD,MA2BO;CACH,iBAAO,KAAK0tD,KAAL,CAAWv4D,GAAX,CAAP;CACH;CACJ,OAhCD,MAgCO;CACH;CACA;CACA,aAAKyI,MAAL,CAAYhJ,IAAZ,CAAiB,KAAK4H,IAAL,CAAUrH,GAA3B,EAAgCoL,IAAhC,CAAqC,MAAM;CACvCR,UAAAA,OAAO;CACV,SAFD,EAEGS,KAFH,CAES,MAAM;CACX,eAAK5C,MAAL,CAAYzG,KAAZ,GAAoBoJ,IAApB,CAAyB,MAAM;CAC3BP,YAAAA,MAAM;CACT,WAFD;CAGH,SAND;CAOH;CACJ,KAlDM,CAAP;CAmDH;CAED;CACJ;CACA;CACA;CACA;CACA;;;CACI0tD,EAAAA,KAAK,CAACv4D,GAAD,EAAM;CACP,WAAO,IAAI2K,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,WAAKxD,IAAL,CAAUrH,GAAV,GAAgBA,GAAhB,CADoC;;CAGpC,YAAMw4D,MAAM,GAAGx4D,GAAG,CAACurB,OAAJ,CAAY,MAAZ,MAAwB,CAAvC,CAHoC;;CAKpC,YAAMnrB,QAAQ,GAAGo4D,MAAM,GAAGx6D,oBAAoB,CAACE,KAAxB,GAAgCF,oBAAoB,CAACC,SAA5E,CALoC;;CAOpC,YAAMoC,SAAS,GAAIm4D,MAAM,IAAIx4D,GAAG,CAACurB,OAAJ,CAAY,MAAZ,MAAwB,CAAC,CAAnC,IAAwC,KAAKlkB,IAAL,CAAU3I,KAAnD,GAA4DP,UAAU,CAACC,GAAvE,GAA6ED,UAAU,CAACE,GAA1G;CAEA,WAAKoK,MAAL,CAAYi1C,YAAZ,CAAyB;CACrBt9C,QAAAA,QADqB;CAErBC,QAAAA;CAFqB,OAAzB;CAKA,WAAKoI,MAAL,CAAYoL,IAAZ,CAAiBzP,YAAY,CAACK,yBAA9B,EAAyD,MAAM;CAC3D,aAAK9C,KAAL;CACH,OAFD;CAIA,WAAK8G,MAAL,CAAYoL,IAAZ,CAAiBzP,YAAY,CAACI,uBAA9B,EAAuD,MAAM;CACzD,aAAK7C,KAAL;CACH,OAFD;;CAIA,UAAI,KAAKq0D,SAAL,EAAJ,EAAsB;CAClB,aAAKvtD,MAAL,CAAYhJ,IAAZ,CAAiBO,GAAjB,EAAsBoL,IAAtB,CAA2B,MAAM;CAC7BR,UAAAA,OAAO;CACV,SAFD,EAEGS,KAFH,CAES,MAAM;CACX,eAAK5C,MAAL,CAAYzG,KAAZ,GAAoBoJ,IAApB,CAAyB,MAAM;CAC3BP,YAAAA,MAAM;CACT,WAFD;CAGH,SAND;CAOH,OARD,MAQO;CACH,aAAKpC,MAAL,CAAYoL,IAAZ,CAAiBjS,MAAM,CAACE,iBAAxB,EAA2C,MAAM;CAC7C,eAAK2G,MAAL,CAAYhJ,IAAZ,CAAiBO,GAAjB,EAAsBoL,IAAtB,CAA2B,MAAM;CAC7BR,YAAAA,OAAO;CACV,WAFD,EAEGS,KAFH,CAES,MAAM;CACX,iBAAK5C,MAAL,CAAYzG,KAAZ,GAAoBoJ,IAApB,CAAyB,MAAM;CAC3BP,cAAAA,MAAM;CACT,aAFD;CAGH,WAND;CAOH,SARD;CASH;CACJ,KAzCM,CAAP;CA0CH;CAED;CACJ;CACA;;;CACIxH,EAAAA,MAAM,GAAG;CACL,SAAKoF,MAAL,CAAYpF,MAAZ;CACH;CAED;CACJ;CACA;CACA;;;CACIo1D,EAAAA,aAAa,CAACh6B,IAAD,EAAO;CAChBA,IAAAA,IAAI,GAAGvjB,MAAM,CAACujB,IAAD,CAAb,CADgB;;CAGhB,SAAKh2B,MAAL,CAAYi1C,YAAZ,CAAyB;CACrBn/C,MAAAA,WAAW,EAAEkgC,IAAI,GAAG;CADC,KAAzB;CAGH;CAED;CACJ;CACA;CACA;;;CACIi6B,EAAAA,SAAS,CAACC,GAAD,EAAM;CACXA,IAAAA,GAAG,GAAGxsC,QAAQ,CAACwsC,GAAD,EAAM,EAAN,CAAd;CACA,UAAMC,IAAI,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,GAAR,CAAb;;CACA,QAAI,KAAKvxD,IAAL,CAAUpH,MAAV,KAAqB04D,GAArB,IAA4BC,IAAI,CAACrtC,OAAL,CAAaotC,GAAb,MAAsB,CAAC,CAAvD,EAA0D;CACtD;CACH;;CACD,SAAKlwD,MAAL,CAAYi1C,YAAZ,CAAyB;CACrBz9C,MAAAA,MAAM,EAAE04D;CADa,KAAzB;CAGA,SAAKt1D,MAAL;CACH;CAED;CACJ;CACA;CACA;;;CACI2yD,EAAAA,SAAS,GAAG;CACR,WAAO,KAAKvtD,MAAL,CAAYo7B,MAAnB;CACH;CAED;CACJ;CACA;;;CACIg1B,EAAAA,eAAe,GAAG;CACd,SAAKpwD,MAAL,CAAYi1C,YAAZ,CAAyB;CACrBz+C,MAAAA,YAAY,EAAE;CADO,KAAzB;CAGH;CAED;CACJ;CACA;CACA;;;CACI65D,EAAAA,aAAa,CAACz5C,IAAD,EAAO;CAChB,UAAM9f,UAAU,GAAG,CAAC,CAAC8f,IAArB;;CACA,QAAI,KAAK5W,MAAL,CAAYlJ,UAAZ,KAA2BA,UAA/B,EAA2C;CACvC,WAAKkJ,MAAL,CAAYlJ,UAAZ,GAAyBA,UAAzB;CACH;CACJ;CAED;CACJ;CACA;CACA;CACA;CACA;CACA;;;CACIC,EAAAA,UAAU,CAACkb,QAAD,EAAWC,MAAX,EAAmBC,OAAnB,EAA4BjN,IAA5B,EAAkC;CACxC,WAAO,KAAKlF,MAAL,CAAYnH,KAAZ,CAAkB9B,UAAlB,CAA6Bkb,QAA7B,EAAuCC,MAAvC,EAA+CC,OAA/C,EAAwDjN,IAAxD,CAAP;CACH;CAED;CACJ;CACA;CACA;CACA;CACA;;;CACIw1B,EAAAA,WAAW,CAAC/0B,QAAD,EAAW20B,QAAX,EAAqB;CAC5B,WAAO,IAAIp4B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,UAAI,KAAKpC,MAAL,CAAY1G,OAAhB,EAAyB;CACrB,aAAK0G,MAAL,CAAY06B,WAAZ,CAAwB/0B,QAAxB,EAAkC20B,QAAlC;CACAn4B,QAAAA,OAAO;CACV,OAHD,MAGO;CACHC,QAAAA,MAAM;CACT;CACJ,KAPM,CAAP;CAQH;;CAED04B,EAAAA,iBAAiB,GAAG;CAChB,QAAI,KAAK96B,MAAL,CAAY7F,SAAhB,EAA2B;CACvB,WAAK6F,MAAL,CAAY86B,iBAAZ;CACH;CACJ;CAED;CACJ;CACA;CACA;;;CACIjlB,EAAAA,SAAS,GAAG;CACR,WAAO,KAAK7V,MAAL,CAAY1G,OAAnB;CACH;CAED;CACJ;CACA;CACA;;;CACIwc,EAAAA,MAAM,GAAG;CACL,WAAO,KAAK9V,MAAL,CAAY/I,KAAZ,CAAkB6e,MAAzB;CACH;CAED;CACJ;CACA;CACA;;;CACIkX,EAAAA,WAAW,GAAG;CACV,WAAO,KAAKhtB,MAAL,CAAYif,QAAZ,CAAqB9kB,SAA5B;CACH;CAED;CACJ;CACA;;;CACIe,EAAAA,OAAO,GAAG;CACN,SAAK8E,MAAL,CAAY9E,OAAZ;CACA,SAAK8E,MAAL,GAAc,IAAd;CACA,SAAKsC,GAAL;CACH;;CA7Z2B;;iBAA1BgtD,oBACa3zD;;iBADb2zD,sBAGe;CACbn5D,EAAAA,cAAc,EAAEgD,MAAM,CAAChD,cADV;CAEb6D,EAAAA,YAAY,EAAEb,MAAM,CAACa;CAFR;;CA8ZrB+G,MAAM,CAACuuD,SAAP,GAAmBA,SAAnB;CACAvuD,MAAM,CAACuvD,QAAP,GAAmBhB,SAAnB;;;;;;;;"}