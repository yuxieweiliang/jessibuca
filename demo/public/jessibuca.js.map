{"version":3,"file":"jessibuca.js","sources":["../../node_modules/@babel/runtime/helpers/defineProperty.js","../../src/constant/index.js","../../src/utils/debug.js","../../src/utils/events.js","../../src/player/property.js","../../../../node_modules/screenfull/dist/screenfull.js","../../src/utils/index.js","../../src/player/events.js","../../src/utils/emitter.js","../../src/utils/webgl.js","../../src/video/commonLoader.js","../../src/video/canvasLoader.js","../../src/utils/toggleDisplay.js","../../src/video/videoLoader.js","../../src/video/index.js","../../src/audio/audioContextLoader.js","../../src/audio/index.js","../../src/stream/fetchLoader.js","../../src/stream/websocketLoader.js","../../src/stream/index.js","../../../../node_modules/recordrtc/RecordRTC.js","../../src/recorder/recordRTCLoader.js","../../src/recorder/index.js","../../src/decoder/webcodecs.js","../../src/remux/fmp4-generator.js","../../src/utils/exp-golomb.js","../../src/utils/h264-sps-parser.js","../../src/utils/h264.js","../../src/utils/h265-sps-parser.js","../../src/utils/h265.js","../../src/decoder/mediaSource.js","../../src/worker/index.js","../../src/demux/commonLoader.js","../../src/demux/flvLoader.js","../../src/demux/m7sLoader.js","../../src/demux/index.js","../../src/assets/icons/Icon.js","../../src/assets/icons/tool/arrow.js","../../src/assets/icons/media/camera.js","../../src/assets/icons/media/video.js","../../src/assets/icons/media/volume.js","../../src/assets/icons/heart.js","../../src/assets/icons/more.js","../../src/assets/icons/tool/move.js","../../src/assets/icons/rotation.js","../../src/assets/icons/tool/screen.js","../../src/assets/icons/trending.js","../../src/assets/icons/business/business.js","../../src/assets/icons/magnifier.js","../../src/assets/icons/circular.js","../../src/assets/icons/index.js","../../src/control/icons.js","../../src/control/template.js","../../src/control/observer.js","../../src/control/property.js","../../src/control/events.js","../../../../node_modules/style-inject/dist/style-inject.es.js","../../src/control/hotkey.js","../../src/control/index.js","../../src/player/observer.js","../../src/utils/noSleep.js","../../src/player/webRTCErrorHandle.js","../../src/player/webRTCUtls.js","../../src/player/useWebRTC.js","../../src/player/index.js","../../src/jessibuca.js"],"sourcesContent":["function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// 播放协议\nexport const PLAYER_PLAY_PROTOCOL = {\n    websocket: 0,\n    fetch: 1\n}\n\nexport const DEMUX_TYPE = {\n    flv: 'flv',\n    m7s: 'm7s'\n}\n\n\n// default player options\nexport const DEFAULT_PLAYER_OPTIONS = {\n    videoBuffer: 1000, //1000ms == 1 second\n    isResize: true,\n    isFullResize: false, //\n    isFlv: false,\n    debug: false,\n    hotKey: false, // 快捷键\n    loadingTimeout: 10, // loading timeout\n    heartTimeout: 10,  // heart timeout\n    timeout: 10, // second\n    // WebRTC 刷新时间\n    webRTCRefreshTime: 1000 * 60 * 60, // refresh time\n    // 断网重连，每隔多少秒重新连接一次。\n    offLineReconnectTime: 1000 * 3,\n    supportDblclickFullscreen: false,\n    showBandwidth: false, //\n    keepScreenOn: false,\n    isNotMute: false,\n    hasAudio: true,\n    hasVideo: true,\n    useWebRTC: true,\n    operateBtns: {\n        fullscreen: false,\n        screenshot: false,\n        play: false,\n        audio: false,\n        // 录制屏幕\n        record: false,\n        // 云台控制\n        // movement: false,\n        // 变换 3D\n        // transform: false,\n        // 放大缩小\n        // zoom: false,\n    },\n    hasControl: false,\n    loadingText: '',\n    background: '',\n    decoder: 'decoder.js',\n    url: '',//\n    rotate: 0,\n    // text: '',\n    forceNoOffscreen: true, // 默认是不采用\n    hiddenAutoPause: false,\n    protocol: PLAYER_PLAY_PROTOCOL.fetch,\n    demuxType: DEMUX_TYPE.flv, //\n    useWCS: false, //\n    useMSE: false, //\n    useOffscreen: false //\n}\n\n\nexport const WORKER_CMD_TYPE = {\n    init: 'init',\n    initVideo: 'initVideo',\n    render: 'render',\n    playAudio: 'playAudio',\n    print: 'print',\n    printErr: 'printErr',\n    initAudio: 'initAudio',\n    kBps: 'kBps',\n    decode: 'decode',\n    audioCode: 'audioCode',\n    videoCode: 'videoCode'\n}\n\nexport const MEDIA_TYPE = {\n    audio: 1,\n    video: 2\n}\n\nexport const FLV_MEDIA_TYPE = {\n    audio: 8,\n    video: 9\n}\n\nexport const WORKER_SEND_TYPE = {\n    init: 'init',\n    decode: 'decode',\n    audioDecode: 'audioDecode',\n    videoDecode: 'videoDecode',\n    close: 'close'\n}\n\n\n//\nexport const EVENTS = {\n    fullscreen: 'fullscreen$2',\n    webFullscreen: 'webFullscreen',\n    decoderWorkerInit: 'decoderWorkerInit',\n    play: 'play',\n    playing: 'playing',\n    pause: 'pause',\n    mute: 'mute',\n    load: 'load',\n    loading: 'loading',\n    videoInfo: 'videoInfo',\n    timeUpdate: 'timeUpdate',\n    audioInfo: \"audioInfo\",\n    log: 'log',\n    error: \"error\",\n    connectError: \"connectError\",\n    kBps: 'kBps',\n    timeout: 'timeout',\n    delayTimeout: 'delayTimeout',\n    loadingTimeout: 'loadingTimeout',\n    stats: 'stats',\n    performance: \"performance\",\n    record: 'record',\n    recording: 'recording',\n    recordingTimestamp: 'recordingTimestamp',\n    recordStart: 'recordStart',\n    recordEnd: 'recordEnd',\n    recordCreateError: 'recordCreateError',\n    buffer: 'buffer',\n    videoFrame: 'videoFrame',\n    start: 'start',\n    metadata: 'metadata',\n    resize: 'resize',\n    streamEnd: 'streamEnd',\n    streamSuccess: 'streamSuccess',\n    streamMessage: 'streamMessage',\n    streamError: 'streamError',\n    volumechange: 'volumechange',\n    destroy: 'destroy',\n    mseSourceOpen: 'mseSourceOpen',\n    mseSourceClose: 'mseSourceClose',\n    mseSourceBufferError: 'mseSourceBufferError',\n    mseSourceBufferBusy: 'mseSourceBufferBusy',\n    videoWaiting: 'videoWaiting',\n    videoTimeUpdate: 'videoTimeUpdate',\n    videoSyncAudio: 'videoSyncAudio',\n    playToRenderTimes: 'playToRenderTimes'\n}\n\n/**\n * 对外 开放的事件\n */\nexport const JESSIBUCA_EVENTS = {\n    load: EVENTS.load,\n    timeUpdate: EVENTS.timeUpdate,\n    videoInfo: EVENTS.videoInfo,\n    audioInfo: EVENTS.audioInfo,\n    error: EVENTS.error,\n    connectError: EVENTS.connectError,\n    kBps: EVENTS.kBps,\n    log: EVENTS.log,\n    start: EVENTS.start,\n    timeout: EVENTS.timeout,\n    loadingTimeout: EVENTS.loadingTimeout,\n    delayTimeout: EVENTS.delayTimeout,\n    fullscreen: 'fullscreen',\n    play: EVENTS.play,\n    pause: EVENTS.pause,\n    mute: EVENTS.mute,\n    stats: EVENTS.stats,\n    performance: EVENTS.performance,\n    recordingTimestamp: EVENTS.recordingTimestamp,\n    recordStart: EVENTS.recordStart,\n    recordEnd: EVENTS.recordEnd,\n    playToRenderTimes: EVENTS.playToRenderTimes\n}\n\nexport const EVENTS_ERROR = {\n    playError: 'playIsNotPauseOrUrlIsNull',\n    fetchError: \"fetchError\",\n    websocketError: 'websocketError',\n    webcodecsH265NotSupport: 'webcodecsH265NotSupport',\n    mediaSourceH265NotSupport: 'mediaSourceH265NotSupport',\n    wasmDecodeError: 'wasmDecodeError'\n}\n\n\nexport const WEBSOCKET_STATUS = {\n    notConnect: 'notConnect',\n    open: 'open',\n    close: 'close',\n    error: 'error',\n}\n\nexport const BUFFER_STATUS = {\n    empty: 'empty',\n    buffering: 'buffering',\n    full: 'full'\n}\n\n\nexport const SCREENSHOT_TYPE = {\n    download: 'download',\n    base64: 'base64',\n    blob: 'blob'\n}\n\n\nexport const VIDEO_ENC_TYPE = {\n    7: 'H264(AVC)', //\n    12: 'H265(HEVC)' //\n}\n\nexport const VIDEO_ENC_CODE = {\n    h264: 7,\n    h265: 12\n}\n\n\nexport const AUDIO_ENC_TYPE = {\n    10: 'AAC',\n    7: 'ALAW',\n    8: 'MULAW'\n}\n\nexport const H265_NAL_TYPE = {\n    vps: 32,\n    sps: 33,\n    pps: 34\n}\n\n// export const CONTROL_HEIGHT = 38\nexport const CONTROL_HEIGHT = 0\n\nexport const SCALE_MODE_TYPE = {\n    full: 0, //  视频画面完全填充canvas区域,画面会被拉伸\n    auto: 1, // 视频画面做等比缩放后,高或宽对齐canvas区域,画面不被拉伸,但有黑边\n    fullAuto: 2 // 视频画面做等比缩放后,完全填充canvas区域,画面不被拉伸,没有黑边,但画面显示不全\n}\n\n\nexport const FILE_SUFFIX = {\n    mp4: 'mp4',\n    webm: 'webm'\n};\n\n\nexport const CANVAS_RENDER_TYPE = {\n    webcodecs: 'webcodecs',\n    webgl: 'webgl',\n    offscreen: 'offscreen'\n}\n\nexport const ENCODED_VIDEO_TYPE = {\n    key: 'key',\n    delta: 'delta'\n}\n\n\nexport const MP4_CODECS = {\n    avc: 'video/mp4; codecs=\"avc1.64002A\"',\n    hev: 'video/mp4; codecs=\"hev1.1.6.L123.b0\"',\n}\n\n\nexport const MEDIA_SOURCE_STATE = {\n    ended: 'ended',\n    open: 'open',\n    closed: 'closed'\n}\n\n\n// frag duration\nexport const FRAG_DURATION = Math.ceil(1000 / 25)\n\n\nexport const AUDIO_SYNC_VIDEO_DIFF = 1000;\n\n\nexport const HOT_KEY = {\n    esc: 27, //\n    arrowUp: 38, //\n    arrowDown: 40, //\n}\n","export default class Debug {\n    constructor(master) {\n        this.log = (name, ...args) => {\n            if (master._opt.debug) {\n                console.log(`Jessibuca: [${name}]`, ...args);\n            }\n        };\n\n        this.warn = (name, ...args) => {\n            if (master._opt.debug) {\n                console.warn(`Jessibuca: [${name}]`, ...args);\n            }\n        };\n\n        this.error = (name, ...args) => {\n            if (master._opt.debug) {\n                console.error(`Jessibuca: [${name}]`, ...args);\n            }\n        };\n    }\n}\n","export default class Events {\n    constructor(master) {\n        this.destroys = [];\n        this.proxy = this.proxy.bind(this);\n        this.master = master;\n    }\n\n    proxy(target, name, callback, option = {}) {\n        if (!target) {\n            return;\n        }\n        if (Array.isArray(name)) {\n            return name.map(item => this.proxy(target, item, callback, option));\n        }\n        target.addEventListener(name, callback, option);\n        const destroy = () => target.removeEventListener(name, callback, option);\n        this.destroys.push(destroy);\n        return destroy;\n    }\n\n    destroy() {\n        this.master.debug.log(`Events`, 'destroy');\n        this.destroys.forEach(event => event());\n    }\n}\n","export default (player) => {\n    Object.defineProperty(player, 'rect', {\n        get: () => {\n            const clientRect = player.$container.getBoundingClientRect()\n            clientRect.width = Math.max(clientRect.width, player.$container.clientWidth);\n            clientRect.height = Math.max(clientRect.height, player.$container.clientHeight);\n            return clientRect;\n        },\n    });\n\n    ['bottom', 'height', 'left', 'right', 'top', 'width'].forEach(key => {\n        Object.defineProperty(player, key, {\n            get: () => {\n                return player.rect[key];\n            },\n        });\n    });\n}\n","/*!\n* screenfull\n* v5.1.0 - 2020-12-24\n* (c) Sindre Sorhus; MIT License\n*/\n(function () {\n\t'use strict';\n\n\tvar document = typeof window !== 'undefined' && typeof window.document !== 'undefined' ? window.document : {};\n\tvar isCommonjs = typeof module !== 'undefined' && module.exports;\n\n\tvar fn = (function () {\n\t\tvar val;\n\n\t\tvar fnMap = [\n\t\t\t[\n\t\t\t\t'requestFullscreen',\n\t\t\t\t'exitFullscreen',\n\t\t\t\t'fullscreenElement',\n\t\t\t\t'fullscreenEnabled',\n\t\t\t\t'fullscreenchange',\n\t\t\t\t'fullscreenerror'\n\t\t\t],\n\t\t\t// New WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullscreen',\n\t\t\t\t'webkitExitFullscreen',\n\t\t\t\t'webkitFullscreenElement',\n\t\t\t\t'webkitFullscreenEnabled',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t// Old WebKit\n\t\t\t[\n\t\t\t\t'webkitRequestFullScreen',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitCurrentFullScreenElement',\n\t\t\t\t'webkitCancelFullScreen',\n\t\t\t\t'webkitfullscreenchange',\n\t\t\t\t'webkitfullscreenerror'\n\n\t\t\t],\n\t\t\t[\n\t\t\t\t'mozRequestFullScreen',\n\t\t\t\t'mozCancelFullScreen',\n\t\t\t\t'mozFullScreenElement',\n\t\t\t\t'mozFullScreenEnabled',\n\t\t\t\t'mozfullscreenchange',\n\t\t\t\t'mozfullscreenerror'\n\t\t\t],\n\t\t\t[\n\t\t\t\t'msRequestFullscreen',\n\t\t\t\t'msExitFullscreen',\n\t\t\t\t'msFullscreenElement',\n\t\t\t\t'msFullscreenEnabled',\n\t\t\t\t'MSFullscreenChange',\n\t\t\t\t'MSFullscreenError'\n\t\t\t]\n\t\t];\n\n\t\tvar i = 0;\n\t\tvar l = fnMap.length;\n\t\tvar ret = {};\n\n\t\tfor (; i < l; i++) {\n\t\t\tval = fnMap[i];\n\t\t\tif (val && val[1] in document) {\n\t\t\t\tfor (i = 0; i < val.length; i++) {\n\t\t\t\t\tret[fnMap[0][i]] = val[i];\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t})();\n\n\tvar eventNameMap = {\n\t\tchange: fn.fullscreenchange,\n\t\terror: fn.fullscreenerror\n\t};\n\n\tvar screenfull = {\n\t\trequest: function (element, options) {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tvar onFullScreenEntered = function () {\n\t\t\t\t\tthis.off('change', onFullScreenEntered);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenEntered);\n\n\t\t\t\telement = element || document.documentElement;\n\n\t\t\t\tvar returnPromise = element[fn.requestFullscreen](options);\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenEntered).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\texit: function () {\n\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\tif (!this.isFullscreen) {\n\t\t\t\t\tresolve();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar onFullScreenExit = function () {\n\t\t\t\t\tthis.off('change', onFullScreenExit);\n\t\t\t\t\tresolve();\n\t\t\t\t}.bind(this);\n\n\t\t\t\tthis.on('change', onFullScreenExit);\n\n\t\t\t\tvar returnPromise = document[fn.exitFullscreen]();\n\n\t\t\t\tif (returnPromise instanceof Promise) {\n\t\t\t\t\treturnPromise.then(onFullScreenExit).catch(reject);\n\t\t\t\t}\n\t\t\t}.bind(this));\n\t\t},\n\t\ttoggle: function (element, options) {\n\t\t\treturn this.isFullscreen ? this.exit() : this.request(element, options);\n\t\t},\n\t\tonchange: function (callback) {\n\t\t\tthis.on('change', callback);\n\t\t},\n\t\tonerror: function (callback) {\n\t\t\tthis.on('error', callback);\n\t\t},\n\t\ton: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.addEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\toff: function (event, callback) {\n\t\t\tvar eventName = eventNameMap[event];\n\t\t\tif (eventName) {\n\t\t\t\tdocument.removeEventListener(eventName, callback, false);\n\t\t\t}\n\t\t},\n\t\traw: fn\n\t};\n\n\tif (!fn) {\n\t\tif (isCommonjs) {\n\t\t\tmodule.exports = {isEnabled: false};\n\t\t} else {\n\t\t\twindow.screenfull = {isEnabled: false};\n\t\t}\n\n\t\treturn;\n\t}\n\n\tObject.defineProperties(screenfull, {\n\t\tisFullscreen: {\n\t\t\tget: function () {\n\t\t\t\treturn Boolean(document[fn.fullscreenElement]);\n\t\t\t}\n\t\t},\n\t\telement: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\treturn document[fn.fullscreenElement];\n\t\t\t}\n\t\t},\n\t\tisEnabled: {\n\t\t\tenumerable: true,\n\t\t\tget: function () {\n\t\t\t\t// Coerce to boolean in case of old WebKit\n\t\t\t\treturn Boolean(document[fn.fullscreenEnabled]);\n\t\t\t}\n\t\t}\n\t});\n\n\tif (isCommonjs) {\n\t\tmodule.exports = screenfull;\n\t} else {\n\t\twindow.screenfull = screenfull;\n\t}\n})();\n","import {MP4_CODECS} from \"../constant\";\n\nexport function noop() {\n}\n\n\nexport function supportOffscreen($canvas) {\n    return typeof $canvas.transferControlToOffscreen === 'function';\n}\n\n\nexport function supportOffscreenV2() {\n    return typeof OffscreenCanvas !== \"undefined\";\n}\n\n\nexport function createContextGL($canvas) {\n    let gl = null;\n\n    const validContextNames = [\"webgl\", \"experimental-webgl\", \"moz-webgl\", \"webkit-3d\"];\n    let nameIndex = 0;\n\n    while (!gl && nameIndex < validContextNames.length) {\n        const contextName = validContextNames[nameIndex];\n\n        try {\n            let contextOptions = {preserveDrawingBuffer: true};\n            gl = $canvas.getContext(contextName, contextOptions);\n        } catch (e) {\n            gl = null;\n        }\n\n        if (!gl || typeof gl.getParameter !== \"function\") {\n            gl = null;\n        }\n\n        ++nameIndex;\n    }\n\n\n    return gl;\n}\n\n\nexport function audioContextUnlock(context) {\n    context.resume();\n    const source = context.createBufferSource();\n    source.buffer = context.createBuffer(1, 1, 22050);\n    source.connect(context.destination);\n    if (source.noteOn) {\n        source.noteOn(0);\n    } else {\n        source.start(0);\n    }\n}\n\nexport function dataURLToFile(dataURL = '') {\n    const arr = dataURL.split(\",\");\n    const bstr = atob(arr[1]);\n    const type = arr[0].replace(\"data:\", \"\").replace(\";base64\", \"\")\n    let n = bstr.length, u8arr = new Uint8Array(n);\n    while (n--) {\n        u8arr[n] = bstr.charCodeAt(n);\n    }\n    return new File([u8arr], 'file', {type});\n}\n\nexport function downloadFile(file, fileName) {\n    if (file instanceof Blob || file instanceof File) {\n        file = new Blob([file]);\n    }\n    const aLink = document.createElement(\"a\");\n    aLink.download = fileName;\n    aLink.href = file;\n    aLink.click();\n}\n\n\nexport function downloadImg(content, fileName) {\n    const aLink = document.createElement(\"a\");\n    aLink.download = fileName;\n    aLink.href = URL.createObjectURL(content);\n    aLink.click();\n    URL.revokeObjectURL(content);\n}\n\nexport function checkFull() {\n    let isFull = document.fullscreenElement || window.webkitFullscreenElement || document.msFullscreenElement;\n    if (isFull === undefined) isFull = false;\n    return !!isFull;\n}\n\nexport function now() {\n    return new Date().getTime();\n}\n\nexport const supportedWasm = (() => {\n    try {\n        if (typeof WebAssembly === \"object\"\n            && typeof WebAssembly.instantiate === \"function\") {\n            const module = new WebAssembly.Module(Uint8Array.of(0x0, 0x61, 0x73, 0x6d, 0x01, 0x00, 0x00, 0x00));\n            if (module instanceof WebAssembly.Module)\n                return new WebAssembly.Instance(module) instanceof WebAssembly.Instance;\n        }\n    } catch (e) {\n    }\n    return false;\n})();\n\nexport function clamp(num, a, b) {\n    return Math.max(Math.min(num, Math.max(a, b)), Math.min(a, b));\n}\n\nexport function setStyle(element, key, value) {\n    if (!element) {\n        return\n    }\n    if (typeof key === 'object') {\n        Object.keys(key).forEach(item => {\n            setStyle(element, item, key[item]);\n        });\n    }\n    element.style[key] = value;\n    return element;\n}\n\n\nexport function getStyle(element, key, numberType = true) {\n    if (!element) {\n        return 0\n    }\n\n    const value = getComputedStyle(element, null).getPropertyValue(key);\n    return numberType ? parseFloat(value) : value;\n}\n\nexport function getNowTime() {\n    if (performance && typeof performance.now === 'function') {\n        return performance.now();\n    }\n    return Date.now();\n}\n\nexport function calculationRate(callback) {\n    let totalSize = 0;\n    let lastTime = getNowTime();\n    return size => {\n        totalSize += size;\n        const thisTime = getNowTime();\n        const diffTime = thisTime - lastTime;\n        if (diffTime >= 1000) {\n            callback((totalSize / diffTime) * 1000);\n            lastTime = thisTime;\n            totalSize = 0;\n        }\n    };\n}\n\nexport function downloadRecord(blob, name, suffix) {\n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = (name || now()) + '.' + (suffix || FILE_SUFFIX.webm);\n    a.click();\n    window.URL.revokeObjectURL(url);\n}\n\nexport const env = '__ENV__';\n\nexport function isMobile() {\n    return (/iphone|ipod|android.*mobile|windows.*phone|blackberry.*mobile/i.test(window.navigator.userAgent.toLowerCase()));\n}\n\nexport function isAndroid() {\n    const UA = window.navigator.userAgent.toLowerCase();\n    return (/android/i.test(UA));\n}\n\nexport function isIOS() {\n    const UA = window.navigator.userAgent.toLowerCase();\n    return UA && /iphone|ipad|ipod|ios/.test(UA);\n}\n\n\nexport function parseTime(time, cFormat) {\n    if (arguments.length === 0) {\n        return null\n    }\n    var format = cFormat || '{y}-{m}-{d} {h}:{i}:{s}'\n    var date;\n    if (typeof time === 'object') {\n        date = time\n    } else {\n        if (('' + time).length === 10) time = parseInt(time) * 1000;\n        time = +time; // 转成int 型\n        date = new Date(time)\n    }\n    var formatObj = {\n        y: date.getFullYear(),\n        m: date.getMonth() + 1,\n        d: date.getDate(),\n        h: date.getHours(),\n        i: date.getMinutes(),\n        s: date.getSeconds(),\n        a: date.getDay()\n    };\n    var time_str = format.replace(/{(y|m|d|h|i|s|a)+}/g, (result, key) => {\n        var value = formatObj[key]\n        if (key === 'a') return ['一', '二', '三', '四', '五', '六', '日'][value - 1]\n        if (result.length > 0 && value < 10) {\n            value = '0' + value\n        }\n        return value || 0\n    });\n    return time_str\n}\n\n// 是否支持 webcodecs\nexport function supportWCS() {\n    return \"VideoEncoder\" in window;\n}\n\nexport function toNumber(value) {\n    if (typeof value !== 'string') {\n        return value;\n    } else {\n        // 转换成 number 类型\n        var parsed = Number(value);\n        return isNaN(parsed) ? value : parsed;\n    }\n}\n\nexport function uuid16() {\n    return 'xxxxxxxxxxxx4xxx'.replace(/[xy]/g, function (c) {\n        var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8)\n        return v.toString(16)\n    })\n}\n\nexport function throttle(callback, delay) {\n    let isThrottled = false;\n    let args;\n    let context;\n\n    function fn(...args2) {\n        if (isThrottled) {\n            args = args2;\n            context = this;\n            return;\n        }\n\n        isThrottled = true;\n        callback.apply(this, args2);\n        setTimeout(() => {\n            isThrottled = false;\n            if (args) {\n                fn.apply(context, args);\n                args = null;\n                context = null;\n            }\n        }, delay);\n    }\n\n    return fn;\n}\n\n\nexport function isDef(v) {\n    return v !== undefined && v !== null;\n}\n\nexport function formatVideoDecoderConfigure(avcC) {\n    let codecArray = avcC.subarray(1, 4);\n    let codecString = \"avc1.\";\n    for (let j = 0; j < 3; j++) {\n        let h = codecArray[j].toString(16);\n        if (h.length < 2) {\n            h = \"0\" + h\n        }\n        codecString += h\n    }\n\n    return {\n        codec: codecString,\n        description: avcC\n    }\n}\n\nexport function isFullScreen() {\n    return document.isFullScreen || document.mozIsFullScreen || document.webkitIsFullScreen;\n}\n\nexport function bpsSize(value) {\n    if (null == value || value === '') {\n        return \"0 KB/S\";\n    }\n    let size = parseFloat(value);\n    size = size.toFixed(2);\n    return size + 'KB/S';\n}\n\n\nexport function fpsStatus(fps) {\n    let result = 0;\n    if (fps >= 24) {\n        result = 2;\n    } else if (fps >= 15) {\n        result = 1;\n    }\n\n    return result;\n}\n\nexport function createEmptyImageBitmap(width, height) {\n    const $canvasElement = document.createElement(\"canvas\");\n    $canvasElement.width = width;\n    $canvasElement.height = height;\n    return createImageBitmap($canvasElement, 0, 0, width, height);\n}\n\n\nexport function supportMSE() {\n    return window.MediaSource && window.MediaSource.isTypeSupported(MP4_CODECS.avc);\n}\n\n\nexport function formatMp4VideoCodec(codec) {\n    return `video/mp4; codecs=\"${codec}\"`\n}\n\n\nexport function saveBlobToFile(fileName, blob) {\n    let url = window.URL.createObjectURL(blob);\n    let aLink = window.document.createElement('a');\n    aLink.download = fileName;\n    aLink.href = url;\n    //创建内置事件并触发\n    let evt = window.document.createEvent('MouseEvents');\n    evt.initMouseEvent('click', true, true, window, 0, 0, 0, 0, 0, false, false, false, false, 0, null);\n    aLink.dispatchEvent(evt);\n}\n\nexport function isEmpty(value) {\n    return value === null || value === undefined\n}\n\nexport function isNotEmpty(value) {\n    return !isEmpty(value)\n}\n\nexport function defNumber(value, initial) {\n    if (isNotEmpty(value) && typeof value === \"number\" && typeof +value === \"number\") {\n        if (initial && initial > value) {\n            return initial\n        }\n        return value\n    } else {\n        return initial\n    }\n}\n\nexport function initPlayTimes() {\n    return {\n        playInitStart: '', //1\n        playStart: '', // 2\n        streamStart: '', //3\n        streamResponse: '', // 4\n        demuxStart: '', // 5\n        decodeStart: '', // 6\n        videoStart: '', // 7\n        playTimestamp: '',// playStart- playInitStart\n        streamTimestamp: '',// streamStart - playStart\n        streamResponseTimestamp: '',// streamResponse - streamStart\n        demuxTimestamp: '', // demuxStart - streamResponse\n        decodeTimestamp: '', // decodeStart - demuxStart\n        videoTimestamp: '',// videoStart - decodeStart\n        allTimestamp: '' // videoStart - playInitStart\n    }\n}\n","import {EVENTS, EVENTS_ERROR, JESSIBUCA_EVENTS} from \"../constant\";\nimport screenfull from \"screenfull\";\nimport {setStyle} from \"../utils\";\n\nexport default (player) => {\n    try {\n        const screenfullChange = () => {\n            player.emit(JESSIBUCA_EVENTS.fullscreen, player.fullscreen)\n\n            // 如果不是fullscreen,则触发下 resize 方法\n            if (!player.fullscreen) {\n                player.resize();\n            } else {\n                if(player._opt.useMSE){\n                    player.resize();\n                }\n            }\n\n        };\n        screenfull.on('change', screenfullChange);\n        player.events.destroys.push(() => {\n            screenfull.off('change', screenfullChange);\n        });\n    } catch (error) {\n        //\n    }\n    //\n    player.on(EVENTS.decoderWorkerInit, () => {\n        player.debug.log('player', 'has loaded');\n        player._hasLoaded = true;\n    })\n\n    //\n    player.on(EVENTS.play, () => {\n        player.loading = false;\n    })\n\n    //\n    player.on(EVENTS.fullscreen, (value) => {\n        if (value) {\n            try {\n                screenfull.request(player.$container).then(() => {\n\n                }).catch((e) => {\n                    player.webFullscreen = true;\n                });\n\n            } catch (e) {\n                player.webFullscreen = true;\n            }\n        } else {\n            try {\n                screenfull.exit().then(() => {\n                }).catch(() => {\n                    player.webFullscreen = false;\n\n                });\n            } catch (e) {\n                player.webFullscreen = false;\n            }\n        }\n    })\n\n    player.on(EVENTS.webFullscreen, (value) => {\n        if (value) {\n            player.$container.classList.add('webmediaplayer-fullscreen-web')\n            const {clientHeight: bodyHeight, clientWidth: bodyWidth} = document.body;\n            const {clientHeight: playerHeight, clientWidth: playerWidth} = player.video.$videoElement;\n            const bodyRatio = bodyWidth / bodyHeight;\n            const playerRatio = playerWidth / playerHeight;\n            const needSpin = bodyRatio < playerRatio;\n            if (needSpin) {\n                const scale = Math.min(bodyHeight / playerWidth, bodyWidth / playerHeight);\n                player.video.$videoElement.style.transform = `rotate(90deg) scale(${scale},${scale})`;\n            }\n\n        } else {\n            player.$container.classList.remove('webmediaplayer-fullscreen-web')\n            player.video.$videoElement.style.transform = null;\n        }\n    })\n\n    //\n    player.on(EVENTS.resize, () => {\n        player.video.resize();\n    })\n\n\n    if (player._opt.debug) {\n        const ignoreList = [EVENTS.timeUpdate];\n        Object.keys(EVENTS).forEach((key) => {\n            player.on(EVENTS[key], (value) => {\n                if (ignoreList.includes(key)) {\n                    return;\n                }\n\n                player.debug.log('player events', EVENTS[key], value);\n            })\n        })\n\n        Object.keys(EVENTS_ERROR).forEach((key) => {\n            player.on(EVENTS_ERROR[key], (value) => {\n                player.debug.log('player event error', EVENTS_ERROR[key], value);\n            })\n        })\n    }\n}\n","export default class Emitter {\n    on(name, fn, ctx) {\n        const e = this.e || (this.e = {});\n        (e[name] || (e[name] = [])).push({fn, ctx});\n        return this;\n    }\n\n    once(name, fn, ctx) {\n        const self = this;\n\n        function listener(...args) {\n            self.off(name, listener);\n            fn.apply(ctx, args);\n        }\n\n        listener._ = fn;\n        return this.on(name, listener, ctx);\n    }\n\n    emit(name, ...data) {\n        const evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n        for (let i = 0; i < evtArr.length; i += 1) {\n            evtArr[i].fn.apply(evtArr[i].ctx, data);\n        }\n        return this;\n    }\n\n    off(name, callback) {\n        const e = this.e || (this.e = {});\n\n        if (!name) {\n            Object.keys(e).forEach((key) => {\n                delete e[key];\n            })\n            delete this.e\n            return;\n        }\n\n        const evts = e[name];\n        const liveEvents = [];\n        if (evts && callback) {\n            for (let i = 0, len = evts.length; i < len; i += 1) {\n                if (evts[i].fn !== callback && evts[i].fn._ !== callback) liveEvents.push(evts[i]);\n            }\n        }\n        if (liveEvents.length) {\n            e[name] = liveEvents;\n        } else {\n            delete e[name];\n        }\n        return this;\n    }\n}\n","export default (gl) => {\n    var vertexShaderScript = [\n        'attribute vec4 vertexPos;',\n        'attribute vec4 texturePos;',\n        'varying vec2 textureCoord;',\n\n        'void main()',\n        '{',\n        'gl_Position = vertexPos;',\n        'textureCoord = texturePos.xy;',\n        '}'\n    ].join('\\n');\n\n    var fragmentShaderScript = [\n        'precision highp float;',\n        'varying highp vec2 textureCoord;',\n        'uniform sampler2D ySampler;',\n        'uniform sampler2D uSampler;',\n        'uniform sampler2D vSampler;',\n        'const mat4 YUV2RGB = mat4',\n        '(',\n        '1.1643828125, 0, 1.59602734375, -.87078515625,',\n        '1.1643828125, -.39176171875, -.81296875, .52959375,',\n        '1.1643828125, 2.017234375, 0, -1.081390625,',\n        '0, 0, 0, 1',\n        ');',\n\n        'void main(void) {',\n        'highp float y = texture2D(ySampler,  textureCoord).r;',\n        'highp float u = texture2D(uSampler,  textureCoord).r;',\n        'highp float v = texture2D(vSampler,  textureCoord).r;',\n        'gl_FragColor = vec4(y, u, v, 1) * YUV2RGB;',\n        '}'\n    ].join('\\n');\n\n    var vertexShader = gl.createShader(gl.VERTEX_SHADER);\n    gl.shaderSource(vertexShader, vertexShaderScript);\n    gl.compileShader(vertexShader);\n    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n        console.log('Vertex shader failed to compile: ' + gl.getShaderInfoLog(vertexShader));\n    }\n\n    var fragmentShader = gl.createShader(gl.FRAGMENT_SHADER);\n    gl.shaderSource(fragmentShader, fragmentShaderScript);\n    gl.compileShader(fragmentShader);\n    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n        console.log('Fragment shader failed to compile: ' + gl.getShaderInfoLog(fragmentShader));\n    }\n\n    var program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        console.log('Program failed to compile: ' + gl.getProgramInfoLog(program));\n    }\n\n    gl.useProgram(program);\n\n    // initBuffers\n    var vertexPosBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, vertexPosBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([1, 1, -1, 1, 1, -1, -1, -1]), gl.STATIC_DRAW);\n\n    var vertexPosRef = gl.getAttribLocation(program, 'vertexPos');\n    gl.enableVertexAttribArray(vertexPosRef);\n    gl.vertexAttribPointer(vertexPosRef, 2, gl.FLOAT, false, 0, 0);\n\n    var texturePosBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texturePosBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([1, 0, 0, 0, 1, 1, 0, 1]), gl.STATIC_DRAW);\n\n    var texturePosRef = gl.getAttribLocation(program, 'texturePos');\n    gl.enableVertexAttribArray(texturePosRef);\n    gl.vertexAttribPointer(texturePosRef, 2, gl.FLOAT, false, 0, 0);\n\n    function _initTexture(name, index) {\n        var textureRef = gl.createTexture();\n        gl.bindTexture(gl.TEXTURE_2D, textureRef);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n        gl.bindTexture(gl.TEXTURE_2D, null);\n        gl.uniform1i(gl.getUniformLocation(program, name), index);\n        return textureRef;\n    }\n\n    var yTextureRef = _initTexture('ySampler', 0);\n    var uTextureRef = _initTexture('uSampler', 1);\n    var vTextureRef = _initTexture('vSampler', 2);\n\n    return {\n        render: function (w, h, y, u, v) {\n            gl.viewport(0, 0, w, h);\n            gl.activeTexture(gl.TEXTURE0);\n            gl.bindTexture(gl.TEXTURE_2D, yTextureRef);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, w, h, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, y);\n            gl.activeTexture(gl.TEXTURE1);\n            gl.bindTexture(gl.TEXTURE_2D, uTextureRef);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, w / 2, h / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, u);\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, vTextureRef);\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.LUMINANCE, w / 2, h / 2, 0, gl.LUMINANCE, gl.UNSIGNED_BYTE, v);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        },\n        destroy: function () {\n            try {\n                gl.deleteProgram(program);\n\n                gl.deleteBuffer(vertexPosBuffer)\n                gl.deleteBuffer(texturePosBuffer);\n\n                gl.deleteTexture(yTextureRef);\n                gl.deleteTexture(uTextureRef);\n                gl.deleteBuffer(vTextureRef);\n            } catch (e) {\n                // console.error(e);\n            }\n\n        }\n    }\n};\n","import Emitter from \"../utils/emitter\";\nimport {CONTROL_HEIGHT, EVENTS, VIDEO_ENC_TYPE} from \"../constant\";\n\nexport default class CommonLoader extends Emitter {\n    constructor() {\n        super();\n        this.init = false;\n    }\n\n    //\n    updateVideoInfo(data) {\n        if (data.encTypeCode) {\n            this.videoInfo.encType = VIDEO_ENC_TYPE[data.encTypeCode];\n        }\n\n        if (data.width) {\n            this.videoInfo.width = data.width;\n        }\n\n        if (data.height) {\n            this.videoInfo.height = data.height;\n        }\n\n        // video 基本信息\n        if (this.videoInfo.encType && this.videoInfo.height && this.videoInfo.width && !this.init) {\n            this.player.emit(EVENTS.videoInfo, this.videoInfo);\n            this.init = true;\n        }\n    }\n\n\n}\n","import Emitter from \"../utils/emitter\";\nimport {createContextGL, createEmptyImageBitmap, dataURLToFile, downloadImg, now, supportOffscreen} from \"../utils\";\nimport createWebGL from \"../utils/webgl\";\nimport {CANVAS_RENDER_TYPE, CONTROL_HEIGHT, EVENTS, SCREENSHOT_TYPE, VIDEO_ENC_TYPE} from \"../constant\";\nimport CommonLoader from \"./commonLoader\";\n\nexport default class CanvasVideoLoader extends CommonLoader {\n\n    constructor(player) {\n        super()\n        this.player = player;\n        const $canvasElement = document.createElement(\"canvas\");\n        $canvasElement.style.position = \"absolute\";\n        $canvasElement.style.top = 0;\n        $canvasElement.style.left = 0;\n        this.$videoElement = $canvasElement;\n        player.$container.appendChild(this.$videoElement);\n\n        this.context2D = null;\n        this.contextGl = null;\n        this.contextGlRender = null;\n        this.contextGlDestroy = null;\n        this.bitmaprenderer = null;\n        this.renderType = null;\n        this.videoInfo = {\n            width: '',\n            height: '',\n            encType: '',\n        }\n        //\n        this._initCanvasRender();\n        this.player.debug.log('CanvasVideo', 'init');\n    }\n\n    destroy() {\n        if (this.contextGl) {\n            this.contextGl = null;\n        }\n\n        if (this.context2D) {\n            this.context2D = null;\n        }\n\n        if (this.contextGlRender) {\n            this.contextGlDestroy && this.contextGlDestroy();\n            this.contextGlDestroy = null;\n            this.contextGlRender = null;\n        }\n        if (this.bitmaprenderer) {\n            this.bitmaprenderer = null;\n        }\n\n        this.renderType = null;\n\n        this.videoInfo = {\n            width: '',\n            height: '',\n            encType: '',\n            encTypeCode: ''\n        }\n\n        this.player.$container.removeChild(this.$videoElement);\n        this.init = false;\n        this.off();\n        this.player.debug.log(`CanvasVideoLoader`, 'destroy');\n    }\n\n\n    _initContextGl() {\n        this.contextGl = createContextGL(this.$videoElement);\n        const webgl = createWebGL(this.contextGl);\n        this.contextGlRender = webgl.render;\n        this.contextGlDestroy = webgl.destroy\n    }\n\n    _initContext2D() {\n        this.context2D = this.$videoElement.getContext('2d');\n    }\n\n\n    // 渲染类型\n    _initCanvasRender() {\n        if (this.player._opt.useWCS && !this._supportOffscreen()) {\n            this.renderType = CANVAS_RENDER_TYPE.webcodecs;\n            this._initContext2D();\n        } else if (this._supportOffscreen()) {\n            this.renderType = CANVAS_RENDER_TYPE.offscreen;\n            this._bindOffscreen();\n        } else {\n            this.renderType = CANVAS_RENDER_TYPE.webgl;\n            this._initContextGl();\n        }\n    }\n\n    _supportOffscreen() {\n        return supportOffscreen(this.$videoElement) && this.player._opt.useOffscreen;\n    }\n\n    //\n    _bindOffscreen() {\n        this.bitmaprenderer = this.$videoElement.getContext('bitmaprenderer');\n    }\n\n    initCanvasViewSize() {\n        this.$videoElement.width = this.videoInfo.width;\n        this.$videoElement.height = this.videoInfo.height;\n        this.resize();\n    }\n\n    //\n    render(msg) {\n        this.player.videoTimestamp = msg.ts;\n        switch (this.renderType) {\n            case CANVAS_RENDER_TYPE.offscreen:\n                this.bitmaprenderer.transferFromImageBitmap(msg.buffer);\n                break;\n            case CANVAS_RENDER_TYPE.webgl:\n                this.contextGlRender(this.$videoElement.width, this.$videoElement.height, msg.output[0], msg.output[1], msg.output[2]);\n                break;\n            case CANVAS_RENDER_TYPE.webcodecs:\n                this.context2D.drawImage(msg.videoFrame, 0, 0, this.$videoElement.width, this.$videoElement.height);\n                break;\n        }\n    }\n\n    screenshot(filename, format, quality, type) {\n        filename = filename || now();\n        type = type || SCREENSHOT_TYPE.download;\n        const formatType = {\n            png: 'image/png',\n            jpeg: 'image/jpeg',\n            webp: 'image/webp'\n        };\n        let encoderOptions = 0.92;\n        if (!formatType[format] && SCREENSHOT_TYPE[format]) {\n            type = format;\n            format = 'png';\n            quality = undefined\n        }\n\n        if (typeof quality === \"string\") {\n            type = quality;\n            quality = undefined;\n        }\n\n        if (typeof quality !== 'undefined') {\n            encoderOptions = Number(quality);\n        }\n        const dataURL = this.$videoElement.toDataURL(formatType[format] || formatType.png, encoderOptions);\n\n        const file = dataURLToFile(dataURL)\n        if (type === SCREENSHOT_TYPE.base64) {\n            return dataURL;\n        } else if (type === SCREENSHOT_TYPE.blob) {\n            return file;\n        } else if (type === SCREENSHOT_TYPE.download) {\n            downloadImg(file, filename);\n        }\n    }\n\n    //\n    clearView() {\n        switch (this.renderType) {\n            case CANVAS_RENDER_TYPE.offscreen:\n                createEmptyImageBitmap(this.$videoElement.width, this.$videoElement.height).then((imageBitMap) => {\n                    this.bitmaprenderer.transferFromImageBitmap(imageBitMap);\n                })\n                break;\n            case CANVAS_RENDER_TYPE.webgl:\n                this.contextGl.clear(this.contextGl.COLOR_BUFFER_BIT);\n                break;\n            case CANVAS_RENDER_TYPE.webcodecs:\n                this.context2D.clearRect(0, 0, this.$videoElement.width, this.$videoElement.height)\n                break;\n        }\n    }\n\n    resize() {\n        this.player.debug.log('canvasVideo', 'resize');\n        const option = this.player._opt;\n        const width = this.player.width;\n        let height = this.player.height;\n        if (option.hasControl) {\n            height -= CONTROL_HEIGHT;\n        }\n        let resizeWidth = this.$videoElement.width;\n        let resizeHeight = this.$videoElement.height;\n        const rotate = option.rotate;\n        let left = ((width - resizeWidth) / 2)\n        let top = ((height - resizeHeight) / 2)\n        if (rotate === 270 || rotate === 90) {\n            resizeWidth = this.$videoElement.height;\n            resizeHeight = this.$videoElement.width;\n        }\n\n        const wScale = width / resizeWidth;\n        const hScale = height / resizeHeight;\n\n        let scale = wScale > hScale ? hScale : wScale;\n        //\n        if (!option.isResize) {\n            if (wScale !== hScale) {\n                scale = wScale + ',' + hScale;\n            }\n        }\n        //\n        if (option.isFullResize) {\n            scale = wScale > hScale ? wScale : hScale;\n        }\n        let transform = \"scale(\" + scale + \")\";\n\n        if (rotate) {\n            transform += ' rotate(' + rotate + 'deg)'\n        }\n\n        this.$videoElement.style.transform = transform;\n        this.$videoElement.style.left = left + \"px\"\n        this.$videoElement.style.top = top + \"px\"\n    }\n\n\n}\n","import {setStyle} from \"./index\";\n\nexport function createToggleDisplay(control, playerWidth) {\n    return function toggleDisplay (elementName, width, defDisplay = 'block') {\n        if (control && control[elementName]) {\n            setStyle(\n                control[elementName],\n                'display',\n                (playerWidth < width) ? 'none' : defDisplay\n            )\n        }\n    }\n}\n","import Emitter from \"../utils/emitter\";\nimport {CONTROL_HEIGHT, EVENTS, SCREENSHOT_TYPE, VIDEO_ENC_TYPE} from \"../constant\";\nimport {dataURLToFile, downloadImg, now, setStyle} from \"../utils\";\nimport { createToggleDisplay } from \"../utils/toggleDisplay\";\nimport CommonLoader from \"./commonLoader\";\n\n\nexport default class VideoLoader extends CommonLoader {\n    constructor(player) {\n        super();\n        this.player = player;\n        const $videoElement = document.createElement('video');\n        $videoElement.muted = true;\n        $videoElement.style.position = \"absolute\";\n        $videoElement.style.top = 0;\n        $videoElement.style.left = 0;\n        $videoElement.setAttribute('start-time', Date.now());\n        if (!player._opt.useWebRTC) {\n            player.$container.appendChild($videoElement);\n        }\n        player.$container.$videoElement = $videoElement;\n        this.$videoElement = $videoElement;\n        this.videoInfo = {\n            width: '',\n            height: '',\n            encType: '',\n        }\n        this.resize();\n\n        const {proxy} = this.player.events;\n\n        proxy(this.$videoElement, 'canplay', () => {\n            // console.log(\"准备就绪\");\n            this.player.debug.log('Video', 'canplay');\n        })\n\n        proxy(this.$videoElement, 'waiting', () => {\n            this.player.emit(EVENTS.videoWaiting);\n        })\n\n        proxy(this.$videoElement, 'timeupdate', (event) => {\n            // this.player.emit(EVENTS.videoTimeUpdate, event.timeStamp);\n        })\n\n        //监听播放开始\n        // this.$videoElement.addEventListener('play', function(){\n        //     console.log(\"开始播放\");\n        // });\n//\n        // //监听播放结束\n        // this.$videoElement.addEventListener('pause', function(){\n        //     console.log(\"播放暂停\");\n        // });\n//\n        // //监听播放结束\n        // this.$videoElement.addEventListener('ended', function(){\n        //     console.log(\"播放结束\");\n        // });\n\n        this.player.debug.log('Video', 'init');\n    }\n\n    destroy() {\n        if (this.$videoElement && this.player.$container.contains(this.$videoElement)) {\n            this.player.$container.removeChild(this.$videoElement);\n        }\n        this.$videoElement = null;\n        this.init = false;\n        this.off();\n        this.player.debug.log('Video', 'destroy');\n    }\n\n    play() {\n        // this.$videoElement.autoplay = true;\n        this.$videoElement.play();\n    }\n\n    clearView() {\n\n    }\n\n    screenshot(filename, format, quality, type) {\n        filename = filename || now();\n        type = type || SCREENSHOT_TYPE.download;\n        const formatType = {\n            png: 'image/png',\n            jpeg: 'image/jpeg',\n            webp: 'image/webp'\n        };\n        let encoderOptions = 0.92;\n        if (!formatType[format] && SCREENSHOT_TYPE[format]) {\n            type = format;\n            format = 'png';\n            quality = undefined\n        }\n        if (typeof quality === \"string\") {\n            type = quality;\n            quality = undefined;\n        }\n\n        if (typeof quality !== 'undefined') {\n            encoderOptions = Number(quality);\n        }\n        const $video = this.$videoElement;\n        let canvas = document.createElement('canvas');\n        canvas.width = $video.videoWidth;\n        canvas.height = $video.videoHeight;\n        const context = canvas.getContext('2d');\n        context.drawImage($video, 0, 0, canvas.width, canvas.height);\n        const dataURL = canvas.toDataURL(SCREENSHOT_TYPE[format] || SCREENSHOT_TYPE.png, encoderOptions);\n        const file = dataURLToFile(dataURL);\n        if (type === SCREENSHOT_TYPE.base64) {\n            return dataURL;\n        } else if (type === SCREENSHOT_TYPE.blob) {\n            return file;\n        } else if (type === SCREENSHOT_TYPE.download) {\n            downloadImg(file, filename);\n        }\n    }\n\n    initCanvasViewSize() {\n        this.resize();\n    }\n\n    resize() {\n        const control = this.player.control;\n        const playerWidth = this.player.width;\n        this.$videoElement.width = playerWidth;\n        this.$videoElement.height = this.player._opt.hasControl ? this.player.height - CONTROL_HEIGHT : this.player.height;\n        const option = this.player._opt;\n        let objectFill = 'contain';\n        const rotate = option.rotate;\n        const toggleDisplay = createToggleDisplay(control, playerWidth);\n\n        // 默认是true\n        // 视频画面做等比缩放后,高或宽对齐canvas区域,画面不被拉伸,但有黑边\n\n        // 视频画面完全填充canvas区域,画面会被拉伸\n        if (!option.isResize) {\n            objectFill = 'fill';\n        }\n\n        // 视频画面做等比缩放后,完全填充canvas区域,画面不被拉伸,没有黑边,但画面显示不全\n        if (option.isFullResize) {\n            objectFill = 'none';\n        }\n        this.$videoElement.style.objectFit = objectFill;\n        const transform = this.$videoElement.style.transform;\n        if (transform) {\n            this.$videoElement.style.transform = transform;\n        } else {\n            this.$videoElement.style.transform = 'rotate(' + rotate + 'deg)';\n        }\n\n        /*function toggleDisplay(elementName, width, defDisplay = 'block') {\n            if (control && control[elementName]) {\n                setStyle(\n                    control[elementName],\n                    'display',\n                    (playerWidth < width) ? 'none' : defDisplay\n                )\n            }\n            console.log(elementName, (playerWidth < width) ? 'none' : defDisplay, control && control[elementName])\n        }*/\n\n        toggleDisplay('$screenshot', 500)\n\n        if (option.operateBtns.transform) {\n            if (control && control.movement) {\n                toggleDisplay('$movementActive', 600)\n            } else {\n                toggleDisplay('$movement', 600)\n            }\n            toggleDisplay('$movementWrap', 600)\n        }\n\n        if (option.operateBtns.transform) {\n            if (control && control.transform) {\n                toggleDisplay('$transformActive', 500)\n            } else {\n                toggleDisplay('$transform', 500)\n            }\n        }\n\n        if (option.operateBtns.zoom) {\n            if (control && control.zoom >= 2) {\n                toggleDisplay('$zoomEnlarge', 300)\n                toggleDisplay('$zoomMinimizeActive', 300)\n            } else if (control && control.zoom < 2 && control.zoom > 1) {\n                toggleDisplay('$zoomEnlargeActive', 300)\n                toggleDisplay('$zoomMinimizeActive', 300)\n            } else {\n                toggleDisplay('$zoomEnlargeActive', 300)\n                toggleDisplay('$zoomMinimize', 300)\n            }\n        }\n\n        if (option.operateBtns.play) {\n            if (this.player.playing) {\n                toggleDisplay('$pause', 300, 'flex')\n            } else {\n                toggleDisplay('$play', 300, 'flex')\n            }\n        }\n\n        if (option.operateBtns.audio) {\n            if (this.player.audio && this.player.audio.volume > 0) {\n                toggleDisplay('$volumeOn', 300, 'flex')\n            } else {\n                toggleDisplay('$volumeOff', 300, 'flex')\n            }\n        }\n\n        if (this.player.recorder && this.player.recording) {\n            toggleDisplay('$recordStop', 300)\n        } else {\n            toggleDisplay('$record', 300)\n        }\n\n        if (this.player && this.player.control) {\n            // console.log('resize -------------- resize', this.player)\n            this.player.control.emit('resize', this.$videoElement);\n        }\n        // console.log('resize -------------- resize', this.player)\n    }\n\n    getNewVideo (player) {\n        return new VideoLoader(player)\n    }\n\n    resetVideo () {\n        if (this.player.$container && this.player.$container.$videoElement) {\n            let $video = this.player.$container.$videoElement\n\n            // console.log($video.seekable)\n            if ($video) {\n                // $video.seekable.start($video.seekable.length - 10);\n                this.destroy()\n                this.player.$container.$videoElement = null;\n                this.$videoElement = null;\n                this.videoInfo = null;\n                this.player.video = null;\n                this.player.video = new VideoLoader(this.player)\n            }\n        }\n    }\n\n    destroyVideo ($oldVideo) {\n        if (this.player.$container && $oldVideo) {\n            // console.log($video.seekable)\n            // $video.seekable.start($video.seekable.length - 10);\n            if (this.player.$container.contains($oldVideo)) {\n                this.player.$container.removeChild($oldVideo);\n            }\n\n            this.init = false;\n            this.off();\n            this.player.debug.log('Video', 'destroy');\n            $oldVideo = null;\n        }\n    }\n\n}\n","import CanvasVideoLoader from './canvasLoader';\nimport VideoLoader from \"./videoLoader\";\n\nexport default class Video {\n    constructor(player) {\n        const Loader = Video.getLoaderFactory(player._opt);\n        return new Loader(player);\n    }\n\n    static getLoaderFactory(opt) {\n        if (opt.useMSE) {\n            return VideoLoader;\n        } else {\n            return CanvasVideoLoader;\n        }\n    }\n}\n","import Emitter from \"../utils/emitter\";\nimport {AUDIO_ENC_TYPE, AUDIO_SYNC_VIDEO_DIFF, EVENTS, VIDEO_ENC_TYPE} from \"../constant\";\nimport {clamp, noop} from \"../utils\";\n\nexport default class AudioContextLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.bufferList = [];\n        this.player = player;\n        this.scriptNode = null;\n        this.hasInitScriptNode = false;\n        this.audioContextChannel = null;\n\n        this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n        //\n        this.gainNode = this.audioContext.createGain();\n        // Get an AudioBufferSourceNode.\n        // This is the AudioNode to use when we want to play an AudioBuffer\n        const source = this.audioContext.createBufferSource();\n        // set the buffer in the AudioBufferSourceNode\n        source.buffer = this.audioContext.createBuffer(1, 1, 22050);\n        // connect the AudioBufferSourceNode to the\n        // destination so we can hear the sound\n        source.connect(this.audioContext.destination);\n        // noteOn as start\n        // start the source playing\n        if (source.noteOn) {\n            source.noteOn(0);\n        } else {\n            source.start(0);\n        }\n        this.audioBufferSourceNode = source;\n        //\n        this.mediaStreamAudioDestinationNode = this.audioContext.createMediaStreamDestination();\n        //\n        this.audioEnabled(true);\n        // default setting 0\n        this.gainNode.gain.value = 0;\n\n        this.playing = false;\n        //\n        this.audioSyncVideoOption = {\n            diff: null\n        };\n\n\n        this.audioInfo = {\n            encType: '',\n            channels: '',\n            sampleRate: ''\n        }\n        this.init = false;\n        this.hasAudio = false;\n\n        // update\n        this.on(EVENTS.videoSyncAudio, (options) => {\n            this.player.debug.log('AudioContext', `videoSyncAudio , audioTimestamp: ${options.audioTimestamp},videoTimestamp: ${options.videoTimestamp},diff:${options.diff}`)\n            this.audioSyncVideoOption = options;\n        })\n\n        this.player.debug.log('AudioContext', 'init');\n    }\n\n\n    destroy() {\n        this.closeAudio();\n        this.audioContext.close();\n        this.audioContext = null;\n        this.gainNode = null;\n        this.init = false;\n        this.hasAudio = false;\n        this.playing = false;\n\n        if (this.scriptNode) {\n            this.scriptNode.onaudioprocess = noop;\n            this.scriptNode = null;\n        }\n        this.audioBufferSourceNode = null;\n        this.mediaStreamAudioDestinationNode = null;\n        this.hasInitScriptNode = false;\n        this.audioSyncVideoOption = {\n            diff: null\n        };\n        this.audioInfo = {\n            encType: '',\n            channels: '',\n            sampleRate: ''\n        }\n        this.off();\n        this.player.debug.log('AudioContext', 'destroy');\n    }\n\n    updateAudioInfo(data) {\n        if (data.encTypeCode) {\n            this.audioInfo.encType = AUDIO_ENC_TYPE[data.encTypeCode];\n        }\n\n        if (data.channels) {\n            this.audioInfo.channels = data.channels;\n        }\n\n        if (data.sampleRate) {\n            this.audioInfo.sampleRate = data.sampleRate;\n        }\n\n        // audio 基本信息\n        if (this.audioInfo.sampleRate && this.audioInfo.channels && this.audioInfo.encType && !this.init) {\n            this.player.emit(EVENTS.audioInfo, this.audioInfo);\n            this.init = true;\n        }\n    }\n\n    //\n    get isPlaying() {\n        return this.playing;\n    }\n\n    get isMute() {\n        return this.gainNode.gain.value === 0 || this.isStateSuspended();\n    }\n\n    get volume() {\n        return this.gainNode.gain.value;\n    }\n\n    get bufferSize() {\n        return this.bufferList.length;\n    }\n\n\n    initScriptNode() {\n        this.playing = true;\n\n        if (this.hasInitScriptNode) {\n            return;\n        }\n        const channels = this.audioInfo.channels;\n\n        const scriptNode = this.audioContext.createScriptProcessor(1024, 0, channels);\n        // tips: if audio isStateSuspended  onaudioprocess method not working\n        scriptNode.onaudioprocess = (audioProcessingEvent) => {\n            const outputBuffer = audioProcessingEvent.outputBuffer;\n\n            if (this.bufferList.length && this.playing) {\n                // just for wasm\n                if (!this.player._opt.useWCS && !this.player._opt.useMSE) {\n                    // audio > video\n                    // wait\n                    if (this.audioSyncVideoOption.diff > AUDIO_SYNC_VIDEO_DIFF) {\n                        this.player.debug.warn('AudioContext', `audioSyncVideoOption more than diff :${this.audioSyncVideoOption.diff}, waiting`)\n                        // wait\n                        return;\n                    }\n                        // audio < video\n                    // throw away then chase video\n                    else if (this.audioSyncVideoOption.diff < -AUDIO_SYNC_VIDEO_DIFF) {\n                        this.player.debug.warn('AudioContext', `audioSyncVideoOption less than diff :${this.audioSyncVideoOption.diff}, dropping`)\n\n                        //\n                        let bufferItem = this.bufferList.shift();\n                        //\n                        while ((bufferItem.ts - this.player.videoTimestamp < -AUDIO_SYNC_VIDEO_DIFF) && this.bufferList.length > 0) {\n                            // this.player.debug.warn('AudioContext', `audioSyncVideoOption less than inner ts is:${bufferItem.ts}, videoTimestamp is ${this.player.videoTimestamp},diff:${bufferItem.ts - this.player.videoTimestamp}`)\n                            bufferItem = this.bufferList.shift();\n                        }\n\n                        if (this.bufferList.length === 0) {\n                            return;\n                        }\n                    }\n                }\n\n                if (this.bufferList.length === 0) {\n                    return;\n                }\n\n                const bufferItem = this.bufferList.shift();\n\n                // update audio time stamp\n                if (bufferItem && bufferItem.ts) {\n                    this.player.audioTimestamp = bufferItem.ts;\n                }\n\n                for (let channel = 0; channel < channels; channel++) {\n                    const b = bufferItem.buffer[channel]\n                    const nowBuffering = outputBuffer.getChannelData(channel);\n                    for (let i = 0; i < 1024; i++) {\n                        nowBuffering[i] = b[i] || 0\n                    }\n                }\n            }\n        }\n\n        scriptNode.connect(this.gainNode);\n        this.scriptNode = scriptNode;\n        this.gainNode.connect(this.audioContext.destination);\n        this.gainNode.connect(this.mediaStreamAudioDestinationNode);\n        this.hasInitScriptNode = true;\n    }\n\n    mute(flag) {\n        if (flag) {\n            if (!this.isMute) {\n                this.player.emit(EVENTS.mute, flag);\n            }\n            this.setVolume(0);\n            this.audioEnabled(false);\n            this.clear();\n        } else {\n            if (this.isMute) {\n                this.player.emit(EVENTS.mute, flag);\n            }\n            this.setVolume(0.5);\n            this.audioEnabled(true);\n        }\n    }\n\n    setVolume(volume) {\n        volume = parseFloat(volume).toFixed(2);\n        if (isNaN(volume)) {\n            return;\n        }\n        this.audioEnabled(true);\n        volume = clamp(volume, 0, 1);\n        this.gainNode.gain.value = volume;\n        this.gainNode.gain.setValueAtTime(volume, this.audioContext.currentTime);\n        this.player.emit(EVENTS.volumechange, this.player.volume);\n    }\n\n    closeAudio() {\n        if (this.hasInitScriptNode) {\n            this.scriptNode && this.scriptNode.disconnect(this.gainNode);\n            this.gainNode && this.gainNode.disconnect(this.audioContext.destination);\n            this.gainNode && this.gainNode.disconnect(this.mediaStreamAudioDestinationNode);\n        }\n        this.clear();\n    }\n\n    // 是否播放。。。\n    audioEnabled(flag) {\n        if (flag) {\n            if (this.audioContext.state === 'suspended') {\n                // resume\n                this.audioContext.resume();\n            }\n        } else {\n            if (this.audioContext.state === 'running') {\n                // suspend\n                this.audioContext.suspend();\n            }\n        }\n    }\n\n    isStateRunning() {\n        return this.audioContext.state === 'running';\n    }\n\n    isStateSuspended() {\n        return this.audioContext.state === 'suspended';\n    }\n\n    clear() {\n        this.bufferList = [];\n    }\n\n    play(buffer, ts) {\n        // if is mute\n        if (this.isMute) {\n            return;\n        }\n\n        this.hasAudio = true;\n\n        this.bufferList.push({\n            buffer,\n            ts\n        });\n\n        if (this.bufferList.length > 20) {\n            this.player.debug.warn('AudioContext', `bufferList is large: ${this.bufferList.length}`)\n\n            // out of memory\n            if (this.bufferList.length > 50) {\n                this.bufferList.shift();\n            }\n        }\n        // this.player.debug.log('AudioContext', `bufferList is ${this.bufferList.length}`)\n    }\n\n    pause() {\n        this.audioSyncVideoOption = {\n            diff: null\n        };\n        this.playing = false;\n        this.clear();\n    }\n\n    resume() {\n        this.playing = true;\n    }\n\n\n\n\n}\n","import AudioContextLoader from \"./audioContextLoader\";\nimport AudioLoader from \"./audioLoader\";\n\nexport default class Audio {\n    constructor(player) {\n        const Loader = Audio.getLoaderFactory();\n        return new Loader(player);\n    }\n\n    static getLoaderFactory() {\n        return AudioContextLoader;\n    }\n}\n","import Emitter from \"../utils/emitter\";\nimport {EVENTS, EVENTS_ERROR, JESSIBUCA_EVENTS} from \"../constant\";\nimport {calculationRate, now} from \"../utils\";\n\nexport default class FetchLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.playing = false;\n\n        this.abortController = new AbortController();\n        //\n        this.streamRate = calculationRate(rate => {\n            player.emit(EVENTS.kBps, (rate / 1024).toFixed(2));\n        });\n        player.debug.log('FetchStream', 'init');\n    }\n\n    destroy() {\n        this.abort()\n        this.off();\n        this.streamRate = null;\n        this.player.debug.log('FetchStream', 'destroy');\n    }\n\n    fetchStream(url) {\n        const {demux} = this.player;\n        this.player._times.streamStart = now();\n        fetch(url, {signal: this.abortController.signal}).then((res) => {\n            const reader = res.body.getReader();\n            this.emit(EVENTS.streamSuccess);\n            const fetchNext = () => {\n                reader.read().then(({done, value}) => {\n                        if (done) {\n                            demux.close();\n                        } else {\n                            this.streamRate && this.streamRate(value.byteLength);\n                            demux.dispatch(value);\n                            fetchNext();\n                        }\n                    }\n                ).catch((e) => {\n                    demux.close();\n                    // 这边会报用户 aborted a request 错误。\n                    this.emit(EVENTS_ERROR.fetchError, e);\n                    this.player.emit(EVENTS.error, EVENTS_ERROR.fetchError);\n                    this.abort();\n                })\n            }\n            fetchNext();\n        }).catch((e) => {\n            this.abort();\n            this.emit(EVENTS_ERROR.fetchError, e)\n            this.player.emit(EVENTS.error, EVENTS_ERROR.fetchError);\n        })\n    }\n\n    abort() {\n        if (this.abortController) {\n            this.abortController.abort();\n            this.abortController = null\n        }\n    }\n\n\n}\n","import Emitter from \"../utils/emitter\";\nimport {EVENTS, EVENTS_ERROR, WEBSOCKET_STATUS} from \"../constant\";\nimport {calculationRate, now} from \"../utils\";\n\nconst socketWeakMap = new WeakMap();\n\nexport default class WebsocketLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.socket = null;\n        this.socketStatus = WEBSOCKET_STATUS.notConnect;\n        this.wsUrl = null;\n        //\n        this.streamRate = calculationRate(rate => {\n            player.emit(EVENTS.kBps, (rate / 1024).toFixed(2));\n        });\n    }\n\n    destroy() {\n        let socket = socketWeakMap.get(this.player.stream);\n\n        if (socket) {\n            socketWeakMap.delete(this.player.stream);\n            socket.close();\n            socket = null;\n        }\n        this.socketStatus = WEBSOCKET_STATUS.notConnect;\n        this.streamRate = null;\n        this.wsUrl = null;\n        this.off();\n        this.player.debug.log('websocketLoader', 'destroy');\n    }\n\n    _createWebSocket() {\n        const player = this.player;\n        const {\n            debug,\n            events: {proxy},\n            demux,\n        } = player;\n        const socket = new WebSocket(this.wsUrl);\n\n        socketWeakMap.set(this.player.stream, socket);\n\n        socket.binaryType = 'arraybuffer';\n        proxy(socket, 'open', () => {\n            this.emit(EVENTS.streamSuccess);\n            debug.log('websocketLoader', 'socket open');\n            this.socketStatus = WEBSOCKET_STATUS.open;\n        });\n\n        proxy(socket, 'message', event => {\n            this.streamRate && this.streamRate(event.data.byteLength);\n            this._handleMessage(event.data);\n        });\n\n        proxy(socket, 'close', () => {\n            debug.log('websocketLoader', 'socket close');\n            this.emit(EVENTS.streamEnd);\n            this.socketStatus = WEBSOCKET_STATUS.close;\n            this.destroy()\n            player.replay()\n        });\n\n        proxy(socket, 'error', error => {\n            debug.log('websocketLoader', 'socket error');\n            this.emit(EVENTS_ERROR.websocketError, error);\n            this.player.emit(EVENTS.error, EVENTS_ERROR.websocketError);\n            this.socketStatus = WEBSOCKET_STATUS.error;\n            demux.close();\n            debug.log('websocketLoader', `socket error:`, error);\n        });\n    }\n\n    //\n    _handleMessage(message) {\n        const {demux} = this.player;\n        if (!demux) {\n            this.player.debug.warn('websocketLoader', 'websocket handle message demux is null');\n            return;\n        }\n        demux.dispatch(message);\n    }\n\n\n    fetchStream(url) {\n        this.player._times.streamStart = now();\n        this.wsUrl = url;\n        this._createWebSocket(url);\n    }\n\n\n}\n","import FetchLoader from \"./fetchLoader\";\nimport WebsocketLoader from \"./websocketLoader\";\nimport {PLAYER_PLAY_PROTOCOL} from \"../constant\";\n\nexport default class Stream {\n    constructor(player) {\n        const Loader = Stream.getLoaderFactory(player._opt.protocol);\n        return new Loader(player);\n    }\n\n    static getLoaderFactory(protocol) {\n        if (protocol === PLAYER_PLAY_PROTOCOL.fetch) {\n            return FetchLoader;\n        } else if (protocol === PLAYER_PLAY_PROTOCOL.websocket) {\n            return WebsocketLoader;\n        }\n    }\n}\n","'use strict';\r\n\r\n// Last time updated: 2021-03-09 3:20:22 AM UTC\r\n\r\n// ________________\r\n// RecordRTC v5.6.2\r\n\r\n// Open-Sourced: https://github.com/muaz-khan/RecordRTC\r\n\r\n// --------------------------------------------------\r\n// Muaz Khan     - www.MuazKhan.com\r\n// MIT License   - www.WebRTC-Experiment.com/licence\r\n// --------------------------------------------------\r\n\r\n// ____________\r\n// RecordRTC.js\r\n\r\n/**\r\n * {@link https://github.com/muaz-khan/RecordRTC|RecordRTC} is a WebRTC JavaScript library for audio/video as well as screen activity recording. It supports Chrome, Firefox, Opera, Android, and Microsoft Edge. Platforms: Linux, Mac and Windows. \r\n * @summary Record audio, video or screen inside the browser.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTC\r\n * @class\r\n * @example\r\n * var recorder = RecordRTC(mediaStream or [arrayOfMediaStream], {\r\n *     type: 'video', // audio or video or gif or canvas\r\n *     recorderType: MediaStreamRecorder || CanvasRecorder || StereoAudioRecorder || Etc\r\n * });\r\n * recorder.startRecording();\r\n * @see For further information:\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\r\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, desiredSampRate: 16000, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction RecordRTC(mediaStream, config) {\r\n    if (!mediaStream) {\r\n        throw 'First parameter is required.';\r\n    }\r\n\r\n    config = config || {\r\n        type: 'video'\r\n    };\r\n\r\n    config = new RecordRTCConfiguration(mediaStream, config);\r\n\r\n    // a reference to user's recordRTC object\r\n    var self = this;\r\n\r\n    function startRecording(config2) {\r\n        if (!config.disableLogs) {\r\n            console.log('RecordRTC version: ', self.version);\r\n        }\r\n\r\n        if (!!config2) {\r\n            // allow users to set options using startRecording method\r\n            // config2 is similar to main \"config\" object (second parameter over RecordRTC constructor)\r\n            config = new RecordRTCConfiguration(mediaStream, config2);\r\n        }\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('started recording ' + config.type + ' stream.');\r\n        }\r\n\r\n        if (mediaRecorder) {\r\n            mediaRecorder.clearRecordedData();\r\n            mediaRecorder.record();\r\n\r\n            setState('recording');\r\n\r\n            if (self.recordingDuration) {\r\n                handleRecordingDuration();\r\n            }\r\n            return self;\r\n        }\r\n\r\n        initRecorder(function() {\r\n            if (self.recordingDuration) {\r\n                handleRecordingDuration();\r\n            }\r\n        });\r\n\r\n        return self;\r\n    }\r\n\r\n    function initRecorder(initCallback) {\r\n        if (initCallback) {\r\n            config.initCallback = function() {\r\n                initCallback();\r\n                initCallback = config.initCallback = null; // recorder.initRecorder should be call-backed once.\r\n            };\r\n        }\r\n\r\n        var Recorder = new GetRecorderType(mediaStream, config);\r\n\r\n        mediaRecorder = new Recorder(mediaStream, config);\r\n        mediaRecorder.record();\r\n\r\n        setState('recording');\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Initialized recorderType:', mediaRecorder.constructor.name, 'for output-type:', config.type);\r\n        }\r\n    }\r\n\r\n    function stopRecording(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state === 'paused') {\r\n            self.resumeRecording();\r\n\r\n            setTimeout(function() {\r\n                stopRecording(callback);\r\n            }, 1);\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'recording' && !config.disableLogs) {\r\n            console.warn('Recording state should be: \"recording\", however current state is: ', self.state);\r\n        }\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Stopped recording ' + config.type + ' stream.');\r\n        }\r\n\r\n        if (config.type !== 'gif') {\r\n            mediaRecorder.stop(_callback);\r\n        } else {\r\n            mediaRecorder.stop();\r\n            _callback();\r\n        }\r\n\r\n        setState('stopped');\r\n\r\n        function _callback(__blob) {\r\n            if (!mediaRecorder) {\r\n                if (typeof callback.call === 'function') {\r\n                    callback.call(self, '');\r\n                } else {\r\n                    callback('');\r\n                }\r\n                return;\r\n            }\r\n\r\n            Object.keys(mediaRecorder).forEach(function(key) {\r\n                if (typeof mediaRecorder[key] === 'function') {\r\n                    return;\r\n                }\r\n\r\n                self[key] = mediaRecorder[key];\r\n            });\r\n\r\n            var blob = mediaRecorder.blob;\r\n\r\n            if (!blob) {\r\n                if (__blob) {\r\n                    mediaRecorder.blob = blob = __blob;\r\n                } else {\r\n                    throw 'Recording failed.';\r\n                }\r\n            }\r\n\r\n            if (blob && !config.disableLogs) {\r\n                console.log(blob.type, '->', bytesToSize(blob.size));\r\n            }\r\n\r\n            if (callback) {\r\n                var url;\r\n\r\n                try {\r\n                    url = URL.createObjectURL(blob);\r\n                } catch (e) {}\r\n\r\n                if (typeof callback.call === 'function') {\r\n                    callback.call(self, url);\r\n                } else {\r\n                    callback(url);\r\n                }\r\n            }\r\n\r\n            if (!config.autoWriteToDisk) {\r\n                return;\r\n            }\r\n\r\n            getDataURL(function(dataURL) {\r\n                var parameter = {};\r\n                parameter[config.type + 'Blob'] = dataURL;\r\n                DiskStorage.Store(parameter);\r\n            });\r\n        }\r\n    }\r\n\r\n    function pauseRecording() {\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'recording') {\r\n            if (!config.disableLogs) {\r\n                console.warn('Unable to pause the recording. Recording state: ', self.state);\r\n            }\r\n            return;\r\n        }\r\n\r\n        setState('paused');\r\n\r\n        mediaRecorder.pause();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Paused recording.');\r\n        }\r\n    }\r\n\r\n    function resumeRecording() {\r\n        if (!mediaRecorder) {\r\n            warningLog();\r\n            return;\r\n        }\r\n\r\n        if (self.state !== 'paused') {\r\n            if (!config.disableLogs) {\r\n                console.warn('Unable to resume the recording. Recording state: ', self.state);\r\n            }\r\n            return;\r\n        }\r\n\r\n        setState('recording');\r\n\r\n        // not all libs have this method yet\r\n        mediaRecorder.resume();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Resumed recording.');\r\n        }\r\n    }\r\n\r\n    function readFile(_blob) {\r\n        postMessage(new FileReaderSync().readAsDataURL(_blob));\r\n    }\r\n\r\n    function getDataURL(callback, _mediaRecorder) {\r\n        if (!callback) {\r\n            throw 'Pass a callback function over getDataURL.';\r\n        }\r\n\r\n        var blob = _mediaRecorder ? _mediaRecorder.blob : (mediaRecorder || {}).blob;\r\n\r\n        if (!blob) {\r\n            if (!config.disableLogs) {\r\n                console.warn('Blob encoder did not finish its job yet.');\r\n            }\r\n\r\n            setTimeout(function() {\r\n                getDataURL(callback, _mediaRecorder);\r\n            }, 1000);\r\n            return;\r\n        }\r\n\r\n        if (typeof Worker !== 'undefined' && !navigator.mozGetUserMedia) {\r\n            var webWorker = processInWebWorker(readFile);\r\n\r\n            webWorker.onmessage = function(event) {\r\n                callback(event.data);\r\n            };\r\n\r\n            webWorker.postMessage(blob);\r\n        } else {\r\n            var reader = new FileReader();\r\n            reader.readAsDataURL(blob);\r\n            reader.onload = function(event) {\r\n                callback(event.target.result);\r\n            };\r\n        }\r\n\r\n        function processInWebWorker(_function) {\r\n            try {\r\n                var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n                    'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n                ], {\r\n                    type: 'application/javascript'\r\n                }));\r\n\r\n                var worker = new Worker(blob);\r\n                URL.revokeObjectURL(blob);\r\n                return worker;\r\n            } catch (e) {}\r\n        }\r\n    }\r\n\r\n    function handleRecordingDuration(counter) {\r\n        counter = counter || 0;\r\n\r\n        if (self.state === 'paused') {\r\n            setTimeout(function() {\r\n                handleRecordingDuration(counter);\r\n            }, 1000);\r\n            return;\r\n        }\r\n\r\n        if (self.state === 'stopped') {\r\n            return;\r\n        }\r\n\r\n        if (counter >= self.recordingDuration) {\r\n            stopRecording(self.onRecordingStopped);\r\n            return;\r\n        }\r\n\r\n        counter += 1000; // 1-second\r\n\r\n        setTimeout(function() {\r\n            handleRecordingDuration(counter);\r\n        }, 1000);\r\n    }\r\n\r\n    function setState(state) {\r\n        if (!self) {\r\n            return;\r\n        }\r\n\r\n        self.state = state;\r\n\r\n        if (typeof self.onStateChanged.call === 'function') {\r\n            self.onStateChanged.call(self, state);\r\n        } else {\r\n            self.onStateChanged(state);\r\n        }\r\n    }\r\n\r\n    var WARNING = 'It seems that recorder is destroyed or \"startRecording\" is not invoked for ' + config.type + ' recorder.';\r\n\r\n    function warningLog() {\r\n        if (config.disableLogs === true) {\r\n            return;\r\n        }\r\n\r\n        console.warn(WARNING);\r\n    }\r\n\r\n    var mediaRecorder;\r\n\r\n    var returnObject = {\r\n        /**\r\n         * This method starts the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var recorder = RecordRTC(mediaStream, {\r\n         *     type: 'video'\r\n         * });\r\n         * recorder.startRecording();\r\n         */\r\n        startRecording: startRecording,\r\n\r\n        /**\r\n         * This method stops the recording. It is strongly recommended to get \"blob\" or \"URI\" inside the callback to make sure all recorders finished their job.\r\n         * @param {function} callback - Callback to get the recorded blob.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     // use either \"this\" or \"recorder\" object; both are identical\r\n         *     video.src = this.toURL();\r\n         *     var blob = this.getBlob();\r\n         * });\r\n         */\r\n        stopRecording: stopRecording,\r\n\r\n        /**\r\n         * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo Firefox is unable to pause the recording. Fix it.\r\n         * @example\r\n         * recorder.pauseRecording();  // pause the recording\r\n         * recorder.resumeRecording(); // resume again\r\n         */\r\n        pauseRecording: pauseRecording,\r\n\r\n        /**\r\n         * This method resumes the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.pauseRecording();  // first of all, pause the recording\r\n         * recorder.resumeRecording(); // now resume it\r\n         */\r\n        resumeRecording: resumeRecording,\r\n\r\n        /**\r\n         * This method initializes the recording.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo This method should be deprecated.\r\n         * @example\r\n         * recorder.initRecorder();\r\n         */\r\n        initRecorder: initRecorder,\r\n\r\n        /**\r\n         * Ask RecordRTC to auto-stop the recording after 5 minutes.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var fiveMinutes = 5 * 1000 * 60;\r\n         * recorder.setRecordingDuration(fiveMinutes, function() {\r\n         *    var blob = this.getBlob();\r\n         *    video.src = this.toURL();\r\n         * });\r\n         * \r\n         * // or otherwise\r\n         * recorder.setRecordingDuration(fiveMinutes).onRecordingStopped(function() {\r\n         *    var blob = this.getBlob();\r\n         *    video.src = this.toURL();\r\n         * });\r\n         */\r\n        setRecordingDuration: function(recordingDuration, callback) {\r\n            if (typeof recordingDuration === 'undefined') {\r\n                throw 'recordingDuration is required.';\r\n            }\r\n\r\n            if (typeof recordingDuration !== 'number') {\r\n                throw 'recordingDuration must be a number.';\r\n            }\r\n\r\n            self.recordingDuration = recordingDuration;\r\n            self.onRecordingStopped = callback || function() {};\r\n\r\n            return {\r\n                onRecordingStopped: function(callback) {\r\n                    self.onRecordingStopped = callback;\r\n                }\r\n            };\r\n        },\r\n\r\n        /**\r\n         * This method can be used to clear/reset all the recorded data.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo Figure out the difference between \"reset\" and \"clearRecordedData\" methods.\r\n         * @example\r\n         * recorder.clearRecordedData();\r\n         */\r\n        clearRecordedData: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            mediaRecorder.clearRecordedData();\r\n\r\n            if (!config.disableLogs) {\r\n                console.log('Cleared old recorded data.');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Get the recorded blob. Use this method inside the \"stopRecording\" callback.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var blob = this.getBlob();\r\n         *\r\n         *     var file = new File([blob], 'filename.webm', {\r\n         *         type: 'video/webm'\r\n         *     });\r\n         *\r\n         *     var formData = new FormData();\r\n         *     formData.append('file', file); // upload \"File\" object rather than a \"Blob\"\r\n         *     uploadToServer(formData);\r\n         * });\r\n         * @returns {Blob} Returns recorded data as \"Blob\" object.\r\n         */\r\n        getBlob: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            return mediaRecorder.blob;\r\n        },\r\n\r\n        /**\r\n         * Get data-URI instead of Blob.\r\n         * @param {function} callback - Callback to get the Data-URI.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     recorder.getDataURL(function(dataURI) {\r\n         *         video.src = dataURI;\r\n         *     });\r\n         * });\r\n         */\r\n        getDataURL: getDataURL,\r\n\r\n        /**\r\n         * Get virtual/temporary URL. Usage of this URL is limited to current tab.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     video.src = this.toURL();\r\n         * });\r\n         * @returns {String} Returns a virtual/temporary URL for the recorded \"Blob\".\r\n         */\r\n        toURL: function() {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            return URL.createObjectURL(mediaRecorder.blob);\r\n        },\r\n\r\n        /**\r\n         * Get internal recording object (i.e. internal module) e.g. MutliStreamRecorder, MediaStreamRecorder, StereoAudioRecorder or WhammyRecorder etc.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * var internalRecorder = recorder.getInternalRecorder();\r\n         * if(internalRecorder instanceof MultiStreamRecorder) {\r\n         *     internalRecorder.addStreams([newAudioStream]);\r\n         *     internalRecorder.resetVideoStreams([screenStream]);\r\n         * }\r\n         * @returns {Object} Returns internal recording object.\r\n         */\r\n        getInternalRecorder: function() {\r\n            return mediaRecorder;\r\n        },\r\n\r\n        /**\r\n         * Invoke save-as dialog to save the recorded blob into your disk.\r\n         * @param {string} fileName - Set your own file name.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     this.save('file-name');\r\n         *\r\n         *     // or manually:\r\n         *     invokeSaveAsDialog(this.getBlob(), 'filename.webm');\r\n         * });\r\n         */\r\n        save: function(fileName) {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            invokeSaveAsDialog(mediaRecorder.blob, fileName);\r\n        },\r\n\r\n        /**\r\n         * This method gets a blob from indexed-DB storage.\r\n         * @param {function} callback - Callback to get the recorded blob.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.getFromDisk(function(dataURL) {\r\n         *     video.src = dataURL;\r\n         * });\r\n         */\r\n        getFromDisk: function(callback) {\r\n            if (!mediaRecorder) {\r\n                warningLog();\r\n                return;\r\n            }\r\n\r\n            RecordRTC.getFromDisk(config.type, callback);\r\n        },\r\n\r\n        /**\r\n         * This method appends an array of webp images to the recorded video-blob. It takes an \"array\" object.\r\n         * @type {Array.<Array>}\r\n         * @param {Array} arrayOfWebPImages - Array of webp images.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @todo This method should be deprecated.\r\n         * @example\r\n         * var arrayOfWebPImages = [];\r\n         * arrayOfWebPImages.push({\r\n         *     duration: index,\r\n         *     image: 'data:image/webp;base64,...'\r\n         * });\r\n         * recorder.setAdvertisementArray(arrayOfWebPImages);\r\n         */\r\n        setAdvertisementArray: function(arrayOfWebPImages) {\r\n            config.advertisement = [];\r\n\r\n            var length = arrayOfWebPImages.length;\r\n            for (var i = 0; i < length; i++) {\r\n                config.advertisement.push({\r\n                    duration: i,\r\n                    image: arrayOfWebPImages[i]\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * It is equivalent to <code class=\"str\">\"recorder.getBlob()\"</code> method. Usage of \"getBlob\" is recommended, though.\r\n         * @property {Blob} blob - Recorded Blob can be accessed using this property.\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var blob = this.blob;\r\n         *\r\n         *     // below one is recommended\r\n         *     var blob = this.getBlob();\r\n         * });\r\n         */\r\n        blob: null,\r\n\r\n        /**\r\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\r\n         * @property {number} bufferSize - Buffer-size used to encode the WAV container\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     alert('Recorder used this buffer-size: ' + this.bufferSize);\r\n         * });\r\n         */\r\n        bufferSize: 0,\r\n\r\n        /**\r\n         * This works only with {recorderType:StereoAudioRecorder}. Use this property on \"stopRecording\" to verify the encoder's sample-rates.\r\n         * @property {number} sampleRate - Sample-rates used to encode the WAV container\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     alert('Recorder used these sample-rates: ' + this.sampleRate);\r\n         * });\r\n         */\r\n        sampleRate: 0,\r\n\r\n        /**\r\n         * {recorderType:StereoAudioRecorder} returns ArrayBuffer object.\r\n         * @property {ArrayBuffer} buffer - Audio ArrayBuffer, supported only in Chrome.\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @readonly\r\n         * @example\r\n         * recorder.stopRecording(function() {\r\n         *     var arrayBuffer = this.buffer;\r\n         *     alert(arrayBuffer.byteLength);\r\n         * });\r\n         */\r\n        buffer: null,\r\n\r\n        /**\r\n         * This method resets the recorder. So that you can reuse single recorder instance many times.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.reset();\r\n         * recorder.startRecording();\r\n         */\r\n        reset: function() {\r\n            if (self.state === 'recording' && !config.disableLogs) {\r\n                console.warn('Stop an active recorder.');\r\n            }\r\n\r\n            if (mediaRecorder && typeof mediaRecorder.clearRecordedData === 'function') {\r\n                mediaRecorder.clearRecordedData();\r\n            }\r\n            mediaRecorder = null;\r\n            setState('inactive');\r\n            self.blob = null;\r\n        },\r\n\r\n        /**\r\n         * This method is called whenever recorder's state changes. Use this as an \"event\".\r\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @instance\r\n         * @example\r\n         * recorder.onStateChanged = function(state) {\r\n         *     console.log('Recorder state: ', state);\r\n         * };\r\n         */\r\n        onStateChanged: function(state) {\r\n            if (!config.disableLogs) {\r\n                console.log('Recorder state changed:', state);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * A recorder can have inactive, recording, paused or stopped states.\r\n         * @property {String} state - A recorder's state can be: recording, paused, stopped or inactive.\r\n         * @memberof RecordRTC\r\n         * @static\r\n         * @readonly\r\n         * @example\r\n         * // this looper function will keep you updated about the recorder's states.\r\n         * (function looper() {\r\n         *     document.querySelector('h1').innerHTML = 'Recorder\\'s state is: ' + recorder.state;\r\n         *     if(recorder.state === 'stopped') return; // ignore+stop\r\n         *     setTimeout(looper, 1000); // update after every 3-seconds\r\n         * })();\r\n         * recorder.startRecording();\r\n         */\r\n        state: 'inactive',\r\n\r\n        /**\r\n         * Get recorder's readonly state.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @example\r\n         * var state = recorder.getState();\r\n         * @returns {String} Returns recording state.\r\n         */\r\n        getState: function() {\r\n            return self.state;\r\n        },\r\n\r\n        /**\r\n         * Destroy RecordRTC instance. Clear all recorders and objects.\r\n         * @method\r\n         * @memberof RecordRTC\r\n         * @example\r\n         * recorder.destroy();\r\n         */\r\n        destroy: function() {\r\n            var disableLogsCache = config.disableLogs;\r\n\r\n            config = {\r\n                disableLogs: true\r\n            };\r\n            self.reset();\r\n            setState('destroyed');\r\n            returnObject = self = null;\r\n\r\n            if (Storage.AudioContextConstructor) {\r\n                Storage.AudioContextConstructor.close();\r\n                Storage.AudioContextConstructor = null;\r\n            }\r\n\r\n            config.disableLogs = disableLogsCache;\r\n\r\n            if (!config.disableLogs) {\r\n                console.log('RecordRTC is destroyed.');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * RecordRTC version number\r\n         * @property {String} version - Release version number.\r\n         * @memberof RecordRTC\r\n         * @static\r\n         * @readonly\r\n         * @example\r\n         * alert(recorder.version);\r\n         */\r\n        version: '5.6.2'\r\n    };\r\n\r\n    if (!this) {\r\n        self = returnObject;\r\n        return returnObject;\r\n    }\r\n\r\n    // if someone wants to use RecordRTC with the \"new\" keyword.\r\n    for (var prop in returnObject) {\r\n        this[prop] = returnObject[prop];\r\n    }\r\n\r\n    self = this;\r\n\r\n    return returnObject;\r\n}\r\n\r\nRecordRTC.version = '5.6.2';\r\n\r\nif (typeof module !== 'undefined' /* && !!module.exports*/ ) {\r\n    module.exports = RecordRTC;\r\n}\r\n\r\nif (typeof define === 'function' && define.amd) {\r\n    define('RecordRTC', [], function() {\r\n        return RecordRTC;\r\n    });\r\n}\n\r\nRecordRTC.getFromDisk = function(type, callback) {\r\n    if (!callback) {\r\n        throw 'callback is mandatory.';\r\n    }\r\n\r\n    console.log('Getting recorded ' + (type === 'all' ? 'blobs' : type + ' blob ') + ' from disk!');\r\n    DiskStorage.Fetch(function(dataURL, _type) {\r\n        if (type !== 'all' && _type === type + 'Blob' && callback) {\r\n            callback(dataURL);\r\n        }\r\n\r\n        if (type === 'all' && callback) {\r\n            callback(dataURL, _type.replace('Blob', ''));\r\n        }\r\n    });\r\n};\r\n\r\n/**\r\n * This method can be used to store recorded blobs into IndexedDB storage.\r\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\r\n * @method\r\n * @memberof RecordRTC\r\n * @example\r\n * RecordRTC.writeToDisk({\r\n *     audio: audioBlob,\r\n *     video: videoBlob,\r\n *     gif  : gifBlob\r\n * });\r\n */\r\nRecordRTC.writeToDisk = function(options) {\r\n    console.log('Writing recorded blob(s) to disk!');\r\n    options = options || {};\r\n    if (options.audio && options.video && options.gif) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.video.getDataURL(function(videoDataURL) {\r\n                options.gif.getDataURL(function(gifDataURL) {\r\n                    DiskStorage.Store({\r\n                        audioBlob: audioDataURL,\r\n                        videoBlob: videoDataURL,\r\n                        gifBlob: gifDataURL\r\n                    });\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio && options.video) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.video.getDataURL(function(videoDataURL) {\r\n                DiskStorage.Store({\r\n                    audioBlob: audioDataURL,\r\n                    videoBlob: videoDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio && options.gif) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            options.gif.getDataURL(function(gifDataURL) {\r\n                DiskStorage.Store({\r\n                    audioBlob: audioDataURL,\r\n                    gifBlob: gifDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.video && options.gif) {\r\n        options.video.getDataURL(function(videoDataURL) {\r\n            options.gif.getDataURL(function(gifDataURL) {\r\n                DiskStorage.Store({\r\n                    videoBlob: videoDataURL,\r\n                    gifBlob: gifDataURL\r\n                });\r\n            });\r\n        });\r\n    } else if (options.audio) {\r\n        options.audio.getDataURL(function(audioDataURL) {\r\n            DiskStorage.Store({\r\n                audioBlob: audioDataURL\r\n            });\r\n        });\r\n    } else if (options.video) {\r\n        options.video.getDataURL(function(videoDataURL) {\r\n            DiskStorage.Store({\r\n                videoBlob: videoDataURL\r\n            });\r\n        });\r\n    } else if (options.gif) {\r\n        options.gif.getDataURL(function(gifDataURL) {\r\n            DiskStorage.Store({\r\n                gifBlob: gifDataURL\r\n            });\r\n        });\r\n    }\r\n};\n\r\n// __________________________\r\n// RecordRTC-Configuration.js\r\n\r\n/**\r\n * {@link RecordRTCConfiguration} is an inner/private helper for {@link RecordRTC}.\r\n * @summary It configures the 2nd parameter passed over {@link RecordRTC} and returns a valid \"config\" object.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTCConfiguration\r\n * @class\r\n * @example\r\n * var options = RecordRTCConfiguration(mediaStream, options);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, getNativeBlob:true, etc.}\r\n */\r\n\r\nfunction RecordRTCConfiguration(mediaStream, config) {\r\n    if (!config.recorderType && !config.type) {\r\n        if (!!config.audio && !!config.video) {\r\n            config.type = 'video';\r\n        } else if (!!config.audio && !config.video) {\r\n            config.type = 'audio';\r\n        }\r\n    }\r\n\r\n    if (config.recorderType && !config.type) {\r\n        if (config.recorderType === WhammyRecorder || config.recorderType === CanvasRecorder || (typeof WebAssemblyRecorder !== 'undefined' && config.recorderType === WebAssemblyRecorder)) {\r\n            config.type = 'video';\r\n        } else if (config.recorderType === GifRecorder) {\r\n            config.type = 'gif';\r\n        } else if (config.recorderType === StereoAudioRecorder) {\r\n            config.type = 'audio';\r\n        } else if (config.recorderType === MediaStreamRecorder) {\r\n            if (getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\r\n                config.type = 'video';\r\n            } else if (!getTracks(mediaStream, 'audio').length && getTracks(mediaStream, 'video').length) {\r\n                config.type = 'video';\r\n            } else if (getTracks(mediaStream, 'audio').length && !getTracks(mediaStream, 'video').length) {\r\n                config.type = 'audio';\r\n            } else {\r\n                // config.type = 'UnKnown';\r\n            }\r\n        }\r\n    }\r\n\r\n    if (typeof MediaStreamRecorder !== 'undefined' && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\r\n        if (!config.mimeType) {\r\n            config.mimeType = 'video/webm';\r\n        }\r\n\r\n        if (!config.type) {\r\n            config.type = config.mimeType.split('/')[0];\r\n        }\r\n\r\n        if (!config.bitsPerSecond) {\r\n            // config.bitsPerSecond = 128000;\r\n        }\r\n    }\r\n\r\n    // consider default type=audio\r\n    if (!config.type) {\r\n        if (config.mimeType) {\r\n            config.type = config.mimeType.split('/')[0];\r\n        }\r\n        if (!config.type) {\r\n            config.type = 'audio';\r\n        }\r\n    }\r\n\r\n    return config;\r\n}\n\r\n// __________________\r\n// GetRecorderType.js\r\n\r\n/**\r\n * {@link GetRecorderType} is an inner/private helper for {@link RecordRTC}.\r\n * @summary It returns best recorder-type available for your browser.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef GetRecorderType\r\n * @class\r\n * @example\r\n * var RecorderType = GetRecorderType(options);\r\n * var recorder = new RecorderType(options);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {type:\"video\", disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction GetRecorderType(mediaStream, config) {\r\n    var recorder;\r\n\r\n    // StereoAudioRecorder can work with all three: Edge, Firefox and Chrome\r\n    // todo: detect if it is Edge, then auto use: StereoAudioRecorder\r\n    if (isChrome || isEdge || isOpera) {\r\n        // Media Stream Recording API has not been implemented in chrome yet;\r\n        // That's why using WebAudio API to record stereo audio in WAV format\r\n        recorder = StereoAudioRecorder;\r\n    }\r\n\r\n    if (typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype && !isChrome) {\r\n        recorder = MediaStreamRecorder;\r\n    }\r\n\r\n    // video recorder (in WebM format)\r\n    if (config.type === 'video' && (isChrome || isOpera)) {\r\n        recorder = WhammyRecorder;\r\n\r\n        if (typeof WebAssemblyRecorder !== 'undefined' && typeof ReadableStream !== 'undefined') {\r\n            recorder = WebAssemblyRecorder;\r\n        }\r\n    }\r\n\r\n    // video recorder (in Gif format)\r\n    if (config.type === 'gif') {\r\n        recorder = GifRecorder;\r\n    }\r\n\r\n    // html2canvas recording!\r\n    if (config.type === 'canvas') {\r\n        recorder = CanvasRecorder;\r\n    }\r\n\r\n    if (isMediaRecorderCompatible() && recorder !== CanvasRecorder && recorder !== GifRecorder && typeof MediaRecorder !== 'undefined' && 'requestData' in MediaRecorder.prototype) {\r\n        if (getTracks(mediaStream, 'video').length || getTracks(mediaStream, 'audio').length) {\r\n            // audio-only recording\r\n            if (config.type === 'audio') {\r\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('audio/webm')) {\r\n                    recorder = MediaStreamRecorder;\r\n                }\r\n                // else recorder = StereoAudioRecorder;\r\n            } else {\r\n                // video or screen tracks\r\n                if (typeof MediaRecorder.isTypeSupported === 'function' && MediaRecorder.isTypeSupported('video/webm')) {\r\n                    recorder = MediaStreamRecorder;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (mediaStream instanceof Array && mediaStream.length) {\r\n        recorder = MultiStreamRecorder;\r\n    }\r\n\r\n    if (config.recorderType) {\r\n        recorder = config.recorderType;\r\n    }\r\n\r\n    if (!config.disableLogs && !!recorder && !!recorder.name) {\r\n        console.log('Using recorderType:', recorder.name || recorder.constructor.name);\r\n    }\r\n\r\n    if (!recorder && isSafari) {\r\n        recorder = MediaStreamRecorder;\r\n    }\r\n\r\n    return recorder;\r\n}\n\r\n// _____________\r\n// MRecordRTC.js\r\n\r\n/**\r\n * MRecordRTC runs on top of {@link RecordRTC} to bring multiple recordings in a single place, by providing simple API.\r\n * @summary MRecordRTC stands for \"Multiple-RecordRTC\".\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef MRecordRTC\r\n * @class\r\n * @example\r\n * var recorder = new MRecordRTC();\r\n * recorder.addStream(MediaStream);\r\n * recorder.mediaType = {\r\n *     audio: true, // or StereoAudioRecorder or MediaStreamRecorder\r\n *     video: true, // or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder\r\n *     gif: true    // or GifRecorder\r\n * };\r\n * // mimeType is optional and should be set only in advance cases.\r\n * recorder.mimeType = {\r\n *     audio: 'audio/wav',\r\n *     video: 'video/webm',\r\n *     gif:   'image/gif'\r\n * };\r\n * recorder.startRecording();\r\n * @see For further information:\r\n * @see {@link https://github.com/muaz-khan/RecordRTC/tree/master/MRecordRTC|MRecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @requires {@link RecordRTC}\r\n */\r\n\r\nfunction MRecordRTC(mediaStream) {\r\n\r\n    /**\r\n     * This method attaches MediaStream object to {@link MRecordRTC}.\r\n     * @param {MediaStream} mediaStream - A MediaStream object, either fetched using getUserMedia API, or generated using captureStreamUntilEnded or WebAudio API.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.addStream(MediaStream);\r\n     */\r\n    this.addStream = function(_mediaStream) {\r\n        if (_mediaStream) {\r\n            mediaStream = _mediaStream;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This property can be used to set the recording type e.g. audio, or video, or gif, or canvas.\r\n     * @property {object} mediaType - {audio: true, video: true, gif: true}\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * var recorder = new MRecordRTC();\r\n     * recorder.mediaType = {\r\n     *     audio: true, // TRUE or StereoAudioRecorder or MediaStreamRecorder\r\n     *     video: true, // TRUE or WhammyRecorder or MediaStreamRecorder or WebAssemblyRecorder or CanvasRecorder\r\n     *     gif  : true  // TRUE or GifRecorder\r\n     * };\r\n     */\r\n    this.mediaType = {\r\n        audio: true,\r\n        video: true\r\n    };\r\n\r\n    /**\r\n     * This method starts recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.startRecording();\r\n     */\r\n    this.startRecording = function() {\r\n        var mediaType = this.mediaType;\r\n        var recorderType;\r\n        var mimeType = this.mimeType || {\r\n            audio: null,\r\n            video: null,\r\n            gif: null\r\n        };\r\n\r\n        if (typeof mediaType.audio !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'audio').length) {\r\n            mediaType.audio = false;\r\n        }\r\n\r\n        if (typeof mediaType.video !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\r\n            mediaType.video = false;\r\n        }\r\n\r\n        if (typeof mediaType.gif !== 'function' && isMediaRecorderCompatible() && !getTracks(mediaStream, 'video').length) {\r\n            mediaType.gif = false;\r\n        }\r\n\r\n        if (!mediaType.audio && !mediaType.video && !mediaType.gif) {\r\n            throw 'MediaStream must have either audio or video tracks.';\r\n        }\r\n\r\n        if (!!mediaType.audio) {\r\n            recorderType = null;\r\n            if (typeof mediaType.audio === 'function') {\r\n                recorderType = mediaType.audio;\r\n            }\r\n\r\n            this.audioRecorder = new RecordRTC(mediaStream, {\r\n                type: 'audio',\r\n                bufferSize: this.bufferSize,\r\n                sampleRate: this.sampleRate,\r\n                numberOfAudioChannels: this.numberOfAudioChannels || 2,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.audio,\r\n                timeSlice: this.timeSlice,\r\n                onTimeStamp: this.onTimeStamp\r\n            });\r\n\r\n            if (!mediaType.video) {\r\n                this.audioRecorder.startRecording();\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.video) {\r\n            recorderType = null;\r\n            if (typeof mediaType.video === 'function') {\r\n                recorderType = mediaType.video;\r\n            }\r\n\r\n            var newStream = mediaStream;\r\n\r\n            if (isMediaRecorderCompatible() && !!mediaType.audio && typeof mediaType.audio === 'function') {\r\n                var videoTrack = getTracks(mediaStream, 'video')[0];\r\n\r\n                if (isFirefox) {\r\n                    newStream = new MediaStream();\r\n                    newStream.addTrack(videoTrack);\r\n\r\n                    if (recorderType && recorderType === WhammyRecorder) {\r\n                        // Firefox does NOT supports webp-encoding yet\r\n                        // But Firefox do supports WebAssemblyRecorder\r\n                        recorderType = MediaStreamRecorder;\r\n                    }\r\n                } else {\r\n                    newStream = new MediaStream();\r\n                    newStream.addTrack(videoTrack);\r\n                }\r\n            }\r\n\r\n            this.videoRecorder = new RecordRTC(newStream, {\r\n                type: 'video',\r\n                video: this.video,\r\n                canvas: this.canvas,\r\n                frameInterval: this.frameInterval || 10,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.video,\r\n                timeSlice: this.timeSlice,\r\n                onTimeStamp: this.onTimeStamp,\r\n                workerPath: this.workerPath,\r\n                webAssemblyPath: this.webAssemblyPath,\r\n                frameRate: this.frameRate, // used by WebAssemblyRecorder; values: usually 30; accepts any.\r\n                bitrate: this.bitrate // used by WebAssemblyRecorder; values: 0 to 1000+\r\n            });\r\n\r\n            if (!mediaType.audio) {\r\n                this.videoRecorder.startRecording();\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.audio && !!mediaType.video) {\r\n            var self = this;\r\n\r\n            var isSingleRecorder = isMediaRecorderCompatible() === true;\r\n\r\n            if (mediaType.audio instanceof StereoAudioRecorder && !!mediaType.video) {\r\n                isSingleRecorder = false;\r\n            } else if (mediaType.audio !== true && mediaType.video !== true && mediaType.audio !== mediaType.video) {\r\n                isSingleRecorder = false;\r\n            }\r\n\r\n            if (isSingleRecorder === true) {\r\n                self.audioRecorder = null;\r\n                self.videoRecorder.startRecording();\r\n            } else {\r\n                self.videoRecorder.initRecorder(function() {\r\n                    self.audioRecorder.initRecorder(function() {\r\n                        // Both recorders are ready to record things accurately\r\n                        self.videoRecorder.startRecording();\r\n                        self.audioRecorder.startRecording();\r\n                    });\r\n                });\r\n            }\r\n        }\r\n\r\n        if (!!mediaType.gif) {\r\n            recorderType = null;\r\n            if (typeof mediaType.gif === 'function') {\r\n                recorderType = mediaType.gif;\r\n            }\r\n            this.gifRecorder = new RecordRTC(mediaStream, {\r\n                type: 'gif',\r\n                frameRate: this.frameRate || 200,\r\n                quality: this.quality || 10,\r\n                disableLogs: this.disableLogs,\r\n                recorderType: recorderType,\r\n                mimeType: mimeType.gif\r\n            });\r\n            this.gifRecorder.startRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method stops recording.\r\n     * @param {function} callback - Callback function is invoked when all encoders finished their jobs.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.stopRecording(function(recording){\r\n     *     var audioBlob = recording.audio;\r\n     *     var videoBlob = recording.video;\r\n     *     var gifBlob   = recording.gif;\r\n     * });\r\n     */\r\n    this.stopRecording = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'audio');\r\n            });\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'video');\r\n            });\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.stopRecording(function(blobURL) {\r\n                callback(blobURL, 'gif');\r\n            });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method pauses recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.pauseRecording();\r\n     */\r\n    this.pauseRecording = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.pauseRecording();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.pauseRecording();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.pauseRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes recording.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.resumeRecording();\r\n     */\r\n    this.resumeRecording = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.resumeRecording();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.resumeRecording();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.resumeRecording();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to manually get all recorded blobs.\r\n     * @param {function} callback - All recorded blobs are passed back to the \"callback\" function.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.getBlob(function(recording){\r\n     *     var audioBlob = recording.audio;\r\n     *     var videoBlob = recording.video;\r\n     *     var gifBlob   = recording.gif;\r\n     * });\r\n     * // or\r\n     * var audioBlob = recorder.getBlob().audio;\r\n     * var videoBlob = recorder.getBlob().video;\r\n     */\r\n    this.getBlob = function(callback) {\r\n        var output = {};\r\n\r\n        if (this.audioRecorder) {\r\n            output.audio = this.audioRecorder.getBlob();\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            output.video = this.videoRecorder.getBlob();\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            output.gif = this.gifRecorder.getBlob();\r\n        }\r\n\r\n        if (callback) {\r\n            callback(output);\r\n        }\r\n\r\n        return output;\r\n    };\r\n\r\n    /**\r\n     * Destroy all recorder instances.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.destroy();\r\n     */\r\n    this.destroy = function() {\r\n        if (this.audioRecorder) {\r\n            this.audioRecorder.destroy();\r\n            this.audioRecorder = null;\r\n        }\r\n\r\n        if (this.videoRecorder) {\r\n            this.videoRecorder.destroy();\r\n            this.videoRecorder = null;\r\n        }\r\n\r\n        if (this.gifRecorder) {\r\n            this.gifRecorder.destroy();\r\n            this.gifRecorder = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to manually get all recorded blobs' DataURLs.\r\n     * @param {function} callback - All recorded blobs' DataURLs are passed back to the \"callback\" function.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.getDataURL(function(recording){\r\n     *     var audioDataURL = recording.audio;\r\n     *     var videoDataURL = recording.video;\r\n     *     var gifDataURL   = recording.gif;\r\n     * });\r\n     */\r\n    this.getDataURL = function(callback) {\r\n        this.getBlob(function(blob) {\r\n            if (blob.audio && blob.video) {\r\n                getDataURL(blob.audio, function(_audioDataURL) {\r\n                    getDataURL(blob.video, function(_videoDataURL) {\r\n                        callback({\r\n                            audio: _audioDataURL,\r\n                            video: _videoDataURL\r\n                        });\r\n                    });\r\n                });\r\n            } else if (blob.audio) {\r\n                getDataURL(blob.audio, function(_audioDataURL) {\r\n                    callback({\r\n                        audio: _audioDataURL\r\n                    });\r\n                });\r\n            } else if (blob.video) {\r\n                getDataURL(blob.video, function(_videoDataURL) {\r\n                    callback({\r\n                        video: _videoDataURL\r\n                    });\r\n                });\r\n            }\r\n        });\r\n\r\n        function getDataURL(blob, callback00) {\r\n            if (typeof Worker !== 'undefined') {\r\n                var webWorker = processInWebWorker(function readFile(_blob) {\r\n                    postMessage(new FileReaderSync().readAsDataURL(_blob));\r\n                });\r\n\r\n                webWorker.onmessage = function(event) {\r\n                    callback00(event.data);\r\n                };\r\n\r\n                webWorker.postMessage(blob);\r\n            } else {\r\n                var reader = new FileReader();\r\n                reader.readAsDataURL(blob);\r\n                reader.onload = function(event) {\r\n                    callback00(event.target.result);\r\n                };\r\n            }\r\n        }\r\n\r\n        function processInWebWorker(_function) {\r\n            var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n                'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n            ], {\r\n                type: 'application/javascript'\r\n            }));\r\n\r\n            var worker = new Worker(blob);\r\n            var url;\r\n            if (typeof URL !== 'undefined') {\r\n                url = URL;\r\n            } else if (typeof webkitURL !== 'undefined') {\r\n                url = webkitURL;\r\n            } else {\r\n                throw 'Neither URL nor webkitURL detected.';\r\n            }\r\n            url.revokeObjectURL(blob);\r\n            return worker;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method can be used to ask {@link MRecordRTC} to write all recorded blobs into IndexedDB storage.\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.writeToDisk();\r\n     */\r\n    this.writeToDisk = function() {\r\n        RecordRTC.writeToDisk({\r\n            audio: this.audioRecorder,\r\n            video: this.videoRecorder,\r\n            gif: this.gifRecorder\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method can be used to invoke a save-as dialog for all recorded blobs.\r\n     * @param {object} args - {audio: 'audio-name', video: 'video-name', gif: 'gif-name'}\r\n     * @method\r\n     * @memberof MRecordRTC\r\n     * @example\r\n     * recorder.save({\r\n     *     audio: 'audio-file-name',\r\n     *     video: 'video-file-name',\r\n     *     gif  : 'gif-file-name'\r\n     * });\r\n     */\r\n    this.save = function(args) {\r\n        args = args || {\r\n            audio: true,\r\n            video: true,\r\n            gif: true\r\n        };\r\n\r\n        if (!!args.audio && this.audioRecorder) {\r\n            this.audioRecorder.save(typeof args.audio === 'string' ? args.audio : '');\r\n        }\r\n\r\n        if (!!args.video && this.videoRecorder) {\r\n            this.videoRecorder.save(typeof args.video === 'string' ? args.video : '');\r\n        }\r\n        if (!!args.gif && this.gifRecorder) {\r\n            this.gifRecorder.save(typeof args.gif === 'string' ? args.gif : '');\r\n        }\r\n    };\r\n}\r\n\r\n/**\r\n * This method can be used to get all recorded blobs from IndexedDB storage.\r\n * @param {string} type - 'all' or 'audio' or 'video' or 'gif'\r\n * @param {function} callback - Callback function to get all stored blobs.\r\n * @method\r\n * @memberof MRecordRTC\r\n * @example\r\n * MRecordRTC.getFromDisk('all', function(dataURL, type){\r\n *     if(type === 'audio') { }\r\n *     if(type === 'video') { }\r\n *     if(type === 'gif')   { }\r\n * });\r\n */\r\nMRecordRTC.getFromDisk = RecordRTC.getFromDisk;\r\n\r\n/**\r\n * This method can be used to store recorded blobs into IndexedDB storage.\r\n * @param {object} options - {audio: Blob, video: Blob, gif: Blob}\r\n * @method\r\n * @memberof MRecordRTC\r\n * @example\r\n * MRecordRTC.writeToDisk({\r\n *     audio: audioBlob,\r\n *     video: videoBlob,\r\n *     gif  : gifBlob\r\n * });\r\n */\r\nMRecordRTC.writeToDisk = RecordRTC.writeToDisk;\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MRecordRTC = MRecordRTC;\r\n}\n\r\nvar browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\r\n\r\n(function(that) {\r\n    if (!that) {\r\n        return;\r\n    }\r\n\r\n    if (typeof window !== 'undefined') {\r\n        return;\r\n    }\r\n\r\n    if (typeof global === 'undefined') {\r\n        return;\r\n    }\r\n\r\n    global.navigator = {\r\n        userAgent: browserFakeUserAgent,\r\n        getUserMedia: function() {}\r\n    };\r\n\r\n    if (!global.console) {\r\n        global.console = {};\r\n    }\r\n\r\n    if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\r\n        global.console.error = global.console.log = global.console.log || function() {\r\n            console.log(arguments);\r\n        };\r\n    }\r\n\r\n    if (typeof document === 'undefined') {\r\n        /*global document:true */\r\n        that.document = {\r\n            documentElement: {\r\n                appendChild: function() {\r\n                    return '';\r\n                }\r\n            }\r\n        };\r\n\r\n        document.createElement = document.captureStream = document.mozCaptureStream = function() {\r\n            var obj = {\r\n                getContext: function() {\r\n                    return obj;\r\n                },\r\n                play: function() {},\r\n                pause: function() {},\r\n                drawImage: function() {},\r\n                toDataURL: function() {\r\n                    return '';\r\n                },\r\n                style: {}\r\n            };\r\n            return obj;\r\n        };\r\n\r\n        that.HTMLVideoElement = function() {};\r\n    }\r\n\r\n    if (typeof location === 'undefined') {\r\n        /*global location:true */\r\n        that.location = {\r\n            protocol: 'file:',\r\n            href: '',\r\n            hash: ''\r\n        };\r\n    }\r\n\r\n    if (typeof screen === 'undefined') {\r\n        /*global screen:true */\r\n        that.screen = {\r\n            width: 0,\r\n            height: 0\r\n        };\r\n    }\r\n\r\n    if (typeof URL === 'undefined') {\r\n        /*global screen:true */\r\n        that.URL = {\r\n            createObjectURL: function() {\r\n                return '';\r\n            },\r\n            revokeObjectURL: function() {\r\n                return '';\r\n            }\r\n        };\r\n    }\r\n\r\n    /*global window:true */\r\n    that.window = global;\r\n})(typeof global !== 'undefined' ? global : null);\n\r\n// _____________________________\r\n// Cross-Browser-Declarations.js\r\n\r\n// animation-frame used in WebM recording\r\n\r\n/*jshint -W079 */\r\nvar requestAnimationFrame = window.requestAnimationFrame;\r\nif (typeof requestAnimationFrame === 'undefined') {\r\n    if (typeof webkitRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = webkitRequestAnimationFrame;\r\n    } else if (typeof mozRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = mozRequestAnimationFrame;\r\n    } else if (typeof msRequestAnimationFrame !== 'undefined') {\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = msRequestAnimationFrame;\r\n    } else if (typeof requestAnimationFrame === 'undefined') {\r\n        // via: https://gist.github.com/paulirish/1579671\r\n        var lastTime = 0;\r\n\r\n        /*global requestAnimationFrame:true */\r\n        requestAnimationFrame = function(callback, element) {\r\n            var currTime = new Date().getTime();\r\n            var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n            var id = setTimeout(function() {\r\n                callback(currTime + timeToCall);\r\n            }, timeToCall);\r\n            lastTime = currTime + timeToCall;\r\n            return id;\r\n        };\r\n    }\r\n}\r\n\r\n/*jshint -W079 */\r\nvar cancelAnimationFrame = window.cancelAnimationFrame;\r\nif (typeof cancelAnimationFrame === 'undefined') {\r\n    if (typeof webkitCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = webkitCancelAnimationFrame;\r\n    } else if (typeof mozCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = mozCancelAnimationFrame;\r\n    } else if (typeof msCancelAnimationFrame !== 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = msCancelAnimationFrame;\r\n    } else if (typeof cancelAnimationFrame === 'undefined') {\r\n        /*global cancelAnimationFrame:true */\r\n        cancelAnimationFrame = function(id) {\r\n            clearTimeout(id);\r\n        };\r\n    }\r\n}\r\n\r\n// WebAudio API representer\r\nvar AudioContext = window.AudioContext;\r\n\r\nif (typeof AudioContext === 'undefined') {\r\n    if (typeof webkitAudioContext !== 'undefined') {\r\n        /*global AudioContext:true */\r\n        AudioContext = webkitAudioContext;\r\n    }\r\n\r\n    if (typeof mozAudioContext !== 'undefined') {\r\n        /*global AudioContext:true */\r\n        AudioContext = mozAudioContext;\r\n    }\r\n}\r\n\r\n/*jshint -W079 */\r\nvar URL = window.URL;\r\n\r\nif (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\r\n    /*global URL:true */\r\n    URL = webkitURL;\r\n}\r\n\r\nif (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\r\n    if (typeof navigator.webkitGetUserMedia !== 'undefined') {\r\n        navigator.getUserMedia = navigator.webkitGetUserMedia;\r\n    }\r\n\r\n    if (typeof navigator.mozGetUserMedia !== 'undefined') {\r\n        navigator.getUserMedia = navigator.mozGetUserMedia;\r\n    }\r\n}\r\n\r\nvar isEdge = navigator.userAgent.indexOf('Edge') !== -1 && (!!navigator.msSaveBlob || !!navigator.msSaveOrOpenBlob);\r\nvar isOpera = !!window.opera || navigator.userAgent.indexOf('OPR/') !== -1;\r\nvar isFirefox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1 && ('netscape' in window) && / rv:/.test(navigator.userAgent);\r\nvar isChrome = (!isOpera && !isEdge && !!navigator.webkitGetUserMedia) || isElectron() || navigator.userAgent.toLowerCase().indexOf('chrome/') !== -1;\r\n\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n\r\nif (isSafari && !isChrome && navigator.userAgent.indexOf('CriOS') !== -1) {\r\n    isSafari = false;\r\n    isChrome = true;\r\n}\r\n\r\nvar MediaStream = window.MediaStream;\r\n\r\nif (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\r\n    MediaStream = webkitMediaStream;\r\n}\r\n\r\n/*global MediaStream:true */\r\nif (typeof MediaStream !== 'undefined') {\r\n    // override \"stop\" method for all browsers\r\n    if (typeof MediaStream.prototype.stop === 'undefined') {\r\n        MediaStream.prototype.stop = function() {\r\n            this.getTracks().forEach(function(track) {\r\n                track.stop();\r\n            });\r\n        };\r\n    }\r\n}\r\n\r\n// below function via: http://goo.gl/B3ae8c\r\n/**\r\n * Return human-readable file size.\r\n * @param {number} bytes - Pass bytes and get formatted string.\r\n * @returns {string} - formatted string\r\n * @example\r\n * bytesToSize(1024*1024*5) === '5 GB'\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction bytesToSize(bytes) {\r\n    var k = 1000;\r\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n    if (bytes === 0) {\r\n        return '0 Bytes';\r\n    }\r\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(k)), 10);\r\n    return (bytes / Math.pow(k, i)).toPrecision(3) + ' ' + sizes[i];\r\n}\r\n\r\n/**\r\n * @param {Blob} file - File or Blob object. This parameter is required.\r\n * @param {string} fileName - Optional file name e.g. \"Recorded-Video.webm\"\r\n * @example\r\n * invokeSaveAsDialog(blob or file, [optional] fileName);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction invokeSaveAsDialog(file, fileName) {\r\n    if (!file) {\r\n        throw 'Blob object is required.';\r\n    }\r\n\r\n    if (!file.type) {\r\n        try {\r\n            file.type = 'video/webm';\r\n        } catch (e) {}\r\n    }\r\n\r\n    var fileExtension = (file.type || 'video/webm').split('/')[1];\r\n    if (fileExtension.indexOf(';') !== -1) {\r\n        // extended mimetype, e.g. 'video/webm;codecs=vp8,opus'\r\n        fileExtension = fileExtension.split(';')[0];\r\n    }\r\n    if (fileName && fileName.indexOf('.') !== -1) {\r\n        var splitted = fileName.split('.');\r\n        fileName = splitted[0];\r\n        fileExtension = splitted[1];\r\n    }\r\n\r\n    var fileFullName = (fileName || (Math.round(Math.random() * 9999999999) + 888888888)) + '.' + fileExtension;\r\n\r\n    if (typeof navigator.msSaveOrOpenBlob !== 'undefined') {\r\n        return navigator.msSaveOrOpenBlob(file, fileFullName);\r\n    } else if (typeof navigator.msSaveBlob !== 'undefined') {\r\n        return navigator.msSaveBlob(file, fileFullName);\r\n    }\r\n\r\n    var hyperlink = document.createElement('a');\r\n    hyperlink.href = URL.createObjectURL(file);\r\n    hyperlink.download = fileFullName;\r\n\r\n    hyperlink.style = 'display:none;opacity:0;color:transparent;';\r\n    (document.body || document.documentElement).appendChild(hyperlink);\r\n\r\n    if (typeof hyperlink.click === 'function') {\r\n        hyperlink.click();\r\n    } else {\r\n        hyperlink.target = '_blank';\r\n        hyperlink.dispatchEvent(new MouseEvent('click', {\r\n            view: window,\r\n            bubbles: true,\r\n            cancelable: true\r\n        }));\r\n    }\r\n\r\n    URL.revokeObjectURL(hyperlink.href);\r\n}\r\n\r\n/**\r\n * from: https://github.com/cheton/is-electron/blob/master/index.js\r\n **/\r\nfunction isElectron() {\r\n    // Renderer process\r\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\r\n        return true;\r\n    }\r\n\r\n    // Main process\r\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\r\n        return true;\r\n    }\r\n\r\n    // Detect the user agent when the `nodeIntegration` option is set to true\r\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\r\n        return true;\r\n    }\r\n\r\n    return false;\r\n}\r\n\r\nfunction getTracks(stream, kind) {\r\n    if (!stream || !stream.getTracks) {\r\n        return [];\r\n    }\r\n\r\n    return stream.getTracks().filter(function(t) {\r\n        return t.kind === (kind || 'audio');\r\n    });\r\n}\r\n\r\nfunction setSrcObject(stream, element) {\r\n    if ('srcObject' in element) {\r\n        element.srcObject = stream;\r\n    } else if ('mozSrcObject' in element) {\r\n        element.mozSrcObject = stream;\r\n    } else {\r\n        element.srcObject = stream;\r\n    }\r\n}\r\n\r\n/**\r\n * @param {Blob} file - File or Blob object.\r\n * @param {function} callback - Callback function.\r\n * @example\r\n * getSeekableBlob(blob or file, callback);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\nfunction getSeekableBlob(inputBlob, callback) {\r\n    // EBML.js copyrights goes to: https://github.com/legokichi/ts-ebml\r\n    if (typeof EBML === 'undefined') {\r\n        throw new Error('Please link: https://www.webrtc-experiment.com/EBML.js');\r\n    }\r\n\r\n    var reader = new EBML.Reader();\r\n    var decoder = new EBML.Decoder();\r\n    var tools = EBML.tools;\r\n\r\n    var fileReader = new FileReader();\r\n    fileReader.onload = function(e) {\r\n        var ebmlElms = decoder.decode(this.result);\r\n        ebmlElms.forEach(function(element) {\r\n            reader.read(element);\r\n        });\r\n        reader.stop();\r\n        var refinedMetadataBuf = tools.makeMetadataSeekable(reader.metadatas, reader.duration, reader.cues);\r\n        var body = this.result.slice(reader.metadataSize);\r\n        var newBlob = new Blob([refinedMetadataBuf, body], {\r\n            type: 'video/webm'\r\n        });\r\n\r\n        callback(newBlob);\r\n    };\r\n    fileReader.readAsArrayBuffer(inputBlob);\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.invokeSaveAsDialog = invokeSaveAsDialog;\r\n    RecordRTC.getTracks = getTracks;\r\n    RecordRTC.getSeekableBlob = getSeekableBlob;\r\n    RecordRTC.bytesToSize = bytesToSize;\r\n    RecordRTC.isElectron = isElectron;\r\n}\r\n\r\n// __________ (used to handle stuff like http://goo.gl/xmE5eg) issue #129\r\n// Storage.js\r\n\r\n/**\r\n * Storage is a standalone object used by {@link RecordRTC} to store reusable objects e.g. \"new AudioContext\".\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @example\r\n * Storage.AudioContext === webkitAudioContext\r\n * @property {webkitAudioContext} AudioContext - Keeps a reference to AudioContext object.\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\nvar Storage = {};\r\n\r\nif (typeof AudioContext !== 'undefined') {\r\n    Storage.AudioContext = AudioContext;\r\n} else if (typeof webkitAudioContext !== 'undefined') {\r\n    Storage.AudioContext = webkitAudioContext;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.Storage = Storage;\r\n}\n\r\nfunction isMediaRecorderCompatible() {\r\n    if (isFirefox || isSafari || isEdge) {\r\n        return true;\r\n    }\r\n\r\n    var nVer = navigator.appVersion;\r\n    var nAgt = navigator.userAgent;\r\n    var fullVersion = '' + parseFloat(navigator.appVersion);\r\n    var majorVersion = parseInt(navigator.appVersion, 10);\r\n    var nameOffset, verOffset, ix;\r\n\r\n    if (isChrome || isOpera) {\r\n        verOffset = nAgt.indexOf('Chrome');\r\n        fullVersion = nAgt.substring(verOffset + 7);\r\n    }\r\n\r\n    // trim the fullVersion string at semicolon/space if present\r\n    if ((ix = fullVersion.indexOf(';')) !== -1) {\r\n        fullVersion = fullVersion.substring(0, ix);\r\n    }\r\n\r\n    if ((ix = fullVersion.indexOf(' ')) !== -1) {\r\n        fullVersion = fullVersion.substring(0, ix);\r\n    }\r\n\r\n    majorVersion = parseInt('' + fullVersion, 10);\r\n\r\n    if (isNaN(majorVersion)) {\r\n        fullVersion = '' + parseFloat(navigator.appVersion);\r\n        majorVersion = parseInt(navigator.appVersion, 10);\r\n    }\r\n\r\n    return majorVersion >= 49;\r\n}\n\r\n// ______________________\r\n// MediaStreamRecorder.js\r\n\r\n/**\r\n * MediaStreamRecorder is an abstraction layer for {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}. It is used by {@link RecordRTC} to record MediaStream(s) in both Chrome and Firefox.\r\n * @summary Runs top over {@link https://w3c.github.io/mediacapture-record/MediaRecorder.html|MediaRecorder API}.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://github.com/muaz-khan|Muaz Khan}\r\n * @typedef MediaStreamRecorder\r\n * @class\r\n * @example\r\n * var config = {\r\n *     mimeType: 'video/webm', // vp8, vp9, h264, mkv, opus/vorbis\r\n *     audioBitsPerSecond : 256 * 8 * 1024,\r\n *     videoBitsPerSecond : 256 * 8 * 1024,\r\n *     bitsPerSecond: 256 * 8 * 1024,  // if this is provided, skip above two\r\n *     checkForInactiveTracks: true,\r\n *     timeSlice: 1000, // concatenate intervals based blobs\r\n *     ondataavailable: function() {} // get intervals based blobs\r\n * }\r\n * var recorder = new MediaStreamRecorder(mediaStream, config);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n *\r\n *     // or\r\n *     var blob = recorder.blob;\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {disableLogs:true, initCallback: function, mimeType: \"video/webm\", timeSlice: 1000}\r\n * @throws Will throw an error if first argument \"MediaStream\" is missing. Also throws error if \"MediaRecorder API\" are not supported by the browser.\r\n */\r\n\r\nfunction MediaStreamRecorder(mediaStream, config) {\r\n    var self = this;\r\n\r\n    if (typeof mediaStream === 'undefined') {\r\n        throw 'First argument \"MediaStream\" is required.';\r\n    }\r\n\r\n    if (typeof MediaRecorder === 'undefined') {\r\n        throw 'Your browser does not support the Media Recorder API. Please try other modules e.g. WhammyRecorder or StereoAudioRecorder.';\r\n    }\r\n\r\n    config = config || {\r\n        // bitsPerSecond: 256 * 8 * 1024,\r\n        mimeType: 'video/webm'\r\n    };\r\n\r\n    if (config.type === 'audio') {\r\n        if (getTracks(mediaStream, 'video').length && getTracks(mediaStream, 'audio').length) {\r\n            var stream;\r\n            if (!!navigator.mozGetUserMedia) {\r\n                stream = new MediaStream();\r\n                stream.addTrack(getTracks(mediaStream, 'audio')[0]);\r\n            } else {\r\n                // webkitMediaStream\r\n                stream = new MediaStream(getTracks(mediaStream, 'audio'));\r\n            }\r\n            mediaStream = stream;\r\n        }\r\n\r\n        if (!config.mimeType || config.mimeType.toString().toLowerCase().indexOf('audio') === -1) {\r\n            config.mimeType = isChrome ? 'audio/webm' : 'audio/ogg';\r\n        }\r\n\r\n        if (config.mimeType && config.mimeType.toString().toLowerCase() !== 'audio/ogg' && !!navigator.mozGetUserMedia) {\r\n            // forcing better codecs on Firefox (via #166)\r\n            config.mimeType = 'audio/ogg';\r\n        }\r\n    }\r\n\r\n    var arrayOfBlobs = [];\r\n\r\n    /**\r\n     * This method returns array of blobs. Use only with \"timeSlice\". Its useful to preview recording anytime, without using the \"stop\" method.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var arrayOfBlobs = recorder.getArrayOfBlobs();\r\n     * @returns {Array} Returns array of recorded blobs.\r\n     */\r\n    this.getArrayOfBlobs = function() {\r\n        return arrayOfBlobs;\r\n    };\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        // set defaults\r\n        self.blob = null;\r\n        self.clearRecordedData();\r\n        self.timestamps = [];\r\n        allStates = [];\r\n        arrayOfBlobs = [];\r\n\r\n        var recorderHints = config;\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Passing following config over MediaRecorder API.', recorderHints);\r\n        }\r\n\r\n        if (mediaRecorder) {\r\n            // mandatory to make sure Firefox doesn't fails to record streams 3-4 times without reloading the page.\r\n            mediaRecorder = null;\r\n        }\r\n\r\n        if (isChrome && !isMediaRecorderCompatible()) {\r\n            // to support video-only recording on stable\r\n            recorderHints = 'video/vp8';\r\n        }\r\n\r\n        if (typeof MediaRecorder.isTypeSupported === 'function' && recorderHints.mimeType) {\r\n            if (!MediaRecorder.isTypeSupported(recorderHints.mimeType)) {\r\n                if (!config.disableLogs) {\r\n                    console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\r\n                }\r\n\r\n                recorderHints.mimeType = config.type === 'audio' ? 'audio/webm' : 'video/webm';\r\n            }\r\n        }\r\n\r\n        // using MediaRecorder API here\r\n        try {\r\n            mediaRecorder = new MediaRecorder(mediaStream, recorderHints);\r\n\r\n            // reset\r\n            config.mimeType = recorderHints.mimeType;\r\n        } catch (e) {\r\n            // chrome-based fallback\r\n            mediaRecorder = new MediaRecorder(mediaStream);\r\n        }\r\n\r\n        // old hack?\r\n        if (recorderHints.mimeType && !MediaRecorder.isTypeSupported && 'canRecordMimeType' in mediaRecorder && mediaRecorder.canRecordMimeType(recorderHints.mimeType) === false) {\r\n            if (!config.disableLogs) {\r\n                console.warn('MediaRecorder API seems unable to record mimeType:', recorderHints.mimeType);\r\n            }\r\n        }\r\n\r\n        // Dispatching OnDataAvailable Handler\r\n        mediaRecorder.ondataavailable = function(e) {\r\n            if (e.data) {\r\n                allStates.push('ondataavailable: ' + bytesToSize(e.data.size));\r\n            }\r\n\r\n            if (typeof config.timeSlice === 'number') {\r\n                if (e.data && e.data.size) {\r\n                    arrayOfBlobs.push(e.data);\r\n                    updateTimeStamp();\r\n\r\n                    if (typeof config.ondataavailable === 'function') {\r\n                        // intervals based blobs\r\n                        var blob = config.getNativeBlob ? e.data : new Blob([e.data], {\r\n                            type: getMimeType(recorderHints)\r\n                        });\r\n                        config.ondataavailable(blob);\r\n                    }\r\n                }\r\n                return;\r\n            }\r\n\r\n            if (!e.data || !e.data.size || e.data.size < 100 || self.blob) {\r\n                // make sure that stopRecording always getting fired\r\n                // even if there is invalid data\r\n                if (self.recordingCallback) {\r\n                    self.recordingCallback(new Blob([], {\r\n                        type: getMimeType(recorderHints)\r\n                    }));\r\n                    self.recordingCallback = null;\r\n                }\r\n                return;\r\n            }\r\n\r\n            self.blob = config.getNativeBlob ? e.data : new Blob([e.data], {\r\n                type: getMimeType(recorderHints)\r\n            });\r\n\r\n            if (self.recordingCallback) {\r\n                self.recordingCallback(self.blob);\r\n                self.recordingCallback = null;\r\n            }\r\n        };\r\n\r\n        mediaRecorder.onstart = function() {\r\n            allStates.push('started');\r\n        };\r\n\r\n        mediaRecorder.onpause = function() {\r\n            allStates.push('paused');\r\n        };\r\n\r\n        mediaRecorder.onresume = function() {\r\n            allStates.push('resumed');\r\n        };\r\n\r\n        mediaRecorder.onstop = function() {\r\n            allStates.push('stopped');\r\n        };\r\n\r\n        mediaRecorder.onerror = function(error) {\r\n            if (!error) {\r\n                return;\r\n            }\r\n\r\n            if (!error.name) {\r\n                error.name = 'UnknownError';\r\n            }\r\n\r\n            allStates.push('error: ' + error);\r\n\r\n            if (!config.disableLogs) {\r\n                // via: https://w3c.github.io/mediacapture-record/MediaRecorder.html#exception-summary\r\n                if (error.name.toString().toLowerCase().indexOf('invalidstate') !== -1) {\r\n                    console.error('The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.', error);\r\n                } else if (error.name.toString().toLowerCase().indexOf('notsupported') !== -1) {\r\n                    console.error('MIME type (', recorderHints.mimeType, ') is not supported.', error);\r\n                } else if (error.name.toString().toLowerCase().indexOf('security') !== -1) {\r\n                    console.error('MediaRecorder security error', error);\r\n                }\r\n\r\n                // older code below\r\n                else if (error.name === 'OutOfMemory') {\r\n                    console.error('The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'IllegalStreamModification') {\r\n                    console.error('A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'OtherRecordingError') {\r\n                    console.error('Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.', error);\r\n                } else if (error.name === 'GenericError') {\r\n                    console.error('The UA cannot provide the codec or recording option that has been requested.', error);\r\n                } else {\r\n                    console.error('MediaRecorder Error', error);\r\n                }\r\n            }\r\n\r\n            (function(looper) {\r\n                if (!self.manuallyStopped && mediaRecorder && mediaRecorder.state === 'inactive') {\r\n                    delete config.timeslice;\r\n\r\n                    // 10 minutes, enough?\r\n                    mediaRecorder.start(10 * 60 * 1000);\r\n                    return;\r\n                }\r\n\r\n                setTimeout(looper, 1000);\r\n            })();\r\n\r\n            if (mediaRecorder.state !== 'inactive' && mediaRecorder.state !== 'stopped') {\r\n                mediaRecorder.stop();\r\n            }\r\n        };\r\n\r\n        if (typeof config.timeSlice === 'number') {\r\n            updateTimeStamp();\r\n            mediaRecorder.start(config.timeSlice);\r\n        } else {\r\n            // default is 60 minutes; enough?\r\n            // use config => {timeSlice: 1000} otherwise\r\n\r\n            mediaRecorder.start(3.6e+6);\r\n        }\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback(); // old code\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @property {Array} timestamps - Array of time stamps\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * console.log(recorder.timestamps);\r\n     */\r\n    this.timestamps = [];\r\n\r\n    function updateTimeStamp() {\r\n        self.timestamps.push(new Date().getTime());\r\n\r\n        if (typeof config.onTimeStamp === 'function') {\r\n            config.onTimeStamp(self.timestamps[self.timestamps.length - 1], self.timestamps);\r\n        }\r\n    }\r\n\r\n    function getMimeType(secondObject) {\r\n        if (mediaRecorder && mediaRecorder.mimeType) {\r\n            return mediaRecorder.mimeType;\r\n        }\r\n\r\n        return secondObject.mimeType || 'video/webm';\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        self.manuallyStopped = true; // used inside the mediaRecorder.onerror\r\n\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        this.recordingCallback = callback;\r\n\r\n        if (mediaRecorder.state === 'recording') {\r\n            mediaRecorder.stop();\r\n        }\r\n\r\n        if (typeof config.timeSlice === 'number') {\r\n            setTimeout(function() {\r\n                self.blob = new Blob(arrayOfBlobs, {\r\n                    type: getMimeType(config)\r\n                });\r\n\r\n                self.recordingCallback(self.blob);\r\n            }, 100);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        if (mediaRecorder.state === 'recording') {\r\n            mediaRecorder.pause();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        if (mediaRecorder.state === 'paused') {\r\n            mediaRecorder.resume();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (mediaRecorder && mediaRecorder.state === 'recording') {\r\n            self.stop(clearRecordedDataCB);\r\n        }\r\n\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        arrayOfBlobs = [];\r\n        mediaRecorder = null;\r\n        self.timestamps = [];\r\n    }\r\n\r\n    // Reference to \"MediaRecorder\" object\r\n    var mediaRecorder;\r\n\r\n    /**\r\n     * Access to native MediaRecorder API\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @instance\r\n     * @example\r\n     * var internal = recorder.getInternalRecorder();\r\n     * internal.ondataavailable = function() {}; // override\r\n     * internal.stream, internal.onpause, internal.onstop, etc.\r\n     * @returns {Object} Returns internal recording object.\r\n     */\r\n    this.getInternalRecorder = function() {\r\n        return mediaRecorder;\r\n    };\r\n\r\n    function isMediaStreamActive() {\r\n        if ('active' in mediaStream) {\r\n            if (!mediaStream.active) {\r\n                return false;\r\n            }\r\n        } else if ('ended' in mediaStream) { // old hack\r\n            if (mediaStream.ended) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * recorder.stop(function() {\r\n     *     var blob = recorder.blob;\r\n     * });\r\n     */\r\n    this.blob = null;\r\n\r\n\r\n    /**\r\n     * Get MediaRecorder readonly state.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var state = recorder.getState();\r\n     * @returns {String} Returns recording state.\r\n     */\r\n    this.getState = function() {\r\n        if (!mediaRecorder) {\r\n            return 'inactive';\r\n        }\r\n\r\n        return mediaRecorder.state || 'inactive';\r\n    };\r\n\r\n    // list of all recording states\r\n    var allStates = [];\r\n\r\n    /**\r\n     * Get MediaRecorder all recording states.\r\n     * @method\r\n     * @memberof MediaStreamRecorder\r\n     * @example\r\n     * var state = recorder.getAllStates();\r\n     * @returns {Array} Returns all recording states\r\n     */\r\n    this.getAllStates = function() {\r\n        return allStates;\r\n    };\r\n\r\n    // if any Track within the MediaStream is muted or not enabled at any time, \r\n    // the browser will only record black frames \r\n    // or silence since that is the content produced by the Track\r\n    // so we need to stopRecording as soon as any single track ends.\r\n    if (typeof config.checkForInactiveTracks === 'undefined') {\r\n        config.checkForInactiveTracks = false; // disable to minimize CPU usage\r\n    }\r\n\r\n    var self = this;\r\n\r\n    // this method checks if media stream is stopped\r\n    // or if any track is ended.\r\n    (function looper() {\r\n        if (!mediaRecorder || config.checkForInactiveTracks === false) {\r\n            return;\r\n        }\r\n\r\n        if (isMediaStreamActive() === false) {\r\n            if (!config.disableLogs) {\r\n                console.log('MediaStream seems stopped.');\r\n            }\r\n            self.stop();\r\n            return;\r\n        }\r\n\r\n        setTimeout(looper, 1000); // check every second\r\n    })();\r\n\r\n    // for debugging\r\n    this.name = 'MediaStreamRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MediaStreamRecorder = MediaStreamRecorder;\r\n}\r\n\r\n// source code from: http://typedarray.org/wp-content/projects/WebAudioRecorder/script.js\r\n// https://github.com/mattdiamond/Recorderjs#license-mit\r\n// ______________________\r\n// StereoAudioRecorder.js\r\n\r\n/**\r\n * StereoAudioRecorder is a standalone class used by {@link RecordRTC} to bring \"stereo\" audio-recording in chrome.\r\n * @summary JavaScript standalone object for stereo audio recording.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef StereoAudioRecorder\r\n * @class\r\n * @example\r\n * var recorder = new StereoAudioRecorder(MediaStream, {\r\n *     sampleRate: 44100,\r\n *     bufferSize: 4096\r\n * });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {sampleRate: 44100, bufferSize: 4096, numberOfAudioChannels: 1, etc.}\r\n */\r\n\r\nfunction StereoAudioRecorder(mediaStream, config) {\r\n    if (!getTracks(mediaStream, 'audio').length) {\r\n        throw 'Your stream has no audio tracks.';\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    var self = this;\r\n\r\n    // variables\r\n    var leftchannel = [];\r\n    var rightchannel = [];\r\n    var recording = false;\r\n    var recordingLength = 0;\r\n    var jsAudioNode;\r\n\r\n    var numberOfAudioChannels = 2;\r\n\r\n    /**\r\n     * Set sample rates such as 8K or 16K. Reference: http://stackoverflow.com/a/28977136/552182\r\n     * @property {number} desiredSampRate - Desired Bits per sample * 1000\r\n     * @memberof StereoAudioRecorder\r\n     * @instance\r\n     * @example\r\n     * var recorder = StereoAudioRecorder(mediaStream, {\r\n     *   desiredSampRate: 16 * 1000 // bits-per-sample * 1000\r\n     * });\r\n     */\r\n    var desiredSampRate = config.desiredSampRate;\r\n\r\n    // backward compatibility\r\n    if (config.leftChannel === true) {\r\n        numberOfAudioChannels = 1;\r\n    }\r\n\r\n    if (config.numberOfAudioChannels === 1) {\r\n        numberOfAudioChannels = 1;\r\n    }\r\n\r\n    if (!numberOfAudioChannels || numberOfAudioChannels < 1) {\r\n        numberOfAudioChannels = 2;\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        console.log('StereoAudioRecorder is set to record number of channels: ' + numberOfAudioChannels);\r\n    }\r\n\r\n    // if any Track within the MediaStream is muted or not enabled at any time, \r\n    // the browser will only record black frames \r\n    // or silence since that is the content produced by the Track\r\n    // so we need to stopRecording as soon as any single track ends.\r\n    if (typeof config.checkForInactiveTracks === 'undefined') {\r\n        config.checkForInactiveTracks = true;\r\n    }\r\n\r\n    function isMediaStreamActive() {\r\n        if (config.checkForInactiveTracks === false) {\r\n            // always return \"true\"\r\n            return true;\r\n        }\r\n\r\n        if ('active' in mediaStream) {\r\n            if (!mediaStream.active) {\r\n                return false;\r\n            }\r\n        } else if ('ended' in mediaStream) { // old hack\r\n            if (mediaStream.ended) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (isMediaStreamActive() === false) {\r\n            throw 'Please make sure MediaStream is active.';\r\n        }\r\n\r\n        resetVariables();\r\n\r\n        isAudioProcessStarted = isPaused = false;\r\n        recording = true;\r\n\r\n        if (typeof config.timeSlice !== 'undefined') {\r\n            looper();\r\n        }\r\n    };\r\n\r\n    function mergeLeftRightBuffers(config, callback) {\r\n        function mergeAudioBuffers(config, cb) {\r\n            var numberOfAudioChannels = config.numberOfAudioChannels;\r\n\r\n            // todo: \"slice(0)\" --- is it causes loop? Should be removed?\r\n            var leftBuffers = config.leftBuffers.slice(0);\r\n            var rightBuffers = config.rightBuffers.slice(0);\r\n            var sampleRate = config.sampleRate;\r\n            var internalInterleavedLength = config.internalInterleavedLength;\r\n            var desiredSampRate = config.desiredSampRate;\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\r\n                rightBuffers = mergeBuffers(rightBuffers, internalInterleavedLength);\r\n\r\n                if (desiredSampRate) {\r\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\r\n                    rightBuffers = interpolateArray(rightBuffers, desiredSampRate, sampleRate);\r\n                }\r\n            }\r\n\r\n            if (numberOfAudioChannels === 1) {\r\n                leftBuffers = mergeBuffers(leftBuffers, internalInterleavedLength);\r\n\r\n                if (desiredSampRate) {\r\n                    leftBuffers = interpolateArray(leftBuffers, desiredSampRate, sampleRate);\r\n                }\r\n            }\r\n\r\n            // set sample rate as desired sample rate\r\n            if (desiredSampRate) {\r\n                sampleRate = desiredSampRate;\r\n            }\r\n\r\n            // for changing the sampling rate, reference:\r\n            // http://stackoverflow.com/a/28977136/552182\r\n            function interpolateArray(data, newSampleRate, oldSampleRate) {\r\n                var fitCount = Math.round(data.length * (newSampleRate / oldSampleRate));\r\n                var newData = [];\r\n                var springFactor = Number((data.length - 1) / (fitCount - 1));\r\n                newData[0] = data[0];\r\n                for (var i = 1; i < fitCount - 1; i++) {\r\n                    var tmp = i * springFactor;\r\n                    var before = Number(Math.floor(tmp)).toFixed();\r\n                    var after = Number(Math.ceil(tmp)).toFixed();\r\n                    var atPoint = tmp - before;\r\n                    newData[i] = linearInterpolate(data[before], data[after], atPoint);\r\n                }\r\n                newData[fitCount - 1] = data[data.length - 1];\r\n                return newData;\r\n            }\r\n\r\n            function linearInterpolate(before, after, atPoint) {\r\n                return before + (after - before) * atPoint;\r\n            }\r\n\r\n            function mergeBuffers(channelBuffer, rLength) {\r\n                var result = new Float64Array(rLength);\r\n                var offset = 0;\r\n                var lng = channelBuffer.length;\r\n\r\n                for (var i = 0; i < lng; i++) {\r\n                    var buffer = channelBuffer[i];\r\n                    result.set(buffer, offset);\r\n                    offset += buffer.length;\r\n                }\r\n\r\n                return result;\r\n            }\r\n\r\n            function interleave(leftChannel, rightChannel) {\r\n                var length = leftChannel.length + rightChannel.length;\r\n\r\n                var result = new Float64Array(length);\r\n\r\n                var inputIndex = 0;\r\n\r\n                for (var index = 0; index < length;) {\r\n                    result[index++] = leftChannel[inputIndex];\r\n                    result[index++] = rightChannel[inputIndex];\r\n                    inputIndex++;\r\n                }\r\n                return result;\r\n            }\r\n\r\n            function writeUTFBytes(view, offset, string) {\r\n                var lng = string.length;\r\n                for (var i = 0; i < lng; i++) {\r\n                    view.setUint8(offset + i, string.charCodeAt(i));\r\n                }\r\n            }\r\n\r\n            // interleave both channels together\r\n            var interleaved;\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                interleaved = interleave(leftBuffers, rightBuffers);\r\n            }\r\n\r\n            if (numberOfAudioChannels === 1) {\r\n                interleaved = leftBuffers;\r\n            }\r\n\r\n            var interleavedLength = interleaved.length;\r\n\r\n            // create wav file\r\n            var resultingBufferLength = 44 + interleavedLength * 2;\r\n\r\n            var buffer = new ArrayBuffer(resultingBufferLength);\r\n\r\n            var view = new DataView(buffer);\r\n\r\n            // RIFF chunk descriptor/identifier \r\n            writeUTFBytes(view, 0, 'RIFF');\r\n\r\n            // RIFF chunk length\r\n            // changed \"44\" to \"36\" via #401\r\n            view.setUint32(4, 36 + interleavedLength * 2, true);\r\n\r\n            // RIFF type \r\n            writeUTFBytes(view, 8, 'WAVE');\r\n\r\n            // format chunk identifier \r\n            // FMT sub-chunk\r\n            writeUTFBytes(view, 12, 'fmt ');\r\n\r\n            // format chunk length \r\n            view.setUint32(16, 16, true);\r\n\r\n            // sample format (raw)\r\n            view.setUint16(20, 1, true);\r\n\r\n            // stereo (2 channels)\r\n            view.setUint16(22, numberOfAudioChannels, true);\r\n\r\n            // sample rate \r\n            view.setUint32(24, sampleRate, true);\r\n\r\n            // byte rate (sample rate * block align)\r\n            view.setUint32(28, sampleRate * numberOfAudioChannels * 2, true);\r\n\r\n            // block align (channel count * bytes per sample) \r\n            view.setUint16(32, numberOfAudioChannels * 2, true);\r\n\r\n            // bits per sample \r\n            view.setUint16(34, 16, true);\r\n\r\n            // data sub-chunk\r\n            // data chunk identifier \r\n            writeUTFBytes(view, 36, 'data');\r\n\r\n            // data chunk length \r\n            view.setUint32(40, interleavedLength * 2, true);\r\n\r\n            // write the PCM samples\r\n            var lng = interleavedLength;\r\n            var index = 44;\r\n            var volume = 1;\r\n            for (var i = 0; i < lng; i++) {\r\n                view.setInt16(index, interleaved[i] * (0x7FFF * volume), true);\r\n                index += 2;\r\n            }\r\n\r\n            if (cb) {\r\n                return cb({\r\n                    buffer: buffer,\r\n                    view: view\r\n                });\r\n            }\r\n\r\n            postMessage({\r\n                buffer: buffer,\r\n                view: view\r\n            });\r\n        }\r\n\r\n        if (config.noWorker) {\r\n            mergeAudioBuffers(config, function(data) {\r\n                callback(data.buffer, data.view);\r\n            });\r\n            return;\r\n        }\r\n\r\n\r\n        var webWorker = processInWebWorker(mergeAudioBuffers);\r\n\r\n        webWorker.onmessage = function(event) {\r\n            callback(event.data.buffer, event.data.view);\r\n\r\n            // release memory\r\n            URL.revokeObjectURL(webWorker.workerURL);\r\n\r\n            // kill webworker (or Chrome will kill your page after ~25 calls)\r\n            webWorker.terminate();\r\n        };\r\n\r\n        webWorker.postMessage(config);\r\n    }\r\n\r\n    function processInWebWorker(_function) {\r\n        var workerURL = URL.createObjectURL(new Blob([_function.toString(),\r\n            ';this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n        ], {\r\n            type: 'application/javascript'\r\n        }));\r\n\r\n        var worker = new Worker(workerURL);\r\n        worker.workerURL = workerURL;\r\n        return worker;\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        // stop recording\r\n        recording = false;\r\n\r\n        mergeLeftRightBuffers({\r\n            desiredSampRate: desiredSampRate,\r\n            sampleRate: sampleRate,\r\n            numberOfAudioChannels: numberOfAudioChannels,\r\n            internalInterleavedLength: recordingLength,\r\n            leftBuffers: leftchannel,\r\n            rightBuffers: numberOfAudioChannels === 1 ? [] : rightchannel,\r\n            noWorker: config.noWorker\r\n        }, function(buffer, view) {\r\n            /**\r\n             * @property {Blob} blob - The recorded blob object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var blob = recorder.blob;\r\n             * });\r\n             */\r\n            self.blob = new Blob([view], {\r\n                type: 'audio/wav'\r\n            });\r\n\r\n            /**\r\n             * @property {ArrayBuffer} buffer - The recorded buffer object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var buffer = recorder.buffer;\r\n             * });\r\n             */\r\n            self.buffer = new ArrayBuffer(view.buffer.byteLength);\r\n\r\n            /**\r\n             * @property {DataView} view - The recorded data-view object.\r\n             * @memberof StereoAudioRecorder\r\n             * @example\r\n             * recorder.stop(function(){\r\n             *     var view = recorder.view;\r\n             * });\r\n             */\r\n            self.view = view;\r\n\r\n            self.sampleRate = desiredSampRate || sampleRate;\r\n            self.bufferSize = bufferSize;\r\n\r\n            // recorded audio length\r\n            self.length = recordingLength;\r\n\r\n            isAudioProcessStarted = false;\r\n\r\n            if (callback) {\r\n                callback(self.blob);\r\n            }\r\n        });\r\n    };\r\n\r\n    if (typeof RecordRTC.Storage === 'undefined') {\r\n        RecordRTC.Storage = {\r\n            AudioContextConstructor: null,\r\n            AudioContext: window.AudioContext || window.webkitAudioContext\r\n        };\r\n    }\r\n\r\n    if (!RecordRTC.Storage.AudioContextConstructor || RecordRTC.Storage.AudioContextConstructor.state === 'closed') {\r\n        RecordRTC.Storage.AudioContextConstructor = new RecordRTC.Storage.AudioContext();\r\n    }\r\n\r\n    var context = RecordRTC.Storage.AudioContextConstructor;\r\n\r\n    // creates an audio node from the microphone incoming stream\r\n    var audioInput = context.createMediaStreamSource(mediaStream);\r\n\r\n    var legalBufferValues = [0, 256, 512, 1024, 2048, 4096, 8192, 16384];\r\n\r\n    /**\r\n     * From the spec: This value controls how frequently the audioprocess event is\r\n     * dispatched and how many sample-frames need to be processed each call.\r\n     * Lower values for buffer size will result in a lower (better) latency.\r\n     * Higher values will be necessary to avoid audio breakup and glitches\r\n     * The size of the buffer (in sample-frames) which needs to\r\n     * be processed each time onprocessaudio is called.\r\n     * Legal values are (256, 512, 1024, 2048, 4096, 8192, 16384).\r\n     * @property {number} bufferSize - Buffer-size for how frequently the audioprocess event is dispatched.\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder = new StereoAudioRecorder(mediaStream, {\r\n     *     bufferSize: 4096\r\n     * });\r\n     */\r\n\r\n    // \"0\" means, let chrome decide the most accurate buffer-size for current platform.\r\n    var bufferSize = typeof config.bufferSize === 'undefined' ? 4096 : config.bufferSize;\r\n\r\n    if (legalBufferValues.indexOf(bufferSize) === -1) {\r\n        if (!config.disableLogs) {\r\n            console.log('Legal values for buffer-size are ' + JSON.stringify(legalBufferValues, null, '\\t'));\r\n        }\r\n    }\r\n\r\n    if (context.createJavaScriptNode) {\r\n        jsAudioNode = context.createJavaScriptNode(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\r\n    } else if (context.createScriptProcessor) {\r\n        jsAudioNode = context.createScriptProcessor(bufferSize, numberOfAudioChannels, numberOfAudioChannels);\r\n    } else {\r\n        throw 'WebAudio API has no support on this browser.';\r\n    }\r\n\r\n    // connect the stream to the script processor\r\n    audioInput.connect(jsAudioNode);\r\n\r\n    if (!config.bufferSize) {\r\n        bufferSize = jsAudioNode.bufferSize; // device buffer-size\r\n    }\r\n\r\n    /**\r\n     * The sample rate (in sample-frames per second) at which the\r\n     * AudioContext handles audio. It is assumed that all AudioNodes\r\n     * in the context run at this rate. In making this assumption,\r\n     * sample-rate converters or \"varispeed\" processors are not supported\r\n     * in real-time processing.\r\n     * The sampleRate parameter describes the sample-rate of the\r\n     * linear PCM audio data in the buffer in sample-frames per second.\r\n     * An implementation must support sample-rates in at least\r\n     * the range 22050 to 96000.\r\n     * @property {number} sampleRate - Buffer-size for how frequently the audioprocess event is dispatched.\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder = new StereoAudioRecorder(mediaStream, {\r\n     *     sampleRate: 44100\r\n     * });\r\n     */\r\n    var sampleRate = typeof config.sampleRate !== 'undefined' ? config.sampleRate : context.sampleRate || 44100;\r\n\r\n    if (sampleRate < 22050 || sampleRate > 96000) {\r\n        // Ref: http://stackoverflow.com/a/26303918/552182\r\n        if (!config.disableLogs) {\r\n            console.log('sample-rate must be under range 22050 and 96000.');\r\n        }\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        if (config.desiredSampRate) {\r\n            console.log('Desired sample-rate: ' + config.desiredSampRate);\r\n        }\r\n    }\r\n\r\n    var isPaused = false;\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPaused = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (isMediaStreamActive() === false) {\r\n            throw 'Please make sure MediaStream is active.';\r\n        }\r\n\r\n        if (!recording) {\r\n            if (!config.disableLogs) {\r\n                console.log('Seems recording has been restarted.');\r\n            }\r\n            this.record();\r\n            return;\r\n        }\r\n\r\n        isPaused = false;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof StereoAudioRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        config.checkForInactiveTracks = false;\r\n\r\n        if (recording) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function resetVariables() {\r\n        leftchannel = [];\r\n        rightchannel = [];\r\n        recordingLength = 0;\r\n        isAudioProcessStarted = false;\r\n        recording = false;\r\n        isPaused = false;\r\n        context = null;\r\n\r\n        self.leftchannel = leftchannel;\r\n        self.rightchannel = rightchannel;\r\n        self.numberOfAudioChannels = numberOfAudioChannels;\r\n        self.desiredSampRate = desiredSampRate;\r\n        self.sampleRate = sampleRate;\r\n        self.recordingLength = recordingLength;\r\n\r\n        intervalsBasedBuffers = {\r\n            left: [],\r\n            right: [],\r\n            recordingLength: 0\r\n        };\r\n    }\r\n\r\n    function clearRecordedDataCB() {\r\n        if (jsAudioNode) {\r\n            jsAudioNode.onaudioprocess = null;\r\n            jsAudioNode.disconnect();\r\n            jsAudioNode = null;\r\n        }\r\n\r\n        if (audioInput) {\r\n            audioInput.disconnect();\r\n            audioInput = null;\r\n        }\r\n\r\n        resetVariables();\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'StereoAudioRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var isAudioProcessStarted = false;\r\n\r\n    function onAudioProcessDataAvailable(e) {\r\n        if (isPaused) {\r\n            return;\r\n        }\r\n\r\n        if (isMediaStreamActive() === false) {\r\n            if (!config.disableLogs) {\r\n                console.log('MediaStream seems stopped.');\r\n            }\r\n            jsAudioNode.disconnect();\r\n            recording = false;\r\n        }\r\n\r\n        if (!recording) {\r\n            if (audioInput) {\r\n                audioInput.disconnect();\r\n                audioInput = null;\r\n            }\r\n            return;\r\n        }\r\n\r\n        /**\r\n         * This method is called on \"onaudioprocess\" event's first invocation.\r\n         * @method {function} onAudioProcessStarted\r\n         * @memberof StereoAudioRecorder\r\n         * @example\r\n         * recorder.onAudioProcessStarted: function() { };\r\n         */\r\n        if (!isAudioProcessStarted) {\r\n            isAudioProcessStarted = true;\r\n            if (config.onAudioProcessStarted) {\r\n                config.onAudioProcessStarted();\r\n            }\r\n\r\n            if (config.initCallback) {\r\n                config.initCallback();\r\n            }\r\n        }\r\n\r\n        var left = e.inputBuffer.getChannelData(0);\r\n\r\n        // we clone the samples\r\n        var chLeft = new Float32Array(left);\r\n        leftchannel.push(chLeft);\r\n\r\n        if (numberOfAudioChannels === 2) {\r\n            var right = e.inputBuffer.getChannelData(1);\r\n            var chRight = new Float32Array(right);\r\n            rightchannel.push(chRight);\r\n        }\r\n\r\n        recordingLength += bufferSize;\r\n\r\n        // export raw PCM\r\n        self.recordingLength = recordingLength;\r\n\r\n        if (typeof config.timeSlice !== 'undefined') {\r\n            intervalsBasedBuffers.recordingLength += bufferSize;\r\n            intervalsBasedBuffers.left.push(chLeft);\r\n\r\n            if (numberOfAudioChannels === 2) {\r\n                intervalsBasedBuffers.right.push(chRight);\r\n            }\r\n        }\r\n    }\r\n\r\n    jsAudioNode.onaudioprocess = onAudioProcessDataAvailable;\r\n\r\n    // to prevent self audio to be connected with speakers\r\n    if (context.createMediaStreamDestination) {\r\n        jsAudioNode.connect(context.createMediaStreamDestination());\r\n    } else {\r\n        jsAudioNode.connect(context.destination);\r\n    }\r\n\r\n    // export raw PCM\r\n    this.leftchannel = leftchannel;\r\n    this.rightchannel = rightchannel;\r\n    this.numberOfAudioChannels = numberOfAudioChannels;\r\n    this.desiredSampRate = desiredSampRate;\r\n    this.sampleRate = sampleRate;\r\n    self.recordingLength = recordingLength;\r\n\r\n    // helper for intervals based blobs\r\n    var intervalsBasedBuffers = {\r\n        left: [],\r\n        right: [],\r\n        recordingLength: 0\r\n    };\r\n\r\n    // this looper is used to support intervals based blobs (via timeSlice+ondataavailable)\r\n    function looper() {\r\n        if (!recording || typeof config.ondataavailable !== 'function' || typeof config.timeSlice === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (intervalsBasedBuffers.left.length) {\r\n            mergeLeftRightBuffers({\r\n                desiredSampRate: desiredSampRate,\r\n                sampleRate: sampleRate,\r\n                numberOfAudioChannels: numberOfAudioChannels,\r\n                internalInterleavedLength: intervalsBasedBuffers.recordingLength,\r\n                leftBuffers: intervalsBasedBuffers.left,\r\n                rightBuffers: numberOfAudioChannels === 1 ? [] : intervalsBasedBuffers.right\r\n            }, function(buffer, view) {\r\n                var blob = new Blob([view], {\r\n                    type: 'audio/wav'\r\n                });\r\n                config.ondataavailable(blob);\r\n\r\n                setTimeout(looper, config.timeSlice);\r\n            });\r\n\r\n            intervalsBasedBuffers = {\r\n                left: [],\r\n                right: [],\r\n                recordingLength: 0\r\n            };\r\n        } else {\r\n            setTimeout(looper, config.timeSlice);\r\n        }\r\n    }\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.StereoAudioRecorder = StereoAudioRecorder;\r\n}\r\n\r\n// _________________\r\n// CanvasRecorder.js\r\n\r\n/**\r\n * CanvasRecorder is a standalone class used by {@link RecordRTC} to bring HTML5-Canvas recording into video WebM. It uses HTML2Canvas library and runs top over {@link Whammy}.\r\n * @summary HTML2Canvas recording into video WebM.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef CanvasRecorder\r\n * @class\r\n * @example\r\n * var recorder = new CanvasRecorder(htmlElement, { disableLogs: true, useWhammyRecorder: true });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {HTMLElement} htmlElement - querySelector/getElementById/getElementsByTagName[0]/etc.\r\n * @param {object} config - {disableLogs:true, initCallback: function}\r\n */\r\n\r\nfunction CanvasRecorder(htmlElement, config) {\r\n    if (typeof html2canvas === 'undefined') {\r\n        throw 'Please link: https://www.webrtc-experiment.com/screenshot.js';\r\n    }\r\n\r\n    config = config || {};\r\n    if (!config.frameInterval) {\r\n        config.frameInterval = 10;\r\n    }\r\n\r\n    // via DetectRTC.js\r\n    var isCanvasSupportsStreamCapturing = false;\r\n    ['captureStream', 'mozCaptureStream', 'webkitCaptureStream'].forEach(function(item) {\r\n        if (item in document.createElement('canvas')) {\r\n            isCanvasSupportsStreamCapturing = true;\r\n        }\r\n    });\r\n\r\n    var _isChrome = (!!window.webkitRTCPeerConnection || !!window.webkitGetUserMedia) && !!window.chrome;\r\n\r\n    var chromeVersion = 50;\r\n    var matchArray = navigator.userAgent.match(/Chrom(e|ium)\\/([0-9]+)\\./);\r\n    if (_isChrome && matchArray && matchArray[2]) {\r\n        chromeVersion = parseInt(matchArray[2], 10);\r\n    }\r\n\r\n    if (_isChrome && chromeVersion < 52) {\r\n        isCanvasSupportsStreamCapturing = false;\r\n    }\r\n\r\n    if (config.useWhammyRecorder) {\r\n        isCanvasSupportsStreamCapturing = false;\r\n    }\r\n\r\n    var globalCanvas, mediaStreamRecorder;\r\n\r\n    if (isCanvasSupportsStreamCapturing) {\r\n        if (!config.disableLogs) {\r\n            console.log('Your browser supports both MediRecorder API and canvas.captureStream!');\r\n        }\r\n\r\n        if (htmlElement instanceof HTMLCanvasElement) {\r\n            globalCanvas = htmlElement;\r\n        } else if (htmlElement instanceof CanvasRenderingContext2D) {\r\n            globalCanvas = htmlElement.canvas;\r\n        } else {\r\n            throw 'Please pass either HTMLCanvasElement or CanvasRenderingContext2D.';\r\n        }\r\n    } else if (!!navigator.mozGetUserMedia) {\r\n        if (!config.disableLogs) {\r\n            console.error('Canvas recording is NOT supported in Firefox.');\r\n        }\r\n    }\r\n\r\n    var isRecording;\r\n\r\n    /**\r\n     * This method records Canvas.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        isRecording = true;\r\n\r\n        if (isCanvasSupportsStreamCapturing && !config.useWhammyRecorder) {\r\n            // CanvasCaptureMediaStream\r\n            var canvasMediaStream;\r\n            if ('captureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.captureStream(25); // 25 FPS\r\n            } else if ('mozCaptureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.mozCaptureStream(25);\r\n            } else if ('webkitCaptureStream' in globalCanvas) {\r\n                canvasMediaStream = globalCanvas.webkitCaptureStream(25);\r\n            }\r\n\r\n            try {\r\n                var mdStream = new MediaStream();\r\n                mdStream.addTrack(getTracks(canvasMediaStream, 'video')[0]);\r\n                canvasMediaStream = mdStream;\r\n            } catch (e) {}\r\n\r\n            if (!canvasMediaStream) {\r\n                throw 'captureStream API are NOT available.';\r\n            }\r\n\r\n            // Note: Jan 18, 2016 status is that, \r\n            // Firefox MediaRecorder API can't record CanvasCaptureMediaStream object.\r\n            mediaStreamRecorder = new MediaStreamRecorder(canvasMediaStream, {\r\n                mimeType: config.mimeType || 'video/webm'\r\n            });\r\n            mediaStreamRecorder.record();\r\n        } else {\r\n            whammy.frames = [];\r\n            lastTime = new Date().getTime();\r\n            drawCanvasFrame();\r\n        }\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    this.getWebPImages = function(callback) {\r\n        if (htmlElement.nodeName.toLowerCase() !== 'canvas') {\r\n            callback();\r\n            return;\r\n        }\r\n\r\n        var framesLength = whammy.frames.length;\r\n        whammy.frames.forEach(function(frame, idx) {\r\n            var framesRemaining = framesLength - idx;\r\n            if (!config.disableLogs) {\r\n                console.log(framesRemaining + '/' + framesLength + ' frames remaining');\r\n            }\r\n\r\n            if (config.onEncodingCallback) {\r\n                config.onEncodingCallback(framesRemaining, framesLength);\r\n            }\r\n\r\n            var webp = frame.image.toDataURL('image/webp', 1);\r\n            whammy.frames[idx].image = webp;\r\n        });\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('Generating WebM');\r\n        }\r\n\r\n        callback();\r\n    };\r\n\r\n    /**\r\n     * This method stops recording Canvas.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        isRecording = false;\r\n\r\n        var that = this;\r\n\r\n        if (isCanvasSupportsStreamCapturing && mediaStreamRecorder) {\r\n            mediaStreamRecorder.stop(callback);\r\n            return;\r\n        }\r\n\r\n        this.getWebPImages(function() {\r\n            /**\r\n             * @property {Blob} blob - Recorded frames in video/webm blob.\r\n             * @memberof CanvasRecorder\r\n             * @example\r\n             * recorder.stop(function() {\r\n             *     var blob = recorder.blob;\r\n             * });\r\n             */\r\n            whammy.compile(function(blob) {\r\n                if (!config.disableLogs) {\r\n                    console.log('Recording finished!');\r\n                }\r\n\r\n                that.blob = blob;\r\n\r\n                if (that.blob.forEach) {\r\n                    that.blob = new Blob([], {\r\n                        type: 'video/webm'\r\n                    });\r\n                }\r\n\r\n                if (callback) {\r\n                    callback(that.blob);\r\n                }\r\n\r\n                whammy.frames = [];\r\n            });\r\n        });\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n\r\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\r\n            mediaStreamRecorder.pause();\r\n            return;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n\r\n        if (mediaStreamRecorder instanceof MediaStreamRecorder) {\r\n            mediaStreamRecorder.resume();\r\n            return;\r\n        }\r\n\r\n        if (!isRecording) {\r\n            this.record();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof CanvasRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (isRecording) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        whammy.frames = [];\r\n        isRecording = false;\r\n        isPausedRecording = false;\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'CanvasRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    function cloneCanvas() {\r\n        //create a new canvas\r\n        var newCanvas = document.createElement('canvas');\r\n        var context = newCanvas.getContext('2d');\r\n\r\n        //set dimensions\r\n        newCanvas.width = htmlElement.width;\r\n        newCanvas.height = htmlElement.height;\r\n\r\n        //apply the old canvas to the new one\r\n        context.drawImage(htmlElement, 0, 0);\r\n\r\n        //return the new canvas\r\n        return newCanvas;\r\n    }\r\n\r\n    function drawCanvasFrame() {\r\n        if (isPausedRecording) {\r\n            lastTime = new Date().getTime();\r\n            return setTimeout(drawCanvasFrame, 500);\r\n        }\r\n\r\n        if (htmlElement.nodeName.toLowerCase() === 'canvas') {\r\n            var duration = new Date().getTime() - lastTime;\r\n            // via #206, by Jack i.e. @Seymourr\r\n            lastTime = new Date().getTime();\r\n\r\n            whammy.frames.push({\r\n                image: cloneCanvas(),\r\n                duration: duration\r\n            });\r\n\r\n            if (isRecording) {\r\n                setTimeout(drawCanvasFrame, config.frameInterval);\r\n            }\r\n            return;\r\n        }\r\n\r\n        html2canvas(htmlElement, {\r\n            grabMouse: typeof config.showMousePointer === 'undefined' || config.showMousePointer,\r\n            onrendered: function(canvas) {\r\n                var duration = new Date().getTime() - lastTime;\r\n                if (!duration) {\r\n                    return setTimeout(drawCanvasFrame, config.frameInterval);\r\n                }\r\n\r\n                // via #206, by Jack i.e. @Seymourr\r\n                lastTime = new Date().getTime();\r\n\r\n                whammy.frames.push({\r\n                    image: canvas.toDataURL('image/webp', 1),\r\n                    duration: duration\r\n                });\r\n\r\n                if (isRecording) {\r\n                    setTimeout(drawCanvasFrame, config.frameInterval);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    var lastTime = new Date().getTime();\r\n\r\n    var whammy = new Whammy.Video(100);\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.CanvasRecorder = CanvasRecorder;\r\n}\n\r\n// _________________\r\n// WhammyRecorder.js\r\n\r\n/**\r\n * WhammyRecorder is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It runs top over {@link Whammy}.\r\n * @summary Video recording feature in Chrome.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef WhammyRecorder\r\n * @class\r\n * @example\r\n * var recorder = new WhammyRecorder(mediaStream);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {disableLogs: true, initCallback: function, video: HTMLVideoElement, etc.}\r\n */\r\n\r\nfunction WhammyRecorder(mediaStream, config) {\r\n\r\n    config = config || {};\r\n\r\n    if (!config.frameInterval) {\r\n        config.frameInterval = 10;\r\n    }\r\n\r\n    if (!config.disableLogs) {\r\n        console.log('Using frames-interval:', config.frameInterval);\r\n    }\r\n\r\n    /**\r\n     * This method records video.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (!config.width) {\r\n            config.width = 320;\r\n        }\r\n\r\n        if (!config.height) {\r\n            config.height = 240;\r\n        }\r\n\r\n        if (!config.video) {\r\n            config.video = {\r\n                width: config.width,\r\n                height: config.height\r\n            };\r\n        }\r\n\r\n        if (!config.canvas) {\r\n            config.canvas = {\r\n                width: config.width,\r\n                height: config.height\r\n            };\r\n        }\r\n\r\n        canvas.width = config.canvas.width || 320;\r\n        canvas.height = config.canvas.height || 240;\r\n\r\n        context = canvas.getContext('2d');\r\n\r\n        // setting defaults\r\n        if (config.video && config.video instanceof HTMLVideoElement) {\r\n            video = config.video.cloneNode();\r\n\r\n            if (config.initCallback) {\r\n                config.initCallback();\r\n            }\r\n        } else {\r\n            video = document.createElement('video');\r\n\r\n            setSrcObject(mediaStream, video);\r\n\r\n            video.onloadedmetadata = function() { // \"onloadedmetadata\" may NOT work in FF?\r\n                if (config.initCallback) {\r\n                    config.initCallback();\r\n                }\r\n            };\r\n\r\n            video.width = config.video.width;\r\n            video.height = config.video.height;\r\n        }\r\n\r\n        video.muted = true;\r\n        video.play();\r\n\r\n        lastTime = new Date().getTime();\r\n        whammy = new Whammy.Video();\r\n\r\n        if (!config.disableLogs) {\r\n            console.log('canvas resolutions', canvas.width, '*', canvas.height);\r\n            console.log('video width/height', video.width || canvas.width, '*', video.height || canvas.height);\r\n        }\r\n\r\n        drawFrames(config.frameInterval);\r\n    };\r\n\r\n    /**\r\n     * Draw and push frames to Whammy\r\n     * @param {integer} frameInterval - set minimum interval (in milliseconds) between each time we push a frame to Whammy\r\n     */\r\n    function drawFrames(frameInterval) {\r\n        frameInterval = typeof frameInterval !== 'undefined' ? frameInterval : 10;\r\n\r\n        var duration = new Date().getTime() - lastTime;\r\n        if (!duration) {\r\n            return setTimeout(drawFrames, frameInterval, frameInterval);\r\n        }\r\n\r\n        if (isPausedRecording) {\r\n            lastTime = new Date().getTime();\r\n            return setTimeout(drawFrames, 100);\r\n        }\r\n\r\n        // via #206, by Jack i.e. @Seymourr\r\n        lastTime = new Date().getTime();\r\n\r\n        if (video.paused) {\r\n            // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\r\n            // Tweak for Android Chrome\r\n            video.play();\r\n        }\r\n\r\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n        whammy.frames.push({\r\n            duration: duration,\r\n            image: canvas.toDataURL('image/webp')\r\n        });\r\n\r\n        if (!isStopDrawing) {\r\n            setTimeout(drawFrames, frameInterval, frameInterval);\r\n        }\r\n    }\r\n\r\n    function asyncLoop(o) {\r\n        var i = -1,\r\n            length = o.length;\r\n\r\n        (function loop() {\r\n            i++;\r\n            if (i === length) {\r\n                o.callback();\r\n                return;\r\n            }\r\n\r\n            // \"setTimeout\" added by Jim McLeod\r\n            setTimeout(function() {\r\n                o.functionToLoop(loop, i);\r\n            }, 1);\r\n        })();\r\n    }\r\n\r\n\r\n    /**\r\n     * remove black frames from the beginning to the specified frame\r\n     * @param {Array} _frames - array of frames to be checked\r\n     * @param {number} _framesToCheck - number of frame until check will be executed (-1 - will drop all frames until frame not matched will be found)\r\n     * @param {number} _pixTolerance - 0 - very strict (only black pixel color) ; 1 - all\r\n     * @param {number} _frameTolerance - 0 - very strict (only black frame color) ; 1 - all\r\n     * @returns {Array} - array of frames\r\n     */\r\n    // pull#293 by @volodalexey\r\n    function dropBlackFrames(_frames, _framesToCheck, _pixTolerance, _frameTolerance, callback) {\r\n        var localCanvas = document.createElement('canvas');\r\n        localCanvas.width = canvas.width;\r\n        localCanvas.height = canvas.height;\r\n        var context2d = localCanvas.getContext('2d');\r\n        var resultFrames = [];\r\n\r\n        var checkUntilNotBlack = _framesToCheck === -1;\r\n        var endCheckFrame = (_framesToCheck && _framesToCheck > 0 && _framesToCheck <= _frames.length) ?\r\n            _framesToCheck : _frames.length;\r\n        var sampleColor = {\r\n            r: 0,\r\n            g: 0,\r\n            b: 0\r\n        };\r\n        var maxColorDifference = Math.sqrt(\r\n            Math.pow(255, 2) +\r\n            Math.pow(255, 2) +\r\n            Math.pow(255, 2)\r\n        );\r\n        var pixTolerance = _pixTolerance && _pixTolerance >= 0 && _pixTolerance <= 1 ? _pixTolerance : 0;\r\n        var frameTolerance = _frameTolerance && _frameTolerance >= 0 && _frameTolerance <= 1 ? _frameTolerance : 0;\r\n        var doNotCheckNext = false;\r\n\r\n        asyncLoop({\r\n            length: endCheckFrame,\r\n            functionToLoop: function(loop, f) {\r\n                var matchPixCount, endPixCheck, maxPixCount;\r\n\r\n                var finishImage = function() {\r\n                    if (!doNotCheckNext && maxPixCount - matchPixCount <= maxPixCount * frameTolerance) {\r\n                        // console.log('removed black frame : ' + f + ' ; frame duration ' + _frames[f].duration);\r\n                    } else {\r\n                        // console.log('frame is passed : ' + f);\r\n                        if (checkUntilNotBlack) {\r\n                            doNotCheckNext = true;\r\n                        }\r\n                        resultFrames.push(_frames[f]);\r\n                    }\r\n                    loop();\r\n                };\r\n\r\n                if (!doNotCheckNext) {\r\n                    var image = new Image();\r\n                    image.onload = function() {\r\n                        context2d.drawImage(image, 0, 0, canvas.width, canvas.height);\r\n                        var imageData = context2d.getImageData(0, 0, canvas.width, canvas.height);\r\n                        matchPixCount = 0;\r\n                        endPixCheck = imageData.data.length;\r\n                        maxPixCount = imageData.data.length / 4;\r\n\r\n                        for (var pix = 0; pix < endPixCheck; pix += 4) {\r\n                            var currentColor = {\r\n                                r: imageData.data[pix],\r\n                                g: imageData.data[pix + 1],\r\n                                b: imageData.data[pix + 2]\r\n                            };\r\n                            var colorDifference = Math.sqrt(\r\n                                Math.pow(currentColor.r - sampleColor.r, 2) +\r\n                                Math.pow(currentColor.g - sampleColor.g, 2) +\r\n                                Math.pow(currentColor.b - sampleColor.b, 2)\r\n                            );\r\n                            // difference in color it is difference in color vectors (r1,g1,b1) <=> (r2,g2,b2)\r\n                            if (colorDifference <= maxColorDifference * pixTolerance) {\r\n                                matchPixCount++;\r\n                            }\r\n                        }\r\n                        finishImage();\r\n                    };\r\n                    image.src = _frames[f].image;\r\n                } else {\r\n                    finishImage();\r\n                }\r\n            },\r\n            callback: function() {\r\n                resultFrames = resultFrames.concat(_frames.slice(endCheckFrame));\r\n\r\n                if (resultFrames.length <= 0) {\r\n                    // at least one last frame should be available for next manipulation\r\n                    // if total duration of all frames will be < 1000 than ffmpeg doesn't work well...\r\n                    resultFrames.push(_frames[_frames.length - 1]);\r\n                }\r\n                callback(resultFrames);\r\n            }\r\n        });\r\n    }\r\n\r\n    var isStopDrawing = false;\r\n\r\n    /**\r\n     * This method stops recording video.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        isStopDrawing = true;\r\n\r\n        var _this = this;\r\n        // analyse of all frames takes some time!\r\n        setTimeout(function() {\r\n            // e.g. dropBlackFrames(frames, 10, 1, 1) - will cut all 10 frames\r\n            // e.g. dropBlackFrames(frames, 10, 0.5, 0.5) - will analyse 10 frames\r\n            // e.g. dropBlackFrames(frames, 10) === dropBlackFrames(frames, 10, 0, 0) - will analyse 10 frames with strict black color\r\n            dropBlackFrames(whammy.frames, -1, null, null, function(frames) {\r\n                whammy.frames = frames;\r\n\r\n                // to display advertisement images!\r\n                if (config.advertisement && config.advertisement.length) {\r\n                    whammy.frames = config.advertisement.concat(whammy.frames);\r\n                }\r\n\r\n                /**\r\n                 * @property {Blob} blob - Recorded frames in video/webm blob.\r\n                 * @memberof WhammyRecorder\r\n                 * @example\r\n                 * recorder.stop(function() {\r\n                 *     var blob = recorder.blob;\r\n                 * });\r\n                 */\r\n                whammy.compile(function(blob) {\r\n                    _this.blob = blob;\r\n\r\n                    if (_this.blob.forEach) {\r\n                        _this.blob = new Blob([], {\r\n                            type: 'video/webm'\r\n                        });\r\n                    }\r\n\r\n                    if (callback) {\r\n                        callback(_this.blob);\r\n                    }\r\n                });\r\n            });\r\n        }, 10);\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n\r\n        if (isStopDrawing) {\r\n            this.record();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof WhammyRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (!isStopDrawing) {\r\n            this.stop(clearRecordedDataCB);\r\n        }\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        whammy.frames = [];\r\n        isStopDrawing = true;\r\n        isPausedRecording = false;\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'WhammyRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n\r\n    var video;\r\n    var lastTime;\r\n    var whammy;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.WhammyRecorder = WhammyRecorder;\r\n}\n\r\n// https://github.com/antimatter15/whammy/blob/master/LICENSE\r\n// _________\r\n// Whammy.js\r\n\r\n// todo: Firefox now supports webp for webm containers!\r\n// their MediaRecorder implementation works well!\r\n// should we provide an option to record via Whammy.js or MediaRecorder API is a better solution?\r\n\r\n/**\r\n * Whammy is a standalone class used by {@link RecordRTC} to bring video recording in Chrome. It is written by {@link https://github.com/antimatter15|antimatter15}\r\n * @summary A real time javascript webm encoder based on a canvas hack.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef Whammy\r\n * @class\r\n * @example\r\n * var recorder = new Whammy().Video(15);\r\n * recorder.add(context || canvas || dataURL);\r\n * var output = recorder.compile();\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\nvar Whammy = (function() {\r\n    // a more abstract-ish API\r\n\r\n    function WhammyVideo(duration) {\r\n        this.frames = [];\r\n        this.duration = duration || 1;\r\n        this.quality = 0.8;\r\n    }\r\n\r\n    /**\r\n     * Pass Canvas or Context or image/webp(string) to {@link Whammy} encoder.\r\n     * @method\r\n     * @memberof Whammy\r\n     * @example\r\n     * recorder = new Whammy().Video(0.8, 100);\r\n     * recorder.add(canvas || context || 'image/webp');\r\n     * @param {string} frame - Canvas || Context || image/webp\r\n     * @param {number} duration - Stick a duration (in milliseconds)\r\n     */\r\n    WhammyVideo.prototype.add = function(frame, duration) {\r\n        if ('canvas' in frame) { //CanvasRenderingContext2D\r\n            frame = frame.canvas;\r\n        }\r\n\r\n        if ('toDataURL' in frame) {\r\n            frame = frame.toDataURL('image/webp', this.quality);\r\n        }\r\n\r\n        if (!(/^data:image\\/webp;base64,/ig).test(frame)) {\r\n            throw 'Input must be formatted properly as a base64 encoded DataURI of type image/webp';\r\n        }\r\n        this.frames.push({\r\n            image: frame,\r\n            duration: duration || this.duration\r\n        });\r\n    };\r\n\r\n    function processInWebWorker(_function) {\r\n        var blob = URL.createObjectURL(new Blob([_function.toString(),\r\n            'this.onmessage =  function (eee) {' + _function.name + '(eee.data);}'\r\n        ], {\r\n            type: 'application/javascript'\r\n        }));\r\n\r\n        var worker = new Worker(blob);\r\n        URL.revokeObjectURL(blob);\r\n        return worker;\r\n    }\r\n\r\n    function whammyInWebWorker(frames) {\r\n        function ArrayToWebM(frames) {\r\n            var info = checkFrames(frames);\r\n            if (!info) {\r\n                return [];\r\n            }\r\n\r\n            var clusterMaxDuration = 30000;\r\n\r\n            var EBML = [{\r\n                'id': 0x1a45dfa3, // EBML\r\n                'data': [{\r\n                    'data': 1,\r\n                    'id': 0x4286 // EBMLVersion\r\n                }, {\r\n                    'data': 1,\r\n                    'id': 0x42f7 // EBMLReadVersion\r\n                }, {\r\n                    'data': 4,\r\n                    'id': 0x42f2 // EBMLMaxIDLength\r\n                }, {\r\n                    'data': 8,\r\n                    'id': 0x42f3 // EBMLMaxSizeLength\r\n                }, {\r\n                    'data': 'webm',\r\n                    'id': 0x4282 // DocType\r\n                }, {\r\n                    'data': 2,\r\n                    'id': 0x4287 // DocTypeVersion\r\n                }, {\r\n                    'data': 2,\r\n                    'id': 0x4285 // DocTypeReadVersion\r\n                }]\r\n            }, {\r\n                'id': 0x18538067, // Segment\r\n                'data': [{\r\n                    'id': 0x1549a966, // Info\r\n                    'data': [{\r\n                        'data': 1e6, //do things in millisecs (num of nanosecs for duration scale)\r\n                        'id': 0x2ad7b1 // TimecodeScale\r\n                    }, {\r\n                        'data': 'whammy',\r\n                        'id': 0x4d80 // MuxingApp\r\n                    }, {\r\n                        'data': 'whammy',\r\n                        'id': 0x5741 // WritingApp\r\n                    }, {\r\n                        'data': doubleToString(info.duration),\r\n                        'id': 0x4489 // Duration\r\n                    }]\r\n                }, {\r\n                    'id': 0x1654ae6b, // Tracks\r\n                    'data': [{\r\n                        'id': 0xae, // TrackEntry\r\n                        'data': [{\r\n                            'data': 1,\r\n                            'id': 0xd7 // TrackNumber\r\n                        }, {\r\n                            'data': 1,\r\n                            'id': 0x73c5 // TrackUID\r\n                        }, {\r\n                            'data': 0,\r\n                            'id': 0x9c // FlagLacing\r\n                        }, {\r\n                            'data': 'und',\r\n                            'id': 0x22b59c // Language\r\n                        }, {\r\n                            'data': 'V_VP8',\r\n                            'id': 0x86 // CodecID\r\n                        }, {\r\n                            'data': 'VP8',\r\n                            'id': 0x258688 // CodecName\r\n                        }, {\r\n                            'data': 1,\r\n                            'id': 0x83 // TrackType\r\n                        }, {\r\n                            'id': 0xe0, // Video\r\n                            'data': [{\r\n                                'data': info.width,\r\n                                'id': 0xb0 // PixelWidth\r\n                            }, {\r\n                                'data': info.height,\r\n                                'id': 0xba // PixelHeight\r\n                            }]\r\n                        }]\r\n                    }]\r\n                }]\r\n            }];\r\n\r\n            //Generate clusters (max duration)\r\n            var frameNumber = 0;\r\n            var clusterTimecode = 0;\r\n            while (frameNumber < frames.length) {\r\n\r\n                var clusterFrames = [];\r\n                var clusterDuration = 0;\r\n                do {\r\n                    clusterFrames.push(frames[frameNumber]);\r\n                    clusterDuration += frames[frameNumber].duration;\r\n                    frameNumber++;\r\n                } while (frameNumber < frames.length && clusterDuration < clusterMaxDuration);\r\n\r\n                var clusterCounter = 0;\r\n                var cluster = {\r\n                    'id': 0x1f43b675, // Cluster\r\n                    'data': getClusterData(clusterTimecode, clusterCounter, clusterFrames)\r\n                }; //Add cluster to segment\r\n                EBML[1].data.push(cluster);\r\n                clusterTimecode += clusterDuration;\r\n            }\r\n\r\n            return generateEBML(EBML);\r\n        }\r\n\r\n        function getClusterData(clusterTimecode, clusterCounter, clusterFrames) {\r\n            return [{\r\n                'data': clusterTimecode,\r\n                'id': 0xe7 // Timecode\r\n            }].concat(clusterFrames.map(function(webp) {\r\n                var block = makeSimpleBlock({\r\n                    discardable: 0,\r\n                    frame: webp.data.slice(4),\r\n                    invisible: 0,\r\n                    keyframe: 1,\r\n                    lacing: 0,\r\n                    trackNum: 1,\r\n                    timecode: Math.round(clusterCounter)\r\n                });\r\n                clusterCounter += webp.duration;\r\n                return {\r\n                    data: block,\r\n                    id: 0xa3\r\n                };\r\n            }));\r\n        }\r\n\r\n        // sums the lengths of all the frames and gets the duration\r\n\r\n        function checkFrames(frames) {\r\n            if (!frames[0]) {\r\n                postMessage({\r\n                    error: 'Something went wrong. Maybe WebP format is not supported in the current browser.'\r\n                });\r\n                return;\r\n            }\r\n\r\n            var width = frames[0].width,\r\n                height = frames[0].height,\r\n                duration = frames[0].duration;\r\n\r\n            for (var i = 1; i < frames.length; i++) {\r\n                duration += frames[i].duration;\r\n            }\r\n            return {\r\n                duration: duration,\r\n                width: width,\r\n                height: height\r\n            };\r\n        }\r\n\r\n        function numToBuffer(num) {\r\n            var parts = [];\r\n            while (num > 0) {\r\n                parts.push(num & 0xff);\r\n                num = num >> 8;\r\n            }\r\n            return new Uint8Array(parts.reverse());\r\n        }\r\n\r\n        function strToBuffer(str) {\r\n            return new Uint8Array(str.split('').map(function(e) {\r\n                return e.charCodeAt(0);\r\n            }));\r\n        }\r\n\r\n        function bitsToBuffer(bits) {\r\n            var data = [];\r\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\r\n            bits = pad + bits;\r\n            for (var i = 0; i < bits.length; i += 8) {\r\n                data.push(parseInt(bits.substr(i, 8), 2));\r\n            }\r\n            return new Uint8Array(data);\r\n        }\r\n\r\n        function generateEBML(json) {\r\n            var ebml = [];\r\n            for (var i = 0; i < json.length; i++) {\r\n                var data = json[i].data;\r\n\r\n                if (typeof data === 'object') {\r\n                    data = generateEBML(data);\r\n                }\r\n\r\n                if (typeof data === 'number') {\r\n                    data = bitsToBuffer(data.toString(2));\r\n                }\r\n\r\n                if (typeof data === 'string') {\r\n                    data = strToBuffer(data);\r\n                }\r\n\r\n                var len = data.size || data.byteLength || data.length;\r\n                var zeroes = Math.ceil(Math.ceil(Math.log(len) / Math.log(2)) / 8);\r\n                var sizeToString = len.toString(2);\r\n                var padded = (new Array((zeroes * 7 + 7 + 1) - sizeToString.length)).join('0') + sizeToString;\r\n                var size = (new Array(zeroes)).join('0') + '1' + padded;\r\n\r\n                ebml.push(numToBuffer(json[i].id));\r\n                ebml.push(bitsToBuffer(size));\r\n                ebml.push(data);\r\n            }\r\n\r\n            return new Blob(ebml, {\r\n                type: 'video/webm'\r\n            });\r\n        }\r\n\r\n        function toBinStrOld(bits) {\r\n            var data = '';\r\n            var pad = (bits.length % 8) ? (new Array(1 + 8 - (bits.length % 8))).join('0') : '';\r\n            bits = pad + bits;\r\n            for (var i = 0; i < bits.length; i += 8) {\r\n                data += String.fromCharCode(parseInt(bits.substr(i, 8), 2));\r\n            }\r\n            return data;\r\n        }\r\n\r\n        function makeSimpleBlock(data) {\r\n            var flags = 0;\r\n\r\n            if (data.keyframe) {\r\n                flags |= 128;\r\n            }\r\n\r\n            if (data.invisible) {\r\n                flags |= 8;\r\n            }\r\n\r\n            if (data.lacing) {\r\n                flags |= (data.lacing << 1);\r\n            }\r\n\r\n            if (data.discardable) {\r\n                flags |= 1;\r\n            }\r\n\r\n            if (data.trackNum > 127) {\r\n                throw 'TrackNumber > 127 not supported';\r\n            }\r\n\r\n            var out = [data.trackNum | 0x80, data.timecode >> 8, data.timecode & 0xff, flags].map(function(e) {\r\n                return String.fromCharCode(e);\r\n            }).join('') + data.frame;\r\n\r\n            return out;\r\n        }\r\n\r\n        function parseWebP(riff) {\r\n            var VP8 = riff.RIFF[0].WEBP[0];\r\n\r\n            var frameStart = VP8.indexOf('\\x9d\\x01\\x2a'); // A VP8 keyframe starts with the 0x9d012a header\r\n            for (var i = 0, c = []; i < 4; i++) {\r\n                c[i] = VP8.charCodeAt(frameStart + 3 + i);\r\n            }\r\n\r\n            var width, height, tmp;\r\n\r\n            //the code below is literally copied verbatim from the bitstream spec\r\n            tmp = (c[1] << 8) | c[0];\r\n            width = tmp & 0x3FFF;\r\n            tmp = (c[3] << 8) | c[2];\r\n            height = tmp & 0x3FFF;\r\n            return {\r\n                width: width,\r\n                height: height,\r\n                data: VP8,\r\n                riff: riff\r\n            };\r\n        }\r\n\r\n        function getStrLength(string, offset) {\r\n            return parseInt(string.substr(offset + 4, 4).split('').map(function(i) {\r\n                var unpadded = i.charCodeAt(0).toString(2);\r\n                return (new Array(8 - unpadded.length + 1)).join('0') + unpadded;\r\n            }).join(''), 2);\r\n        }\r\n\r\n        function parseRIFF(string) {\r\n            var offset = 0;\r\n            var chunks = {};\r\n\r\n            while (offset < string.length) {\r\n                var id = string.substr(offset, 4);\r\n                var len = getStrLength(string, offset);\r\n                var data = string.substr(offset + 4 + 4, len);\r\n                offset += 4 + 4 + len;\r\n                chunks[id] = chunks[id] || [];\r\n\r\n                if (id === 'RIFF' || id === 'LIST') {\r\n                    chunks[id].push(parseRIFF(data));\r\n                } else {\r\n                    chunks[id].push(data);\r\n                }\r\n            }\r\n            return chunks;\r\n        }\r\n\r\n        function doubleToString(num) {\r\n            return [].slice.call(\r\n                new Uint8Array((new Float64Array([num])).buffer), 0).map(function(e) {\r\n                return String.fromCharCode(e);\r\n            }).reverse().join('');\r\n        }\r\n\r\n        var webm = new ArrayToWebM(frames.map(function(frame) {\r\n            var webp = parseWebP(parseRIFF(atob(frame.image.slice(23))));\r\n            webp.duration = frame.duration;\r\n            return webp;\r\n        }));\r\n\r\n        postMessage(webm);\r\n    }\r\n\r\n    /**\r\n     * Encodes frames in WebM container. It uses WebWorkinvoke to invoke 'ArrayToWebM' method.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof Whammy\r\n     * @example\r\n     * recorder = new Whammy().Video(0.8, 100);\r\n     * recorder.compile(function(blob) {\r\n     *    // blob.size - blob.type\r\n     * });\r\n     */\r\n    WhammyVideo.prototype.compile = function(callback) {\r\n        var webWorker = processInWebWorker(whammyInWebWorker);\r\n\r\n        webWorker.onmessage = function(event) {\r\n            if (event.data.error) {\r\n                console.error(event.data.error);\r\n                return;\r\n            }\r\n            callback(event.data);\r\n        };\r\n\r\n        webWorker.postMessage(this.frames);\r\n    };\r\n\r\n    return {\r\n        /**\r\n         * A more abstract-ish API.\r\n         * @method\r\n         * @memberof Whammy\r\n         * @example\r\n         * recorder = new Whammy().Video(0.8, 100);\r\n         * @param {?number} speed - 0.8\r\n         * @param {?number} quality - 100\r\n         */\r\n        Video: WhammyVideo\r\n    };\r\n})();\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.Whammy = Whammy;\r\n}\n\r\n// ______________ (indexed-db)\r\n// DiskStorage.js\r\n\r\n/**\r\n * DiskStorage is a standalone object used by {@link RecordRTC} to store recorded blobs in IndexedDB storage.\r\n * @summary Writing blobs into IndexedDB.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @example\r\n * DiskStorage.Store({\r\n *     audioBlob: yourAudioBlob,\r\n *     videoBlob: yourVideoBlob,\r\n *     gifBlob  : yourGifBlob\r\n * });\r\n * DiskStorage.Fetch(function(dataURL, type) {\r\n *     if(type === 'audioBlob') { }\r\n *     if(type === 'videoBlob') { }\r\n *     if(type === 'gifBlob')   { }\r\n * });\r\n * // DiskStorage.dataStoreName = 'recordRTC';\r\n * // DiskStorage.onError = function(error) { };\r\n * @property {function} init - This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\r\n * @property {function} Fetch - This method fetches stored blobs from IndexedDB.\r\n * @property {function} Store - This method stores blobs in IndexedDB.\r\n * @property {function} onError - This function is invoked for any known/unknown error.\r\n * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n */\r\n\r\n\r\nvar DiskStorage = {\r\n    /**\r\n     * This method must be called once to initialize IndexedDB ObjectStore. Though, it is auto-used internally.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.init();\r\n     */\r\n    init: function() {\r\n        var self = this;\r\n\r\n        if (typeof indexedDB === 'undefined' || typeof indexedDB.open === 'undefined') {\r\n            console.error('IndexedDB API are not available in this browser.');\r\n            return;\r\n        }\r\n\r\n        var dbVersion = 1;\r\n        var dbName = this.dbName || location.href.replace(/\\/|:|#|%|\\.|\\[|\\]/g, ''),\r\n            db;\r\n        var request = indexedDB.open(dbName, dbVersion);\r\n\r\n        function createObjectStore(dataBase) {\r\n            dataBase.createObjectStore(self.dataStoreName);\r\n        }\r\n\r\n        function putInDB() {\r\n            var transaction = db.transaction([self.dataStoreName], 'readwrite');\r\n\r\n            if (self.videoBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.videoBlob, 'videoBlob');\r\n            }\r\n\r\n            if (self.gifBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.gifBlob, 'gifBlob');\r\n            }\r\n\r\n            if (self.audioBlob) {\r\n                transaction.objectStore(self.dataStoreName).put(self.audioBlob, 'audioBlob');\r\n            }\r\n\r\n            function getFromStore(portionName) {\r\n                transaction.objectStore(self.dataStoreName).get(portionName).onsuccess = function(event) {\r\n                    if (self.callback) {\r\n                        self.callback(event.target.result, portionName);\r\n                    }\r\n                };\r\n            }\r\n\r\n            getFromStore('audioBlob');\r\n            getFromStore('videoBlob');\r\n            getFromStore('gifBlob');\r\n        }\r\n\r\n        request.onerror = self.onError;\r\n\r\n        request.onsuccess = function() {\r\n            db = request.result;\r\n            db.onerror = self.onError;\r\n\r\n            if (db.setVersion) {\r\n                if (db.version !== dbVersion) {\r\n                    var setVersion = db.setVersion(dbVersion);\r\n                    setVersion.onsuccess = function() {\r\n                        createObjectStore(db);\r\n                        putInDB();\r\n                    };\r\n                } else {\r\n                    putInDB();\r\n                }\r\n            } else {\r\n                putInDB();\r\n            }\r\n        };\r\n        request.onupgradeneeded = function(event) {\r\n            createObjectStore(event.target.result);\r\n        };\r\n    },\r\n    /**\r\n     * This method fetches stored blobs from IndexedDB.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.Fetch(function(dataURL, type) {\r\n     *     if(type === 'audioBlob') { }\r\n     *     if(type === 'videoBlob') { }\r\n     *     if(type === 'gifBlob')   { }\r\n     * });\r\n     */\r\n    Fetch: function(callback) {\r\n        this.callback = callback;\r\n        this.init();\r\n\r\n        return this;\r\n    },\r\n    /**\r\n     * This method stores blobs in IndexedDB.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.Store({\r\n     *     audioBlob: yourAudioBlob,\r\n     *     videoBlob: yourVideoBlob,\r\n     *     gifBlob  : yourGifBlob\r\n     * });\r\n     */\r\n    Store: function(config) {\r\n        this.audioBlob = config.audioBlob;\r\n        this.videoBlob = config.videoBlob;\r\n        this.gifBlob = config.gifBlob;\r\n\r\n        this.init();\r\n\r\n        return this;\r\n    },\r\n    /**\r\n     * This function is invoked for any known/unknown error.\r\n     * @method\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.onError = function(error){\r\n     *     alerot( JSON.stringify(error) );\r\n     * };\r\n     */\r\n    onError: function(error) {\r\n        console.error(JSON.stringify(error, null, '\\t'));\r\n    },\r\n\r\n    /**\r\n     * @property {string} dataStoreName - Name of the ObjectStore created in IndexedDB storage.\r\n     * @memberof DiskStorage\r\n     * @internal\r\n     * @example\r\n     * DiskStorage.dataStoreName = 'recordRTC';\r\n     */\r\n    dataStoreName: 'recordRTC',\r\n    dbName: null\r\n};\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.DiskStorage = DiskStorage;\r\n}\n\r\n// ______________\r\n// GifRecorder.js\r\n\r\n/**\r\n * GifRecorder is standalone calss used by {@link RecordRTC} to record video or canvas into animated gif.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef GifRecorder\r\n * @class\r\n * @example\r\n * var recorder = new GifRecorder(mediaStream || canvas || context, { onGifPreview: function, onGifRecordingStarted: function, width: 1280, height: 720, frameRate: 200, quality: 10 });\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     img.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object or HTMLCanvasElement or CanvasRenderingContext2D.\r\n * @param {object} config - {disableLogs:true, initCallback: function, width: 320, height: 240, frameRate: 200, quality: 10}\r\n */\r\n\r\nfunction GifRecorder(mediaStream, config) {\r\n    if (typeof GIFEncoder === 'undefined') {\r\n        var script = document.createElement('script');\r\n        script.src = 'https://www.webrtc-experiment.com/gif-recorder.js';\r\n        (document.body || document.documentElement).appendChild(script);\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    var isHTMLObject = mediaStream instanceof CanvasRenderingContext2D || mediaStream instanceof HTMLCanvasElement;\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        if (typeof GIFEncoder === 'undefined') {\r\n            setTimeout(self.record, 1000);\r\n            return;\r\n        }\r\n\r\n        if (!isLoadedMetaData) {\r\n            setTimeout(self.record, 1000);\r\n            return;\r\n        }\r\n\r\n        if (!isHTMLObject) {\r\n            if (!config.width) {\r\n                config.width = video.offsetWidth || 320;\r\n            }\r\n\r\n            if (!config.height) {\r\n                config.height = video.offsetHeight || 240;\r\n            }\r\n\r\n            if (!config.video) {\r\n                config.video = {\r\n                    width: config.width,\r\n                    height: config.height\r\n                };\r\n            }\r\n\r\n            if (!config.canvas) {\r\n                config.canvas = {\r\n                    width: config.width,\r\n                    height: config.height\r\n                };\r\n            }\r\n\r\n            canvas.width = config.canvas.width || 320;\r\n            canvas.height = config.canvas.height || 240;\r\n\r\n            video.width = config.video.width || 320;\r\n            video.height = config.video.height || 240;\r\n        }\r\n\r\n        // external library to record as GIF images\r\n        gifEncoder = new GIFEncoder();\r\n\r\n        // void setRepeat(int iter) \r\n        // Sets the number of times the set of GIF frames should be played. \r\n        // Default is 1; 0 means play indefinitely.\r\n        gifEncoder.setRepeat(0);\r\n\r\n        // void setFrameRate(Number fps) \r\n        // Sets frame rate in frames per second. \r\n        // Equivalent to setDelay(1000/fps).\r\n        // Using \"setDelay\" instead of \"setFrameRate\"\r\n        gifEncoder.setDelay(config.frameRate || 200);\r\n\r\n        // void setQuality(int quality) \r\n        // Sets quality of color quantization (conversion of images to the \r\n        // maximum 256 colors allowed by the GIF specification). \r\n        // Lower values (minimum = 1) produce better colors, \r\n        // but slow processing significantly. 10 is the default, \r\n        // and produces good color mapping at reasonable speeds. \r\n        // Values greater than 20 do not yield significant improvements in speed.\r\n        gifEncoder.setQuality(config.quality || 10);\r\n\r\n        // Boolean start() \r\n        // This writes the GIF Header and returns false if it fails.\r\n        gifEncoder.start();\r\n\r\n        if (typeof config.onGifRecordingStarted === 'function') {\r\n            config.onGifRecordingStarted();\r\n        }\r\n\r\n        startTime = Date.now();\r\n\r\n        function drawVideoFrame(time) {\r\n            if (self.clearedRecordedData === true) {\r\n                return;\r\n            }\r\n\r\n            if (isPausedRecording) {\r\n                return setTimeout(function() {\r\n                    drawVideoFrame(time);\r\n                }, 100);\r\n            }\r\n\r\n            lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\r\n\r\n            if (typeof lastFrameTime === undefined) {\r\n                lastFrameTime = time;\r\n            }\r\n\r\n            // ~10 fps\r\n            if (time - lastFrameTime < 90) {\r\n                return;\r\n            }\r\n\r\n            if (!isHTMLObject && video.paused) {\r\n                // via: https://github.com/muaz-khan/WebRTC-Experiment/pull/316\r\n                // Tweak for Android Chrome\r\n                video.play();\r\n            }\r\n\r\n            if (!isHTMLObject) {\r\n                context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n            }\r\n\r\n            if (config.onGifPreview) {\r\n                config.onGifPreview(canvas.toDataURL('image/png'));\r\n            }\r\n\r\n            gifEncoder.addFrame(context);\r\n            lastFrameTime = time;\r\n        }\r\n\r\n        lastAnimationFrame = requestAnimationFrame(drawVideoFrame);\r\n\r\n        if (config.initCallback) {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     img.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        callback = callback || function() {};\r\n\r\n        if (lastAnimationFrame) {\r\n            cancelAnimationFrame(lastAnimationFrame);\r\n        }\r\n\r\n        endTime = Date.now();\r\n\r\n        /**\r\n         * @property {Blob} blob - The recorded blob object.\r\n         * @memberof GifRecorder\r\n         * @example\r\n         * recorder.stop(function(){\r\n         *     var blob = recorder.blob;\r\n         * });\r\n         */\r\n        this.blob = new Blob([new Uint8Array(gifEncoder.stream().bin)], {\r\n            type: 'image/gif'\r\n        });\r\n\r\n        callback(this.blob);\r\n\r\n        // bug: find a way to clear old recorded blobs\r\n        gifEncoder.stream().bin = [];\r\n    };\r\n\r\n    var isPausedRecording = false;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPausedRecording = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPausedRecording = false;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof GifRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        self.clearedRecordedData = true;\r\n        clearRecordedDataCB();\r\n    };\r\n\r\n    function clearRecordedDataCB() {\r\n        if (gifEncoder) {\r\n            gifEncoder.stream().bin = [];\r\n        }\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'GifRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n\r\n    if (isHTMLObject) {\r\n        if (mediaStream instanceof CanvasRenderingContext2D) {\r\n            context = mediaStream;\r\n            canvas = context.canvas;\r\n        } else if (mediaStream instanceof HTMLCanvasElement) {\r\n            context = mediaStream.getContext('2d');\r\n            canvas = mediaStream;\r\n        }\r\n    }\r\n\r\n    var isLoadedMetaData = true;\r\n\r\n    if (!isHTMLObject) {\r\n        var video = document.createElement('video');\r\n        video.muted = true;\r\n        video.autoplay = true;\r\n        video.playsInline = true;\r\n\r\n        isLoadedMetaData = false;\r\n        video.onloadedmetadata = function() {\r\n            isLoadedMetaData = true;\r\n        };\r\n\r\n        setSrcObject(mediaStream, video);\r\n\r\n        video.play();\r\n    }\r\n\r\n    var lastAnimationFrame = null;\r\n    var startTime, endTime, lastFrameTime;\r\n\r\n    var gifEncoder;\r\n\r\n    var self = this;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.GifRecorder = GifRecorder;\r\n}\n\r\n// Last time updated: 2019-06-21 4:09:42 AM UTC\r\n\r\n// ________________________\r\n// MultiStreamsMixer v1.2.2\r\n\r\n// Open-Sourced: https://github.com/muaz-khan/MultiStreamsMixer\r\n\r\n// --------------------------------------------------\r\n// Muaz Khan     - www.MuazKhan.com\r\n// MIT License   - www.WebRTC-Experiment.com/licence\r\n// --------------------------------------------------\r\n\r\nfunction MultiStreamsMixer(arrayOfMediaStreams, elementClass) {\r\n\r\n    var browserFakeUserAgent = 'Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45';\r\n\r\n    (function(that) {\r\n        if (typeof RecordRTC !== 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (!that) {\r\n            return;\r\n        }\r\n\r\n        if (typeof window !== 'undefined') {\r\n            return;\r\n        }\r\n\r\n        if (typeof global === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        global.navigator = {\r\n            userAgent: browserFakeUserAgent,\r\n            getUserMedia: function() {}\r\n        };\r\n\r\n        if (!global.console) {\r\n            global.console = {};\r\n        }\r\n\r\n        if (typeof global.console.log === 'undefined' || typeof global.console.error === 'undefined') {\r\n            global.console.error = global.console.log = global.console.log || function() {\r\n                console.log(arguments);\r\n            };\r\n        }\r\n\r\n        if (typeof document === 'undefined') {\r\n            /*global document:true */\r\n            that.document = {\r\n                documentElement: {\r\n                    appendChild: function() {\r\n                        return '';\r\n                    }\r\n                }\r\n            };\r\n\r\n            document.createElement = document.captureStream = document.mozCaptureStream = function() {\r\n                var obj = {\r\n                    getContext: function() {\r\n                        return obj;\r\n                    },\r\n                    play: function() {},\r\n                    pause: function() {},\r\n                    drawImage: function() {},\r\n                    toDataURL: function() {\r\n                        return '';\r\n                    },\r\n                    style: {}\r\n                };\r\n                return obj;\r\n            };\r\n\r\n            that.HTMLVideoElement = function() {};\r\n        }\r\n\r\n        if (typeof location === 'undefined') {\r\n            /*global location:true */\r\n            that.location = {\r\n                protocol: 'file:',\r\n                href: '',\r\n                hash: ''\r\n            };\r\n        }\r\n\r\n        if (typeof screen === 'undefined') {\r\n            /*global screen:true */\r\n            that.screen = {\r\n                width: 0,\r\n                height: 0\r\n            };\r\n        }\r\n\r\n        if (typeof URL === 'undefined') {\r\n            /*global screen:true */\r\n            that.URL = {\r\n                createObjectURL: function() {\r\n                    return '';\r\n                },\r\n                revokeObjectURL: function() {\r\n                    return '';\r\n                }\r\n            };\r\n        }\r\n\r\n        /*global window:true */\r\n        that.window = global;\r\n    })(typeof global !== 'undefined' ? global : null);\r\n\r\n    // requires: chrome://flags/#enable-experimental-web-platform-features\r\n\r\n    elementClass = elementClass || 'multi-streams-mixer';\r\n\r\n    var videos = [];\r\n    var isStopDrawingFrames = false;\r\n\r\n    var canvas = document.createElement('canvas');\r\n    var context = canvas.getContext('2d');\r\n    canvas.style.opacity = 0;\r\n    canvas.style.position = 'absolute';\r\n    canvas.style.zIndex = -1;\r\n    canvas.style.top = '-1000em';\r\n    canvas.style.left = '-1000em';\r\n    canvas.className = elementClass;\r\n    (document.body || document.documentElement).appendChild(canvas);\r\n\r\n    this.disableLogs = false;\r\n    this.frameInterval = 10;\r\n\r\n    this.width = 360;\r\n    this.height = 240;\r\n\r\n    // use gain node to prevent echo\r\n    this.useGainNode = true;\r\n\r\n    var self = this;\r\n\r\n    // _____________________________\r\n    // Cross-Browser-Declarations.js\r\n\r\n    // WebAudio API representer\r\n    var AudioContext = window.AudioContext;\r\n\r\n    if (typeof AudioContext === 'undefined') {\r\n        if (typeof webkitAudioContext !== 'undefined') {\r\n            /*global AudioContext:true */\r\n            AudioContext = webkitAudioContext;\r\n        }\r\n\r\n        if (typeof mozAudioContext !== 'undefined') {\r\n            /*global AudioContext:true */\r\n            AudioContext = mozAudioContext;\r\n        }\r\n    }\r\n\r\n    /*jshint -W079 */\r\n    var URL = window.URL;\r\n\r\n    if (typeof URL === 'undefined' && typeof webkitURL !== 'undefined') {\r\n        /*global URL:true */\r\n        URL = webkitURL;\r\n    }\r\n\r\n    if (typeof navigator !== 'undefined' && typeof navigator.getUserMedia === 'undefined') { // maybe window.navigator?\r\n        if (typeof navigator.webkitGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.webkitGetUserMedia;\r\n        }\r\n\r\n        if (typeof navigator.mozGetUserMedia !== 'undefined') {\r\n            navigator.getUserMedia = navigator.mozGetUserMedia;\r\n        }\r\n    }\r\n\r\n    var MediaStream = window.MediaStream;\r\n\r\n    if (typeof MediaStream === 'undefined' && typeof webkitMediaStream !== 'undefined') {\r\n        MediaStream = webkitMediaStream;\r\n    }\r\n\r\n    /*global MediaStream:true */\r\n    if (typeof MediaStream !== 'undefined') {\r\n        // override \"stop\" method for all browsers\r\n        if (typeof MediaStream.prototype.stop === 'undefined') {\r\n            MediaStream.prototype.stop = function() {\r\n                this.getTracks().forEach(function(track) {\r\n                    track.stop();\r\n                });\r\n            };\r\n        }\r\n    }\r\n\r\n    var Storage = {};\r\n\r\n    if (typeof AudioContext !== 'undefined') {\r\n        Storage.AudioContext = AudioContext;\r\n    } else if (typeof webkitAudioContext !== 'undefined') {\r\n        Storage.AudioContext = webkitAudioContext;\r\n    }\r\n\r\n    function setSrcObject(stream, element) {\r\n        if ('srcObject' in element) {\r\n            element.srcObject = stream;\r\n        } else if ('mozSrcObject' in element) {\r\n            element.mozSrcObject = stream;\r\n        } else {\r\n            element.srcObject = stream;\r\n        }\r\n    }\r\n\r\n    this.startDrawingFrames = function() {\r\n        drawVideosToCanvas();\r\n    };\r\n\r\n    function drawVideosToCanvas() {\r\n        if (isStopDrawingFrames) {\r\n            return;\r\n        }\r\n\r\n        var videosLength = videos.length;\r\n\r\n        var fullcanvas = false;\r\n        var remaining = [];\r\n        videos.forEach(function(video) {\r\n            if (!video.stream) {\r\n                video.stream = {};\r\n            }\r\n\r\n            if (video.stream.fullcanvas) {\r\n                fullcanvas = video;\r\n            } else {\r\n                // todo: video.stream.active or video.stream.live to fix blank frames issues?\r\n                remaining.push(video);\r\n            }\r\n        });\r\n\r\n        if (fullcanvas) {\r\n            canvas.width = fullcanvas.stream.width;\r\n            canvas.height = fullcanvas.stream.height;\r\n        } else if (remaining.length) {\r\n            canvas.width = videosLength > 1 ? remaining[0].width * 2 : remaining[0].width;\r\n\r\n            var height = 1;\r\n            if (videosLength === 3 || videosLength === 4) {\r\n                height = 2;\r\n            }\r\n            if (videosLength === 5 || videosLength === 6) {\r\n                height = 3;\r\n            }\r\n            if (videosLength === 7 || videosLength === 8) {\r\n                height = 4;\r\n            }\r\n            if (videosLength === 9 || videosLength === 10) {\r\n                height = 5;\r\n            }\r\n            canvas.height = remaining[0].height * height;\r\n        } else {\r\n            canvas.width = self.width || 360;\r\n            canvas.height = self.height || 240;\r\n        }\r\n\r\n        if (fullcanvas && fullcanvas instanceof HTMLVideoElement) {\r\n            drawImage(fullcanvas);\r\n        }\r\n\r\n        remaining.forEach(function(video, idx) {\r\n            drawImage(video, idx);\r\n        });\r\n\r\n        setTimeout(drawVideosToCanvas, self.frameInterval);\r\n    }\r\n\r\n    function drawImage(video, idx) {\r\n        if (isStopDrawingFrames) {\r\n            return;\r\n        }\r\n\r\n        var x = 0;\r\n        var y = 0;\r\n        var width = video.width;\r\n        var height = video.height;\r\n\r\n        if (idx === 1) {\r\n            x = video.width;\r\n        }\r\n\r\n        if (idx === 2) {\r\n            y = video.height;\r\n        }\r\n\r\n        if (idx === 3) {\r\n            x = video.width;\r\n            y = video.height;\r\n        }\r\n\r\n        if (idx === 4) {\r\n            y = video.height * 2;\r\n        }\r\n\r\n        if (idx === 5) {\r\n            x = video.width;\r\n            y = video.height * 2;\r\n        }\r\n\r\n        if (idx === 6) {\r\n            y = video.height * 3;\r\n        }\r\n\r\n        if (idx === 7) {\r\n            x = video.width;\r\n            y = video.height * 3;\r\n        }\r\n\r\n        if (typeof video.stream.left !== 'undefined') {\r\n            x = video.stream.left;\r\n        }\r\n\r\n        if (typeof video.stream.top !== 'undefined') {\r\n            y = video.stream.top;\r\n        }\r\n\r\n        if (typeof video.stream.width !== 'undefined') {\r\n            width = video.stream.width;\r\n        }\r\n\r\n        if (typeof video.stream.height !== 'undefined') {\r\n            height = video.stream.height;\r\n        }\r\n\r\n        context.drawImage(video, x, y, width, height);\r\n\r\n        if (typeof video.stream.onRender === 'function') {\r\n            video.stream.onRender(context, x, y, width, height, idx);\r\n        }\r\n    }\r\n\r\n    function getMixedStream() {\r\n        isStopDrawingFrames = false;\r\n        var mixedVideoStream = getMixedVideoStream();\r\n\r\n        var mixedAudioStream = getMixedAudioStream();\r\n        if (mixedAudioStream) {\r\n            mixedAudioStream.getTracks().filter(function(t) {\r\n                return t.kind === 'audio';\r\n            }).forEach(function(track) {\r\n                mixedVideoStream.addTrack(track);\r\n            });\r\n        }\r\n\r\n        var fullcanvas;\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            if (stream.fullcanvas) {\r\n                fullcanvas = true;\r\n            }\r\n        });\r\n\r\n        // mixedVideoStream.prototype.appendStreams = appendStreams;\r\n        // mixedVideoStream.prototype.resetVideoStreams = resetVideoStreams;\r\n        // mixedVideoStream.prototype.clearRecordedData = clearRecordedData;\r\n\r\n        return mixedVideoStream;\r\n    }\r\n\r\n    function getMixedVideoStream() {\r\n        resetVideoStreams();\r\n\r\n        var capturedStream;\r\n\r\n        if ('captureStream' in canvas) {\r\n            capturedStream = canvas.captureStream();\r\n        } else if ('mozCaptureStream' in canvas) {\r\n            capturedStream = canvas.mozCaptureStream();\r\n        } else if (!self.disableLogs) {\r\n            console.error('Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features');\r\n        }\r\n\r\n        var videoStream = new MediaStream();\r\n\r\n        capturedStream.getTracks().filter(function(t) {\r\n            return t.kind === 'video';\r\n        }).forEach(function(track) {\r\n            videoStream.addTrack(track);\r\n        });\r\n\r\n        canvas.stream = videoStream;\r\n\r\n        return videoStream;\r\n    }\r\n\r\n    function getMixedAudioStream() {\r\n        // via: @pehrsons\r\n        if (!Storage.AudioContextConstructor) {\r\n            Storage.AudioContextConstructor = new Storage.AudioContext();\r\n        }\r\n\r\n        self.audioContext = Storage.AudioContextConstructor;\r\n\r\n        self.audioSources = [];\r\n\r\n        if (self.useGainNode === true) {\r\n            self.gainNode = self.audioContext.createGain();\r\n            self.gainNode.connect(self.audioContext.destination);\r\n            self.gainNode.gain.value = 0; // don't hear self\r\n        }\r\n\r\n        var audioTracksLength = 0;\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            if (!stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                }).length) {\r\n                return;\r\n            }\r\n\r\n            audioTracksLength++;\r\n\r\n            var audioSource = self.audioContext.createMediaStreamSource(stream);\r\n\r\n            if (self.useGainNode === true) {\r\n                audioSource.connect(self.gainNode);\r\n            }\r\n\r\n            self.audioSources.push(audioSource);\r\n        });\r\n\r\n        if (!audioTracksLength) {\r\n            // because \"self.audioContext\" is not initialized\r\n            // that's why we've to ignore rest of the code\r\n            return;\r\n        }\r\n\r\n        self.audioDestination = self.audioContext.createMediaStreamDestination();\r\n        self.audioSources.forEach(function(audioSource) {\r\n            audioSource.connect(self.audioDestination);\r\n        });\r\n        return self.audioDestination.stream;\r\n    }\r\n\r\n    function getVideo(stream) {\r\n        var video = document.createElement('video');\r\n\r\n        setSrcObject(stream, video);\r\n\r\n        video.className = elementClass;\r\n\r\n        video.muted = true;\r\n        video.volume = 0;\r\n\r\n        video.width = stream.width || self.width || 360;\r\n        video.height = stream.height || self.height || 240;\r\n\r\n        video.play();\r\n\r\n        return video;\r\n    }\r\n\r\n    this.appendStreams = function(streams) {\r\n        if (!streams) {\r\n            throw 'First parameter is required.';\r\n        }\r\n\r\n        if (!(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        streams.forEach(function(stream) {\r\n            var newStream = new MediaStream();\r\n\r\n            if (stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                }).length) {\r\n                var video = getVideo(stream);\r\n                video.stream = stream;\r\n                videos.push(video);\r\n\r\n                newStream.addTrack(stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                })[0]);\r\n            }\r\n\r\n            if (stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                }).length) {\r\n                var audioSource = self.audioContext.createMediaStreamSource(stream);\r\n                self.audioDestination = self.audioContext.createMediaStreamDestination();\r\n                audioSource.connect(self.audioDestination);\r\n\r\n                newStream.addTrack(self.audioDestination.stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'audio';\r\n                })[0]);\r\n            }\r\n\r\n            arrayOfMediaStreams.push(newStream);\r\n        });\r\n    };\r\n\r\n    this.releaseStreams = function() {\r\n        videos = [];\r\n        isStopDrawingFrames = true;\r\n\r\n        if (self.gainNode) {\r\n            self.gainNode.disconnect();\r\n            self.gainNode = null;\r\n        }\r\n\r\n        if (self.audioSources.length) {\r\n            self.audioSources.forEach(function(source) {\r\n                source.disconnect();\r\n            });\r\n            self.audioSources = [];\r\n        }\r\n\r\n        if (self.audioDestination) {\r\n            self.audioDestination.disconnect();\r\n            self.audioDestination = null;\r\n        }\r\n\r\n        if (self.audioContext) {\r\n            self.audioContext.close();\r\n        }\r\n\r\n        self.audioContext = null;\r\n\r\n        context.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        if (canvas.stream) {\r\n            canvas.stream.stop();\r\n            canvas.stream = null;\r\n        }\r\n    };\r\n\r\n    this.resetVideoStreams = function(streams) {\r\n        if (streams && !(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        resetVideoStreams(streams);\r\n    };\r\n\r\n    function resetVideoStreams(streams) {\r\n        videos = [];\r\n        streams = streams || arrayOfMediaStreams;\r\n\r\n        // via: @adrian-ber\r\n        streams.forEach(function(stream) {\r\n            if (!stream.getTracks().filter(function(t) {\r\n                    return t.kind === 'video';\r\n                }).length) {\r\n                return;\r\n            }\r\n\r\n            var video = getVideo(stream);\r\n            video.stream = stream;\r\n            videos.push(video);\r\n        });\r\n    }\r\n\r\n    // for debugging\r\n    this.name = 'MultiStreamsMixer';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    this.getMixedStream = getMixedStream;\r\n\r\n}\r\n\r\nif (typeof RecordRTC === 'undefined') {\r\n    if (typeof module !== 'undefined' /* && !!module.exports*/ ) {\r\n        module.exports = MultiStreamsMixer;\r\n    }\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define('MultiStreamsMixer', [], function() {\r\n            return MultiStreamsMixer;\r\n        });\r\n    }\r\n}\n\r\n// ______________________\r\n// MultiStreamRecorder.js\r\n\r\n/*\r\n * Video conference recording, using captureStream API along with WebAudio and Canvas2D API.\r\n */\r\n\r\n/**\r\n * MultiStreamRecorder can record multiple videos in single container.\r\n * @summary Multi-videos recorder.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef MultiStreamRecorder\r\n * @class\r\n * @example\r\n * var options = {\r\n *     mimeType: 'video/webm'\r\n * }\r\n * var recorder = new MultiStreamRecorder(ArrayOfMediaStreams, options);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n *\r\n *     // or\r\n *     var blob = recorder.blob;\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStreams} mediaStreams - Array of MediaStreams.\r\n * @param {object} config - {disableLogs:true, frameInterval: 1, mimeType: \"video/webm\"}\r\n */\r\n\r\nfunction MultiStreamRecorder(arrayOfMediaStreams, options) {\r\n    arrayOfMediaStreams = arrayOfMediaStreams || [];\r\n    var self = this;\r\n\r\n    var mixer;\r\n    var mediaRecorder;\r\n\r\n    options = options || {\r\n        elementClass: 'multi-streams-mixer',\r\n        mimeType: 'video/webm',\r\n        video: {\r\n            width: 360,\r\n            height: 240\r\n        }\r\n    };\r\n\r\n    if (!options.frameInterval) {\r\n        options.frameInterval = 10;\r\n    }\r\n\r\n    if (!options.video) {\r\n        options.video = {};\r\n    }\r\n\r\n    if (!options.video.width) {\r\n        options.video.width = 360;\r\n    }\r\n\r\n    if (!options.video.height) {\r\n        options.video.height = 240;\r\n    }\r\n\r\n    /**\r\n     * This method records all MediaStreams.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        // github/muaz-khan/MultiStreamsMixer\r\n        mixer = new MultiStreamsMixer(arrayOfMediaStreams, options.elementClass || 'multi-streams-mixer');\r\n\r\n        if (getAllVideoTracks().length) {\r\n            mixer.frameInterval = options.frameInterval || 10;\r\n            mixer.width = options.video.width || 360;\r\n            mixer.height = options.video.height || 240;\r\n            mixer.startDrawingFrames();\r\n        }\r\n\r\n        if (options.previewStream && typeof options.previewStream === 'function') {\r\n            options.previewStream(mixer.getMixedStream());\r\n        }\r\n\r\n        // record using MediaRecorder API\r\n        mediaRecorder = new MediaStreamRecorder(mixer.getMixedStream(), options);\r\n        mediaRecorder.record();\r\n    };\r\n\r\n    function getAllVideoTracks() {\r\n        var tracks = [];\r\n        arrayOfMediaStreams.forEach(function(stream) {\r\n            getTracks(stream, 'video').forEach(function(track) {\r\n                tracks.push(track);\r\n            });\r\n        });\r\n        return tracks;\r\n    }\r\n\r\n    /**\r\n     * This method stops recording MediaStream.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        if (!mediaRecorder) {\r\n            return;\r\n        }\r\n\r\n        mediaRecorder.stop(function(blob) {\r\n            self.blob = blob;\r\n\r\n            callback(blob);\r\n\r\n            self.clearRecordedData();\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.pause();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.resume();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        if (mediaRecorder) {\r\n            mediaRecorder.clearRecordedData();\r\n            mediaRecorder = null;\r\n        }\r\n\r\n        if (mixer) {\r\n            mixer.releaseStreams();\r\n            mixer = null;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Add extra media-streams to existing recordings.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\r\n     * @example\r\n     * recorder.addStreams([newAudioStream, newVideoStream]);\r\n     */\r\n    this.addStreams = function(streams) {\r\n        if (!streams) {\r\n            throw 'First parameter is required.';\r\n        }\r\n\r\n        if (!(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        arrayOfMediaStreams.concat(streams);\r\n\r\n        if (!mediaRecorder || !mixer) {\r\n            return;\r\n        }\r\n\r\n        mixer.appendStreams(streams);\r\n\r\n        if (options.previewStream && typeof options.previewStream === 'function') {\r\n            options.previewStream(mixer.getMixedStream());\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Reset videos during live recording. Replace old videos e.g. replace cameras with full-screen.\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @param {MediaStreams} mediaStreams - Array of MediaStreams\r\n     * @example\r\n     * recorder.resetVideoStreams([newVideo1, newVideo2]);\r\n     */\r\n    this.resetVideoStreams = function(streams) {\r\n        if (!mixer) {\r\n            return;\r\n        }\r\n\r\n        if (streams && !(streams instanceof Array)) {\r\n            streams = [streams];\r\n        }\r\n\r\n        mixer.resetVideoStreams(streams);\r\n    };\r\n\r\n    /**\r\n     * Returns MultiStreamsMixer\r\n     * @method\r\n     * @memberof MultiStreamRecorder\r\n     * @example\r\n     * let mixer = recorder.getMixer();\r\n     * mixer.appendStreams([newStream]);\r\n     */\r\n    this.getMixer = function() {\r\n        return mixer;\r\n    };\r\n\r\n    // for debugging\r\n    this.name = 'MultiStreamRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.MultiStreamRecorder = MultiStreamRecorder;\r\n}\n\r\n// _____________________\r\n// RecordRTC.promises.js\r\n\r\n/**\r\n * RecordRTCPromisesHandler adds promises support in {@link RecordRTC}. Try a {@link https://github.com/muaz-khan/RecordRTC/blob/master/simple-demos/RecordRTCPromisesHandler.html|demo here}\r\n * @summary Promises for {@link RecordRTC}\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef RecordRTCPromisesHandler\r\n * @class\r\n * @example\r\n * var recorder = new RecordRTCPromisesHandler(mediaStream, options);\r\n * recorder.startRecording()\r\n *         .then(successCB)\r\n *         .catch(errorCB);\r\n * // Note: You can access all RecordRTC API using \"recorder.recordRTC\" e.g. \r\n * recorder.recordRTC.onStateChanged = function(state) {};\r\n * recorder.recordRTC.setRecordingDuration(5000);\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - Single media-stream object, array of media-streams, html-canvas-element, etc.\r\n * @param {object} config - {type:\"video\", recorderType: MediaStreamRecorder, disableLogs: true, numberOfAudioChannels: 1, bufferSize: 0, sampleRate: 0, video: HTMLVideoElement, etc.}\r\n * @throws Will throw an error if \"new\" keyword is not used to initiate \"RecordRTCPromisesHandler\". Also throws error if first argument \"MediaStream\" is missing.\r\n * @requires {@link RecordRTC}\r\n */\r\n\r\nfunction RecordRTCPromisesHandler(mediaStream, options) {\r\n    if (!this) {\r\n        throw 'Use \"new RecordRTCPromisesHandler()\"';\r\n    }\r\n\r\n    if (typeof mediaStream === 'undefined') {\r\n        throw 'First argument \"MediaStream\" is required.';\r\n    }\r\n\r\n    var self = this;\r\n\r\n    /**\r\n     * @property {Blob} blob - Access/reach the native {@link RecordRTC} object.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * let internal = recorder.recordRTC.getInternalRecorder();\r\n     * alert(internal instanceof MediaStreamRecorder);\r\n     * recorder.recordRTC.onStateChanged = function(state) {};\r\n     */\r\n    self.recordRTC = new RecordRTC(mediaStream, options);\r\n\r\n    /**\r\n     * This method records MediaStream.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.startRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.startRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.startRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method stops the recording.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     var blob = recorder.getBlob();\r\n     * }).catch(errorCB);\r\n     */\r\n    this.stopRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.stopRecording(function(url) {\r\n                    self.blob = self.recordRTC.getBlob();\r\n\r\n                    if (!self.blob || !self.blob.size) {\r\n                        reject('Empty blob.', self.blob);\r\n                        return;\r\n                    }\r\n\r\n                    resolve(url);\r\n                });\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method pauses the recording. You can resume recording using \"resumeRecording\" method.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.pauseRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.pauseRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.pauseRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.resumeRecording()\r\n     *         .then(successCB)\r\n     *         .catch(errorCB);\r\n     */\r\n    this.resumeRecording = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.resumeRecording();\r\n                resolve();\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns data-url for the recorded blob.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     recorder.getDataURL().then(function(dataURL) {\r\n     *         window.open(dataURL);\r\n     *     }).catch(errorCB);;\r\n     * }).catch(errorCB);\r\n     */\r\n    this.getDataURL = function(callback) {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                self.recordRTC.getDataURL(function(dataURL) {\r\n                    resolve(dataURL);\r\n                });\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns the recorded blob.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.stopRecording().then(function() {\r\n     *     recorder.getBlob().then(function(blob) {})\r\n     * }).catch(errorCB);\r\n     */\r\n    this.getBlob = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getBlob());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method returns the internal recording object.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * let internalRecorder = await recorder.getInternalRecorder();\r\n     * if(internalRecorder instanceof MultiStreamRecorder) {\r\n     *     internalRecorder.addStreams([newAudioStream]);\r\n     *     internalRecorder.resetVideoStreams([screenStream]);\r\n     * }\r\n     * @returns {Object} \r\n     */\r\n    this.getInternalRecorder = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getInternalRecorder());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * This method resets the recorder. So that you can reuse single recorder instance many times.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * await recorder.reset();\r\n     * recorder.startRecording(); // record again\r\n     */\r\n    this.reset = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.reset());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Destroy RecordRTC instance. Clear all recorders and objects.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * recorder.destroy().then(successCB).catch(errorCB);\r\n     */\r\n    this.destroy = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.destroy());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * Get recorder's readonly state.\r\n     * @method\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * let state = await recorder.getState();\r\n     * // or\r\n     * recorder.getState().then(state => { console.log(state); })\r\n     * @returns {String} Returns recording state.\r\n     */\r\n    this.getState = function() {\r\n        return new Promise(function(resolve, reject) {\r\n            try {\r\n                resolve(self.recordRTC.getState());\r\n            } catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n\r\n    /**\r\n     * @property {Blob} blob - Recorded data as \"Blob\" object.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @example\r\n     * await recorder.stopRecording();\r\n     * let blob = recorder.getBlob(); // or \"recorder.recordRTC.blob\"\r\n     * invokeSaveAsDialog(blob);\r\n     */\r\n    this.blob = null;\r\n\r\n    /**\r\n     * RecordRTC version number\r\n     * @property {String} version - Release version number.\r\n     * @memberof RecordRTCPromisesHandler\r\n     * @static\r\n     * @readonly\r\n     * @example\r\n     * alert(recorder.version);\r\n     */\r\n    this.version = '5.6.2';\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.RecordRTCPromisesHandler = RecordRTCPromisesHandler;\r\n}\n\r\n// ______________________\r\n// WebAssemblyRecorder.js\r\n\r\n/**\r\n * WebAssemblyRecorder lets you create webm videos in JavaScript via WebAssembly. The library consumes raw RGBA32 buffers (4 bytes per pixel) and turns them into a webm video with the given framerate and quality. This makes it compatible out-of-the-box with ImageData from a CANVAS. With realtime mode you can also use webm-wasm for streaming webm videos.\r\n * @summary Video recording feature in Chrome, Firefox and maybe Edge.\r\n * @license {@link https://github.com/muaz-khan/RecordRTC/blob/master/LICENSE|MIT}\r\n * @author {@link https://MuazKhan.com|Muaz Khan}\r\n * @typedef WebAssemblyRecorder\r\n * @class\r\n * @example\r\n * var recorder = new WebAssemblyRecorder(mediaStream);\r\n * recorder.record();\r\n * recorder.stop(function(blob) {\r\n *     video.src = URL.createObjectURL(blob);\r\n * });\r\n * @see {@link https://github.com/muaz-khan/RecordRTC|RecordRTC Source Code}\r\n * @param {MediaStream} mediaStream - MediaStream object fetched using getUserMedia API or generated using captureStreamUntilEnded or WebAudio API.\r\n * @param {object} config - {webAssemblyPath:'webm-wasm.wasm',workerPath: 'webm-worker.js', frameRate: 30, width: 1920, height: 1080, bitrate: 1024, realtime: true}\r\n */\r\nfunction WebAssemblyRecorder(stream, config) {\r\n    // based on: github.com/GoogleChromeLabs/webm-wasm\r\n\r\n    if (typeof ReadableStream === 'undefined' || typeof WritableStream === 'undefined') {\r\n        // because it fixes readable/writable streams issues\r\n        console.error('Following polyfill is strongly recommended: https://unpkg.com/@mattiasbuelens/web-streams-polyfill/dist/polyfill.min.js');\r\n    }\r\n\r\n    config = config || {};\r\n\r\n    config.width = config.width || 640;\r\n    config.height = config.height || 480;\r\n    config.frameRate = config.frameRate || 30;\r\n    config.bitrate = config.bitrate || 1200;\r\n    config.realtime = config.realtime || true;\r\n\r\n    function createBufferURL(buffer, type) {\r\n        return URL.createObjectURL(new Blob([buffer], {\r\n            type: type || ''\r\n        }));\r\n    }\r\n\r\n    var finished;\r\n\r\n    function cameraStream() {\r\n        return new ReadableStream({\r\n            start: function(controller) {\r\n                var cvs = document.createElement('canvas');\r\n                var video = document.createElement('video');\r\n                var first = true;\r\n                video.srcObject = stream;\r\n                video.muted = true;\r\n                video.height = config.height;\r\n                video.width = config.width;\r\n                video.volume = 0;\r\n                video.onplaying = function() {\r\n                    cvs.width = config.width;\r\n                    cvs.height = config.height;\r\n                    var ctx = cvs.getContext('2d');\r\n                    var frameTimeout = 1000 / config.frameRate;\r\n                    var cameraTimer = setInterval(function f() {\r\n                        if (finished) {\r\n                            clearInterval(cameraTimer);\r\n                            controller.close();\r\n                        }\r\n\r\n                        if (first) {\r\n                            first = false;\r\n                            if (config.onVideoProcessStarted) {\r\n                                config.onVideoProcessStarted();\r\n                            }\r\n                        }\r\n\r\n                        ctx.drawImage(video, 0, 0);\r\n                        if (controller._controlledReadableStream.state !== 'closed') {\r\n                            try {\r\n                                controller.enqueue(\r\n                                    ctx.getImageData(0, 0, config.width, config.height)\r\n                                );\r\n                            } catch (e) {}\r\n                        }\r\n                    }, frameTimeout);\r\n                };\r\n                video.play();\r\n            }\r\n        });\r\n    }\r\n\r\n    var worker;\r\n\r\n    function startRecording(stream, buffer) {\r\n        if (!config.workerPath && !buffer) {\r\n            finished = false;\r\n\r\n            // is it safe to use @latest ?\r\n\r\n            fetch(\r\n                'https://unpkg.com/webm-wasm@latest/dist/webm-worker.js'\r\n            ).then(function(r) {\r\n                r.arrayBuffer().then(function(buffer) {\r\n                    startRecording(stream, buffer);\r\n                });\r\n            });\r\n            return;\r\n        }\r\n\r\n        if (!config.workerPath && buffer instanceof ArrayBuffer) {\r\n            var blob = new Blob([buffer], {\r\n                type: 'text/javascript'\r\n            });\r\n            config.workerPath = URL.createObjectURL(blob);\r\n        }\r\n\r\n        if (!config.workerPath) {\r\n            console.error('workerPath parameter is missing.');\r\n        }\r\n\r\n        worker = new Worker(config.workerPath);\r\n\r\n        worker.postMessage(config.webAssemblyPath || 'https://unpkg.com/webm-wasm@latest/dist/webm-wasm.wasm');\r\n        worker.addEventListener('message', function(event) {\r\n            if (event.data === 'READY') {\r\n                worker.postMessage({\r\n                    width: config.width,\r\n                    height: config.height,\r\n                    bitrate: config.bitrate || 1200,\r\n                    timebaseDen: config.frameRate || 30,\r\n                    realtime: config.realtime\r\n                });\r\n\r\n                cameraStream().pipeTo(new WritableStream({\r\n                    write: function(image) {\r\n                        if (finished) {\r\n                            console.error('Got image, but recorder is finished!');\r\n                            return;\r\n                        }\r\n\r\n                        worker.postMessage(image.data.buffer, [image.data.buffer]);\r\n                    }\r\n                }));\r\n            } else if (!!event.data) {\r\n                if (!isPaused) {\r\n                    arrayOfBuffers.push(event.data);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * This method records video.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.record();\r\n     */\r\n    this.record = function() {\r\n        arrayOfBuffers = [];\r\n        isPaused = false;\r\n        this.blob = null;\r\n        startRecording(stream);\r\n\r\n        if (typeof config.initCallback === 'function') {\r\n            config.initCallback();\r\n        }\r\n    };\r\n\r\n    var isPaused;\r\n\r\n    /**\r\n     * This method pauses the recording process.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.pause();\r\n     */\r\n    this.pause = function() {\r\n        isPaused = true;\r\n    };\r\n\r\n    /**\r\n     * This method resumes the recording process.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.resume();\r\n     */\r\n    this.resume = function() {\r\n        isPaused = false;\r\n    };\r\n\r\n    function terminate(callback) {\r\n        if (!worker) {\r\n            if (callback) {\r\n                callback();\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        // Wait for null event data to indicate that the encoding is complete\r\n        worker.addEventListener('message', function(event) {\r\n            if (event.data === null) {\r\n                worker.terminate();\r\n                worker = null;\r\n\r\n                if (callback) {\r\n                    callback();\r\n                }\r\n            }\r\n        });\r\n\r\n        worker.postMessage(null);\r\n    }\r\n\r\n    var arrayOfBuffers = [];\r\n\r\n    /**\r\n     * This method stops recording video.\r\n     * @param {function} callback - Callback function, that is used to pass recorded blob back to the callee.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.stop(function(blob) {\r\n     *     video.src = URL.createObjectURL(blob);\r\n     * });\r\n     */\r\n    this.stop = function(callback) {\r\n        finished = true;\r\n\r\n        var recorder = this;\r\n\r\n        terminate(function() {\r\n            recorder.blob = new Blob(arrayOfBuffers, {\r\n                type: 'video/webm'\r\n            });\r\n\r\n            callback(recorder.blob);\r\n        });\r\n    };\r\n\r\n    // for debugging\r\n    this.name = 'WebAssemblyRecorder';\r\n    this.toString = function() {\r\n        return this.name;\r\n    };\r\n\r\n    /**\r\n     * This method resets currently recorded data.\r\n     * @method\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.clearRecordedData();\r\n     */\r\n    this.clearRecordedData = function() {\r\n        arrayOfBuffers = [];\r\n        isPaused = false;\r\n        this.blob = null;\r\n\r\n        // todo: if recording-ON then STOP it first\r\n    };\r\n\r\n    /**\r\n     * @property {Blob} blob - The recorded blob object.\r\n     * @memberof WebAssemblyRecorder\r\n     * @example\r\n     * recorder.stop(function(){\r\n     *     var blob = recorder.blob;\r\n     * });\r\n     */\r\n    this.blob = null;\r\n}\r\n\r\nif (typeof RecordRTC !== 'undefined') {\r\n    RecordRTC.WebAssemblyRecorder = WebAssemblyRecorder;\r\n}\n","import {downloadRecord} from \"../utils\";\nimport RecordRTC from 'recordrtc';\nimport {EVENTS, FILE_SUFFIX} from \"../constant\";\nimport Emitter from \"../utils/emitter\";\n\nexport default class RecordRTCLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.fileName = '';\n        this.fileType = FILE_SUFFIX.webm;\n        this.isRecording = false;\n        this.recordingTimestamp = 0;\n        this.recordingInterval = null;\n        player.debug.log('Recorder', 'init');\n    }\n\n    destroy() {\n        this._reset();\n        this.player.debug.log('Recorder', 'destroy');\n    }\n\n    setFileName(fileName, fileType) {\n        this.fileName = fileName;\n\n        if (FILE_SUFFIX.mp4 === fileType || FILE_SUFFIX.webm === fileType) {\n            this.fileType = fileType;\n        }\n    }\n\n    get recording() {\n        return this.isRecording;\n    }\n\n    get recordTime() {\n        return this.recordingTimestamp;\n    }\n\n    startRecord() {\n        const debug = this.player.debug;\n        const options = {\n            type: 'video',\n            mimeType: 'video/webm;codecs=h264',\n            onTimeStamp: (timestamp) => {\n                debug.log('Recorder', 'record timestamp :' + timestamp);\n            },\n            disableLogs: !this.player._opt.debug\n        }\n\n        try {\n            const stream = this.player.video.$videoElement.captureStream(25);\n            if (this.player.audio.mediaStreamAudioDestinationNode &&\n                this.player.audio.mediaStreamAudioDestinationNode.stream &&\n                !this.player.audio.isStateSuspended() &&\n                this.player.audio.hasAudio) {\n                const audioStream = this.player.audio.mediaStreamAudioDestinationNode.stream;\n                if (audioStream.getAudioTracks().length > 0) {\n                    const audioTrack = audioStream.getAudioTracks()[0];\n                    if (audioTrack && audioTrack.enabled) {\n                        stream.addTrack(audioTrack);\n                    }\n                }\n            }\n            this.recorder = RecordRTC(stream, options);\n        } catch (e) {\n            debug.error('Recorder', e);\n            this.emit(EVENTS.recordCreateError);\n        }\n        if (this.recorder) {\n            this.isRecording = true;\n            this.player.emit(EVENTS.recording, true);\n            this.recorder.startRecording();\n            debug.log('Recorder', 'start recording');\n            this.player.emit(EVENTS.recordStart);\n            this.recordingInterval = window.setInterval(() => {\n                this.recordingTimestamp += 1;\n                this.player.emit(EVENTS.recordingTimestamp, this.recordingTimestamp);\n            }, 1000);\n        }\n    }\n\n    stopRecordAndSave() {\n        if (!this.recorder || !this.isRecording) {\n            return;\n        }\n        this.recorder.stopRecording(() => {\n            this.player.debug.log('Recorder', 'stop recording');\n            this.player.emit(EVENTS.recordEnd)\n            downloadRecord(this.recorder.getBlob(), this.fileName, this.fileType);\n            this._reset();\n            this.player.emit(EVENTS.recording, false);\n        })\n    }\n\n    _reset() {\n        this.isRecording = false;\n        this.recordingTimestamp = 0;\n\n        if (this.recorder) {\n            this.recorder.destroy();\n            this.recorder = null;\n        }\n        this.fileName = null;\n        if (this.recordingInterval) {\n            clearInterval(this.recordingInterval);\n        }\n        this.recordingInterval = null;\n    }\n\n\n}\n","import RecordRTCLoader from \"./recordRTCLoader\";\n\nexport default class Recorder {\n    constructor(player) {\n        const Loader = Recorder.getLoaderFactory();\n        return new Loader(player);\n    }\n\n    static getLoaderFactory() {\n        return RecordRTCLoader;\n    }\n}\n","import {formatVideoDecoderConfigure, noop, now} from \"../utils\";\nimport Emitter from \"../utils/emitter\";\nimport {ENCODED_VIDEO_TYPE, EVENTS, EVENTS_ERROR, VIDEO_ENC_CODE} from \"../constant\";\n\n\nexport default class WebcodecsDecoder extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.decoder = null;\n        this.initDecoder();\n        player.debug.log('Webcodecs', 'init')\n    }\n\n    destroy() {\n        if (this.decoder) {\n            this.decoder.close();\n            this.decoder = null;\n        }\n\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.off();\n        this.player.debug.log('Webcodecs', 'destroy')\n    }\n\n    initDecoder() {\n        const _this = this;\n        this.decoder = new VideoDecoder({\n            output(videoFrame) {\n                _this.handleDecode(videoFrame)\n            },\n            error(error) {\n                _this.handleError(error)\n            }\n        })\n    }\n\n    handleDecode(videoFrame) {\n        if (!this.isInitInfo) {\n            this.player.video.updateVideoInfo({\n                width: videoFrame.codedWidth,\n                height: videoFrame.codedHeight\n            })\n            this.player.video.initCanvasViewSize();\n            this.isInitInfo = true;\n        }\n\n        if (!this.player._times.videoStart) {\n            this.player._times.videoStart = now();\n            this.player.handlePlayToRenderTimes();\n        }\n\n        this.player.handleRender();\n        this.player.video.render({\n            videoFrame\n        })\n\n        this.player.updateStats({fps: true, ts: 0, buf: this.player.demux.delay})\n\n        // release resource\n        setTimeout(function () {\n            if (videoFrame.close) {\n                videoFrame.close()\n            } else {\n                videoFrame.destroy()\n            }\n        }, 100)\n    }\n\n    handleError(error) {\n        this.player.debug.log('Webcodecs', 'VideoDecoder handleError', error)\n    }\n\n    decodeVideo(payload, ts, isIframe) {\n        // this.player.debug.log('Webcodecs decoder', 'decodeVideo', ts, isIframe);\n        if (!this.hasInit) {\n            if (isIframe && payload[1] === 0) {\n                const videoCodec = (payload[0] & 0x0F);\n                this.player.video.updateVideoInfo({\n                    encTypeCode: videoCodec\n                })\n\n                // 如果解码出来的是\n                if (videoCodec === VIDEO_ENC_CODE.h265) {\n                    this.emit(EVENTS_ERROR.webcodecsH265NotSupport)\n                    return;\n                }\n                if (!this.player._times.decodeStart) {\n                    this.player._times.decodeStart = now();\n                }\n\n                const config = formatVideoDecoderConfigure(payload.slice(5));\n                this.decoder.configure(config);\n                this.hasInit = true;\n            }\n        } else {\n            const chunk = new EncodedVideoChunk({\n                data: payload.slice(5),\n                timestamp: ts,\n                type: isIframe ? ENCODED_VIDEO_TYPE.key : ENCODED_VIDEO_TYPE.delta\n            })\n            this.decoder.decode(chunk);\n        }\n    }\n\n\n}\n","class MP4 {\n\n    static init() {\n        MP4.types = {\n            avc1: [],\n            avcC: [],\n            hvc1: [],\n            hvcC: [],\n            btrt: [],\n            dinf: [],\n            dref: [],\n            esds: [],\n            ftyp: [],\n            hdlr: [],\n            mdat: [],\n            mdhd: [],\n            mdia: [],\n            mfhd: [],\n            minf: [],\n            moof: [],\n            moov: [],\n            mp4a: [],\n            mvex: [],\n            mvhd: [],\n            sdtp: [],\n            stbl: [],\n            stco: [],\n            stsc: [],\n            stsd: [],\n            stsz: [],\n            stts: [],\n            tfdt: [],\n            tfhd: [],\n            traf: [],\n            trak: [],\n            trun: [],\n            trex: [],\n            tkhd: [],\n            vmhd: [],\n            smhd: []\n        };\n\n        for (let name in MP4.types) {\n            if (MP4.types.hasOwnProperty(name)) {\n                MP4.types[name] = [\n                    name.charCodeAt(0),\n                    name.charCodeAt(1),\n                    name.charCodeAt(2),\n                    name.charCodeAt(3)\n                ];\n            }\n        }\n\n        let constants = MP4.constants = {};\n\n        constants.FTYP = new Uint8Array([\n            0x69, 0x73, 0x6F, 0x6D,  // major_brand: isom\n            0x0, 0x0, 0x0, 0x1,   // minor_version: 0x01\n            0x69, 0x73, 0x6F, 0x6D,  // isom\n            0x61, 0x76, 0x63, 0x31   // avc1\n        ]);\n\n        constants.STSD_PREFIX = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x01   // entry_count\n        ]);\n\n        constants.STTS = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00   // entry_count\n        ]);\n\n        constants.STSC = constants.STCO = constants.STTS;\n\n        constants.STSZ = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // sample_size\n            0x00, 0x00, 0x00, 0x00   // sample_count\n        ]);\n\n        constants.HDLR_VIDEO = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // pre_defined\n            0x76, 0x69, 0x64, 0x65,  // handler_type: 'vide'\n            0x00, 0x00, 0x00, 0x00,  // reserved: 3 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x56, 0x69, 0x64, 0x65,\n            0x6F, 0x48, 0x61, 0x6E,\n            0x64, 0x6C, 0x65, 0x72, 0x00  // name: VideoHandler\n        ]);\n\n        constants.HDLR_AUDIO = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // pre_defined\n            0x73, 0x6F, 0x75, 0x6E,  // handler_type: 'soun'\n            0x00, 0x00, 0x00, 0x00,  // reserved: 3 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x53, 0x6F, 0x75, 0x6E,\n            0x64, 0x48, 0x61, 0x6E,\n            0x64, 0x6C, 0x65, 0x72, 0x00  // name: SoundHandler\n        ]);\n\n        constants.DREF = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x01,  // entry_count\n            0x00, 0x00, 0x00, 0x0C,  // entry_size\n            0x75, 0x72, 0x6C, 0x20,  // type 'url '\n            0x00, 0x00, 0x00, 0x01   // version(0) + flags\n        ]);\n\n        // Sound media header\n        constants.SMHD = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00   // balance(2) + reserved(2)\n        ]);\n\n        // video media header\n        constants.VMHD = new Uint8Array([\n            0x00, 0x00, 0x00, 0x01,  // version(0) + flags\n            0x00, 0x00,              // graphicsmode: 2 bytes\n            0x00, 0x00, 0x00, 0x00,  // opcolor: 3 * 2 bytes\n            0x00, 0x00\n        ]);\n    }\n\n    // Generate a box\n    static box(type) {\n        let size = 8;\n        let result = null;\n        let datas = Array.prototype.slice.call(arguments, 1);\n        let arrayCount = datas.length;\n\n        for (let i = 0; i < arrayCount; i++) {\n            size += datas[i].byteLength;\n        }\n\n        result = new Uint8Array(size);\n        result[0] = (size >>> 24) & 0xFF;  // size\n        result[1] = (size >>> 16) & 0xFF;\n        result[2] = (size >>> 8) & 0xFF;\n        result[3] = (size) & 0xFF;\n\n        result.set(type, 4);  // type\n\n        let offset = 8;\n        for (let i = 0; i < arrayCount; i++) {  // data body\n            result.set(datas[i], offset);\n            offset += datas[i].byteLength;\n        }\n\n        return result;\n    }\n\n    // emit ftyp & moov\n    static generateInitSegment(meta) {\n        let ftyp = MP4.box(MP4.types.ftyp, MP4.constants.FTYP);\n        let moov = MP4.moov(meta);\n\n        let result = new Uint8Array(ftyp.byteLength + moov.byteLength);\n        result.set(ftyp, 0);\n        result.set(moov, ftyp.byteLength);\n        return result;\n    }\n\n    // Movie metadata box\n    static moov(meta) {\n        let mvhd = MP4.mvhd(meta.timescale, meta.duration);\n        let trak = MP4.trak(meta);\n        let mvex = MP4.mvex(meta);\n        return MP4.box(MP4.types.moov, mvhd, trak, mvex);\n    }\n\n    // Movie header box\n    static mvhd(timescale, duration) {\n        return MP4.box(MP4.types.mvhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // creation_time\n            0x00, 0x00, 0x00, 0x00,  // modification_time\n            (timescale >>> 24) & 0xFF,  // timescale: 4 bytes\n            (timescale >>> 16) & 0xFF,\n            (timescale >>> 8) & 0xFF,\n            (timescale) & 0xFF,\n            (duration >>> 24) & 0xFF,   // duration: 4 bytes\n            (duration >>> 16) & 0xFF,\n            (duration >>> 8) & 0xFF,\n            (duration) & 0xFF,\n            0x00, 0x01, 0x00, 0x00,  // Preferred rate: 1.0\n            0x01, 0x00, 0x00, 0x00,  // PreferredVolume(1.0, 2bytes) + reserved(2bytes)\n            0x00, 0x00, 0x00, 0x00,  // reserved: 4 + 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x00, 0x00,  // ----begin composition matrix----\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x40, 0x00, 0x00, 0x00,  // ----end composition matrix----\n            0x00, 0x00, 0x00, 0x00,  // ----begin pre_defined 6 * 4 bytes----\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,  // ----end pre_defined 6 * 4 bytes----\n            0xFF, 0xFF, 0xFF, 0xFF   // next_track_ID\n        ]));\n    }\n\n    // Track box\n    static trak(meta) {\n        return MP4.box(MP4.types.trak, MP4.tkhd(meta), MP4.mdia(meta));\n    }\n\n    // Track header box\n    static tkhd(meta) {\n        let trackId = meta.id, duration = meta.duration;\n        let width = meta.presentWidth, height = meta.presentHeight;\n\n        return MP4.box(MP4.types.tkhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x07,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // creation_time\n            0x00, 0x00, 0x00, 0x00,  // modification_time\n            (trackId >>> 24) & 0xFF,  // track_ID: 4 bytes\n            (trackId >>> 16) & 0xFF,\n            (trackId >>> 8) & 0xFF,\n            (trackId) & 0xFF,\n            0x00, 0x00, 0x00, 0x00,  // reserved: 4 bytes\n            (duration >>> 24) & 0xFF, // duration: 4 bytes\n            (duration >>> 16) & 0xFF,\n            (duration >>> 8) & 0xFF,\n            (duration) & 0xFF,\n            0x00, 0x00, 0x00, 0x00,  // reserved: 2 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,  // layer(2bytes) + alternate_group(2bytes)\n            0x00, 0x00, 0x00, 0x00,  // volume(2bytes) + reserved(2bytes)\n            0x00, 0x01, 0x00, 0x00,  // ----begin composition matrix----\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x01, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x00, 0x00, 0x00, 0x00,\n            0x40, 0x00, 0x00, 0x00,  // ----end composition matrix----\n            (width >>> 8) & 0xFF,    // width and height\n            (width) & 0xFF,\n            0x00, 0x00,\n            (height >>> 8) & 0xFF,\n            (height) & 0xFF,\n            0x00, 0x00\n        ]));\n    }\n\n    static mdia(meta) {\n        return MP4.box(MP4.types.mdia, MP4.mdhd(meta), MP4.hdlr(meta), MP4.minf(meta))\n    }\n\n    // Media header box\n    static mdhd(meta) {\n        let timescale = meta.timescale;\n        let duration = meta.duration;\n        return MP4.box(MP4.types.mdhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            0x00, 0x00, 0x00, 0x00,  // creation_time\n            0x00, 0x00, 0x00, 0x00,  // modification_time\n            (timescale >>> 24) & 0xFF,  // timescale: 4 bytes\n            (timescale >>> 16) & 0xFF,\n            (timescale >>> 8) & 0xFF,\n            (timescale) & 0xFF,\n            (duration >>> 24) & 0xFF,   // duration: 4 bytes\n            (duration >>> 16) & 0xFF,\n            (duration >>> 8) & 0xFF,\n            (duration) & 0xFF,\n            0x55, 0xC4,             // language: und (undetermined)\n            0x00, 0x00              // pre_defined = 0\n        ]));\n    }\n\n    // Media handler reference box\n    static hdlr(meta) {\n        let data = null;\n        if (meta.type === 'audio') {\n            data = MP4.constants.HDLR_AUDIO;\n        } else {\n            data = MP4.constants.HDLR_VIDEO;\n        }\n        return MP4.box(MP4.types.hdlr, data);\n    }\n\n    // Media infomation box\n    static minf(meta) {\n        let xmhd = null;\n        if (meta.type === 'audio') {\n            xmhd = MP4.box(MP4.types.smhd, MP4.constants.SMHD);\n        } else {\n            xmhd = MP4.box(MP4.types.vmhd, MP4.constants.VMHD);\n        }\n        return MP4.box(MP4.types.minf, xmhd, MP4.dinf(), MP4.stbl(meta));\n    }\n\n    // Data infomation box\n    static dinf() {\n        let result = MP4.box(MP4.types.dinf,\n            MP4.box(MP4.types.dref, MP4.constants.DREF)\n        );\n        return result;\n    }\n\n    // Sample table box\n    static stbl(meta) {\n        let result = MP4.box(MP4.types.stbl,  // type: stbl\n            MP4.stsd(meta),  // Sample Description Table\n            MP4.box(MP4.types.stts, MP4.constants.STTS),  // Time-To-Sample\n            MP4.box(MP4.types.stsc, MP4.constants.STSC),  // Sample-To-Chunk\n            MP4.box(MP4.types.stsz, MP4.constants.STSZ),  // Sample size\n            MP4.box(MP4.types.stco, MP4.constants.STCO)   // Chunk offset\n        );\n        return result;\n    }\n\n    static stsdOld(meta) {\n        return meta.type === \"audio\" ?\n            MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp4a(meta)) :\n            meta.videoType === 'avc' ?\n                MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.avc1(meta)) :\n                MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.hvc1(meta))\n    }\n\n    // Sample description box\n    static stsd(meta) {\n        if (meta.type === 'audio') {\n            // else: aac -> mp4a\n            return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.mp4a(meta));\n        } else {\n            if (meta.videoType === 'avc') {\n                //\n                return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.avc1(meta));\n            } else {\n                //\n                return MP4.box(MP4.types.stsd, MP4.constants.STSD_PREFIX, MP4.hvc1(meta))\n            }\n        }\n    }\n\n\n    static mp4a(meta) {\n        let channelCount = meta.channelCount;\n        let sampleRate = meta.audioSampleRate;\n\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // reserved(4)\n            0x00, 0x00, 0x00, 0x01,  // reserved(2) + data_reference_index(2)\n            0x00, 0x00, 0x00, 0x00,  // reserved: 2 * 4 bytes\n            0x00, 0x00, 0x00, 0x00,\n            0x00, channelCount,      // channelCount(2)\n            0x00, 0x10,              // sampleSize(2)\n            0x00, 0x00, 0x00, 0x00,  // reserved(4)\n            (sampleRate >>> 8) & 0xFF,  // Audio sample rate\n            (sampleRate) & 0xFF,\n            0x00, 0x00\n        ]);\n\n        return MP4.box(MP4.types.mp4a, data, MP4.esds(meta));\n    }\n\n    static esds(meta) {\n        let config = meta.config || [];\n        let configSize = config.length;\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version 0 + flags\n\n            0x03,                    // descriptor_type\n            0x17 + configSize,       // length3\n            0x00, 0x01,              // es_id\n            0x00,                    // stream_priority\n\n            0x04,                    // descriptor_type\n            0x0F + configSize,       // length\n            0x40,                    // codec: mpeg4_audio\n            0x15,                    // stream_type: Audio\n            0x00, 0x00, 0x00,        // buffer_size\n            0x00, 0x00, 0x00, 0x00,  // maxBitrate\n            0x00, 0x00, 0x00, 0x00,  // avgBitrate\n\n            0x05                     // descriptor_type\n        ].concat([\n            configSize\n        ]).concat(\n            config\n        ).concat([\n            0x06, 0x01, 0x02         // GASpecificConfig\n        ]));\n        return MP4.box(MP4.types.esds, data);\n    }\n\n    static avc1(meta) {\n        let avcc = meta.avcc;\n        const width = meta.codecWidth;\n        const height = meta.codecHeight;\n        let data = new Uint8Array([\n            0, 0, 0, 0,\n            0, 0, 0, 1,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            width >>> 8 & 255,\n            width & 255,\n            height >>> 8 & 255,\n            height & 255,\n            0, 72, 0, 0,\n            0, 72, 0, 0,\n            0, 0, 0, 0,\n            0, 1,\n            0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0,\n            0, 24,\n            255, 255]\n        );\n        return MP4.box(MP4.types.avc1, data, MP4.box(MP4.types.avcC, avcc))\n    }\n\n    static hvc1(meta) {\n        let avcc = meta.avcc;\n        const width = meta.codecWidth;\n        const height = meta.codecHeight;\n        let data = new Uint8Array([\n            0, 0, 0, 0,\n            0, 0, 0, 1,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            width >>> 8 & 255,\n            width & 255,\n            height >>> 8 & 255,\n            height & 255,\n            0, 72, 0, 0,\n            0, 72, 0, 0,\n            0, 0, 0, 0,\n            0, 1,\n            0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0, 0,\n            0, 0, 0,\n            0, 24,\n            255, 255\n        ]);\n        return MP4.box(MP4.types.hvc1, data, MP4.box(MP4.types.hvcC, avcc))\n    }\n\n    // Movie Extends box\n\n    static mvex(meta) {\n        return MP4.box(MP4.types.mvex, MP4.trex(meta))\n    }\n\n    // Track Extends box\n    static trex(meta) {\n        let trackId = meta.id;\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) + flags\n            (trackId >>> 24) & 0xFF, // track_ID\n            (trackId >>> 16) & 0xFF,\n            (trackId >>> 8) & 0xFF,\n            (trackId) & 0xFF,\n            0x00, 0x00, 0x00, 0x01,  // default_sample_description_index\n            0x00, 0x00, 0x00, 0x00,  // default_sample_duration\n            0x00, 0x00, 0x00, 0x00,  // default_sample_size\n            0x00, 0x01, 0x00, 0x01   // default_sample_flags\n        ]);\n        return MP4.box(MP4.types.trex, data);\n    }\n\n    // Movie fragment box\n    static moof(track, baseMediaDecodeTime) {\n        return MP4.box(MP4.types.moof, MP4.mfhd(track.sequenceNumber), MP4.traf(track, baseMediaDecodeTime))\n    }\n\n    static mfhd(sequenceNumber) {\n        let data = new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,\n            (sequenceNumber >>> 24) & 0xFF,  // sequence_number: int32\n            (sequenceNumber >>> 16) & 0xFF,\n            (sequenceNumber >>> 8) & 0xFF,\n            (sequenceNumber) & 0xFF\n        ]);\n        return MP4.box(MP4.types.mfhd, data);\n    }\n\n    // Track fragment box\n    static traf(track, baseMediaDecodeTime) {\n        let trackId = track.id;\n\n        // Track fragment header box\n        let tfhd = MP4.box(MP4.types.tfhd, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) & flags\n            (trackId >>> 24) & 0xFF, // track_ID\n            (trackId >>> 16) & 0xFF,\n            (trackId >>> 8) & 0xFF,\n            (trackId) & 0xFF\n        ]));\n        // Track Fragment Decode Time\n        let tfdt = MP4.box(MP4.types.tfdt, new Uint8Array([\n            0x00, 0x00, 0x00, 0x00,  // version(0) & flags\n            (baseMediaDecodeTime >>> 24) & 0xFF,  // baseMediaDecodeTime: int32\n            (baseMediaDecodeTime >>> 16) & 0xFF,\n            (baseMediaDecodeTime >>> 8) & 0xFF,\n            (baseMediaDecodeTime) & 0xFF\n        ]));\n        let sdtp = MP4.sdtp(track);\n        let trun = MP4.trun(track, sdtp.byteLength + 16 + 16 + 8 + 16 + 8 + 8);\n\n        return MP4.box(MP4.types.traf, tfhd, tfdt, trun, sdtp);\n    }\n\n    // Sample Dependency Type box\n    static sdtpOld(A) {\n        let e = new Uint8Array(4 + 1),\n            t = A.flags;\n        return e[4] = t.isLeading << 6 | t.dependsOn << 4 | t.isDependedOn << 2 | t.hasRedundancy, MP4.box(MP4.types.sdtp, e)\n    }\n\n    static sdtp(track) {\n        let data = new Uint8Array(4 + 1);\n        let flags = track.flags;\n        data[4] = flags.isLeading << 6\n            | flags.dependsOn << 4\n            | flags.isDependedOn << 2\n            | flags.hasRedundancy;\n        return MP4.box(MP4.types.sdtp, data);\n    }\n\n    static trun(track, offset) {\n        let dataSize = 12 + 16;\n        let data = new Uint8Array(dataSize);\n        offset += 8 + dataSize;\n\n        data.set([\n            0x00, 0x00, 0x0F, 0x01,      // version(0) & flags\n            0x00, 0x00, 0x00, 0x01, // sample_count\n            (offset >>> 24) & 0xFF,      // data_offset\n            (offset >>> 16) & 0xFF,\n            (offset >>> 8) & 0xFF,\n            (offset) & 0xFF\n        ], 0);\n\n        let duration = track.duration;\n        let size = track.size;\n        let flags = track.flags;\n        let cts = track.cts;\n\n        data.set([\n            (duration >>> 24) & 0xFF,  // sample_duration\n            (duration >>> 16) & 0xFF,\n            (duration >>> 8) & 0xFF,\n            (duration) & 0xFF,\n            (size >>> 24) & 0xFF,      // sample_size\n            (size >>> 16) & 0xFF,\n            (size >>> 8) & 0xFF,\n            (size) & 0xFF,\n            (flags.isLeading << 2) | flags.dependsOn,  // sample_flags\n            (flags.isDependedOn << 6) | (flags.hasRedundancy << 4) | flags.isNonSync,\n            0x00, 0x00,                // sample_degradation_priority\n            (cts >>> 24) & 0xFF,       // sample_composition_time_offset\n            (cts >>> 16) & 0xFF,\n            (cts >>> 8) & 0xFF,\n            (cts) & 0xFF\n        ], 12);\n\n        return MP4.box(MP4.types.trun, data);\n    }\n\n\n    static mdat(data) {\n        return MP4.box(MP4.types.mdat, data)\n    }\n}\n\nMP4.init();\n\nexport default MP4;\n","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n// Exponential-Golomb buffer decoder\nclass ExpGolomb {\n\n    constructor(uint8array) {\n        this.TAG = 'ExpGolomb';\n\n        this._buffer = uint8array;\n        this._buffer_index = 0;\n        this._total_bytes = uint8array.byteLength;\n        this._total_bits = uint8array.byteLength * 8;\n        this._current_word = 0;\n        this._current_word_bits_left = 0;\n    }\n\n    destroy() {\n        this._buffer = null;\n    }\n\n    _fillCurrentWord() {\n        let buffer_bytes_left = this._total_bytes - this._buffer_index;\n        if (buffer_bytes_left <= 0) {\n            // throw new IllegalStateException('ExpGolomb: _fillCurrentWord() but no bytes available');\n        }\n\n        let bytes_read = Math.min(4, buffer_bytes_left);\n        let word = new Uint8Array(4);\n        word.set(this._buffer.subarray(this._buffer_index, this._buffer_index + bytes_read));\n        this._current_word = new DataView(word.buffer).getUint32(0, false);\n\n        this._buffer_index += bytes_read;\n        this._current_word_bits_left = bytes_read * 8;\n    }\n\n    readBits(bits) {\n        if (bits > 32) {\n            // throw new InvalidArgumentException('ExpGolomb: readBits() bits exceeded max 32bits!');\n        }\n\n        if (bits <= this._current_word_bits_left) {\n            let result = this._current_word >>> (32 - bits);\n            this._current_word <<= bits;\n            this._current_word_bits_left -= bits;\n            return result;\n        }\n\n        let result = this._current_word_bits_left ? this._current_word : 0;\n        result = result >>> (32 - this._current_word_bits_left);\n        let bits_need_left = bits - this._current_word_bits_left;\n\n        this._fillCurrentWord();\n        let bits_read_next = Math.min(bits_need_left, this._current_word_bits_left);\n\n        let result2 = this._current_word >>> (32 - bits_read_next);\n        this._current_word <<= bits_read_next;\n        this._current_word_bits_left -= bits_read_next;\n\n        result = (result << bits_read_next) | result2;\n        return result;\n    }\n\n    readBool() {\n        return this.readBits(1) === 1;\n    }\n\n    readByte() {\n        return this.readBits(8);\n    }\n\n    _skipLeadingZero() {\n        let zero_count;\n        for (zero_count = 0; zero_count < this._current_word_bits_left; zero_count++) {\n            if (0 !== (this._current_word & (0x80000000 >>> zero_count))) {\n                this._current_word <<= zero_count;\n                this._current_word_bits_left -= zero_count;\n                return zero_count;\n            }\n        }\n        this._fillCurrentWord();\n        return zero_count + this._skipLeadingZero();\n    }\n\n    readUEG() {  // unsigned exponential golomb\n        let leading_zeros = this._skipLeadingZero();\n        return this.readBits(leading_zeros + 1) - 1;\n    }\n\n    readSEG() {  // signed exponential golomb\n        let value = this.readUEG();\n        if (value & 0x01) {\n            return (value + 1) >>> 1;\n        } else {\n            return -1 * (value >>> 1);\n        }\n    }\n\n}\n\nexport default ExpGolomb;\n","/*\n * Copyright (C) 2016 Bilibili. All Rights Reserved.\n *\n * @author zheng qian <xqq@xqq.im>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport ExpGolomb from './exp-golomb.js';\n\nclass SPSParser {\n\n    static _ebsp2rbsp(uint8array) {\n        let src = uint8array;\n        let src_length = src.byteLength;\n        let dst = new Uint8Array(src_length);\n        let dst_idx = 0;\n\n        for (let i = 0; i < src_length; i++) {\n            if (i >= 2) {\n                // Unescape: Skip 0x03 after 00 00\n                if (src[i] === 0x03 && src[i - 1] === 0x00 && src[i - 2] === 0x00) {\n                    continue;\n                }\n            }\n            dst[dst_idx] = src[i];\n            dst_idx++;\n        }\n\n        return new Uint8Array(dst.buffer, 0, dst_idx);\n    }\n\n    // 解析 SPS\n    // https://zhuanlan.zhihu.com/p/27896239\n    static parseSPS(uint8array) {\n        let rbsp = SPSParser._ebsp2rbsp(uint8array);\n        let gb = new ExpGolomb(rbsp);\n\n        gb.readByte();\n        // 标识当前H.264码流的profile。\n        // 我们知道，H.264中定义了三种常用的档次profile： 基准档次：baseline profile;主要档次：main profile; 扩展档次：extended profile;\n\n        let profile_idc = gb.readByte();  // profile_idc\n        gb.readByte();  // constraint_set_flags[5] + reserved_zero[3]\n        // 标识当前码流的Level。编码的Level定义了某种条件下的最大视频分辨率、最大视频帧率等参数，码流所遵从的level由level_idc指定。\n        let level_idc = gb.readByte();  // level_idc\n        // 表示当前的序列参数集的id。通过该id值，图像参数集pps可以引用其代表的sps中的参数。\n        gb.readUEG();  // seq_parameter_set_id\n\n        let profile_string = SPSParser.getProfileString(profile_idc);\n\n        let level_string = SPSParser.getLevelString(level_idc);\n\n        let chroma_format_idc = 1;\n        let chroma_format = 420;\n        let chroma_format_table = [0, 420, 422, 444];\n        let bit_depth = 8;\n\n        //\n        if (profile_idc === 100 || profile_idc === 110 || profile_idc === 122 ||\n            profile_idc === 244 || profile_idc === 44 || profile_idc === 83 ||\n            profile_idc === 86 || profile_idc === 118 || profile_idc === 128 ||\n            profile_idc === 138 || profile_idc === 144) {\n            //\n            chroma_format_idc = gb.readUEG();\n\n            if (chroma_format_idc === 3) {\n                gb.readBits(1);  // separate_colour_plane_flag\n            }\n            if (chroma_format_idc <= 3) {\n                chroma_format = chroma_format_table[chroma_format_idc];\n            }\n\n            bit_depth = gb.readUEG() + 8;  // bit_depth_luma_minus8\n            gb.readUEG();  // bit_depth_chroma_minus8\n            gb.readBits(1);  // qpprime_y_zero_transform_bypass_flag\n            if (gb.readBool()) {  // seq_scaling_matrix_present_flag\n                let scaling_list_count = (chroma_format_idc !== 3) ? 8 : 12;\n                for (let i = 0; i < scaling_list_count; i++) {\n                    if (gb.readBool()) {  // seq_scaling_list_present_flag\n                        if (i < 6) {\n                            SPSParser._skipScalingList(gb, 16);\n                        } else {\n                            SPSParser._skipScalingList(gb, 64);\n                        }\n                    }\n                }\n            }\n        }\n        // 用于计算MaxFrameNum的值。计算公式为MaxFrameNum = 2^(log2_max_frame_num_minus4 +\n        gb.readUEG();  // log2_max_frame_num_minus4\n        // 表示解码picture order count(POC)的方法。POC是另一种计量图像序号的方式，与frame_num有着不同的计算方法。该语法元素的取值为0、1或2。\n        let pic_order_cnt_type = gb.readUEG();\n        if (pic_order_cnt_type === 0) {\n            gb.readUEG();  // log2_max_pic_order_cnt_lsb_minus_4\n        } else if (pic_order_cnt_type === 1) {\n            gb.readBits(1);  // delta_pic_order_always_zero_flag\n            gb.readSEG();  // offset_for_non_ref_pic\n            gb.readSEG();  // offset_for_top_to_bottom_field\n            let num_ref_frames_in_pic_order_cnt_cycle = gb.readUEG();\n            for (let i = 0; i < num_ref_frames_in_pic_order_cnt_cycle; i++) {\n                gb.readSEG();  // offset_for_ref_frame\n            }\n        }\n        // 用于表示参考帧的最大数目。\n        let ref_frames = gb.readUEG();  // max_num_ref_frames\n        // 标识位，说明frame_num中是否允许不连续的值。\n        gb.readBits(1);  // gaps_in_frame_num_value_allowed_flag\n        // 用于计算图像的宽度。单位为宏块个数，因此图像的实际宽度为:\n        let pic_width_in_mbs_minus1 = gb.readUEG();\n        // 使用PicHeightInMapUnits来度量视频中一帧图像的高度。\n        // PicHeightInMapUnits并非图像明确的以像素或宏块为单位的高度，而需要考虑该宏块是帧编码或场编码。PicHeightInMapUnits的计算方式为：\n        let pic_height_in_map_units_minus1 = gb.readUEG();\n        // 标识位，说明宏块的编码方式。当该标识位为0时，宏块可能为帧编码或场编码；\n        // 该标识位为1时，所有宏块都采用帧编码。根据该标识位取值不同，PicHeightInMapUnits的含义也不同，\n        // 为0时表示一场数据按宏块计算的高度，为1时表示一帧数据按宏块计算的高度。\n        let frame_mbs_only_flag = gb.readBits(1);\n        if (frame_mbs_only_flag === 0) {\n            // 标识位，说明是否采用了宏块级的帧场自适应编码。当该标识位为0时，不存在帧编码和场编码之间的切换；当标识位为1时，宏块可能在帧编码和场编码模式之间进行选择。\n            gb.readBits(1);  // mb_adaptive_frame_field_flag\n        }\n        // 标识位，用于B_Skip、B_Direct模式运动矢量的推导计算。\n        gb.readBits(1);  // direct_8x8_inference_flag\n\n        let frame_crop_left_offset = 0;\n        let frame_crop_right_offset = 0;\n        let frame_crop_top_offset = 0;\n        let frame_crop_bottom_offset = 0;\n\n        let frame_cropping_flag = gb.readBool();\n        if (frame_cropping_flag) {\n            frame_crop_left_offset = gb.readUEG();\n            frame_crop_right_offset = gb.readUEG();\n            frame_crop_top_offset = gb.readUEG();\n            frame_crop_bottom_offset = gb.readUEG();\n        }\n\n        let sar_width = 1, sar_height = 1;\n        let fps = 0, fps_fixed = true, fps_num = 0, fps_den = 0;\n        // 标识位，说明SPS中是否存在VUI信息。\n        let vui_parameters_present_flag = gb.readBool();\n        if (vui_parameters_present_flag) {\n            if (gb.readBool()) {  // aspect_ratio_info_present_flag\n                let aspect_ratio_idc = gb.readByte();\n                let sar_w_table = [1, 12, 10, 16, 40, 24, 20, 32, 80, 18, 15, 64, 160, 4, 3, 2];\n                let sar_h_table = [1, 11, 11, 11, 33, 11, 11, 11, 33, 11, 11, 33,  99, 3, 2, 1];\n\n                if (aspect_ratio_idc > 0 && aspect_ratio_idc < 16) {\n                    sar_width = sar_w_table[aspect_ratio_idc - 1];\n                    sar_height = sar_h_table[aspect_ratio_idc - 1];\n                } else if (aspect_ratio_idc === 255) {\n                    sar_width = gb.readByte() << 8 | gb.readByte();\n                    sar_height = gb.readByte() << 8 | gb.readByte();\n                }\n            }\n\n            if (gb.readBool()) {  // overscan_info_present_flag\n                gb.readBool();  // overscan_appropriate_flag\n            }\n            if (gb.readBool()) {  // video_signal_type_present_flag\n                gb.readBits(4);  // video_format & video_full_range_flag\n                if (gb.readBool()) {  // colour_description_present_flag\n                    gb.readBits(24);  // colour_primaries & transfer_characteristics & matrix_coefficients\n                }\n            }\n            if (gb.readBool()) {  // chroma_loc_info_present_flag\n                gb.readUEG();  // chroma_sample_loc_type_top_field\n                gb.readUEG();  // chroma_sample_loc_type_bottom_field\n            }\n            if (gb.readBool()) {  // timing_info_present_flag\n                let num_units_in_tick = gb.readBits(32);\n                let time_scale = gb.readBits(32);\n                fps_fixed = gb.readBool();  // fixed_frame_rate_flag\n\n                fps_num = time_scale;\n                fps_den = num_units_in_tick * 2;\n                fps = fps_num / fps_den;\n            }\n        }\n\n        let sarScale = 1;\n        if (sar_width !== 1 || sar_height !== 1) {\n            sarScale = sar_width / sar_height;\n        }\n\n        let crop_unit_x = 0, crop_unit_y = 0;\n        if (chroma_format_idc === 0) {\n            crop_unit_x = 1;\n            crop_unit_y = 2 - frame_mbs_only_flag;\n        } else {\n            let sub_wc = (chroma_format_idc === 3) ? 1 : 2;\n            let sub_hc = (chroma_format_idc === 1) ? 2 : 1;\n            crop_unit_x = sub_wc;\n            crop_unit_y = sub_hc * (2 - frame_mbs_only_flag);\n        }\n\n        let codec_width = (pic_width_in_mbs_minus1 + 1) * 16;\n        let codec_height = (2 - frame_mbs_only_flag) * ((pic_height_in_map_units_minus1 + 1) * 16);\n\n        codec_width -= (frame_crop_left_offset + frame_crop_right_offset) * crop_unit_x;\n        codec_height -= (frame_crop_top_offset + frame_crop_bottom_offset) * crop_unit_y;\n\n        let present_width = Math.ceil(codec_width * sarScale);\n\n        gb.destroy();\n        gb = null;\n\n\n        // 解析出来的SPS 内容。\n        return {\n            profile_string: profile_string,  // baseline, high, high10, ...\n            level_string: level_string,  // 3, 3.1, 4, 4.1, 5, 5.1, ...\n            bit_depth: bit_depth,  // 8bit, 10bit, ...\n            ref_frames: ref_frames,\n            chroma_format: chroma_format,  // 4:2:0, 4:2:2, ...\n            chroma_format_string: SPSParser.getChromaFormatString(chroma_format),\n\n            frame_rate: {\n                fixed: fps_fixed,\n                fps: fps,\n                fps_den: fps_den,\n                fps_num: fps_num\n            },\n\n            sar_ratio: {\n                width: sar_width,\n                height: sar_height\n            },\n\n            codec_size: {\n                width: codec_width,\n                height: codec_height\n            },\n\n            present_size: {\n                width: present_width,\n                height: codec_height\n            }\n        };\n    }\n\n    static _skipScalingList(gb, count) {\n        let last_scale = 8, next_scale = 8;\n        let delta_scale = 0;\n        for (let i = 0; i < count; i++) {\n            if (next_scale !== 0) {\n                delta_scale = gb.readSEG();\n                next_scale = (last_scale + delta_scale + 256) % 256;\n            }\n            last_scale = (next_scale === 0) ? last_scale : next_scale;\n        }\n    }\n\n    // profile_idc = 66 → baseline profile;\n    // profile_idc = 77 → main profile;\n    // profile_idc = 88 → extended profile;\n    // 在新版的标准中，还包括了High、High 10、High 4:2:2、High 4:4:4、High 10 Intra、High\n    // 4:2:2 Intra、High 4:4:4 Intra、CAVLC 4:4:4 Intra\n    static getProfileString(profile_idc) {\n        switch (profile_idc) {\n            case 66:\n                return 'Baseline';\n            case 77:\n                return 'Main';\n            case 88:\n                return 'Extended';\n            case 100:\n                return 'High';\n            case 110:\n                return 'High10';\n            case 122:\n                return 'High422';\n            case 244:\n                return 'High444';\n            default:\n                return 'Unknown';\n        }\n    }\n\n    static getLevelString(level_idc) {\n        return (level_idc / 10).toFixed(1);\n    }\n\n    static getChromaFormatString(chroma) {\n        switch (chroma) {\n            case 420:\n                return '4:2:0';\n            case 422:\n                return '4:2:2';\n            case 444:\n                return '4:4:4';\n            default:\n                return 'Unknown';\n        }\n    }\n\n}\n\nexport default SPSParser;","import SPSParser from './h264-sps-parser.js';\n\n//\nexport function parseAVCDecoderConfigurationRecord(arrayBuffer) {\n    const meta = {}\n    const v = new DataView(arrayBuffer.buffer);\n    let version = v.getUint8(0);  // configurationVersion\n    let avcProfile = v.getUint8(1);  // avcProfileIndication\n    let profileCompatibility = v.getUint8(2);  // profile_compatibil\n    let avcLevel = v.getUint8(3);  // AVCLevelIndication\n\n    if (version !== 1 || avcProfile === 0) {\n        // this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord');\n\n        return;\n    }\n\n    const _naluLengthSize = (v.getUint8(4) & 3) + 1;  // lengthSizeMinusOne\n\n    if (_naluLengthSize !== 3 && _naluLengthSize !== 4) {  // holy shit!!!\n        // this._onError(DemuxErrors.FORMAT_ERROR, `Flv: Strange NaluLengthSizeMinusOne: ${_naluLengthSize - 1}`);\n        return;\n    }\n    let spsCount = v.getUint8(5) & 31;  // numOfSequenceParameterSets\n\n    if (spsCount === 0) {\n        // this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No SPS');\n        return;\n    } else if (spsCount > 1) {\n        // Log.w(this.TAG, `Flv: Strange AVCDecoderConfigurationRecord: SPS Count = ${spsCount}`);\n    }\n\n    let offset = 6;\n    for (let i = 0; i < spsCount; i++) {\n        let len = v.getUint16(offset, false);  // sequenceParameterSetLength\n        offset += 2;\n\n        if (len === 0) {\n            continue;\n        }\n\n        // Notice: Nalu without startcode header (00 00 00 01)\n        let sps = new Uint8Array(arrayBuffer.buffer, offset, len);\n        offset += len;\n        // flv.js作者选择了自己来解析这个数据结构，也是迫不得已，因为JS环境下没有ffmpeg，解析这个结构主要是为了提取 sps和pps。虽然理论上sps允许有多个，但其实一般就一个。\n        // packetTtype 为 1 表示 NALU，NALU= network abstract layer unit，这是H.264的概念，网络抽象层数据单元，其实简单理解就是一帧视频数据。\n        // pps的信息没什么用，所以作者只实现了sps的分析器，说明作者下了很大功夫去学习264的标准，其中的Golomb解码还是挺复杂的，能解对不容易，我在PC和手机平台都是用ffmpeg去解析的。\n        // SPS里面包括了视频分辨率，帧率，profile level等视频重要信息。\n        let config = SPSParser.parseSPS(sps);\n        if (i !== 0) {\n            // ignore other sps's config\n            continue;\n        }\n\n        meta.codecWidth = config.codec_size.width;\n        meta.codecHeight = config.codec_size.height;\n        meta.presentWidth = config.present_size.width;\n        meta.presentHeight = config.present_size.height;\n\n        meta.profile = config.profile_string;\n        meta.level = config.level_string;\n        meta.bitDepth = config.bit_depth;\n        meta.chromaFormat = config.chroma_format;\n        meta.sarRatio = config.sar_ratio;\n        meta.frameRate = config.frame_rate;\n\n        if (config.frame_rate.fixed === false ||\n            config.frame_rate.fps_num === 0 ||\n            config.frame_rate.fps_den === 0) {\n            meta.frameRate = {};\n        }\n\n        let fps_den = meta.frameRate.fps_den;\n        let fps_num = meta.frameRate.fps_num;\n\n        meta.refSampleDuration = meta.timescale * (fps_den / fps_num);\n\n        let codecArray = sps.subarray(1, 4);\n\n        let codecString = 'avc1.';\n        for (let j = 0; j < 3; j++) {\n            let h = codecArray[j].toString(16);\n            if (h.length < 2) {\n                h = '0' + h;\n            }\n            codecString += h;\n        }\n        // codec\n        meta.codec = codecString;\n    }\n\n    let ppsCount = v.getUint8(offset);  // numOfPictureParameterSets\n    if (ppsCount === 0) {\n        // this._onError(DemuxErrors.FORMAT_ERROR, 'Flv: Invalid AVCDecoderConfigurationRecord: No PPS');\n        return;\n    } else if (ppsCount > 1) {\n        // Log.w(this.TAG, `Flv: Strange AVCDecoderConfigurationRecord: PPS Count = ${ppsCount}`);\n    }\n\n    offset++;\n    for (let i = 0; i < ppsCount; i++) {\n        let len = v.getUint16(offset, false);  // pictureParameterSetLength\n        offset += 2;\n\n        if (len === 0) {\n            continue;\n        }\n        let pps = new Uint8Array(arrayBuffer.buffer, offset, len);\n\n        // pps is useless for extracting video information\n        offset += len;\n    }\n\n    meta.videoType = 'avc';\n\n    // meta.avcc = arrayBuffer;\n    return meta;\n}\n","class SPSParser {\n    static parseSPS(uint8array) {\n\n    }\n}\n\nexport default SPSParser\n","import {H265_NAL_TYPE} from \"../constant\";\nimport SPSParser from \"./h265-sps-parser\";\n\nexport function parseHEVCDecoderConfigurationRecord(arrayBuffer) {\n    const meta = {}\n    meta.videoType = 'hevc'\n    let offset = 28 - 5;\n    //\n    const vpsTag = arrayBuffer[offset];\n\n    if (vpsTag !== H265_NAL_TYPE.vps) {\n        return meta;\n    }\n\n    offset += 2;\n    offset += 1;\n    const vpsLength = arrayBuffer[offset + 1] | (arrayBuffer[offset] << 8);\n    offset += 2;\n    const vpsData = arrayBuffer.slice(offset, (offset + vpsLength));\n    console.log(Uint8Array.from(vpsData));\n    offset += vpsLength;\n\n    const spsTag = arrayBuffer[offset]\n    if (spsTag !== H265_NAL_TYPE.sps) {\n        return meta;\n    }\n    offset += 2;\n    offset += 1;\n    const spsLength = arrayBuffer[offset + 1] | (arrayBuffer[offset] << 8);\n\n    offset += 2;\n    const spsData = arrayBuffer.slice(offset, (offset + spsLength))\n    console.log(Uint8Array.from(spsData));\n\n    offset += spsLength;\n\n    const ppsTag = arrayBuffer[offset];\n\n    if (ppsTag !== H265_NAL_TYPE.pps) {\n        return meta;\n    }\n    offset += 2;\n    offset += 1;\n    const ppsLength = arrayBuffer[offset + 1] | (arrayBuffer[offset] << 8);\n    offset += 2;\n    const ppsData = arrayBuffer.slice(offset, (offset + ppsLength))\n    console.log(Uint8Array.from(ppsData));\n\n    let sps = Uint8Array.from(spsData);\n    let config = SPSParser.parseSPS(sps);\n\n    meta.codecWidth = config.codec_size.width;\n    meta.codecHeight = config.codec_size.height;\n    meta.presentWidth = config.present_size.width;\n    meta.presentHeight = config.present_size.height;\n\n    meta.profile = config.profile_string;\n    meta.level = config.level_string;\n    meta.bitDepth = config.bit_depth;\n    meta.chromaFormat = config.chroma_format;\n    meta.sarRatio = config.sar_ratio;\n\n    return meta;\n}\n","import Emitter from \"../utils/emitter\";\nimport {EVENTS, EVENTS_ERROR, FRAG_DURATION, MEDIA_SOURCE_STATE, MP4_CODECS, VIDEO_ENC_CODE} from \"../constant\";\nimport MP4 from \"../remux/fmp4-generator\";\nimport {parseAVCDecoderConfigurationRecord} from \"../utils/h264\";\nimport {parseHEVCDecoderConfigurationRecord} from \"../utils/h265\";\nimport {now} from \"../utils\";\n\n\nexport default class MseDecoder extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n        this.isAvc = true;\n        this.mediaSource = new window.MediaSource();\n        this.sourceBuffer = null;\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.cacheTrack = {};\n        this.timeInit = false;\n        // 序列号\n        this.sequenceNumber = 0;\n        this.mediaSourceOpen = false;\n        this.bufferList = [];\n        this.dropping = false;\n        this.player.video.$videoElement.src = window.URL.createObjectURL(this.mediaSource);\n        const {\n            debug,\n            events: {proxy},\n        } = player;\n\n\n        proxy(this.mediaSource, 'sourceopen', () => {\n            this.mediaSourceOpen = true;\n            this.player.emit(EVENTS.mseSourceOpen)\n        })\n\n        proxy(this.mediaSource, 'sourceclose', () => {\n            this.player.emit(EVENTS.mseSourceClose);\n        })\n\n        player.debug.log('MediaSource', 'init')\n    }\n\n    destroy() {\n        this.stop();\n        if (this.sourceBuffer) {\n            if (this.mediaSource) {\n                this.mediaSource.removeSourceBuffer(this.sourceBuffer);\n            }\n            this.mediaSource = null;\n            this.sourceBuffer = null;\n        }\n\n        if (Array.isArray(this.bufferList)) {\n            this.bufferList.length = 0\n        }\n\n        this.mediaSourceOpen = false;\n        this.hasInit = false;\n        this.isInitInfo = false;\n        this.sequenceNumber = 0;\n        this.cacheTrack = null;\n        this.timeInit = false;\n        this.off();\n        this.player.debug.log('MediaSource', 'destroy')\n    }\n\n    get state() {\n        return this.mediaSource.readyState\n    }\n\n    get isStateOpen() {\n        return this.state === MEDIA_SOURCE_STATE.open;\n    }\n\n    get isStateClosed() {\n        return this.state === MEDIA_SOURCE_STATE.closed;\n    }\n\n    get isStateEnded() {\n        return this.state === MEDIA_SOURCE_STATE.ended;\n    }\n\n    get duration() {\n        return this.mediaSource.duration\n    }\n\n    set duration(duration) {\n        this.mediaSource.duration = duration\n    }\n\n    decodeVideo(payload, ts, isIframe) {\n        const player = this.player;\n\n        if (!this.hasInit) {\n            if (isIframe && payload[1] === 0) {\n                const videoCodec = (payload[0] & 0x0F);\n                player.video.updateVideoInfo({\n                    encTypeCode: videoCodec\n                })\n\n                // 如果解码出来的是\n                if (videoCodec === VIDEO_ENC_CODE.h265) {\n                    this.emit(EVENTS_ERROR.mediaSourceH265NotSupport)\n                    return;\n                }\n                if (!player._times.decodeStart) {\n                    player._times.decodeStart = now();\n                }\n\n                this._decodeConfigurationRecord(payload, ts, isIframe, videoCodec)\n                this.hasInit = true;\n            }\n        } else {\n            this._decodeVideo(payload, ts, isIframe);\n        }\n    }\n\n    _doDecode() {\n        const bufferItem = this.bufferList.shift();\n        if (bufferItem) {\n            this._decodeVideo(bufferItem.payload, bufferItem.ts, bufferItem.isIframe);\n        }\n    }\n\n\n    _decodeConfigurationRecord(payload, ts, isIframe, videoCodec) {\n        let data = payload.slice(5);\n        let config = {};\n\n        if (videoCodec === VIDEO_ENC_CODE.h264) {\n            config = parseAVCDecoderConfigurationRecord(data)\n        } else if (videoCodec === VIDEO_ENC_CODE.h265) {\n            config = parseHEVCDecoderConfigurationRecord(data);\n        }\n        const metaData = {\n            id: 1, // video tag data\n            type: 'video',\n            timescale: 1000,\n            duration: 0,\n            avcc: data,\n            codecWidth: config.codecWidth,\n            codecHeight: config.codecHeight,\n            videoType: config.videoType\n        }\n        // ftyp\n        const metaBox = MP4.generateInitSegment(metaData);\n        this.isAvc = true;\n        if (metaBox.buffer) {\n            this.appendBuffer(metaBox.buffer);\n        }\n        this.sequenceNumber = 0;\n        this.cacheTrack = null;\n        this.timeInit = false;\n    }\n\n    //\n    _decodeVideo(payload, ts, isIframe) {\n        const player = this.player;\n        let arrayBuffer = payload.slice(5);\n        let bytes = arrayBuffer.byteLength;\n        let cts = 0;\n        let dts = ts;\n\n        const $video = player.video.$videoElement;\n\n        if ($video.buffered.length > 1) {\n            this.removeBuffer($video.buffered.start(0), $video.buffered.end(0));\n            this.timeInit = false;\n        }\n        if ($video.drop && dts - this.cacheTrack.dts > 1000) {\n            $video.drop = false;\n            this.cacheTrack = {};\n        } else if (this.cacheTrack && dts > this.cacheTrack.dts) {\n            // 需要额外加8个size\n            let mdatBytes = 8 + this.cacheTrack.size;\n            let mdatbox = new Uint8Array(mdatBytes);\n            mdatbox[0] = mdatBytes >>> 24 & 255;\n            mdatbox[1] = mdatBytes >>> 16 & 255;\n            mdatbox[2] = mdatBytes >>> 8 & 255;\n            mdatbox[3] = mdatBytes & 255;\n            mdatbox.set(MP4.types.mdat, 4);\n            mdatbox.set(this.cacheTrack.data, 8);\n\n            this.cacheTrack.duration = dts - this.cacheTrack.dts;\n            // moof\n            let moofbox = MP4.moof(this.cacheTrack, this.cacheTrack.dts);\n            let result = new Uint8Array(moofbox.byteLength + mdatbox.byteLength);\n            result.set(moofbox, 0);\n            result.set(mdatbox, moofbox.byteLength);\n            // appendBuffer\n            if (result.buffer) {\n                this.appendBuffer(result.buffer)\n            }\n            player.handleRender();\n            player.updateStats({fps: true, ts: ts, buf: player.demux ? player.demux.delay : {}})\n            if (!player._times.videoStart) {\n                player._times.videoStart = now();\n                player.handlePlayToRenderTimes()\n            }\n        } else {\n            player.debug.log('MediaSource', 'timeInit set false , cacheTrack = {}');\n            this.timeInit = false;\n            this.cacheTrack = {};\n        }\n\n        if (!this.cacheTrack) {\n            this.cacheTrack = {}\n        }\n\n        this.cacheTrack.id = 1;\n        this.cacheTrack.sequenceNumber = ++this.sequenceNumber;\n        this.cacheTrack.size = bytes;\n        this.cacheTrack.dts = dts;\n        this.cacheTrack.cts = cts;\n        this.cacheTrack.isKeyframe = isIframe;\n        this.cacheTrack.data = arrayBuffer;\n        //\n        this.cacheTrack.flags = {\n            isLeading: 0,\n            dependsOn: isIframe ? 2 : 1,\n            isDependedOn: isIframe ? 1 : 0,\n            hasRedundancy: 0,\n            isNonSync: isIframe ? 0 : 1\n        }\n\n        //\n        if (!this.timeInit && $video.buffered.length === 1) {\n            player.debug.log('MediaSource', 'timeInit set true');\n            this.timeInit = true;\n            $video.currentTime = $video.buffered.end(0);\n        }\n\n        if (!this.isInitInfo && $video.videoWidth > 0 && $video.videoHeight > 0) {\n            player.debug.log('MediaSource', `updateVideoInfo: ${$video.videoWidth},${$video.videoHeight}`);\n            player.video.updateVideoInfo({\n                width: $video.videoWidth,\n                height: $video.videoHeight\n            })\n            player.video.initCanvasViewSize();\n            this.isInitInfo = true;\n        }\n    }\n\n    async appendBuffer(buffer) {\n        const {\n            debug,\n            events: {proxy},\n        } = this.player;\n\n        if (buffer === null) {\n            return;\n        }\n\n        if (this.sourceBuffer === null) {\n            this.sourceBuffer = this.mediaSource.addSourceBuffer(MP4_CODECS.avc);\n            proxy(this.sourceBuffer, 'error', (error) => {\n                this.player.emit(EVENTS.mseSourceBufferError, error);\n                this.dropSourceBuffer(true)\n            })\n        } else {\n            // this.player.replay()\n            // return\n        }\n\n        // 上一块数据还在添加中\n        if (this.sourceBuffer.updating) {\n            return\n        }\n\n        if (this.sourceBuffer.updating === false && this.isStateOpen) {\n            try {\n                this.sourceBuffer.appendBuffer(buffer);\n                if (buffer && buffer.slice) {\n                    buffer.slice(buffer.byteLength)\n                }\n            } catch (error) {\n                // console.error('error: => ', error)\n                console.error('error: => sourceBuffer => appendBuffer')\n                this.player.replay()\n            }\n            return;\n        }\n\n        // console.log(this.sourceBuffer.updating, this.mediaSource.readyState, this.isStateOpen)\n\n        if (this.isStateClosed) {\n            this.player.emit(EVENTS.mseSourceBufferError, 'mediaSource is not attached to video or mediaSource is closed')\n        } else if (this.isStateEnded) {\n            this.player.emit(EVENTS.mseSourceBufferError, 'mediaSource is closed')\n        } else {\n            if (this.sourceBuffer.updating === true) {\n                this.player.emit(EVENTS.mseSourceBufferBusy);\n                this.dropSourceBuffer(true);\n            }\n        }\n    }\n\n    stop() {\n        if (this.isStateOpen) {\n            if (this.sourceBuffer) {\n                this.sourceBuffer.abort();\n            }\n        }\n        this.endOfStream();\n    }\n\n    dropSourceBuffer(flag) {\n        const video = this.player.video;\n        const $video = video.$videoElement;\n        this.dropping = flag;\n        if ($video.buffered.length > 0) {\n            if ($video.buffered.end(0) - $video.currentTime > 1) {\n                $video.currentTime = $video.buffered.end(0);\n            }\n        }\n    }\n\n\n    removeBuffer(start, end) {\n\n        if (this.isStateOpen && this.sourceBuffer.updating === false) {\n            try {\n                this.sourceBuffer.remove(start, end)\n            } catch (e) {\n                console.error(e)\n            }\n        }\n    }\n\n    endOfStream() {\n        if (this.isStateOpen) {\n            this.mediaSource.endOfStream();\n        }\n    }\n\n\n}\n","import {EVENTS, MEDIA_TYPE, WORKER_CMD_TYPE, WORKER_SEND_TYPE} from \"../constant\";\nimport WebcodecsDecoder from \"../decoder/webcodecs\";\nimport MseDecoder from \"../decoder/mediaSource\";\nimport {now} from \"../utils\";\n\nexport default class DecoderWorker {\n    constructor(player) {\n        this.player = player;\n        if (player._opt.useWebRTC || player._opt.useMSE) {\n            setTimeout(this.__initWebRTCStatus.bind(this), 200)\n        } else {\n            this.decoderWorker = new Worker(player._opt.decoder)\n            this._initDecoderWorker();\n            player.debug.log('decoderWorker', 'init')\n        }\n    }\n\n    __initWebRTCStatus () {\n        if (!this.player.loaded) {\n            this.player.emit(EVENTS.load);\n        }\n        this.player.emit(EVENTS.decoderWorkerInit);\n    }\n\n    destroy() {\n        if (this.decoderWorker) {\n            this.decoderWorker.postMessage({cmd: WORKER_SEND_TYPE.close})\n            this.decoderWorker.terminate();\n            this.decoderWorker = null;\n        }\n        this.player.debug.log(`decoderWorker`, 'destroy');\n    }\n\n    _initDecoderWorker() {\n        const {\n            debug,\n            events: {proxy},\n        } = this.player;\n\n        this.decoderWorker.onmessage = (event) => {\n            const msg = event.data;\n            switch (msg.cmd) {\n                case WORKER_CMD_TYPE.init:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.init);\n                    if (!this.player.loaded) {\n                        this.player.emit(EVENTS.load);\n                    }\n                    this.player.emit(EVENTS.decoderWorkerInit);\n                    this._initWork();\n                    break;\n                case WORKER_CMD_TYPE.videoCode:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.videoCode, msg.code);\n                    if (!this.player._times.decodeStart) {\n                        this.player._times.decodeStart = now();\n                    }\n                    this.player.video.updateVideoInfo({\n                        encTypeCode: msg.code\n                    })\n                    break;\n                case WORKER_CMD_TYPE.audioCode:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.audioCode, msg.code);\n                    this.player.audio.updateAudioInfo({\n                        encTypeCode: msg.code\n                    })\n                    break;\n                case WORKER_CMD_TYPE.initVideo:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.initVideo, `width:${msg.w},height:${msg.h}`);\n                    this.player.video.updateVideoInfo({\n                        width: msg.w,\n                        height: msg.h\n                    })\n                    this.player.video.initCanvasViewSize();\n                    break;\n                case WORKER_CMD_TYPE.initAudio:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.initAudio, `channels:${msg.channels},sampleRate:${msg.sampleRate}`);\n                    this.player.audio.updateAudioInfo(msg);\n                    this.player.audio.initScriptNode(msg);\n                    break;\n                case WORKER_CMD_TYPE.render:\n                    // debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.render, `msg ts:${msg.ts}`);\n                    this.player.handleRender();\n                    this.player.video.render(msg);\n                    this.player.emit(EVENTS.timeUpdate, msg.ts)\n                    this.player.updateStats({fps: true, ts: msg.ts, buf: msg.delay})\n                    if (!this.player._times.videoStart) {\n                        this.player._times.videoStart = now();\n                        this.player.handlePlayToRenderTimes();\n                    }\n                    break;\n                case WORKER_CMD_TYPE.playAudio:\n                    debug.log(`decoderWorker`, 'onmessage:', WORKER_CMD_TYPE.playAudio, `msg ts:${msg.ts}`);\n                    // 只有在 playing 的时候。\n                    if (this.player.playing) {\n                        this.player.audio.play(msg.buffer, msg.ts);\n                    }\n                    break;\n                default:\n                    this.player[msg.cmd] && this.player[msg.cmd](msg);\n            }\n        }\n    }\n\n    _initWork() {\n        const opt = {\n            debug: this.player._opt.debug,\n            forceNoOffscreen: this.player._opt.forceNoOffscreen,\n            useWCS: this.player._opt.useWCS,\n            videoBuffer: this.player._opt.videoBuffer\n        }\n        this.decoderWorker.postMessage({\n            cmd: WORKER_SEND_TYPE.init,\n            opt: JSON.stringify(opt),\n            sampleRate: this.player.audio.audioContext.sampleRate\n        })\n    }\n\n    decodeVideo(arrayBuffer, ts, isIFrame) {\n\n\n        const options = {\n            type: MEDIA_TYPE.video,\n            ts: Math.max(ts, 0),\n            isIFrame\n        }\n        // this.player.debug.log('decoderWorker', 'decodeVideo', options);\n        this.decoderWorker.postMessage({\n            cmd: WORKER_SEND_TYPE.decode,\n            buffer: arrayBuffer,\n            options\n        }, [arrayBuffer.buffer])\n    }\n\n    decodeAudio(arrayBuffer, ts) {\n        if (this.player._opt.useWCS && !this.player._opt.useOffscreen) {\n            this._decodeAudioNoDelay(arrayBuffer, ts);\n        } else if (this.player._opt.useMSE) {\n            this._decodeAudioNoDelay(arrayBuffer, ts);\n        } else {\n            this._decodeAudio(arrayBuffer, ts);\n        }\n    }\n\n    //\n    _decodeAudio(arrayBuffer, ts) {\n        const options = {\n            type: MEDIA_TYPE.audio,\n            ts: Math.max(ts, 0)\n        }\n        // this.player.debug.log('decoderWorker', 'decodeAudio',options);\n        this.decoderWorker.postMessage({\n            cmd: WORKER_SEND_TYPE.decode,\n            buffer: arrayBuffer,\n            options\n        }, [arrayBuffer.buffer])\n    }\n\n\n    _decodeAudioNoDelay(arrayBuffer, ts) {\n        // console.log('_decodeAudioNoDelay', arrayBuffer);\n        this.decoderWorker.postMessage({\n            cmd: WORKER_SEND_TYPE.audioDecode,\n            buffer: arrayBuffer,\n            ts: Math.max(ts, 0)\n        }, [arrayBuffer.buffer])\n    }\n}\n","import Emitter from \"../utils/emitter\";\nimport {MEDIA_TYPE} from \"../constant\";\n\nexport default class CommonLoader extends Emitter {\n    constructor(player) {\n        super();\n        this.player = player;\n\n        this.stopId = null;\n        this.firstTimestamp = null;\n        this.startTimestamp = null;\n        this.delay = -1;\n        this.bufferList = [];\n        this.dropping = false;\n        this.initInterval();\n    }\n\n    destroy() {\n        if (this.player.weak.has(this.player.demux)) {\n            clearInterval(this.player.weak.get(this.player.demux));\n            this.player.weak.delete(this.player.demux)\n            this.initInterval = null;\n        }\n        this.firstTimestamp = null;\n        this.startTimestamp = null;\n        this.delay = -1;\n        if (Array.isArray(this.bufferList)) {\n            this.bufferList.length = 0\n            this.bufferList = [];\n        } else {\n            this.bufferList = [];\n        }\n        this.dropping = false;\n        this.off();\n    }\n\n    getDelay(timestamp) {\n        if (!timestamp) {\n            return -1\n        }\n        if (!this.firstTimestamp) {\n            this.firstTimestamp = timestamp\n            this.startTimestamp = Date.now()\n            this.delay = -1;\n        } else {\n            if (timestamp) {\n                this.delay = (Date.now() - this.startTimestamp) - (timestamp - this.firstTimestamp)\n            }\n        }\n        return this.delay\n    }\n\n    resetDelay() {\n        this.firstTimestamp = null;\n        this.startTimestamp = null;\n        this.delay = -1;\n        this.dropping = false;\n    }\n\n    //\n    initInterval() {\n        const videoBuffer = this.player._opt.videoBuffer;\n        this.player.debug.log('common dumex', `init Interval`);\n\n        let _loop = () => {\n            let data;\n            if (this.bufferList.length) {\n                // if (this.bufferList.length > 20) {\n                //     // console.log(this.bufferList)\n                //     this.bufferList.slice(this.bufferList.length - 2)\n                //     // console.log(this.bufferList)\n                // }\n\n                if (this.dropping) {\n                    // this.player.debug.log('common dumex', `is dropping`);\n                    data = this.bufferList.shift();\n                    if (data.type === MEDIA_TYPE.audio && data.payload[1] === 0) {\n                        this._doDecoderDecode(data);\n                    }\n                    while (!data.isIFrame && this.bufferList.length) {\n                        data = this.bufferList.shift();\n                        if (data.type === MEDIA_TYPE.audio && data.payload[1] === 0) {\n                            this._doDecoderDecode(data);\n\n                            if (data && data.slice) {\n                                data.slice(data.byteLength)\n                            }\n                        }\n                    }\n                    // i frame\n                    if (data.isIFrame) {\n                        this.dropping = false;\n                        this._doDecoderDecode(data);\n\n                        if (data && data.slice) {\n                            data.slice(data.byteLength)\n                        }\n                    }\n                } else {\n                    data = this.bufferList[0];\n                    if (this.getDelay(data.ts) === -1) {\n                        // this.player.debug.log('common dumex', `delay is -1`);\n                        this.bufferList.shift()\n                        this._doDecoderDecode(data);\n                    } else if (this.delay > videoBuffer + 1000) {\n                        // this.player.debug.log('common dumex', `delay is ${this.delay}, set dropping is true`);\n                        this.resetDelay();\n                        this.dropping = true\n                    } else {\n                        while (this.bufferList.length) {\n                            data = this.bufferList[0]\n\n                            if (this.getDelay(data.ts) > videoBuffer) {\n                                // drop frame\n                                this.bufferList.shift()\n                                this._doDecoderDecode(data);\n                            } else {\n                                // 保证数组不超过 20 位\n                                if (this.bufferList.length > 20) {\n                                    this.bufferList.shift();\n                                    this._doDecoderDecode(data);\n                                    // media.decodeVideo(data.payload, data.ts, data.isIFrame);\n                                }\n                                // this.player.debug.log('common dumex', `delay is ${this.delay}`);\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        _loop();\n\n        setInterval(_loop, 10);\n        // this.player.weak.set(this.player.demux, setInterval(_loop, 10))\n    }\n\n    _doDecode(payload, type, ts, isIFrame) {\n        const player = this.player;\n        let options = {\n            ts: ts,\n            type: type,\n            isIFrame: false\n        }\n\n        // use offscreen\n        if (player._opt.useMSE) {\n            // console.log(payload, options)\n            // use mse\n            if (type === MEDIA_TYPE.video) {\n                options.isIFrame = isIFrame;\n            }\n            this.pushBuffer(payload, options)\n        } else {\n            const {decoderWorker} = player;\n\n            if (player._opt.useWCS && !player._opt.useOffscreen) {\n                if (type === MEDIA_TYPE.video) {\n                    options.isIFrame = isIFrame;\n                }\n                this.pushBuffer(payload, options)\n            } else {\n                //\n                if (type === MEDIA_TYPE.video) {\n                    decoderWorker.decodeVideo(payload, ts, isIFrame);\n                } else if (type === MEDIA_TYPE.audio) {\n                    decoderWorker.decodeAudio(payload, ts);\n                }\n            }\n        }\n    }\n\n    _doDecoderDecode(data) {\n        const player = this.player;\n        const {decoderWorker, webcodecsDecoder, mseDecoder} = player;\n\n        if (data.type === MEDIA_TYPE.audio) {\n            decoderWorker.decodeAudio(data.payload, data.ts)\n        } else if (data.type === MEDIA_TYPE.video) {\n            if (player._opt.useWCS && !player._opt.useOffscreen) {\n                webcodecsDecoder.decodeVideo(data.payload, data.ts, data.isIFrame);\n            } else if (player._opt.useMSE) {\n                mseDecoder.decodeVideo(data.payload, data.ts, data.isIFrame);\n            }\n        }\n    }\n\n    pushBuffer(payload, options) {\n        // 音频\n        if (options.type === MEDIA_TYPE.audio) {\n            this.bufferList.push({\n                ts: options.ts,\n                payload: payload,\n                type: MEDIA_TYPE.audio,\n            })\n        } else if (options.type === MEDIA_TYPE.video) {\n            this.bufferList.push({\n                ts: options.ts,\n                payload: payload,\n                type: MEDIA_TYPE.video,\n                isIFrame: options.isIFrame\n            })\n        }\n\n        if (!(this.bufferList.length % 100)) {\n            console.log(this.bufferList)\n        }\n    }\n\n    close() {\n\n    }\n\n\n}\n","import {FLV_MEDIA_TYPE, MEDIA_TYPE} from \"../constant\";\nimport CommonLoader from \"./commonLoader\";\nimport {now} from \"../utils\";\n\nexport default class FlvLoader extends CommonLoader {\n    constructor(player) {\n        super(player);\n        this.input = this._inputFlv();\n        this.flvDemux = this.dispatchFlvData(this.input);\n        player.debug.log('FlvDemux', 'init')\n    }\n\n    destroy() {\n        super.destroy();\n        this.input = null;\n        this.flvDemux = null;\n        this.player.debug.log('FlvDemux', 'destroy')\n    }\n\n    dispatch(data) {\n        this.flvDemux(data);\n    }\n\n    * _inputFlv() {\n        yield 9;\n        const tmp = new ArrayBuffer(4)\n        const tmp8 = new Uint8Array(tmp)\n        const tmp32 = new Uint32Array(tmp)\n        const player = this.player;\n\n        while (true) {\n            tmp8[3] = 0\n            const t = yield 15\n            const type = t[4]\n            tmp8[0] = t[7]\n            tmp8[1] = t[6]\n            tmp8[2] = t[5]\n            const length = tmp32[0]\n            tmp8[0] = t[10]\n            tmp8[1] = t[9]\n            tmp8[2] = t[8]\n            let ts = tmp32[0]\n            if (ts === 0xFFFFFF) {\n                tmp8[3] = t[11]\n                ts = tmp32[0]\n            }\n            const payload = yield length\n            switch (type) {\n                case FLV_MEDIA_TYPE.audio:\n                    if (player._opt.hasAudio) {\n                        player.updateStats({\n                            abps: payload.byteLength\n                        })\n                        if (payload.byteLength > 0) {\n                            this._doDecode(payload, MEDIA_TYPE.audio, ts)\n                        }\n                    }\n                    break\n                case FLV_MEDIA_TYPE.video:\n                    if (!player._times.demuxStart) {\n                        player._times.demuxStart = now();\n                    }\n                    if (player._opt.hasVideo) {\n                        player.updateStats({\n                            vbps: payload.byteLength\n                        })\n                        const isIFrame = payload[0] >> 4 === 1;\n                        if (payload.byteLength > 0) {\n                            this._doDecode(payload, MEDIA_TYPE.video, ts, isIFrame);\n                        }\n                    }\n                    break\n            }\n        }\n    }\n\n    dispatchFlvData(input) {\n        let need = input.next()\n        let buffer = null\n        return (value) => {\n            let data = new Uint8Array(value)\n            if (buffer) {\n                let combine = new Uint8Array(buffer.length + data.length)\n                combine.set(buffer)\n                combine.set(data, buffer.length)\n                data = combine\n                buffer = null\n            }\n            while (data.length >= need.value) {\n                let remain = data.slice(need.value)\n                need = input.next(data.slice(0, need.value))\n                data = remain\n            }\n            if (data.length > 0) {\n                buffer = data\n            }\n        }\n    }\n\n    close() {\n        this.input && this.input.return(null)\n    }\n\n\n}\n","import {FLV_MEDIA_TYPE, MEDIA_TYPE} from \"../constant\";\nimport CommonLoader from \"./commonLoader\";\nimport {now} from \"../utils\";\n\nexport default class M7sLoader extends CommonLoader {\n    constructor(player) {\n        super(player);\n        player.debug.log('M7sDemux', 'init')\n    }\n\n    destroy() {\n        super.destroy();\n        this.player.debug.log('M7sDemux', 'destroy')\n        this.dispatch = null\n        this.player = null\n    }\n\n    dispatch(data) {\n        const player = this.player;\n        // const {decoderWorker, webcodecsDecoder, mseDecoder} = player;\n        const dv = new DataView(data)\n        const type = dv.getUint8(0);\n        const ts = dv.getUint32(1, false);\n\n        switch (type) {\n            case MEDIA_TYPE.audio: // MEDIA_TYPE.audio === 1\n                if (player._opt.hasAudio) {\n                    const payload = new Uint8Array(data, 5)\n                    player.updateStats({\n                        abps: payload.byteLength\n                    })\n                    if (payload.byteLength > 0) {\n                        this._doDecode(payload, type, ts)\n                    }\n                }\n                break;\n            case MEDIA_TYPE.video: // MEDIA_TYPE.audio === 2\n                if (player._opt.hasVideo) {\n                    if (!player._times.demuxStart) {\n                        player._times.demuxStart = now();\n                    }\n                    if (dv.byteLength > 5) {\n                        // 8位无符号整型数组\n                        const payload = new Uint8Array(data, 5);\n                        const isIframe = dv.getUint8(5) >> 4 === 1;\n                        player.updateStats({\n                            vbps: payload.byteLength\n                        })\n\n                        if (payload.byteLength > 0) {\n                            /**\n                             * payload 当前帧的数据\n                             * type video | audio\n                             * ts 每次 +30\n                             * isIframe true | false\n                             */\n                            this._doDecode(payload, type, ts, isIframe)\n                            if (dv && dv.slice) {\n                                dv.slice(dv.byteLength)\n                            }\n                            if (payload && payload.slice) {\n                                payload.slice(payload.byteLength)\n                            }\n                        }\n                    }\n                }\n                break;\n        }\n    }\n}\n","import FlvLoader from \"./flvLoader\";\nimport M7sLoader from \"./m7sLoader\";\nimport {DEMUX_TYPE, MEDIA_TYPE} from \"../constant\";\n\nexport default class Demux {\n    constructor(player) {\n        const Loader = Demux.getLoaderFactory(player._opt.demuxType);\n        return new Loader(player);\n    }\n\n    static getLoaderFactory(type) {\n        if (type === DEMUX_TYPE.m7s) {\n            return M7sLoader;\n        } else if (type === DEMUX_TYPE.flv) {\n            return FlvLoader;\n        }\n    }\n}\n","export default function createIcon({path, color, className = '', children = '', style = '', ...props} = {}, React) {\n  let attrs = [];\n  if (typeof path === 'string') {\n    path = [path]\n  }\n\n    if (typeof style === 'string') {\n        if (typeof color === 'string') {\n            style += `;fill: ${ color };`\n        }\n    } else {\n        style.fill = color;\n        if (style.color) {\n            style.fill = style.color;\n            console.warn(`if you will set svg with color: \"${style.color}\", please use { fill: ${style.color} }`)\n        }\n\n        style = Object.entries(style).map(([key, value]) => `${key}: ${value};`).join('')\n    }\n\n  if (style) {\n    attrs.push(`style=\"${style}\"`)\n  }\n\n  if (props && typeof props === 'object') {\n    Object.entries(props).map(([key, value]) => attrs.push(`${key}=\"${value}\"`))\n  }\n\n  return (\n    `<svg\n      class=\"icon ${className}\"\n      viewBox=\"0 0 1024 1024\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"200\"\n      height=\"200\"\n      ${ attrs.join(' \\n') }\n    >\n      ${\n      (path && path.length) ? path.map(data => (`<path d=\"${ data }\"/>`)).join('') : ''\n    }${\n      children ? children : ''\n    }\n    </svg>`\n  )\n}\n","const arrow = {};\n\nexport const __up = `\nM560.256 314.453333c2.474667 2.389333 13.056 11.52 21.76 19.968 54.741333 49.706667 144.341333 179.370667 171.690667 247.253334 4.394667 10.325333 13.696 36.394667 14.293333 50.304 0 13.354667-3.072 26.026667-9.301333 38.186666a79.957333 79.957333 0 0 1-38.570667 33.92c-11.221333 4.266667-44.8 10.922667-45.397333 10.922667-36.736 6.656-96.426667 10.325333-162.389334 10.325333-62.848 0-120.106667-3.669333-157.397333-9.088-0.597333-0.64-42.325333-7.253333-56.618667-14.549333A76.16 76.16 0 0 1 256 634.368v-2.389333c0.64-18.176 16.853333-56.362667 17.450667-56.362667 27.392-64.213333 112.597333-190.890667 169.216-241.834667 0 0 14.549333-14.336 23.637333-20.565333A76.074667 76.074667 0 0 1 511.701333 298.666667c18.048 0 34.858667 5.461333 48.554667 15.786666z\n`;\nexport const up = `\nM512.298667 561.706667l15.104-0.085334c59.904-0.512 113.365333-4.096 147.242666-10.325333 0.64 0 34.218667-6.826667 45.397334-11.136 16.213333-6.826667 29.909333-19.072 38.613333-34.517333a85.333333 85.333333 0 0 0 9.344-38.826667c-0.512-10.624-5.845333-28.16-10.325333-40.704l-4.010667-10.410667c-27.392-68.992-116.906667-200.832-171.690667-251.349333l-3.84-3.712-17.92-16.64A79.189333 79.189333 0 0 0 511.658667 128c-16.170667 0-32.341333 4.949333-45.397334 14.805333-4.224 2.986667-9.642667 7.68-14.250666 11.946667l-16.938667 16.170667C378.709333 226.56 299.605333 347.093333 273.365333 409.557333c-0.554667 0-16.768 38.826667-17.365333 57.301334v2.432c0 28.373333 16.170667 54.869333 42.282667 68.394666 7.168 3.712 21.162667 7.253333 33.450666 9.941334l23.210667 4.864c37.290667 5.546667 94.549333 9.216 157.354667 9.216z m-65.066667 270.165333c0 35.413333 29.013333 64.128 64.768 64.128a64.426667 64.426667 0 0 0 64.768-64.128l-13.994667-157.866667c0-27.733333-22.698667-50.304-50.773333-50.304-28.074667 0-50.816 22.528-50.816 50.346667l-13.952 157.824z\n`;\nexport const up_square = `\nM938.666667 337.92v348.586667c0 150.613333-96.896 252.16-241.493334 252.16H327.253333C182.613333 938.666667 85.333333 837.12 85.333333 686.506667V337.92C85.333333 186.88 182.613333 85.333333 327.253333 85.333333h369.92C841.770667 85.333333 938.666667 186.88 938.666667 337.92zM480 415.146667v270.933333c0 17.92 14.506667 32 32 32 17.92 0 32-14.08 32-32V415.146667l105.386667 105.813333c5.973333 5.973333 14.506667 9.386667 22.613333 9.386667 8.064 0 16.213333-3.413333 22.613333-9.386667 12.373333-12.373333 12.373333-32.853333 0-45.226667l-160-160.853333a33.024 33.024 0 0 0-45.226666 0l-160 160.853333c-12.373333 12.373333-12.373333 32.853333 0 45.226667 12.8 12.373333 32.853333 12.373333 45.653333 0l104.96-105.813333z\n`;\nexport const up_circular = `\nM512 85.333333c235.52 0 426.666667 191.573333 426.666667 426.666667l-0.170667 11.946667C932.181333 753.92 743.509333 938.666667 512 938.666667 276.906667 938.666667 85.333333 747.52 85.333333 512 85.333333 276.906667 276.906667 85.333333 512 85.333333zM341.333333 596.48c12.8 12.373333 32.853333 12.373333 45.226667-0.426667L512 470.186667l125.44 125.866666c12.373333 12.8 32.853333 12.8 45.226667 0.426667 12.8-12.8 12.8-32.853333 0-45.226667l-148.053334-148.906666a32 32 0 0 0-45.226666 0L341.333333 551.253333c-6.4 5.973333-9.386667 14.08-9.386666 22.186667 0 8.533333 2.986667 16.64 9.386666 23.04z\n`;\n\nexport const __right = `\nM314.453333 463.744c2.389333-2.474667 11.52-13.056 19.968-21.76 49.706667-54.741333 179.370667-144.341333 247.253334-171.690667 10.325333-4.394667 36.394667-13.696 50.304-14.293333 13.354667 0 26.026667 3.072 38.186666 9.301333 15.146667 8.704 27.306667 22.4 33.92 38.570667 4.266667 11.221333 10.922667 44.8 10.922667 45.397333 6.656 36.736 10.325333 96.426667 10.325333 162.389334 0 62.848-3.669333 120.106667-9.088 157.397333-0.64 0.597333-7.253333 42.325333-14.549333 56.618667a76.16 76.16 0 0 1-67.328 42.325333h-2.389333c-18.176-0.64-56.362667-16.853333-56.362667-17.450667-64.213333-27.392-190.890667-112.597333-241.834667-169.216 0 0-14.336-14.549333-20.565333-23.637333A76.074667 76.074667 0 0 1 298.666667 512.298667c0-18.048 5.461333-34.858667 15.786666-48.554667z\n`;\nexport const right = `\nM462.293333 512.298667l0.085334 15.104c0.512 59.904 4.096 113.365333 10.325333 147.242666 0 0.64 6.826667 34.218667 11.136 45.397334 6.826667 16.213333 19.072 29.909333 34.517333 38.613333a85.333333 85.333333 0 0 0 38.826667 9.344c10.624-0.512 28.16-5.845333 40.704-10.325333l10.410667-4.010667c68.992-27.392 200.832-116.906667 251.349333-171.690667l3.712-3.84 16.64-17.92c10.453333-13.738667 16-30.506667 16-48.554666 0-16.170667-4.949333-32.341333-14.805333-45.397334-2.986667-4.224-7.68-9.642667-11.946667-14.250666l-16.170667-16.938667c-55.68-56.362667-176.170667-135.466667-238.634666-161.706667 0-0.554667-38.826667-16.768-57.301334-17.365333h-2.432c-28.373333 0-54.869333 16.170667-68.394666 42.282667-3.712 7.168-7.253333 21.162667-9.941334 33.450666l-4.864 23.210667c-5.546667 37.290667-9.216 94.549333-9.216 157.354667z m-270.165333-65.066667C156.714667 447.232 128 476.245333 128 512a64.426667 64.426667 0 0 0 64.128 64.768l157.866667-13.994667c27.733333 0 50.304-22.698667 50.304-50.773333 0-28.074667-22.528-50.816-50.346667-50.816l-157.824-13.952z\n`;\nexport const right_square = `\nM337.92 85.333333h348.586667C837.12 85.333333 938.666667 182.229333 938.666667 326.826667v369.92c0 144.64-101.546667 241.92-252.16 241.92H337.92C186.88 938.666667 85.333333 841.386667 85.333333 696.746667V326.826667C85.333333 182.229333 186.88 85.333333 337.92 85.333333z m77.226667 458.666667h270.933333c17.92 0 32-14.506667 32-32 0-17.92-14.08-32-32-32H415.146667l105.813333-105.386667c5.973333-5.973333 9.386667-14.506667 9.386667-22.613333 0-8.064-3.413333-16.213333-9.386667-22.613333a32.170667 32.170667 0 0 0-45.226667 0l-160.853333 160c-11.946667 11.946667-11.946667 33.28 0 45.226666l160.853333 160c12.373333 12.373333 32.853333 12.373333 45.226667 0 12.373333-12.8 12.373333-32.853333 0-45.653333l-105.813333-104.96z\n`;\nexport const right_circular = `\nM938.666667 512c0 235.52-191.573333 426.666667-426.666667 426.666667l-11.946667-0.170667C270.08 932.181333 85.333333 743.509333 85.333333 512 85.333333 276.906667 276.48 85.333333 512 85.333333c235.093333 0 426.666667 191.573333 426.666667 426.666667zM427.52 341.333333c-12.373333 12.8-12.373333 32.853333 0.426667 45.226667L553.813333 512l-125.866666 125.44c-12.8 12.373333-12.8 32.853333-0.426667 45.226667 12.8 12.8 32.853333 12.8 45.226667 0l148.906666-148.053334a32 32 0 0 0 0-45.226666L472.746667 341.333333a30.037333 30.037333 0 0 0-22.186667-9.386666c-8.533333 0-16.64 2.986667-23.04 9.386666z\n`;\n\n\n\nexport const __down = `\nM463.744 709.546667c-2.474667-2.389333-13.056-11.52-21.76-19.968-54.741333-49.706667-144.341333-179.370667-171.690667-247.253334-4.394667-10.325333-13.696-36.394667-14.293333-50.304 0-13.354667 3.072-26.026667 9.301333-38.186666 8.704-15.146667 22.4-27.306667 38.570667-33.92 11.221333-4.266667 44.8-10.922667 45.397333-10.922667 36.736-6.656 96.426667-10.325333 162.389334-10.325333 62.848 0 120.106667 3.669333 157.397333 9.088 0.597333 0.64 42.325333 7.253333 56.618667 14.549333 26.112 13.354667 42.325333 39.424 42.325333 67.328v2.389333c-0.64 18.176-16.853333 56.362667-17.450667 56.362667-27.392 64.213333-112.597333 190.890667-169.216 241.834667 0 0-14.549333 14.336-23.637333 20.565333a76.074667 76.074667 0 0 1-45.397333 14.549333c-18.048 0-34.858667-5.461333-48.554667-15.786666z\n`;\n\nexport const down = `\nM447.232 192.128l13.994667 157.866667c0 27.733333 22.698667 50.304 50.773333 50.304 28.074667 0 50.816-22.528 50.816-50.346667l13.952-157.824C576.768 156.714667 547.754667 128 512 128a64.426667 64.426667 0 0 0-64.768 64.128z m11.434667 683.136c2.389333 2.176 4.266667 3.84 5.12 4.693333 13.738667 10.496 30.506667 16.042667 48.554666 16.042667 16.170667 0 32.341333-4.949333 45.397334-14.805333 9.045333-6.314667 23.637333-20.906667 23.637333-20.906667 56.618667-51.797333 141.824-180.522667 169.216-245.845333 0.597333 0 16.810667-38.826667 17.408-57.301334v-2.432c0-28.373333-16.170667-54.869333-42.282667-68.394666-10.837333-5.589333-37.290667-10.837333-49.834666-13.354667a73.514667 73.514667 0 0 1-6.826667-1.450667c-37.290667-5.546667-94.549333-9.216-157.354667-9.216-65.962667 0-125.653333 3.669333-162.346666 10.410667-0.64 0-34.218667 6.826667-45.397334 11.136-16.213333 6.826667-29.909333 19.072-38.613333 34.517333a85.333333 85.333333 0 0 0-9.344 38.826667c0.64 14.165333 9.984 40.661333 14.336 51.114667 27.392 68.992 116.906667 200.832 171.690667 251.349333 5.674667 5.632 12.16 11.52 16.64 15.616z\n`;\nexport const down_square = `\nM85.333333 686.08V337.493333C85.333333 186.88 182.186667 85.333333 326.826667 85.333333h369.92C841.386667 85.333333 938.666667 186.88 938.666667 337.493333v348.586667c0 151.04-97.28 252.586667-241.92 252.586667H326.826667C182.186667 938.666667 85.333333 837.12 85.333333 686.08z m458.666667-77.226667V337.92c0-17.92-14.506667-32-32-32-17.92 0-32 14.08-32 32v270.933333l-105.386667-105.813333a32.725333 32.725333 0 0 0-22.613333-9.386667c-8.106667 0-16.213333 3.413333-22.613333 9.386667-12.373333 12.373333-12.373333 32.853333 0 45.226667l160 160.853333c11.946667 11.946667 33.28 11.946667 45.226666 0l160-160.853333c12.373333-12.373333 12.373333-32.853333 0-45.226667a32.725333 32.725333 0 0 0-45.653333 0l-104.96 105.813333z\n`;\nexport const down_circular = `\nM512 938.666667C276.48 938.666667 85.333333 747.093333 85.333333 512 85.333333 276.48 276.48 85.333333 512 85.333333c235.093333 0 426.666667 191.146667 426.666667 426.666667 0 235.093333-191.573333 426.666667-426.666667 426.666667z m170.666667-511.146667a31.786667 31.786667 0 0 0-45.226667 0.426667L512 553.813333l-125.44-125.866666c-12.373333-12.8-32.853333-12.8-45.226667-0.426667-12.8 12.8-12.8 32.853333 0 45.226667l148.053334 148.906666a32 32 0 0 0 45.226666 0L682.666667 472.746667c6.4-5.973333 9.386667-14.08 9.386666-22.186667 0-8.533333-2.986667-16.64-9.386666-23.04z\n`;\n\nexport const __left = `\nM314.453333 463.744c2.389333-2.474667 11.52-13.056 19.968-21.76 49.706667-54.741333 179.370667-144.341333 247.253334-171.690667 10.325333-4.394667 36.394667-13.696 50.304-14.293333 13.354667 0 26.026667 3.072 38.186666 9.301333 15.146667 8.704 27.306667 22.4 33.92 38.570667 4.266667 11.221333 10.922667 44.8 10.922667 45.397333 6.656 36.736 10.325333 96.426667 10.325333 162.389334 0 62.848-3.669333 120.106667-9.088 157.397333-0.64 0.597333-7.253333 42.325333-14.549333 56.618667a76.16 76.16 0 0 1-67.328 42.325333h-2.389333c-18.176-0.64-56.362667-16.853333-56.362667-17.450667-64.213333-27.392-190.890667-112.597333-241.834667-169.216 0 0-14.336-14.549333-20.565333-23.637333A76.074667 76.074667 0 0 1 298.666667 512.298667c0-18.048 5.461333-34.858667 15.786666-48.554667z\n`;\n\nexport const left = `\nM561.706667 511.701333l-0.085334-15.104c-0.512-59.904-4.096-113.365333-10.325333-147.242666 0-0.64-6.826667-34.218667-11.136-45.397334-6.826667-16.213333-19.072-29.909333-34.517333-38.613333a85.333333 85.333333 0 0 0-38.826667-9.344c-10.624 0.512-28.16 5.845333-40.704 10.325333l-10.410667 4.010667c-68.992 27.392-200.832 116.906667-251.349333 171.690667l-3.712 3.84-16.64 17.92A79.189333 79.189333 0 0 0 128 512.341333c0 16.170667 4.949333 32.341333 14.805333 45.397334 2.986667 4.224 7.68 9.642667 11.946667 14.250666l16.170667 16.938667c55.637333 56.362667 176.170667 135.466667 238.634666 161.706667 0 0.554667 38.826667 16.768 57.301334 17.365333h2.432c28.373333 0 54.869333-16.170667 68.394666-42.282667 3.712-7.168 7.253333-21.162667 9.941334-33.450666l4.864-23.210667c5.546667-37.290667 9.216-94.549333 9.216-157.354667z m270.165333 65.066667c35.413333 0 64.128-29.013333 64.128-64.768a64.426667 64.426667 0 0 0-64.128-64.768l-157.866667 13.994667c-27.733333 0-50.304 22.698667-50.304 50.773333 0 28.074667 22.528 50.816 50.346667 50.816l157.824 13.952z\n`;\nexport const left_square = `\nM337.92 85.333333h348.586667C837.12 85.333333 938.666667 182.229333 938.666667 326.826667v369.92c0 144.64-101.546667 241.92-252.16 241.92H337.92C186.88 938.666667 85.333333 841.386667 85.333333 696.746667V326.826667C85.333333 182.229333 186.88 85.333333 337.92 85.333333z m77.226667 458.666667h270.933333c17.92 0 32-14.506667 32-32 0-17.92-14.08-32-32-32H415.146667l105.813333-105.386667c5.973333-5.973333 9.386667-14.506667 9.386667-22.613333 0-8.064-3.413333-16.213333-9.386667-22.613333a32.170667 32.170667 0 0 0-45.226667 0l-160.853333 160c-11.946667 11.946667-11.946667 33.28 0 45.226666l160.853333 160c12.373333 12.373333 32.853333 12.373333 45.226667 0 12.373333-12.8 12.373333-32.853333 0-45.653333l-105.813333-104.96z\n`;\nexport const left_circular = `\nM85.333333 512C85.333333 276.48 276.906667 85.333333 512 85.333333l11.946667 0.170667C753.92 91.818667 938.666667 280.490667 938.666667 512c0 235.093333-191.146667 426.666667-426.666667 426.666667-235.093333 0-426.666667-191.573333-426.666667-426.666667z m511.146667 170.666667c12.373333-12.8 12.373333-32.853333-0.426667-45.226667L470.186667 512l125.866666-125.44c12.8-12.373333 12.8-32.853333 0.426667-45.226667-12.8-12.8-32.853333-12.8-45.226667 0l-148.906666 148.053334a32 32 0 0 0 0 45.226666L551.253333 682.666667c5.973333 6.4 14.08 9.386667 22.186667 9.386666 8.533333 0 16.64-2.986667 23.04-9.386666z\n`;\n\n// 交换\nexport const swap = `\nM321.962667 139.861333c7.082667 5.12 18.517333 16.853333 18.517333 16.853334 44.373333 41.642667 111.274667 145.066667 132.736 197.589333 0.426667 0 13.226667 31.232 13.653333 46.08v1.962667c0 22.784-12.714667 44.074667-33.152 54.954666-8.448 4.48-29.013333 8.661333-38.912 10.666667-3.242667 0.682667-5.376 1.109333-5.504 1.237333-29.269333 4.48-74.154667 7.381333-123.434666 7.381334-51.712 0-98.56-2.901333-127.36-8.405334-0.512 0-26.837333-5.418667-35.626667-8.917333a63.573333 63.573333 0 0 1-30.293333-27.733333 69.418667 69.418667 0 0 1-7.253334-31.146667c0.426667-11.392 7.808-32.682667 11.178667-41.088 21.461333-55.466667 91.733333-161.450667 134.698667-202.069333 4.437333-4.522667 9.514667-9.258667 13.056-12.544 1.877333-1.792 3.328-3.114667 4.010666-3.84 10.709333-8.362667 23.893333-12.842667 38.101334-12.842667 12.629333 0 25.301333 3.968 35.584 11.861333z m455.808 293.717334a40.106667 40.106667 0 0 1-39.850667 40.448 40.106667 40.106667 0 0 1-39.850667-40.448l-11.008-195.413334a51.2 51.2 0 0 1 50.858667-51.498666c28.032 0 50.773333 23.04 50.773333 51.541333l-10.922666 195.370667z m123.306666 131.157333c12.714667 5.461333 23.466667 15.36 30.293334 27.733333 4.906667 9.813333 7.296 20.309333 7.296 31.189334-0.426667 11.349333-7.808 32.682667-11.221334 41.088-21.418667 55.466667-91.733333 161.408-134.613333 202.069333-4.394667 4.394667-9.386667 9.045333-12.928 12.373333l-4.181333 3.925334c-10.794667 8.405333-23.893333 12.885333-38.058667 12.885333a58.026667 58.026667 0 0 1-35.626667-11.946667c-7.082667-5.034667-18.517333-16.768-18.517333-16.768-44.458667-41.557333-111.274667-145.109333-132.736-197.632-0.512 0-13.226667-31.146667-13.653333-45.994666v-1.962667c0-22.826667 12.629333-44.117333 33.152-55.04 8.448-4.394667 28.928-8.576 38.826666-10.666667 3.328-0.64 5.461333-1.066667 5.546667-1.194666 29.312-4.48 74.197333-7.424 123.477333-7.424 51.712 0 98.56 2.986667 127.36 8.405333 0.469333 0 26.837333 5.461333 35.626667 8.96zM286.165333 549.973333a40.106667 40.106667 0 0 0-39.850666 40.448l-11.008 195.413334a51.2 51.2 0 0 0 50.858666 51.498666c28.032 0 50.773333-23.04 50.773334-51.541333l-10.965334-195.370667a40.106667 40.106667 0 0 0-39.808-40.405333z\n`;\n\narrow.__up = __up;\narrow.up = up;\narrow.up_square = up_square;\narrow.up_circular = up_circular;\n\narrow.__right = __right;\narrow.right = right;\narrow.right_square = right_square;\narrow.right_circular = right_circular;\n\narrow.__down = __down;\narrow.down = down;\narrow.down_square = down_square;\narrow.down_circular = down_circular;\n\narrow.__left = __left;\narrow.left = left;\narrow.left_square = left_square;\narrow.left_circular = left_circular;\n\narrow.swap = swap;\nexport default arrow;\n","const camera = {};\n\nexport const video_camera = `\nM880.298667 297.984L761.173333 419.84v-72.362667c0-76.117333-61.44-137.557333-137.557333-137.557333H192.853333c-76.117333 0-137.557333 61.44-137.557333 137.557333v374.101334c0 76.117333 61.44 137.557333 137.557333 137.557333h430.421334c76.117333 0 137.557333-61.44 137.557333-137.557333v-64.170667l119.125333 113.664c32.426667 33.109333 88.405333 10.24 88.405334-36.181333V333.824c0.341333-46.08-55.637333-68.949333-88.064-35.84zM358.4 405.845333H186.368c-19.114667 0-34.474667-15.36-34.474667-34.474666s15.36-34.474667 34.474667-34.474667h172.032c19.114667 0 34.474667 15.36 34.474667 34.474667a34.816 34.816 0 0 1-34.474667 34.474666z\n`;\n\nexport const xxxx = `\nM345.344 \n`;\n\ncamera.video_camera = video_camera;\ncamera.xxxx = xxxx;\nexport default camera;\n","const video = {};\n\nexport const __video = `\nM260.821333 192h247.125334c103.338667 0 175.488 71.210667 175.488 173.226667v293.546666c0 102.016-72.106667 173.226667-175.488 173.226667H260.821333C157.482667 832 85.333333 760.789333 85.333333 658.773333V365.226667C85.333333 263.253333 157.482667 192 260.821333 192z m590.72 101.504c18.730667-9.514667 40.704-8.533333 58.581334 2.730667 17.877333 11.221333 28.544 30.72 28.544 52.053333v327.466667c0 21.333333-10.666667 40.832-28.544 52.053333a59.093333 59.093333 0 0 1-58.624 2.688l-63.189334-31.914667a69.248 69.248 0 0 1-37.888-62.165333V387.541333c0-26.496 14.506667-50.346667 37.888-62.122666l63.232-31.914667z\n`;\n\nexport const __video2 = `\nM763.221333 177.493333H260.778667a136.533333 136.533333 0 0 0-136.533334 136.533334v502.442666a136.533333 136.533333 0 0 0 136.533334 136.533334h502.442666a136.533333 136.533333 0 0 0 136.533334-136.533334V314.026667a136.533333 136.533333 0 0 0-136.533334-136.533334z m-131.072 446.805334l-134.826666 77.824a68.266667 68.266667 0 0 1-102.4-59.050667v-155.648a68.266667 68.266667 0 0 1 102.4-59.050667l134.826666 77.824a68.266667 68.266667 0 0 1 0 118.101334z\n`;\n\nexport const __video3 = `\nM906.9 298.1a95.5 95.5 0 0 0-100 9.1L704 384V320a128.1 128.1 0 0 0-128-128H192A128.1 128.1 0 0 0 64 320v384a128.1 128.1 0 0 0 128 128h384a128.1 128.1 0 0 0 128-128V640l102.4 76.8a95.5 95.5 0 0 0 57.5 19.3 96.7 96.7 0 0 0 43-10A95.5 95.5 0 0 0 960 640V384a95.5 95.5 0 0 0-53.1-85.9z\n`;\n\nexport const __video3_disabled = `\nM64 320v384a128.1 128.1 0 0 0 128 128h384a128.1 128.1 0 0 0 107.3-58.2l-561-561A127.6 127.6 0 0 0 64 320zM906.9 298.1a95.5 95.5 0 0 0-100 9.1L704 384V320a128.1 128.1 0 0 0-128-128H282.6L810 719.1a95.1 95.1 0 0 0 54 16.8 96.7 96.7 0 0 0 43-10A95.5 95.5 0 0 0 960 640V384a95.5 95.5 0 0 0-53.1-85.9zM182.6 137.4a32 32 0 1 0-45.2 45.2l704 704a31.9 31.9 0 0 0 45.2 0 31.9 31.9 0 0 0 0-45.2z\n`;\n\nexport const play = `\nM85.333333 512.256C85.333333 276.736 276.821333 85.333333 512 85.333333s426.666667 191.402667 426.666667 426.922667C938.666667 747.264 747.178667 938.666667 512 938.666667S85.333333 747.264 85.333333 512.256z m583.168 43.178667c4.522667-4.522667 10.282667-11.52 11.52-13.184 6.613333-8.618667 9.898667-19.328 9.898667-29.994667 0-11.989333-3.712-23.125333-10.709333-32.170667a158.805333 158.805333 0 0 1-3.157334-3.413333c-2.730667-2.944-6.698667-7.253333-10.453333-10.965333-33.749333-36.266667-121.898667-95.530667-168.021333-113.621334-6.997333-2.858667-24.704-9.045333-34.176-9.472-9.045333 0-17.706667 2.048-25.941334 6.186667a53.376 53.376 0 0 0-23.04 25.514667c-2.901333 7.381333-7.424 29.610667-7.424 30.037333-4.565333 24.32-6.997333 63.786667-6.997333 107.434667 0 41.642667 2.432 79.445333 6.144 104.149333 0.128 0.085333 0.469333 1.877333 1.024 4.608 1.706667 8.362667 5.12 25.728 8.874667 32.853333 9.045333 17.28 26.752 27.989333 45.696 27.989334h1.664c12.373333-0.426667 38.314667-11.093333 38.314666-11.52 43.648-18.133333 129.706667-74.496 164.309334-111.957334l2.474666-2.474666z\n`;\n\nexport const play2 = `\nM204.672 204.8l0.576-9.024a76.8 76.8 0 0 1 114.624-57.472l2.688 1.6 464.64 309.888a78.08 78.08 0 0 1-1.472 126.72l-462.08 306.816c-12.224 8.448-26.88 13.184-42.176 12.608-42.24-1.536-76.8-34.56-76.8-76.8V204.8z\n`;\n\n// 暂停\nexport const pause = `\nM255.36 896c-42.432 0-63.36-34.368-63.36-76.8V204.8c0-42.432 20.928-76.8 63.36-76.8s63.36 34.368 63.36 76.8v614.4c0 42.432-20.928 76.8-63.36 76.8zM767.36 896c-42.432 0-63.36-34.368-63.36-76.8V204.8c0-42.432 20.928-76.8 63.36-76.8s63.36 34.368 63.36 76.8v614.4c0 42.432-20.928 76.8-63.36 76.8z\n`;\n// 快进\nexport const fast_forward = `\nM510.08 174.4l8.32 4.544 8.192 5.248 7.936 5.696 332.864 255.168c19.712 17.664 29.184 40 28.608 66.944-0.64 26.944-10.24 47.616-28.8 61.888l-354.688 269.44-7.04 4.224c-24.32 13.44-56.32 18.56-57.472-44.16l0.256-154.24-255.744 194.176-7.04 4.224c-24.32 13.44-56.32 18.56-57.472-44.16l0.832-549.696c0.128-89.088 30.72-94.272 61.248-79.296l8.32 4.544 8.192 5.248 7.936 5.696 234.24 179.584V253.696c0.192-89.088 30.72-94.272 61.312-79.296z\n`;\n// 后退\nexport const backward = `\nM513.92 174.4l-8.32 4.544-8.192 5.248-7.936 5.696-332.864 255.168A83.264 83.264 0 0 0 128 512c0.64 26.944 10.24 47.616 28.8 61.888l354.688 269.44 7.04 4.224c24.32 13.44 56.32 18.56 57.472-44.16l-0.256-154.24 255.744 194.176 7.04 4.224c24.32 13.44 56.32 18.56 57.472-44.16l-0.832-549.696c-0.128-89.088-30.72-94.272-61.248-79.296l-8.32 4.544-8.192 5.248-7.936 5.696-234.24 179.584V253.696c-0.192-89.088-30.72-94.272-61.312-79.296z\n`;\n\n// 上一个\nexport const prev = `\nM792.128 845.696l-536.32-269.44 0.576 264.768c0 30.336-28.288 54.912-63.232 54.976-35.008 0-63.424-24.448-63.488-54.784l-0.768-328.704L128 512l0.896-0.448-0.704-328.576C128.128 152.64 156.352 128 191.36 128c35.008-0.064 63.424 24.448 63.488 54.72l0.64 264.704 491.968-249.408c54.848-28.864 140.672-63.552 140.928 58.048l1.28 549.632c-1.856 69.12-60.416 55.936-97.536 40z\n`;\n\n// 下一个\nexport const next = `\nM225.536 845.696l536.32-269.44-0.576 264.768c0 30.336 28.288 54.912 63.232 54.976 35.008 0 63.424-24.448 63.488-54.784l0.768-328.704L889.6 512l-0.896-0.448 0.704-328.576C889.6 152.64 861.248 128 826.24 128c-34.944-0.064-63.36 24.448-63.488 54.72l-0.576 264.704-491.968-249.408C215.36 169.152 129.536 134.4 129.216 256L128 805.696c1.856 69.12 60.352 55.936 97.536 40z\n`;\n\n// 麦克风\nexport const microphone = [\n  `\nM320 64m192 0l0 0q192 0 192 192l0 256q0 192-192 192l0 0q-192 0-192-192l0-256q0-192 192-192Z\n`,\n  `\nM800 416a32 32 0 0 0-32 32v64a256 256 0 0 1-512 0v-64a32 32 0 0 0-64 0v64A320 320 0 0 0 480 830v66H320a32 32 0 1 0 0 64h384a32 32 0 0 0 0-64h-160V830a320 320 0 0 0 288-318v-64a32 32 0 0 0-32-32z\n`,\n];\n\n// 麦克风\nexport const microphone0 = `\nM511.752 70.5c-86.605 0-156.835 69.734-156.835 155.747l0 273.812c0 86.013 70.23 155.748 156.835 155.748 86.602 0 156.832-69.735 156.832-155.748L668.584 226.247C668.584 140.234 598.354 70.5 511.752 70.5L511.752 70.5 511.752 70.5zM243.854 461.102c-18.051 0-32.649 14.496-32.649 32.451 0 2.269 0.197 4.436 0.689 6.506l-0.689 0c0 151.605 113.922 276.578 261.386 295.713l0 80.687-52.275 0c-21.702 0-39.257 17.458-39.257 38.964 0 21.499 17.555 38.957 39.257 38.957l182.969 0c21.701 0 39.256-17.458 39.256-38.957 0-21.506-17.555-38.964-39.256-38.964L551.01 876.459l0-80.687c143.119-18.543 254.383-137.002 260.691-282.688 0.396-2.072 0.695-4.243 0.695-6.512 0-0.79-0.197-1.479-0.197-2.167 0-1.483 0.197-2.86 0.197-4.345l-0.695 0c-3.058-14.795-16.172-25.94-32.057-25.94-15.782 0-28.999 11.145-32.057 25.94l-0.688 0c0 129.019-105.344 233.572-235.249 233.572-129.903 0-235.249-104.554-235.249-233.572l-0.689 0c0.396-2.07 0.689-4.237 0.689-6.506C276.503 475.598 261.906 461.102 243.854 461.102L243.854 461.102 243.854 461.102zM243.854 461.102\n`;\n\n// 麦克风\nexport const microphone1 = `\nM495.940744 913.438928 495.940744 736.922702c0-0.203638 0-0.407276 0.01535-0.611937-134.418432-8.278547-240.878093-119.882368-240.878093-256.512165l0-6.288217 0.047072 0c-0.031722-0.548492-0.047072-1.096984-0.047072-1.653663 0-13.305027 10.772344-24.086581 24.085558-24.086581 13.314237 0 24.086581 10.781554 24.086581 24.086581 0 0.556679-0.016373 1.105171-0.047072 1.653663l0.047072 0 0 8.476045c0 115.399263 93.459578 208.78721 208.747301 208.78721 115.304096 0 208.747301-93.476975 208.747301-208.78721l0-8.476045 0.047072 0c-0.030699-0.548492-0.047072-1.096984-0.047072-1.653663 0-13.305027 10.772344-24.086581 24.086581-24.086581 13.313214 0 24.085558 10.781554 24.085558 24.086581 0 0.556679-0.01535 1.105171-0.047072 1.653663l0.047072 0 0 6.288217c0 136.551002-106.427938 248.233618-240.878093 256.512165 0.01535 0.203638 0.01535 0.407276 0.01535 0.611937l0 176.516226 88.23867 0c13.344936 0 24.164353 10.694573 24.164353 24.085558 0 13.305027-10.709923 24.085558-24.164353 24.085558l-208.590735 0c-13.344936 0-24.164353-10.694573-24.164353-24.085558 0-13.305027 10.709923-24.085558 24.164353-24.085558L495.940744 913.438928zM351.423303 223.027539c0-88.716554 71.866794-160.637584 160.575162-160.637584 88.676645 0 160.575162 72.046896 160.575162 160.637584l0 256.794597c0 88.716554-71.866794 160.637584-160.575162 160.637584-88.676645 0-160.575162-72.046896-160.575162-160.637584L351.423303 223.027539z\n`;\n\n// 麦克风\nexport const microphone2 = [\n  `\nM495.941767 913.437905 495.941767 736.922702c0-0.203638 0-0.407276 0.01535-0.611937-134.418432-8.27957-240.878093-119.882368-240.878093-256.512165l0-6.288217 0.047072 0c-0.031722-0.548492-0.047072-1.096984-0.047072-1.653663 0-13.305027 10.772344-24.086581 24.085558-24.086581 13.314237 0 24.086581 10.781554 24.086581 24.086581 0 0.556679-0.016373 1.105171-0.047072 1.653663l0.047072 0 0 8.476045c0 115.39824 93.459578 208.78721 208.747301 208.78721 115.304096 0 208.747301-93.475951 208.747301-208.78721l0-8.476045 0.047072 0c-0.030699-0.548492-0.047072-1.096984-0.047072-1.653663 0-13.305027 10.772344-24.086581 24.086581-24.086581 13.313214 0 24.085558 10.781554 24.085558 24.086581 0 0.556679-0.01535 1.105171-0.047072 1.653663l0.047072 0 0 6.288217c0 136.552026-106.427938 248.233618-240.878093 256.512165 0.01535 0.203638 0.01535 0.407276 0.01535 0.611937l0 176.515203 88.23867 0c13.344936 0 24.164353 10.694573 24.164353 24.085558 0 13.297864-10.709923 24.085558-24.164353 24.085558l-208.590735 0c-13.344936 0-24.164353-10.69355-24.164353-24.085558 0-13.296841 10.709923-24.085558 24.164353-24.085558L495.941767 913.437905z\n`,\n  `\nM511.999488 62.389956c-88.708368 0-160.575162 71.92103-160.575162 160.637584l0 256.794597c0 88.590688 71.898517 160.637584 160.575162 160.637584 88.708368 0 160.575162-71.92103 160.575162-160.637584L672.57465 223.027539C672.57465 134.436852 600.676134 62.389956 511.999488 62.389956zM624.402511 479.955166c0 62.035892-50.446949 112.332415-112.403023 112.332415-62.08194 0-112.403023-50.188053-112.403023-112.332415L399.596466 222.89451c0-62.034868 50.446949-112.331391 112.403023-112.331391 62.08194 0 112.403023 50.187029 112.403023 112.331391L624.402511 479.955166z\n`,\n];\n// 麦克风\n/*export const microphone3 = `\nM512 64c34 0 66.1 13.4 90.3 37.7C626.6 125.9 640 158 640 192v368c0 34-13.4 66.1-37.7 90.3C578.1 674.6 546 688 512 688s-66.1-13.4-90.3-37.7C397.4 626.1 384 594 384 560V192c0-34 13.4-66.1 37.7-90.3C445.9 77.4 478 64 512 64m0-64C406.4 0 320 86.4 320 192v368c0 105.6 86.4 192 192 192s192-86.4 192-192V192C704 86.4 617.6 0 512 0z\n`;*/\n// 麦克风\nexport const microphone3 = `\nM277.585106 1023.445637a40.93757 40.93757 0 0 1-40.639066-41.278716 40.93757 40.93757 0 0 1 40.639066-41.236073L490.503112 940.888205v-107.759623c-166.436806-10.490252-298.503112-143.11092-298.503112-304.856964v-63.197373C192 443.070301 210.166047 426.439413 232.639067 426.439413c22.47302 0 40.596423 17.56904 40.596423 38.634832v63.197373c0 125.54188 107.20526 228.269594 238.589273 228.269594s238.589273-101.832204 238.589273-228.269594v-63.197373c0-21.9613 18.123403-38.634831 40.596423-38.634832 22.47302 0 40.639067 17.56904 40.639066 38.634832v63.197373c0 147.63111-110.019718 270.998182-255.817166 299.355978L575.789715 940.930848h184.986643a40.93757 40.93757 0 0 1 40.639066 41.278716c0.852866 22.85681-18.166047 41.278716-40.639066 41.278716H277.585106zM512.251196 0.006396a170.573207 170.573207 0 0 1 111.98131 40.639067C659.839663 71.09278 682.397969 115.143311 682.397969 164.183108v353.854117c0 49.08244-22.60095 93.132971-58.165463 123.580289A170.573207 170.573207 0 0 1 512.251196 682.299224a173.558238 173.558238 0 0 1-120.680544-48.272218 158.462509 158.462509 0 0 1-50.319096-115.989781V164.268395c0-44.860753 19.104199-86.352686 49.46623-115.989781A177.310848 177.310848 0 0 1 512.251196 0.006396z\n`;\n// 麦克风\nexport const microphone4 = [\n  `\nM519.253333 721.28h-14.506666a195.2 195.2 0 0 1-194.986667-195.2V201.685333A195.2 195.2 0 0 1 504.746667 6.485333h14.506666a195.2 195.2 0 0 1 194.986667 195.2v324.394667a195.2 195.2 0 0 1-194.986667 195.2zM504.746667 74.581333a127.146667 127.146667 0 0 0-126.890667 127.146667v324.352a127.146667 127.146667 0 0 0 126.890667 127.146667h14.506666a127.146667 127.146667 0 0 0 126.890667-127.146667V201.685333A127.146667 127.146667 0 0 0 519.253333 74.581333h-14.506666z\n`,\n  `\nM512 847.274667a322.56 322.56 0 0 1-322.133333-322.133334 34.048 34.048 0 0 1 68.138666 0 253.994667 253.994667 0 1 0 507.989334 0 34.048 34.048 0 0 1 68.096 0A322.56 322.56 0 0 1 512 847.317333z\n`,\n  `\nM487.765333 967.68a34.048 34.048 0 0 1-9.813333-24.405333V813.226667a34.048 34.048 0 0 1 68.096 0v130.048a34.048 34.048 0 0 1-58.282667 24.405333z\n`,\n  `\nM663.637333 1002.538667H360.362667a34.048 34.048 0 0 1 0-68.096h303.274666a34.048 34.048 0 1 1 0 68.096z\n`,\n];\n\n// 麦克风 禁用\nexport const microphone_disabled = [\n  `\nM512 704a191.5 191.5 0 0 0 82.8-18.7L320 410.5V512a192 192 0 0 0 192 192zM704 512V256a192 192 0 0 0-382.4-24.9l363.7 363.7a191.5 191.5 0 0 0 18.7-82.8z\n`,\n  `\nM704 896h-160V830a315.6 315.6 0 0 0 144.5-51l-46.4-46.4A256.1 256.1 0 0 1 256 512v-64a32 32 0 0 0-64 0v64A320 320 0 0 0 480 830v66H320a32 32 0 1 0 0 64h384a32 32 0 0 0 0-64zM832 512v-64a32 32 0 0 0-64 0v64a254.3 254.3 0 0 1-35.4 130l46.4 46.4a317.5 317.5 0 0 0 53-176.4zM886.6 841.4l-704-704a32 32 0 1 0-45.2 45.2l704 704a31.9 31.9 0 0 0 45.2 0 31.9 31.9 0 0 0 0-45.2z\n`,\n];\n\n// 麦克风 禁用\nexport const microphone_disabled0 = `\nM665.472 153.6a153.6 153.6 0 0 0-307.2 0v23.808l307.2 307.2zM726.144 798.72L885.376 957.696l72.448-72.192-819.2-819.2L66.176 138.496l292.096 292.352V512A153.6 153.6 0 0 0 578.176 650.496l75.008 74.752A256 256 0 0 1 255.872 512h-102.4a358.4 358.4 0 0 0 307.2 354.304V921.6l-102.4 102.4h307.2l-102.4-102.4v-55.296a355.84 355.84 0 0 0 163.072-67.584zM870.272 512h-102.4a246.272 246.272 0 0 1-8.96 66.048l80.128 79.872a356.096 356.096 0 0 0 31.232-145.92z\n`;\n\n// 麦克风 禁用\nexport const microphone_disabled1 = `\nM412.032 592l-44.992 46.016a197.376 197.376 0 0 1-35.008-59.008A189.248 189.248 0 0 1 320 512V256c1.344-54.656 20.032-100.032 56-136C412.032 84.032 457.28 65.344 512 64c54.72 1.344 100.032 20.032 136 56 36.032 35.968 54.656 81.28 56 136v44.032l-64 64V256c-0.64-36.032-13.12-66.176-37.504-90.496C578.176 141.184 548.032 128.704 512 128c-35.968 0.64-66.176 13.184-90.496 37.504-24.32 24.32-36.8 54.528-37.504 90.496v256c0.64 30.72 9.984 57.344 28.032 80z m51.968 39.04a126.656 126.656 0 0 0 119.488-12.992A127.68 127.68 0 0 0 640.128 512v-56.96l64-64V512a189.632 189.632 0 0 1-96 166.016 187.776 187.776 0 0 1-95.488 26.048c-33.664 0-65.856-8.32-96.512-25.024l48-48z m-148.992 148.992l46.08-46.08A222.144 222.144 0 0 0 480 768h64c63.36-1.344 116.16-23.168 158.464-65.536 42.368-42.24 64.192-95.104 65.536-158.464V512c0-9.344 2.944-17.024 8.96-23.04a31.168 31.168 0 0 1 23.04-8.96c9.344 0 17.024 3.008 23.04 8.96 5.952 6.016 8.96 13.696 8.96 23.04v32c-2.048 81.344-30.208 149.12-84.48 203.52-54.4 54.272-122.24 82.432-203.52 84.48v64h64c9.344 0 17.024 3.008 23.04 8.96 5.952 6.016 8.96 13.696 8.96 23.04a31.168 31.168 0 0 1-8.96 23.04 31.168 31.168 0 0 1-23.04 8.96h-192a31.168 31.168 0 0 1-23.04-8.96 31.168 31.168 0 0 1-8.96-23.04c0-9.344 3.008-17.024 8.96-23.04a31.168 31.168 0 0 1 23.04-8.96h64v-64c-30.72 0-60.032-4.48-88-13.504a278.4 278.4 0 0 1-76.992-38.464z m-48-42.048A286.272 286.272 0 0 1 192 544V512c0-9.344 3.008-16.96 8.96-22.976a31.168 31.168 0 0 1 23.04-8.96c9.344 0 17.024 2.944 23.04 8.96 5.952 6.016 8.96 13.632 8.96 23.04v32c0 28.608 4.992 55.488 15.04 80.512 9.984 24.96 23.68 47.488 40.96 67.456l-44.992 45.952zM151.04 859.008a32.832 32.832 0 0 1-22.528 8.96 30.272 30.272 0 0 1-22.016-9.472 32 32 0 0 1-9.984-22.016 30.848 30.848 0 0 1 8.512-22.464l704-709.056a32.832 32.832 0 0 1 22.464-8.96c8.32 0 15.68 3.2 22.016 9.536a32.512 32.512 0 0 1 1.536 45.44l-704 708.032z\n`;\n\n// 麦克风 禁用\nexport const microphone_disabled2 = [\n  `\nM512 952.32a30.72 30.72 0 0 1-30.72-30.72v-117.76a30.72 30.72 0 0 1 61.44 0v117.76a30.72 30.72 0 0 1-30.72 30.72z\n`,\n  `\nM596.48 967.68h-168.96a30.72 30.72 0 0 1 0-61.44h168.96a30.72 30.72 0 0 1 0 61.44zM931.84 931.84a20.48 20.48 0 0 1-14.4896-5.9904l-839.68-839.68a20.48 20.48 0 0 1 28.9792-28.9792l839.68 839.68A20.48 20.48 0 0 1 931.84 931.84z\n`,\n  `\nM814.08 532.48a30.72 30.72 0 0 0-61.44 0 239.2576 239.2576 0 0 1-19.5072 94.8736l46.08 46.08A300.288 300.288 0 0 0 814.08 532.48zM512 773.12a240.64 240.64 0 0 1-240.64-240.64 30.72 30.72 0 0 0-61.44 0 302.08 302.08 0 0 0 546.9696 176.5376l-44.1344-44.0832A240.64 240.64 0 0 1 512 773.12zM378.88 245.76a133.12 133.12 0 0 1 266.24 0v293.4272l48.2816 48.2816A187.8016 187.8016 0 0 0 701.44 532.48V245.76a190.0032 190.0032 0 0 0-189.44-189.44 190.1056 190.1056 0 0 0-187.4944 162.4576L378.88 273.1008z\n`,\n  `\nM512 665.6a133.12 133.12 0 0 1-133.12-133.12V331.0592l-56.32-56.32V532.48a190.0032 190.0032 0 0 0 189.44 189.44 189.7472 189.7472 0 0 0 163.5328-94.208l-41.6768-41.728A133.12 133.12 0 0 1 512 665.6z\n`,\n];\n\n// 麦克风 禁用\nexport const microphone_disabled3 = `\nM841.5 510.1v-76.9c0-21.2-16.5-38.5-36.9-38.5-20.3 0-36.8 17.2-36.8 38.5v76.9c0 24.9-3.2 49.6-9.5 73.7l58.3 60.7c16.8-42.7 25.3-88.3 24.9-134.4z m-147.7 0V202.4c0.9-50.7-18.7-99.6-54.2-135.8-33.4-36.5-80.8-57-130.2-56.5-49.5-0.6-96.9 20-130.4 56.5-20.7 21.1-36.1 46.7-45.1 74.8l359.8 375c0.1-2 0.1-4.1 0.1-6.3z m10.4 280.5l-52.8-55c-41.5 29.3-91.2 44.6-141.9 43.9-68.8 1-134.9-27.7-182.7-79.4-49.4-49.7-76.8-118.6-75.8-190.2v-76.7c0.1-21.2-16.3-38.3-36.5-38.5-10 0-19.5 4.1-26.3 11.5-7.1 7.2-11.1 16.9-11 27v76.9c-1.1 85.5 29.3 168.2 85 231 53.8 64 129 104.2 210.2 112.7v79.3H324.8c-20.4 0-36.9 17.2-36.9 38.5 0 21.2 16.5 38.4 36.9 38.4h368.9c20.4 0 36.9-17.2 36.9-38.5S714.1 933 693.7 933H546.2v-79.3c57.5-5.9 112.2-27.8 158-63.1zM324.8 510.2c0.3 106 82.7 191.9 184.4 192.3 31 0.4 61.5-7.6 88.3-23.1L324.8 395.1v115.1zM844.4 838c-7.8 0-15.2-3.2-20.5-8.8L151.4 133.5c-11.4-12-11.5-30.9-0.2-43 10.7-11.4 28.6-12 40-1.4l1.2 1.2L865 786.1c11.4 12 11.5 30.8 0.2 42.9-5.4 5.8-12.9 9-20.8 9z\n`;\n\n// 麦克风 禁用\nexport const microphone_disabled4 = `\nM272.4 633.3l-51.1 51.1c-4.8-11.7-8.8-23.7-12.2-36.1-0.7-2.7-1.1-5.6-1.1-8.4V496.7c0-17.4 13.7-32.2 31.1-32.7 18.1-0.5 32.9 14 32.9 32v129.8c0 2.5 0.1 5 0.4 7.5z m110.3 68.3l-44.2 44.2C384 789.6 445.7 816 512 816c107.4 0 202.7-69.1 236.7-169.9 2.2-6.5 3.3-13.4 3.3-20.3V496.7c0-17.4 13.7-32.2 31.1-32.7 18.1-0.5 32.9 14 32.9 32v144c0 2.8-0.4 5.6-1.1 8.4-18.5 68.2-58.9 126.1-112.3 166.9-43.5 33.3-95.6 55.2-151.5 62.2-4 0.5-7 3.9-7 7.9V944c0 8.8 7.2 16 16 16h80c35.3 0 64 28.6 64 64H320c0-17.7 7.2-33.7 18.7-45.3S366.3 960 384 960h80c8.8 0 16-7.2 16-16v-58.5c0-4-3-7.4-7-7.9-68.7-8.6-131.5-39.7-179.7-86.6L182.1 902.1c-6.3 6.3-14.4 9.4-22.6 9.4s-16.4-3.1-22.6-9.4c-12.5-12.5-12.5-32.8 0-45.3l115.1-115 46.3-46.3 44.7-44.7 48.3-48.3 441.6-441.6c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3L704 380.3V560c0 52.8-21.6 100.8-56.4 135.6S564.8 752 512 752c-49.7 0-95.2-19.1-129.3-50.4zM704 192v9.7L321.5 584.2c-1-7.9-1.5-16-1.5-24.2V192C320 86.4 406.4 0 512 0s192 86.4 192 192z\n`;\n\n// 麦克风 禁用\nexport const microphone_disabled5 = `\nM512 0C406.4 0 320 86.4 320 192v368c0 8.2 0.5 16.3 1.5 24.2l62.5-62.5V192c0-34 13.4-66.1 37.7-90.4C445.9 77.4 478 64 512 64s66.1 13.4 90.3 37.6C626.6 125.9 640 158 640 192v73.7l64-64V192C704 86.4 617.6 0 512 0zM272.4 633.3l-51.1 51.1c-4.8-11.7-8.8-23.7-12.2-36.1-0.7-2.7-1.1-5.6-1.1-8.4V496.7c0-17.4 13.7-32.2 31.1-32.7 18.1-0.5 32.9 14 32.9 32v129.8c0 2.5 0.1 5 0.4 7.5zM512 752c52.8 0 100.8-21.6 135.6-56.4S704 612.8 704 560V380.3l174.1-174.1c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L391.3 602.5 343 650.8l-44.7 44.7-46.3 46.3-115.1 115.1c-12.5 12.5-12.5 32.8 0 45.3 6.3 6.3 14.4 9.4 22.6 9.4s16.4-3.1 22.6-9.4L293.3 791c48.2 46.8 111.1 77.9 179.7 86.6 4 0.5 7 3.9 7 7.9V944c0 8.8-7.2 16-16 16h-80c-17.7 0-33.7 7.2-45.3 18.7S320 1006.3 320 1024h384c0-35.4-28.7-64-64-64h-80c-8.8 0-16-7.2-16-16v-58.5c0-4 3-7.4 7-7.9 56-7 108.1-29 151.5-62.2 53.4-40.8 93.8-98.8 112.3-166.9 0.7-2.7 1.1-5.6 1.1-8.4V496c0-18-14.8-32.5-32.9-32-17.4 0.5-31.1 15.2-31.1 32.7v129.2c0 6.9-1.1 13.8-3.3 20.3C714.7 746.9 619.4 816 512 816c-66.3 0-128-26.4-173.5-70.2l44.2-44.2C416.8 732.9 462.3 752 512 752z m128-307.7V560c0 34-13.4 66.1-37.7 90.3C578.1 674.6 546 688 512 688c-31.1 0-60.6-11.2-84-31.7l212-212z\n`;\n\n// 麦克风 禁用\nexport const microphone_disabled6 = `\nM378.4192 238.592c0-69.8368 56.5248-126.464 126.3616-126.6176h14.4896c69.8368 0.1024 126.3616 56.7808 126.3616 126.6176v266.752c0 4.4032-0.256 8.8064-0.6656 13.1072l55.8592 55.8592c8.1408-21.4528 12.6464-44.6464 12.6464-68.9664V238.592c0-107.264-86.8864-194.304-194.2016-194.4064h-14.4896c-90.5728 0.1024-166.6048 62.1056-188.1088 145.9712L378.4192 251.904v-13.312zM832.768 504.4224c0-18.688-15.1552-33.8432-33.8944-33.8944-18.7392 0-33.9456 15.1552-33.9456 33.8944 0 39.1168-8.9088 76.1856-24.7808 109.2608l50.0224 50.0224c27.0336-46.8992 42.5472-101.2736 42.5984-159.2832zM912.5376 868.7104L155.2896 111.4624a31.0272 31.0272 0 0 0-43.8272 0c-12.0832 12.0832-12.0832 31.6928 0 43.8272l199.1168 199.1168V505.344c0 107.264 86.8864 194.304 194.2016 194.4064h14.4896c38.912-0.0512 75.0592-11.5712 105.4208-31.2832l38.6048 38.6048c-42.1888 31.5392-94.5152 50.3296-151.2448 50.3296-139.7248 0-252.9792-113.2544-252.9792-252.9792 0-18.7392-15.2064-33.8944-33.8944-33.8944-18.7392 0-33.8944 15.2064-33.8944 33.8944 0.256 165.5808 125.7472 301.824 286.8736 318.9248v88.6272H361.0112c-18.688 0-33.8432 15.1552-33.8944 33.8944 0 18.7392 15.1552 33.9456 33.8944 33.9456h302.0288c18.688 0 33.8432-15.1552 33.8944-33.8944 0-18.7392-15.1552-33.9456-33.8944-33.9456h-117.0944v-88.6272c62.2592-6.6048 119.1424-31.0784 165.5808-68.0448l157.2352 157.2352a30.89408 30.89408 0 0 0 21.9136 9.0624c7.936 0 15.872-3.0208 21.9136-9.0624a31.07328 31.07328 0 0 0-0.0512-43.8272z m-393.3184-236.8h-14.4896c-69.8368-0.1024-126.3616-56.7808-126.3616-126.6176V422.1952l196.608 196.608a124.86144 124.86144 0 0 1-55.7568 13.1072z\n`;\n\n// 麦克风 禁用\nexport const microphone_disabled7 = `\nM841.5 510.1v-76.9c0-21.2-16.5-38.5-36.9-38.5-20.3 0-36.8 17.2-36.8 38.5v76.9c0 24.9-3.2 49.6-9.5 73.7l58.3 60.7c16.8-42.7 25.3-88.3 24.9-134.4z m-147.7 0V202.4c0.9-50.7-18.7-99.6-54.2-135.8-33.4-36.5-80.8-57-130.2-56.5-49.5-0.6-96.9 20-130.4 56.5-20.7 21.1-36.1 46.7-45.1 74.8l359.8 375c0.1-2 0.1-4.1 0.1-6.3z m10.4 280.5l-52.8-55c-41.5 29.3-91.2 44.6-141.9 43.9-68.8 1-134.9-27.7-182.7-79.4-49.4-49.7-76.8-118.6-75.8-190.2v-76.7c0.1-21.2-16.3-38.3-36.5-38.5-10 0-19.5 4.1-26.3 11.5-7.1 7.2-11.1 16.9-11 27v76.9c-1.1 85.5 29.3 168.2 85 231 53.8 64 129 104.2 210.2 112.7v79.3H324.8c-20.4 0-36.9 17.2-36.9 38.5 0 21.2 16.5 38.4 36.9 38.4h368.9c20.4 0 36.9-17.2 36.9-38.5S714.1 933 693.7 933H546.2v-79.3c57.5-5.9 112.2-27.8 158-63.1zM324.8 510.2c0.3 106 82.7 191.9 184.4 192.3 31 0.4 61.5-7.6 88.3-23.1L324.8 395.1v115.1zM844.4 838c-7.8 0-15.2-3.2-20.5-8.8L151.4 133.5c-11.4-12-11.5-30.9-0.2-43 10.7-11.4 28.6-12 40-1.4l1.2 1.2L865 786.1c11.4 12 11.5 30.8 0.2 42.9-5.4 5.8-12.9 9-20.8 9z\n`;\n\n// 麦克风 禁用\nexport const microphone_disabled8 = `\nM983.000554 937.607235L87.075587 29.523287a31.99732 31.99732 0 1 0-45.436194 44.796249L320.016079 356.5359V512.042876a191.983921 191.983921 0 0 0 191.983921 191.983922 191.983921 191.983921 0 0 0 113.270514-37.756838l44.796248 45.436195A255.978562 255.978562 0 0 1 256.021438 512.042876V448.048236a31.99732 31.99732 0 0 0-63.99464 0v63.99464a319.973202 319.973202 0 0 0 291.81556 319.973203H480.00268v127.989281H320.016079a31.99732 31.99732 0 0 0 0 63.99464h383.967842a31.99732 31.99732 0 0 0 0-63.99464H543.99732v-127.989281a319.973202 319.973202 0 0 0 172.785529-71.673998l222.061403 225.261135a31.99732 31.99732 0 0 0 45.436195-44.796249zM512 640.032157a127.989281 127.989281 0 0 1-127.989281-127.989281V421.810433l195.8236 198.383386A127.989281 127.989281 0 0 1 512 640.032157zM352.653345 157.512568a31.99732 31.99732 0 0 0 42.236463-16.638606A127.989281 127.989281 0 0 1 639.989281 192.069674v255.978562a31.99732 31.99732 0 0 0 63.99464 0V192.069674a191.983921 191.983921 0 0 0-367.969182-76.793568 31.99732 31.99732 0 0 0 16.638606 42.236462zM790.376686 593.956016h5.759518a31.99732 31.99732 0 0 0 31.357373-26.877749A331.492238 331.492238 0 0 0 831.973202 512.042876V448.048236a31.99732 31.99732 0 0 0-63.99464 0v63.99464a262.378026 262.378026 0 0 1-3.839679 44.796249 31.99732 31.99732 0 0 0 26.237803 37.116891z\n`;\n\n// 麦克风 禁用\nexport const microphone_disabled9 = [\n  `\nM220.754773 485.12a35.328 35.328 0 0 1 35.157334 30.592l0.341333 4.693333v8.832c0 136.106667 111.488 246.869333 248.490667 246.869334a248.746667 248.746667 0 0 0 215.893333-125.013334l51.498667 51.456a320.341333 320.341333 0 0 1-221.653334 140.8l-10.368 1.322667v107.946667h177.408a35.328 35.328 0 0 1 4.693334 70.272l-4.693334 0.298666H291.880107a35.370667 35.370667 0 0 1-25.045334-60.288 35.328 35.328 0 0 1 20.394667-9.984l4.693333-0.298666H469.202773v-107.946667c-155.989333-17.237333-278.528-146.517333-283.776-304.853333l-0.170666-10.581334v-8.874666a35.328 35.328 0 0 1 35.456-35.285334z m97.536-236.373333l353.493334 353.536a186.624 186.624 0 0 1-167.125334 103.381333c-99.797333 0-181.418667-78.336-186.154666-176.256l-0.213334-8.96V248.746667z m470.314667 236.373333a35.328 35.328 0 0 1 35.157333 30.592l0.298667 4.693333v8.832a313.770667 313.770667 0 0 1-30.208 134.698667l-54.272-54.272c7.765333-22.4 12.373333-46.208 13.354667-70.997333l0.170666-9.429334v-8.874666a35.328 35.328 0 0 1 35.498667-35.285334zM504.616107 0.085333c99.797333 0 181.418667 78.250667 186.154666 176.256l0.213334 8.96v335.104c0 12.629333-1.28 24.96-3.712 36.864L318.290773 188.416v-3.072C318.290773 83.157333 401.874773 0.128 504.616107 0.128z\n`,\n  `\nM142.364101 188.327773m30.16989-30.169889l0 0q30.169889-30.169889 60.339778 0l603.397787 603.397787q30.169889 30.169889 0 60.339778l0 0q-30.169889 30.169889-60.339779 0l-603.397786-603.397786q-30.169889-30.169889 0-60.339779Z\n`,\n];\n\nvideo.video = __video;\nvideo.video2 = __video2;\nvideo.video3 = __video3;\nvideo.video3 = __video3;\nvideo.video3_disabled = __video3_disabled;\nvideo.play = play;\nvideo.play2 = play2;\nvideo.pause = pause;\nvideo.fast_forward = fast_forward;\nvideo.backward = backward;\nvideo.prev = prev;\nvideo.next = next;\nvideo.microphone = microphone;\nvideo.microphone0 = microphone0;\nvideo.microphone1 = microphone1;\nvideo.microphone2 = microphone2;\nvideo.microphone3 = microphone3;\nvideo.microphone4 = microphone4;\nvideo.microphone_disabled = microphone_disabled;\nvideo.microphone_disabled0 = microphone_disabled0;\nvideo.microphone_disabled1 = microphone_disabled1;\nvideo.microphone_disabled2 = microphone_disabled2;\nvideo.microphone_disabled3 = microphone_disabled3;\nvideo.microphone_disabled4 = microphone_disabled4;\nvideo.microphone_disabled5 = microphone_disabled5;\nvideo.microphone_disabled6 = microphone_disabled6;\nvideo.microphone_disabled7 = microphone_disabled7;\nvideo.microphone_disabled8 = microphone_disabled8;\nvideo.microphone_disabled9 = microphone_disabled9;\n\nexport default video;\n","const volume = {};\n\nexport const off = `\nM871.253333 139.52a39.509333 39.509333 0 1 1 55.850667 55.936L195.370667 927.146667a40.405333 40.405333 0 0 1-27.904 11.562666 41.088 41.088 0 0 1-27.776-11.434666 39.68 39.68 0 0 1-0.170667-56.021334l120.618667-120.618666h-1.237334c-60.117333 0-103.893333-42.453333-112-108.373334-9.088-65.92-7.253333-178.858667 0-238.933333 8.533333-62.293333 54.613333-105.173333 112-105.173333h78.08l149.077334-121.941334c18.133333-15.36 50.176-29.866667 75.008-30.250666 45.141333 0 86.698667 31.573333 101.589333 82.176 5.888 21.248 8.192 42.410667 9.984 62.805333l3.584 28.842667c0.597333 4.437333 1.109333 8.704 1.578667 13.226666L871.253333 139.52z m-236.373333 446.336c6.144-5.973333 19.754667-10.24 25.898667-8.661333 16.597333 4.224 19.84 27.989333 19.584 46.72-0.768 54.272-2.56 92.032-5.461334 115.370666l-2.048 19.242667v0.341333c-1.962667 19.370667-3.968 39.381333-9.685333 60.757334-15.061333 50.517333-55.381333 83.285333-101.248 83.285333l-4.522667-0.042667c-25.344 0-52.778667-15.189333-68.394666-28.416l-55.466667-42.922666c-21.12-15.701333-14.890667-40.704-3.072-55.210667 8.874667-10.794667 115.072-108.288 170.88-159.488 18.901333-17.365333 32-29.44 33.578667-30.976z\n`;\n\nexport const up = `\nM569.898667 275.2c-2.133333-20.736-4.394667-42.24-9.898667-63.744C545.066667 160.085333 503.509333 128 459.008 128c-24.832-0.085333-56.234667 15.189333-74.069333 30.72l-147.626667 123.605333h-77.226667c-56.874667 0-102.570667 43.818667-111.232 107.093334-7.338667 60.757333-9.130667 175.36 0 242.218666 7.936 66.858667 51.626667 110.037333 111.232 110.037334h77.226667l150.485333 125.44c15.445333 13.44 42.666667 28.842667 67.754667 28.842666l4.48 0.042667c45.354667 0 85.333333-33.28 100.266667-84.48 5.674667-21.717333 7.68-42.026667 9.557333-61.653333l0.042667-0.341334 2.005333-19.584c7.68-63.445333 7.68-372.864 0-435.84l-2.005333-18.858666z m172.8 1.92a38.698667 38.698667 0 0 0-54.570667-10.112 40.832 40.832 0 0 0-9.728 55.808c34.218667 50.432 53.034667 117.589333 53.034667 189.184 0 71.552-18.816 138.752-53.034667 189.184a40.789333 40.789333 0 0 0 9.813333 55.808 38.613333 38.613333 0 0 0 54.485334-10.112c43.178667-63.658667 67.029333-147.072 67.029333-234.88s-23.850667-171.221333-67.029333-234.88zM823.04 137.386667a38.613333 38.613333 0 0 1 54.485333 10.069333C944.469333 246.058667 981.333333 375.552 981.333333 512c0 136.533333-36.864 265.984-103.808 364.544a38.485333 38.485333 0 0 1-54.442666 10.069333 40.832 40.832 0 0 1-9.813334-55.808c57.856-85.290667 89.770667-198.528 89.770667-318.805333 0-120.234667-31.914667-233.472-89.813333-318.762667a40.874667 40.874667 0 0 1 9.813333-55.808z\n`;\n\nexport const down = `\nM645.973333 211.456c5.504 21.504 7.722667 43.008 9.898667 63.786667l2.005333 18.858666c7.68 62.976 7.68 372.394667 0 435.84l-2.005333 19.584-0.042667 0.341334c-1.92 19.626667-3.925333 39.936-9.557333 61.610666-15.018667 51.285333-55.04 84.522667-100.437333 84.522667l-4.48-0.042667c-25.088 0-52.352-15.36-67.84-28.8l-150.613334-125.482666H245.546667c-59.733333 0-103.424-43.178667-111.36-110.037334-9.130667-66.816-7.338667-181.461333 0-242.218666 8.661333-63.274667 54.442667-107.093333 111.36-107.093334h77.354666l147.797334-123.648c17.792-15.488 49.237333-30.762667 74.112-30.677333 44.586667 0 86.144 32.085333 101.12 83.456z m128.341334 55.552a38.826667 38.826667 0 0 1 54.528 10.112C872.106667 340.821333 896 424.234667 896 512s-23.893333 171.178667-67.157333 234.88a39.04 39.04 0 0 1-32.170667 17.237333 38.485333 38.485333 0 0 1-22.357333-7.125333 40.746667 40.746667 0 0 1-9.813334-55.808c34.261333-50.474667 53.12-117.674667 53.12-189.184 0-71.552-18.858667-138.666667-53.12-189.184a40.746667 40.746667 0 0 1 9.813334-55.808z\n`;\n\nvolume.off = off;\nvolume.up = up;\nvolume.down = down;\nexport default volume;\n","const heart = {};\n// 实心\nexport const follow = `\nM582.136486 958.756758c-36.425039 0-70.509513-16.091383-93.91516-44.105017L109.708121 529.994554a42.569021 42.569021 0 0 1-2.047994-2.194279C34.371194 441.345665 16.963244 333.533401 59.824835 232.303976 106.050989 123.321431 212.912398 44.912512 325.698361 37.305676a311.660824 311.660824 0 0 1 256.511268 106.422553A311.733966 311.733966 0 0 1 838.501468 37.305676c114.029388 7.533693 222.35365 88.722032 263.386676 197.412008 38.765604 102.47285 12.287965 210.211971-72.411222 295.496298l-352.98642 383.92576c-23.405647 28.379347-57.709549 44.617015-94.354016 44.617016\n`;\n// 空心\nexport const un_follow = `\nM167.919429 474.844998l378.732633 384.876614a41.179311 41.179311 0 0 1 2.633135 2.998849 43.37359 43.37359 0 0 0 67.437522-1.974852l354.741843-385.900611c63.707247-64.07296 83.016906-138.971032 55.442127-211.821109C996.625633 182.859546 916.973289 122.882575 833.151814 117.323733a233.032477 233.032477 0 0 0-191.926308 80.603199l-28.306205 33.938188a40.082171 40.082171 0 0 1-61.58611 0l-28.379347-34.011331a231.277053 231.277053 0 0 0-191.926309-80.530056c-81.992909 5.485699-163.181248 65.608955-197.338865 146.285297-17.919949 42.422736-37.229608 125.95164 34.230759 211.235968m414.206817 483.91176c-36.425039 0-70.509513-16.091383-93.91516-44.105017L109.697881 529.994554a42.569021 42.569021 0 0 1-2.047994-2.194279C34.360954 441.345665 16.953004 333.533401 59.814595 232.303976 106.040749 123.321431 212.902158 44.912512 325.688121 37.305676a311.660824 311.660824 0 0 1 256.511268 106.422553A311.733966 311.733966 0 0 1 838.491228 37.305676c114.029388 7.533693 222.35365 88.722032 263.386676 197.412008 38.765604 102.47285 12.287965 210.211971-72.411222 295.496298l-352.98642 383.92576c-23.405647 28.379347-57.709549 44.617015-94.354016 44.617016\n`;\n\n\nheart.follow = follow;\nheart.un_follow = un_follow;\n\nexport default heart;\n","const more = {};\n// 更多\nexport const __more = `\nM746.662 512c0 51.836 42.045 93.866 93.866 93.866 51.852 0 93.866-42.03 93.866-93.866 0-51.837-42.014-93.866-93.866-93.866-51.821 0.001-93.866 42.03-93.866 93.866zM89.604 512c0 51.836 42.044 93.866 93.865 93.866 51.822 0 93.866-42.03 93.866-93.866 0-51.837-42.044-93.866-93.866-93.866-51.82 0.001-93.865 42.03-93.865 93.866zM418.133 512c0 51.836 42.014 93.866 93.866 93.866 51.822 0 93.865-42.03 93.865-93.866 0-51.837-42.043-93.866-93.865-93.866-51.852 0.001-93.866 42.03-93.866 93.866z\n`;\n// 更多 horizontal\nexport const more_horizontal = `\nM192 448a64 64 0 1 0 64 64 64.1 64.1 0 0 0-64-64z m320 0a64 64 0 1 0 64 64 64.1 64.1 0 0 0-64-64z m320 0a64 64 0 1 0 64 64 64.1 64.1 0 0 0-64-64z\n`;\n// 更多\nexport const more_vertical = `\nM512 256a64 64 0 1 0-64-64 64.1 64.1 0 0 0 64 64z m0 192a64 64 0 1 0 64 64 64.1 64.1 0 0 0-64-64z m0 320a64 64 0 1 0 64 64 64.1 64.1 0 0 0-64-64z\n`;\n\nmore.__more = __more;\nmore.more_horizontal = more_horizontal;\nmore.more_vertical = more_vertical;\n\nexport default more;\n","const move = {};\n\n// 放大\nexport const __move = `\nM484.906667 58.197333a38.4 38.4 0 0 1 54.314666 0l128 128a38.4 38.4 0 0 1-54.314666 54.272l-62.421334-62.421333V473.6h295.552l-62.464-62.464a38.4 38.4 0 1 1 54.314667-54.272l128 128a38.4 38.4 0 0 1 0 54.272l-128 128a38.4 38.4 0 1 1-54.314667-54.272L846.08 550.4h-295.552v295.552l62.421333-62.421333a38.4 38.4 0 1 1 54.314667 54.272l-128 128a38.4 38.4 0 0 1-54.314667 0l-128-128a38.4 38.4 0 1 1 54.314667-54.272l62.464 62.421333V550.4H178.090667l62.464 62.464a38.4 38.4 0 0 1-54.314667 54.272l-128-128a38.4 38.4 0 0 1 0-54.272l128-128a38.4 38.4 0 0 1 54.314667 54.272L178.090667 473.6h295.594666V178.048L411.221333 240.469333a38.4 38.4 0 0 1-54.314666-54.272l128-128z\n`;\n\n// 缩小\nexport const up = `\nM484.906667 356.864a38.4 38.4 0 0 1 54.314666 0l256 256a38.4 38.4 0 0 1-54.314666 54.272l-228.821334-228.821333-228.864 228.821333a38.4 38.4 0 1 1-54.314666-54.272l256-256z\n`;\n\n// 缩小\nexport const double_up = `\nM484.906667 228.864a38.4 38.4 0 0 1 54.314666 0l213.333334 213.333333a38.4 38.4 0 0 1-54.314667 54.272l-186.154667-186.154666-186.197333 186.154666a38.4 38.4 0 1 1-54.314667-54.272l213.333334-213.333333z m-213.333334 512l213.333334-213.333333a38.4 38.4 0 0 1 54.314666 0l213.333334 213.333333a38.4 38.4 0 0 1-54.314667 54.272l-186.154667-186.154667-186.197333 186.154667a38.4 38.4 0 1 1-54.314667-54.272z\n`;\n\n// 放大\nexport const right = `\nM356.906667 228.864a38.4 38.4 0 0 1 54.314666 0l256 256a38.4 38.4 0 0 1 0 54.272l-256 256a38.4 38.4 0 1 1-54.314666-54.272L585.813333 512 356.906667 283.136a38.4 38.4 0 0 1 0-54.272z\n`;\n\n// 放大\nexport const double_right = `\nM228.906667 271.530667a38.4 38.4 0 0 1 54.314666 0l213.333334 213.333333a38.4 38.4 0 0 1 0 54.272l-213.333334 213.333333a38.4 38.4 0 1 1-54.314666-54.272L415.146667 512 228.906667 325.802667a38.4 38.4 0 0 1 0-54.272z m298.666666 0a38.4 38.4 0 0 1 54.314667 0l213.333333 213.333333a38.4 38.4 0 0 1 0 54.272l-213.333333 213.333333a38.4 38.4 0 1 1-54.314667-54.272L713.813333 512l-186.197333-186.197333a38.4 38.4 0 0 1 0-54.272z\n`;\n\n// 缩小\nexport const down = `\nM228.906667 356.864a38.4 38.4 0 0 1 54.314666 0l228.864 228.821333 228.821334-228.821333a38.4 38.4 0 0 1 54.314666 54.272l-256 256a38.4 38.4 0 0 1-54.314666 0l-256-256a38.4 38.4 0 0 1 0-54.272z\n`;\n\n// 缩小\nexport const double_down = `\nM271.573333 228.864a38.4 38.4 0 0 1 54.314667 0l186.197333 186.154667 186.154667-186.154667a38.4 38.4 0 0 1 54.314667 54.272l-213.333334 213.333333a38.4 38.4 0 0 1-54.314666 0l-213.333334-213.333333a38.4 38.4 0 0 1 0-54.272z m0 298.666667a38.4 38.4 0 0 1 54.314667 0l186.197333 186.154666 186.154667-186.154666a38.4 38.4 0 1 1 54.314667 54.272l-213.333334 213.333333a38.4 38.4 0 0 1-54.314666 0l-213.333334-213.333333a38.4 38.4 0 0 1 0-54.272z\n`;\n\n// 缩小\nexport const left = `\nM667.221333 228.864a38.4 38.4 0 0 1 0 54.272L438.357333 512l228.864 228.864a38.4 38.4 0 0 1-54.314666 54.272l-256-256a38.4 38.4 0 0 1 0-54.272l256-256a38.4 38.4 0 0 1 54.314666 0z\n`;\n\n// 缩小\nexport const double_left = `\nM496.554667 271.530667a38.4 38.4 0 0 1 0 54.272L310.357333 512l186.197334 186.197333a38.4 38.4 0 0 1-54.314667 54.272l-213.333333-213.333333a38.4 38.4 0 0 1 0-54.272l213.333333-213.333333a38.4 38.4 0 0 1 54.314667 0z m298.666666 0a38.4 38.4 0 0 1 0 54.272L609.024 512l186.197333 186.197333a38.4 38.4 0 0 1-54.314666 54.272l-213.333334-213.333333a38.4 38.4 0 0 1 0-54.272l213.333334-213.333333a38.4 38.4 0 0 1 54.314666 0z\n`;\n\n// 放大2\nexport const sort = `\nM484.906667 143.530667a38.4 38.4 0 0 1 54.314666 0l213.333334 213.333333a38.4 38.4 0 0 1-54.314667 54.272l-186.154667-186.154667-186.197333 186.154667a38.4 38.4 0 0 1-54.314667-54.272l213.333334-213.333333z m-213.333334 469.333333a38.4 38.4 0 0 1 54.314667 0l186.197333 186.154667 186.154667-186.154667a38.4 38.4 0 1 1 54.314667 54.272l-213.333334 213.333333a38.4 38.4 0 0 1-54.314666 0l-213.333334-213.333333a38.4 38.4 0 0 1 0-54.272z\n`;\n\n\nmove.move = __move;\nmove.right = right;\nmove.double_right = double_right;\nmove.left = left;\nmove.double_left = double_left;\nmove.up = up;\nmove.double_up = double_up;\nmove.down = down;\nmove.double_down = double_down;\nmove.sort = sort;\nexport default move;\n","const rotation = {};\nexport const left = [\n  `\nM42.752 132.266667a38.4 38.4 0 0 1 38.4 38.4v217.6h217.6a38.4 38.4 0 0 1 0 76.8h-256a38.4 38.4 0 0 1-38.4-38.4V170.666667a38.4 38.4 0 0 1 38.4-38.4z\n`,\n  `\nM453.12 94.122667a422.4 422.4 0 1 1-339.498667 558.634666 38.4 38.4 0 0 1 72.405334-25.514666 345.6 345.6 0 1 0 80.981333-358.613334l-197.973333 186.026667A38.4 38.4 0 0 1 16.426667 398.677333l197.546666-185.6a422.4 422.4 0 0 1 239.189334-118.954666z\n`,\n];\nexport const right = `\nM345.344 209.450667a345.6 345.6 0 0 1 411.904 58.88l0.256 0.256L884.608 388.266667h-159.189333a38.4 38.4 0 1 0 0 76.8h256a38.229333 38.229333 0 0 0 23.722666-8.234667 38.314667 38.314667 0 0 0 14.677334-30.165333V170.666667a38.4 38.4 0 0 0-76.8 0v167.082666l-132.437334-124.672A422.4 422.4 0 1 0 910.506667 652.8a38.4 38.4 0 1 0-72.405334-25.6A345.6 345.6 0 1 1 345.344 209.493333z\n`;\n\nrotation.left = left;\nrotation.right = right;\nexport default rotation;\n","const screen = {};\n// 放大\nexport const maximize = `\nM640.085333 166.4a38.4 38.4 0 1 1 0-76.8h256a38.4 38.4 0 0 1 38.4 38.4v256a38.4 38.4 0 0 1-76.8 0V220.714667l-233.130666 233.088a38.4 38.4 0 1 1-54.314667-54.272L803.413333 166.4h-163.285333z m-186.197333 403.797333a38.4 38.4 0 0 1 0 54.272L220.757333 857.6h163.328a38.4 38.4 0 1 1 0 76.8h-256a38.4 38.4 0 0 1-38.4-38.4v-256a38.4 38.4 0 1 1 76.8 0v163.285333l233.088-233.088a38.4 38.4 0 0 1 54.314667 0z\n`;\n// 缩小\nexport const minimize = `\nM865.834667 97.834667a42.666667 42.666667 0 1 1 60.330666 60.330666L700.330667 384H853.333333a42.666667 42.666667 0 1 1 0 85.333333h-256a42.666667 42.666667 0 0 1-42.666666-42.666666V170.666667a42.666667 42.666667 0 1 1 85.333333 0v153.002666l225.834667-225.834666zM128 597.333333a42.666667 42.666667 0 0 1 42.666667-42.666666h256a42.666667 42.666667 0 0 1 42.666666 42.666666v256a42.666667 42.666667 0 1 1-85.333333 0v-153.002666l-225.834667 225.834666a42.666667 42.666667 0 0 1-60.330666-60.330666L323.669333 640H170.666667a42.666667 42.666667 0 0 1-42.666667-42.666667z\n`;\n// 放大2\nexport const maximize2 = `\nM125.909333 125.866667A123.733333 123.733333 0 0 1 213.333333 89.6h128a38.4 38.4 0 1 1 0 76.8h-128a46.933333 46.933333 0 0 0-46.933333 46.933333v128a38.4 38.4 0 0 1-76.8 0V213.333333a123.733333 123.733333 0 0 1 36.266667-87.466666z m518.4 2.133333a38.4 38.4 0 0 1 38.4-38.4h128a123.733333 123.733333 0 0 1 123.733334 123.733333v128a38.4 38.4 0 0 1-76.8 0V213.333333a46.933333 46.933333 0 0 0-46.933334-46.933333h-128a38.4 38.4 0 0 1-38.4-38.4z m-516.266666 516.266667a38.4 38.4 0 0 1 38.4 38.4v128a46.933333 46.933333 0 0 0 46.933333 46.933333h128a38.4 38.4 0 1 1 0 76.8h-128a123.733333 123.733333 0 0 1-123.733333-123.733333v-128a38.4 38.4 0 0 1 38.4-38.4z m768 0a38.4 38.4 0 0 1 38.4 38.4v128a123.733333 123.733333 0 0 1-123.733334 123.733333h-128a38.4 38.4 0 1 1 0-76.8h128a46.933333 46.933333 0 0 0 46.933334-46.933333v-128a38.4 38.4 0 0 1 38.4-38.4z\n`;\n// 缩小2\nexport const minimize2 = `\nM341.418667 89.6a38.4 38.4 0 0 1 38.4 38.4v128a123.733333 123.733333 0 0 1-123.733334 123.733333h-128a38.4 38.4 0 0 1 0-76.8h128a46.933333 46.933333 0 0 0 46.933334-46.933333V128a38.4 38.4 0 0 1 38.4-38.4z m341.333333 0a38.4 38.4 0 0 1 38.4 38.4v128a46.933333 46.933333 0 0 0 46.933333 46.933333h128a38.4 38.4 0 0 1 0 76.8h-128a123.733333 123.733333 0 0 1-123.733333-123.733333V128a38.4 38.4 0 0 1 38.4-38.4zM89.685333 682.666667a38.4 38.4 0 0 1 38.4-38.4h128a123.733333 123.733333 0 0 1 123.733334 123.733333v128a38.4 38.4 0 1 1-76.8 0v-128a46.933333 46.933333 0 0 0-46.933334-46.933333h-128a38.4 38.4 0 0 1-38.4-38.4z m678.4 38.4a46.933333 46.933333 0 0 0-46.933333 46.933333v128a38.4 38.4 0 0 1-76.8 0v-128a123.733333 123.733333 0 0 1 123.733333-123.733333h128a38.4 38.4 0 0 1 0 76.8h-128z\n`;\n\nscreen.maximize = maximize;\nscreen.minimize = minimize;\nscreen.maximize2 = maximize2;\nscreen.minimize2 = minimize2;\nexport default screen;\n","const trending = {};\nexport const up = [\n  `\nM1008.554667 228.864a38.4 38.4 0 0 1 0 54.272l-405.333334 405.333333a38.4 38.4 0 0 1-54.314666 0l-186.154667-186.154666-292.864 292.821333a38.4 38.4 0 1 1-54.314667-54.272l320-320a38.4 38.4 0 0 1 54.314667 0l186.197333 186.154667 378.154667-378.154667a38.4 38.4 0 0 1 54.314667 0z\n`,\n  `\nM687.018667 256a38.4 38.4 0 0 1 38.4-38.4h256a38.4 38.4 0 0 1 38.4 38.4v256a38.4 38.4 0 0 1-76.8 0V294.4h-217.6a38.4 38.4 0 0 1-38.4-38.4z\n`,\n];\nexport const down = [\n  `\nM15.573333 228.864a38.4 38.4 0 0 1 54.314667 0l292.864 292.821333 186.154667-186.154666a38.4 38.4 0 0 1 54.314666 0l405.333334 405.333333a38.4 38.4 0 0 1-54.314667 54.272l-378.154667-378.154667-186.197333 186.154667a38.4 38.4 0 0 1-54.314667 0l-320-320a38.4 38.4 0 0 1 0-54.272z\n`,\n  `\nM981.418667 473.6a38.4 38.4 0 0 1 38.4 38.4v256a38.4 38.4 0 0 1-38.4 38.4h-256a38.4 38.4 0 1 1 0-76.8h217.6V512a38.4 38.4 0 0 1 38.4-38.4z\n`,\n];\n\ntrending.up = up;\ntrending.down = down;\nexport default trending;\n","const business = {};\n// 云台控制\nexport const icon_PTZ_control = [\n  `\nM586.0864 463.744l68.49536 20.0192-112.85504 386.20672-68.5056-20.0192z\n`,\n  `\nM541.83936 887.92064c-1.68448 0-3.37408-0.23552-5.02272-0.72192l-68.49536-20.0192a17.95072 17.95072 0 0 1-12.1856-22.25152l112.58368-386.27328a17.93024 17.93024 0 0 1 22.2208-12.20096l68.50048 20.01408a17.94048 17.94048 0 0 1 12.18048 22.25664l-112.58368 386.27328a17.93536 17.93536 0 0 1-17.19808 12.92288z m-46.27456-50.16064l34.08896 9.9584 102.53824-351.81568-34.09408-9.96352-102.53312 351.8208z\n`,\n/*  `\nM868.74624 338.02752c-30.8992 106.01472-141.7728 166.87104-247.64928 135.936S454.44608 332.00128 485.34528 225.98656s141.7728-166.87104 247.64928-135.936 166.65088 141.96224 135.75168 247.97696z\n`,*/\n  `\nM676.95104 499.93728c-20.13696 0-40.58624-2.82112-60.87168-8.75008-115.19488-33.664-181.5552-154.89024-147.93728-270.22848 16.2816-55.87456 53.3248-102.05184 104.29952-130.03264 50.95936-27.97568 109.76256-34.4064 165.57056-18.0992 115.18976 33.664 181.5552 154.88512 147.93728 270.22848-27.6992 95.03232-114.76992 156.88192-208.9984 156.88192z m-0.16384-400.03072c-30.13632 0-59.96032 7.58272-87.12192 22.49216-42.5728 23.3728-73.51808 61.94176-87.1168 108.61056-28.0832 96.34816 27.35104 197.60128 123.5712 225.72544 96.24576 28.12928 197.34016-27.39712 225.42336-123.73504 28.07808-96.34816-27.35616-197.60128-123.57632-225.72032a182.31296 182.31296 0 0 0-51.17952-7.3728z m191.95904 238.12096h0.0512-0.0512zM942.08 960H81.92c-9.89696 0-17.92-8.0384-17.92-17.9456a17.93536 17.93536 0 0 1 17.92-17.9456h860.16c9.89696 0 17.92 8.0384 17.92 17.9456a17.94048 17.94048 0 0 1-17.92 17.9456z\n`,\n  `\nM698.93632 816.4864h-373.9136c-69.25312 0-125.3888 56.1408-125.3888 125.3888v0.1792h624.69632v-0.1792c0-69.248-56.1408-125.3888-125.39392-125.3888z\n`,\n  `\nM824.33024 960H199.63392c-9.89696 0-17.92-8.0384-17.92-17.9456 0-80.47104 63.93344-143.5136 145.55136-143.5136h368.85504c81.94048 0 146.13504 63.03744 146.13504 143.5136a17.9456 17.9456 0 0 1-17.92512 17.9456z m-605.32224-35.8912h585.93792c-8.51456-51.51744-53.26336-89.6768-108.83072-89.6768H327.26528c-55.27552 0-99.78368 38.15936-108.25728 89.6768z\n`,\n];\n\n// 3D控制\nexport const icon_three_dimensional = [\n  `\nM828.32 811.25333333H184.16c-40.32 0-72.96-32.64-72.96-72.96V273.65333333c0-40.32 32.64-72.96 72.96-72.96H828.8c40.32 0 72.96 32.64 72.96 72.96v464.64c-0.48 40.32-33.12 72.96-73.44 72.96zM184.16 248.69333333c-13.92 0-24.96 11.04-24.96 24.96v464.64c0 13.92 11.04 24.96 24.96 24.96H828.8c13.92 0 24.96-11.04 24.96-24.96V273.65333333c0-13.92-11.04-24.96-24.96-24.96H184.16z\n`,\n  `\nM261.44 557.33333333l46.08-10.56c3.36 31.68 20.16 47.52 49.92 48.48 36.96 0.96 54.72-15.84 54.24-49.92-2.88-26.88-20.64-40.8-54.24-41.76h-33.6v-39.36h23.04c34.08 0 52.32-14.4 54.24-43.2-0.96-23.52-14.4-35.52-40.32-36.48-25.92 1.92-41.76 16.8-47.04 44.64L266.72 418.13333333c12.48-48.48 43.2-73.44 91.68-74.4 57.6 0.96 87.36 26.88 89.28 78.24 0 26.88-14.88 46.56-44.64 58.08 36 14.4 54.24 36.96 55.2 67.68-3.84 53.76-36.48 82.56-98.4 84.96-55.68-0.48-88.8-25.92-98.4-75.36zM604.16 627.41333333H502.88V348.05333333h104.16c90.72 0.96 136.8 47.52 137.76 140.64 2.4 95.04-44.16 141.6-140.64 138.72z m1.44-237.6h-56.64v199.68h55.2c62.88 0.96 94.08-32.64 93.12-99.84-0.96-65.76-31.68-98.88-91.68-99.84z\n`,\n];\n\n// 截图\nexport const icon_screenshot = `\nM437.76 430.08L170.496 79.36C156.672 61.44 159.232 35.84 176.64 20.48c16.896-14.848 42.496-12.8 56.832 4.096L512 344.576l278.528-320c14.848-16.896 39.936-18.432 56.832-4.096 17.408 14.848 19.968 40.448 6.144 58.88L586.24 430.08l165.888 190.976c92.672-33.792 196.096 4.096 245.248 89.6 49.152 85.504 29.184 194.048-47.104 256.512-76.288 62.464-186.368 61.44-260.608-3.072-74.752-64.512-92.16-173.056-40.96-257.536-1.536-1.536-3.072-3.584-4.096-5.12L512 527.872 437.76 430.08zM383.488 492.544l77.824 101.888L379.904 701.44c-1.536 1.536-2.56 3.584-4.096 5.12 50.688 84.48 33.792 193.024-40.96 257.536-74.752 64.512-184.832 65.536-260.608 3.072-76.288-62.464-95.744-171.008-47.104-256.512 49.152-85.504 152.576-123.392 245.248-89.6l111.104-128.512zM215.04 931.84c44.032-3.584 82.432-30.72 100.352-70.656 17.92-39.936 13.312-86.528-12.8-122.368-26.112-35.328-69.12-53.76-112.64-48.64-65.536 8.192-112.64 67.584-105.472 133.12 6.656 66.048 64.512 114.176 130.56 108.544z m593.92 0c43.52 5.632 86.528-13.312 112.64-48.64 26.112-35.328 30.72-81.92 12.8-121.856-17.92-39.936-56.32-67.072-100.352-70.656-66.048-5.632-124.416 42.496-131.072 108.032-6.656 65.536 40.448 124.928 105.984 133.12z m0 0\n`;\n\n// 信息\nexport const icon_information = `\nM512 1024C228.693 1024 0 795.307 0 512S228.693 0 512 0s512 228.693 512 512-228.693 512-512 512z m61.44-723.627c0-34.133-27.307-61.44-61.44-61.44s-61.44 27.307-61.44 61.44v269.654c0 34.133 27.307 61.44 61.44 61.44s61.44-27.307 61.44-61.44V300.373zM512 692.907c-34.133 0-61.44 27.306-61.44 61.44s27.307 61.44 61.44 61.44 61.44-27.307 61.44-61.44-27.307-61.44-61.44-61.44z\n`;\n\n// 信息2\nexport const icon_information2 = `\nM566.912 224.128a67.392 67.392 0 0 0-53.376 21.632 49.92 49.92 0 0 0-21.632 47.04 64 64 0 0 0 21.632 48.256 99.648 99.648 0 0 0 53.376 21.632 67.392 67.392 0 0 0 53.376-21.632 50.816 50.816 0 0 0 21.632-48.256 59.968 59.968 0 0 0-21.632-47.04 65.728 65.728 0 0 0-53.376-21.632z m21.632 518.4c-16.512 0-26.688 0-32-5.056a42.432 42.432 0 0 1-10.176-26.688 60.032 60.032 0 0 1 5.056-26.688 253.888 253.888 0 0 1 5.056-26.688l32-105.472a69.632 69.632 0 0 0 5.056-32v-27.008a65.024 65.024 0 0 0-26.688-53.376 87.872 87.872 0 0 0-68.608-21.632 242.56 242.56 0 0 0-53.376 10.176 218.176 218.176 0 0 0-58.432 21.632l-10.176 32c5.056 0 10.176-5.056 21.632-5.056s16.512-5.056 26.688-5.056a178.112 178.112 0 0 1 32 5.056 42.432 42.432 0 0 1 10.176 26.688 60.032 60.032 0 0 1-5.056 26.688 253.888 253.888 0 0 1-5.056 26.688l-32 105.472a69.632 69.632 0 0 0-5.056 32v26.688a72.704 72.704 0 0 0 26.688 53.376 87.872 87.872 0 0 0 68.608 21.632 173.248 173.248 0 0 0 53.376-5.056 521.408 521.408 0 0 0 58.432-21.632l10.176-32c-5.056 0-10.176 5.056-21.632 5.056z\n`;\n\n// 帮助\nexport const icon_help = [\n  `\nM978.432 850.432c0 70.656-57.344 128-128 128H173.568c-70.656 0-128-57.344-128-128V173.568c0-70.656 57.344-128 128-128h677.376c70.656 0 128 57.344 128 128v676.864zM872.448 10.24H151.552C73.728 10.24 10.24 73.728 10.24 151.552v720.896C10.24 950.272 73.728 1013.76 151.552 1013.76h720.896c77.824 0 141.312-63.488 141.312-141.312V151.552C1013.76 73.728 950.272 10.24 872.448 10.24z\n`,\n  `\nM850.432 79.872H173.568c-51.2 0-93.184 41.984-93.184 93.184v677.376c0 51.2 41.984 93.184 93.184 93.184h677.376c51.2 0 93.184-41.984 93.184-93.184V173.568c0-51.712-41.984-93.696-93.696-93.696zM504.32 826.368c-37.376 0-68.096-29.696-68.096-66.048 0-36.352 30.208-66.048 68.096-66.048s68.096 29.696 68.096 66.048c0 36.352-30.72 66.048-68.096 66.048z m195.584-412.672c-9.216 16.896-20.48 31.744-33.28 44.032-12.8 12.288-35.84 33.28-69.12 62.464-9.216 8.192-16.384 15.36-22.016 22.016-5.632 6.144-9.728 11.776-12.288 17.408-2.56 5.12-4.608 10.24-6.144 15.36-1.536 5.12-3.584 14.336-6.656 27.648-5.12 27.648-21.504 41.472-48.64 41.472-13.824 0-26.112-4.608-35.328-13.824-9.728-9.216-14.336-22.528-14.336-40.448 0-22.528 3.584-41.984 10.752-58.368 7.168-16.384 16.384-30.72 28.16-43.008 11.776-12.288 27.136-27.136 47.104-44.032 17.408-14.848 29.696-26.112 37.376-33.792s14.336-15.872 19.456-25.6c5.12-9.216 7.68-19.456 7.68-30.208 0-21.504-8.192-39.424-24.064-54.272-16.384-14.848-36.864-22.016-62.464-22.016-29.696 0-51.712 7.168-66.048 22.016-14.336 14.848-26.112 36.864-35.84 65.536-9.216 30.208-26.624 45.056-52.224 45.056-15.36 0-28.16-5.12-38.4-15.872-11.264-10.24-16.384-21.504-16.384-33.792 0-25.6 8.192-51.2 24.576-77.312 16.384-26.112 40.448-47.616 72.704-64.512 31.744-16.896 68.608-25.6 111.104-25.6 39.424 0 74.24 7.168 103.936 21.504 30.208 14.336 53.248 33.792 69.632 58.368 16.384 24.576 24.576 51.2 24.576 79.872 0 22.528-4.608 42.496-13.824 59.904z\n`,\n];\n\n// 帮助\nexport const icon_help2 = `\nM506.163573 81.905428C259.515057 85.213777 62.256414 287.808962 65.561693 534.460548c3.310396 246.496044 205.903533 443.814038 452.557166 440.504666 246.524696-3.304256 443.842691-205.903533 440.504666-452.551026C955.375551 275.888468 752.747621 78.601172 506.163573 81.905428L506.163573 81.905428 506.163573 81.905428zM512.3249 847.413166l-2.40477 0c-36.709063-1.099031-62.622246-28.570709-61.593823-65.297169 1.026376-36.043914 27.552519-62.291718 63.08785-62.291718l2.171456 0.058328c37.735439 1.134847 63.385633 28.337395 62.267159 66.101487C574.825372 822.119083 548.683992 847.413166 512.3249 847.413166L512.3249 847.413166 512.3249 847.413166zM675.538145 514.910283c-9.714246 13.525038-30.92636 30.356378-57.719586 50.910507l-29.515221 20.10285c-16.188704 12.424984-25.942859 24.076348-29.582759 35.538401-2.960425 9.126868-4.303003 11.458983-4.565992 29.841655l-0.067538 4.725628L441.501878 656.029324l0.326435-9.416464c1.382487-38.648229 2.365884-61.308321 18.583241-80.109526 25.480324-29.457916 81.69258-65.159022 84.058464-66.647933 8.045233-6.01704 14.806217-12.782118 19.897166-20.034289 11.81714-16.051581 17.005302-28.740578 17.005302-41.10314 0-17.253966-5.188162-33.208333-15.428388-47.387263-9.885138-13.726629-28.634154-20.652366-55.754838-20.652366-26.891464 0-45.275159 8.449439-56.308447 25.699312-11.394515 17.769712-17.074887 36.348859-17.074887 55.413054l0 4.761444L320.706721 456.552154l0.194428-4.983501c2.987031-70.108754 28.372188-120.572076 75.452459-150.023852 29.519314-18.805298 66.290799-28.288277 109.171422-28.288277 56.148811 0 103.657848 13.46364 140.955312 39.97034 37.823444 26.867928 57.000202 67.163679 57.000202 119.695103 0 29.4221-9.388834 57.032948-27.943422 82.08553L675.537122 514.910283 675.538145 514.910283zM675.538145 514.910283\n`;\n\n// 帮助\nexport const icon_help3 = `\nM150.308607 0h721.486305A150.308607 150.308607 0 0 1 1022.103519 150.321084v721.473828A150.308607 150.308607 0 0 1 871.794912 1022.103519H150.308607A150.308607 150.308607 0 0 1 0 871.794912V150.321084A150.308607 150.308607 0 0 1 150.308607 0zM517.789258 308.876889c8.658934 1.122916 17.467589 1.684375 25.951847 3.493517 38.41622 8.097475 54.710985 57.593138 29.345551 87.712253-15.396432 18.278585-34.236475 32.439809-53.201287 46.451311-48.659713 36.008188-73.887903 83.994151-73.613413 144.731455a46.538649 46.538649 0 0 0 5.389999 21.123307c8.983332 16.656594 24.08032 23.593723 42.708257 25.178282 33.338142 2.807291 59.614387-25.602495 57.393508-52.402768a85.890633 85.890633 0 0 1 3.393703-29.944439c5.414953-18.952335 19.052149-32.439809 34.086753-44.242909 20.586802-16.057705 42.421289-30.618189 62.384248-47.412028 20.661663-17.317867 34.510966-39.651428 39.302076-66.726192s2.345648-53.737791-5.502291-79.851837c-15.982844-53.276148-52.402768-85.404035-105.279657-99.577737-29.944439-8.010137-60.500244-8.384443-91.081002-4.890925-47.748903 5.46486-89.833317 23.481431-124.581343 57.231309-14.435715 14.073886-25.914417 30.293791-31.354323 50.044644-3.743055 13.724535-3.992592 27.636222 4.653865 39.925919 14.822497 20.998538 46.339019 26.949995 69.321376 13.974071 10.967151-6.238425 17.791988-16.132567 25.328005-25.565065 10.181109-12.776294 21.497612-24.142704 37.03129-30.518374s31.678721-7.72317 48.247977-8.733794z m41.423141 442.279364v-8.895994c0-22.720343-11.017058-38.678234-31.104786-48.185593-18.191247-8.733795-37.30578-8.297105-55.946194-1.921435-17.0309 5.814212-30.368652 17.018423-35.01004 34.935179-2.49537 9.619651-1.971342 20.112682-2.121064 30.21893-0.336875 22.208792 11.391364 37.156058 30.268837 46.912954 14.735159 7.635832 30.742957 8.733795 46.85057 6.126134 17.891802-2.957013 31.865874-12.239789 41.11122-28.122819 5.876596-10.093771 6.126133-21.210644 5.93898-31.104787z m0 0\n`;\n\n\n// wifi 0\nexport const icon_wifi = [\n  `\nM0 566.62016m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 113.7664q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-113.7664q0-56.89344 56.89344-56.89344Z\n`,\n  `\nM284.44672 452.83328m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 227.55328q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-227.55328q0-56.89344 56.89344-56.89344Z\n`,\n  `\nM568.89344 339.06688m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 341.31968q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-341.31968q0-56.89344 56.89344-56.89344Z\n`,\n  `\nM853.34016 225.28m56.89344 0l56.87296 0q56.89344 0 56.89344 56.89344l0 455.10656q0 56.89344-56.89344 56.89344l-56.87296 0q-56.89344 0-56.89344-56.89344l0-455.10656q0-56.89344 56.89344-56.89344Z\n`,\n];\n\n\n// wifi none\nexport const icon_wifi_green = [\n  `M112.88 689.631h155.428v244.244h-155.428v-244.244z`,\n  `M334.921 556.409h155.428v377.467h-155.428v-377.467z`,\n  `M579.164 400.98h133.223v532.895h-133.223v-532.895z`,\n  `M801.202 245.553h155.428v688.323h-155.428v-688.323z`,\n  `M1023.242 90.125h155.427v843.75h-155.428v-843.75z`,\n];\n\n// wifi guarantee\nexport const icon_wifi_guarantee = `\nM511.168026 0.031999l-431.154526 135.323771 2.23993 510.768038 1.183963 10.047686c3.263898 15.231524 23.551264 95.197025 101.564826 170.938658 61.854067 60.254117 202.489672 133.43583 270.135558 168.538733l7.551764 3.935877 45.662573 24.383238 34.366926-17.567451c36.510859-17.631449 222.489047-109.11659 294.550795-179.226399 79.517515-77.373582 98.684916-156.699103 102.428799-178.394425l2.591919-513.391957-431.154526-135.387769zM726.745289 538.959158l-161.690947 0 0 161.690947-107.772632 0 0-161.690947-161.690947 0 0-107.772632 161.690947 0 0-161.690947 107.772632 0 0 161.690947 161.690947 0 0 107.772632z\n`;\n\n// wifi guarantee2\nexport const icon_wifi_guarantee2 = `\nM931.908267 215.466667c-127.266133-51.968-239.598933-114.688-332.612267-185.856a143.616 143.616 0 0 0-174.574933 0c-93.013333 71.150933-205.346133 133.888-332.629334 185.856a34.133333 34.133333 0 0 0-21.384533 31.5392v280.439466c0 242.722133 376.644267 496.520533 441.2928 496.520534 64.648533 0 441.2928-253.815467 441.2928-496.520534V247.005867a34.133333 34.133333 0 0 0-21.384533-31.5392zM651.6224 497.9712L496.810667 714.7008c-9.642667 13.5168-30.958933 6.690133-30.958934-9.915733v-134.724267a17.066667 17.066667 0 0 0-17.066666-17.066667h-62.532267a17.066667 17.066667 0 0 1-13.892267-26.9824l154.811734-216.7296c9.642667-13.5168 30.958933-6.690133 30.958933 9.915734v134.7072a17.066667 17.066667 0 0 0 17.066667 17.066666h62.549333c13.8752 0.017067 21.947733 15.701333 13.8752 26.999467z\n`;\n\n\nbusiness.icon_PTZ_control = icon_PTZ_control;\nbusiness.icon_three_dimensional = icon_three_dimensional;\nbusiness.icon_screenshot = icon_screenshot;\nbusiness.icon_information = icon_information;\nbusiness.icon_information2 = icon_information2;\nbusiness.icon_help = icon_help;\nbusiness.icon_help2 = icon_help2;\nbusiness.icon_help3 = icon_help3;\nbusiness.icon_wifi = icon_wifi;\nbusiness.icon_wifi_green = icon_wifi_green;\nbusiness.icon_wifi_guarantee = icon_wifi_guarantee;\nbusiness.icon_wifi_guarantee2 = icon_wifi_guarantee2;\n\nexport default business;\n","const magnifier = {};\n// 搜索 - 线条\nexport const search_line = `\nM469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m0 682.666667c164.992 0 298.666667-133.674667 298.666667-298.666667 0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667z m362.026667 3.029333l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z\n`;\n// 搜索 - 线条\nexport const search_line2 = `\nM769.322667 708.992l182.741333 182.698667-60.373333 60.373333-182.698667-182.741333A382.293333 382.293333 0 0 1 469.333333 853.333333c-211.968 0-384-172.032-384-384s172.032-384 384-384 384 172.032 384 384a382.293333 382.293333 0 0 1-84.010666 239.658667z m-85.589334-31.658667A297.685333 297.685333 0 0 0 768 469.333333c0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667a297.685333 297.685333 0 0 0 208-84.266667l6.4-6.4z\n`;\n// 搜索 - 实心\nexport const search_fill = `\nM469.333333 85.333333c211.968 0 384 172.032 384 384s-172.032 384-384 384-384-172.032-384-384 172.032-384 384-384z m362.026667 685.696l120.704 120.661334-60.373333 60.373333-120.661334-120.704 60.330667-60.330667z\n`;\n// 搜索 - 实心\nexport const search_fill2 = `\nM769.322667 708.992l182.741333 182.698667-60.373333 60.373333-182.698667-182.741333A382.293333 382.293333 0 0 1 469.333333 853.333333c-211.968 0-384-172.032-384-384s172.032-384 384-384 384 172.032 384 384a382.293333 382.293333 0 0 1-84.010666 239.658667z\n`;\n// 放大 - 线条\nexport const zoom_in_line = `\nM769.322667 708.992l182.741333 182.698667-60.373333 60.373333-182.698667-182.741333A382.293333 382.293333 0 0 1 469.333333 853.333333c-211.968 0-384-172.032-384-384s172.032-384 384-384 384 172.032 384 384a382.293333 382.293333 0 0 1-84.010666 239.658667z m-85.589334-31.658667A297.685333 297.685333 0 0 0 768 469.333333c0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667a297.685333 297.685333 0 0 0 208-84.266667l6.4-6.4zM426.666667 426.666667V298.666667h85.333333v128h128v85.333333h-128v128h-85.333333v-128H298.666667v-85.333333h128z\n`;\n// 放大 - 实心\nexport const zoom_in_fill = `\nM769.322667 708.992l182.741333 182.698667-60.373333 60.373333-182.698667-182.741333A382.293333 382.293333 0 0 1 469.333333 853.333333c-211.968 0-384-172.032-384-384s172.032-384 384-384 384 172.032 384 384a382.293333 382.293333 0 0 1-84.010666 239.658667zM426.666667 426.666667H298.666667v85.333333h128v128h85.333333v-128h128v-85.333333h-128V298.666667h-85.333333v128z\n`;\n// 缩小 - 线条\nexport const zoom_out_line = `\nM769.322667 708.992l182.741333 182.698667-60.373333 60.373333-182.698667-182.741333A382.293333 382.293333 0 0 1 469.333333 853.333333c-211.968 0-384-172.032-384-384s172.032-384 384-384 384 172.032 384 384a382.293333 382.293333 0 0 1-84.010666 239.658667z m-85.589334-31.658667A297.685333 297.685333 0 0 0 768 469.333333c0-165.034667-133.674667-298.666667-298.666667-298.666666-165.034667 0-298.666667 133.632-298.666666 298.666666 0 164.992 133.632 298.666667 298.666666 298.666667a297.685333 297.685333 0 0 0 208-84.266667l6.4-6.4zM298.666667 426.666667h341.333333v85.333333H298.666667v-85.333333z\n`;\n// 缩小 - 实心\nexport const zoom_out_fill = `\nM769.322667 708.992l182.741333 182.698667-60.373333 60.373333-182.698667-182.741333A382.293333 382.293333 0 0 1 469.333333 853.333333c-211.968 0-384-172.032-384-384s172.032-384 384-384 384 172.032 384 384a382.293333 382.293333 0 0 1-84.010666 239.658667zM298.666667 426.666667v85.333333h341.333333v-85.333333H298.666667z\n`;\n\n\nmagnifier.search_line = search_line;\nmagnifier.search_line2 = search_line2;\nmagnifier.search_fill = search_fill;\nmagnifier.search_fill2 = search_fill2;\nmagnifier.zoom_in_line = zoom_in_line;\nmagnifier.zoom_in_fill = zoom_in_fill;\nmagnifier.zoom_out_line = zoom_out_line;\nmagnifier.zoom_out_fill = zoom_out_fill;\n\nexport default magnifier;\n","// 实心\nexport const icon_close = `\nM512 85.333333C276.352 85.333333 85.333333 276.352 85.333333 512s191.018667 426.666667 426.666667 426.666667 426.666667-191.018667 426.666667-426.666667S747.648 85.333333 512 85.333333zM350.72 350.72a32 32 0 0 1 45.226667 0l126.72 126.72 126.72-126.72a32 32 0 1 1 45.226666 45.226667l-126.72 126.72 126.72 126.72a32 32 0 1 1-45.226666 45.226666l-126.72-126.72-126.72 126.72a32 32 0 0 1-45.226667-45.226666l126.72-126.72-126.72-126.72a32 32 0 0 1 0-45.226667z\n`;\n\nexport default {\n    icon_close\n};\n","import createIcon from './Icon';\nimport arrow from './tool/arrow';\nimport camera from './media/camera';\nimport video from './media/video';\nimport volume from './media/volume';\nimport heart from './heart';\nimport more from './more';\nimport move from './tool/move';\nimport rotation from './rotation';\nimport screen from './tool/screen';\nimport trending from './trending';\nimport business from './business/business';\nimport magnifier from './magnifier';\nimport circular from './circular';\n\nconst Icon = {};\n/**\n * 箭头类\n */\n// 向上\nexport const ArrowUp = (props) => createIcon({...props, path: arrow.up});\nexport const ArrowUpSquare = (props) => createIcon({...props, path: arrow.up_square});\nexport const ArrowUpCircular = (props) => createIcon({...props, path: arrow.up_circular});\n\n// 向右\nexport const ArrowRight = (props) => createIcon({...props, path: arrow.right});\nexport const ArrowRightSquare = (props) => createIcon({...props, path: arrow.right_square});\nexport const ArrowRightCircular = (props) => createIcon({...props, path: arrow.right_circular});\n\n// 向下\nexport const ArrowDown = (props) => createIcon({...props, path: arrow.down});\nexport const ArrowDownSquare = (props) => createIcon({...props, path: arrow.down_square});\nexport const ArrowDownCircular = (props) => createIcon({...props, path: arrow.down_circular});\n\n// 向左\nexport const ArrowLeft = (props) => createIcon({...props, path: arrow.left});\nexport const ArrowLeftSquare = (props) => createIcon({...props, path: arrow.left_square});\nexport const ArrowLeftCircular = (props) => createIcon({...props, path: arrow.left_circular});\n\nIcon.arrow = arrow;\nIcon.ArrowUp = ArrowUp;\nIcon.ArrowUpSquare = ArrowUpSquare;\nIcon.ArrowUpCircular = ArrowUpCircular;\n\nIcon.ArrowRight = ArrowRight;\nIcon.ArrowRightSquare = ArrowRightSquare;\nIcon.ArrowRightCircular = ArrowRightCircular;\n\nIcon.ArrowDown = ArrowDown;\nIcon.ArrowDownSquare = ArrowDownSquare;\nIcon.ArrowDownCircular = ArrowDownCircular;\n\nIcon.ArrowLeft = ArrowLeft;\nIcon.ArrowLeftSquare = ArrowLeftSquare;\nIcon.ArrowLeftCircular = ArrowLeftCircular;\n\nexport const CameraVideo = (props) => createIcon({...props, path: camera.video_camera});\n\nIcon.CameraVideo = CameraVideo;\n\nexport const Video = (props) => createIcon({...props, path: video.video});\nexport const Video2 = (props) => createIcon({...props, path: video.video2});\nexport const Video3 = (props) => createIcon({...props, path: video.video3});\nexport const Video3Disabled = (props) => createIcon({...props, path: video.video3_disabled});\n\nexport const VideoPlay = (props) => createIcon({...props, path: video.play});\nexport const VideoPlay2 = (props) => createIcon({...props, path: video.play2});\n\n\nexport const VideoPause = (props) => createIcon({...props, path: video.pause});\nexport const VideoFastForward = (props) => createIcon({...props, path: video.fast_forward});\nexport const VideoBackward = (props) => createIcon({...props, path: video.backward});\nexport const VideoPrev = (props) => createIcon({...props, path: video.prev});\nexport const VideoNext = (props) => createIcon({...props, path: video.next});\nexport const Microphone = (props) => createIcon({ ...props, path: video.microphone });\nexport const Microphone0 = (props) => createIcon({ ...props, path: video.microphone0 });\nexport const Microphone1 = (props) => createIcon({ ...props, path: video.microphone1 });\nexport const Microphone2 = (props) => createIcon({ ...props, path: video.microphone2 });\nexport const Microphone3 = (props) => createIcon({ ...props, path: video.microphone3 });\nexport const Microphone4 = (props) => createIcon({ ...props, path: video.microphone4 });\nexport const MicrophoneDisabled = (props) => createIcon({ ...props, path: video.microphone_disabled });\nexport const MicrophoneDisabled1 = (props) => createIcon({ ...props, path: video.microphone_disabled1 });\nexport const MicrophoneDisabled2 = (props) => createIcon({ ...props, path: video.microphone_disabled2 });\nexport const MicrophoneDisabled3 = (props) => createIcon({ ...props, path: video.microphone_disabled3 });\nexport const MicrophoneDisabled4 = (props) => createIcon({ ...props, path: video.microphone_disabled4 });\nexport const MicrophoneDisabled5 = (props) => createIcon({ ...props, path: video.microphone_disabled5 });\nexport const MicrophoneDisabled6 = (props) => createIcon({ ...props, path: video.microphone_disabled6 });\nexport const MicrophoneDisabled7 = (props) => createIcon({ ...props, path: video.microphone_disabled7 });\nexport const MicrophoneDisabled8 = (props) => createIcon({ ...props, path: video.microphone_disabled8 });\nexport const MicrophoneDisabled9 = (props) => createIcon({ ...props, path: video.microphone_disabled9 });\n\nIcon.Video = Video;\nIcon.Video2 = Video2;\nIcon.Video3 = Video3;\nIcon.Video3Disabled = Video3Disabled;\nIcon.VideoPlay = VideoPlay;\nIcon.VideoPlay2 = VideoPlay2;\nIcon.VideoPause = VideoPause;\nIcon.VideoFastForward = VideoFastForward;\nIcon.VideoBackward = VideoBackward;\nIcon.VideoPrev = VideoPrev;\nIcon.VideoNext = VideoNext;\nIcon.Microphone = Microphone;\nIcon.Microphone0 = Microphone0;\nIcon.Microphone1 = Microphone1;\nIcon.Microphone2 = Microphone2;\nIcon.Microphone3 = Microphone3;\nIcon.Microphone4 = Microphone4;\nIcon.MicrophoneDisabled = MicrophoneDisabled;\nIcon.MicrophoneDisabled1 = MicrophoneDisabled1;\nIcon.MicrophoneDisabled2 = MicrophoneDisabled2;\nIcon.MicrophoneDisabled3 = MicrophoneDisabled3;\nIcon.MicrophoneDisabled4 = MicrophoneDisabled4;\nIcon.MicrophoneDisabled5 = MicrophoneDisabled5;\nIcon.MicrophoneDisabled6 = MicrophoneDisabled6;\nIcon.MicrophoneDisabled7 = MicrophoneDisabled7;\nIcon.MicrophoneDisabled8 = MicrophoneDisabled8;\nIcon.MicrophoneDisabled9 = MicrophoneDisabled9;\n\nexport const VolumeOff = (props) => createIcon({...props, path: volume.off});\nexport const VolumeUp = (props) => createIcon({...props, path: volume.up});\nexport const VolumeDown = (props) => createIcon({...props, path: volume.down});\n\n\nIcon.VolumeOff = VolumeOff;\nIcon.VolumeUp = VolumeUp;\nIcon.VolumeDown = VolumeDown;\n\nexport const HeartFollow = (props) => createIcon({ ...props, path: heart.follow });\nexport const HeartUnFollow = (props) => createIcon({ ...props, path: heart.un_follow });\n\nIcon.HeartFollow = HeartFollow;\nIcon.HeartUnFollow = HeartUnFollow;\n\nexport const TrendingUp = (props) => createIcon({ ...props, path: trending.up });\nexport const TrendingDown = (props) => createIcon({ ...props, path: trending.down });\n\nIcon.TrendingUp = TrendingUp;\nIcon.TrendingDown = TrendingDown;\n\nexport const More = (props) => createIcon({ ...props, path: more.__more });\nexport const MoreHorizontal = (props) => createIcon({ ...props, path: more.more_horizontal });\nexport const MoreVertical = (props) => createIcon({ ...props, path: more.more_vertical });\n\n\nIcon.More = More;\nIcon.MoreHorizontal = MoreHorizontal;\nIcon.MoreVertical = MoreVertical;\n\nexport const Move = (props) => createIcon({ ...props, path: move.move });\nexport const MoveUp = (props) => createIcon({ ...props, path: move.up });\nexport const MoveDoubleUp = (props) => createIcon({ ...props, path: move.double_up });\nexport const MoveRight = (props) => createIcon({ ...props, path: move.right });\nexport const MoveDoubleRight = (props) => createIcon({ ...props, path: move.double_right });\nexport const MoveDown = (props) => createIcon({ ...props, path: move.down });\nexport const MoveDoubleDown = (props) => createIcon({ ...props, path: move.double_down });\nexport const MoveLeft = (props) => createIcon({ ...props, path: move.left });\nexport const MoveDoubleLeft = (props) => createIcon({ ...props, path: move.double_left });\n\n\nIcon.Move = Move;\nIcon.MoveUp = MoveUp;\nIcon.MoveDoubleUp = MoveDoubleUp;\nIcon.MoveRight = MoveRight;\nIcon.MoveDoubleRight = MoveDoubleRight;\nIcon.MoveDown = MoveDown;\nIcon.MoveDoubleDown = MoveDoubleDown;\nIcon.MoveLeft = MoveLeft;\nIcon.MoveDoubleLeft = MoveDoubleLeft;\n\nexport const RotationLeft = (props) => createIcon({ ...props, path: rotation.left });\nexport const RotationRight = (props) => createIcon({ ...props, path: rotation.right });\n\nIcon.RotationLeft = RotationLeft;\nIcon.RotationRight = RotationRight;\n\nexport const ScreenMaximize = (props) => createIcon({ ...props, path: screen.maximize });\nexport const ScreenMaximize2 = (props) => createIcon({ ...props, path: screen.maximize2 });\nexport const ScreenMinimize = (props) => createIcon({ ...props, path: screen.minimize });\nexport const ScreenMinimize2 = (props) => createIcon({ ...props, path: screen.minimize2 });\n\nIcon.ScreenMaximize = ScreenMaximize;\nIcon.ScreenMaximize2 = ScreenMaximize2;\nIcon.ScreenMinimize = ScreenMinimize;\nIcon.ScreenMinimize2 = ScreenMinimize2;\n\nexport const PTZControl = (props) => createIcon({ ...props, path: business.icon_PTZ_control });\nexport const Screenshot = (props) => createIcon({ ...props, path: business.icon_screenshot });\nexport const ThreeDimensional = (props) => createIcon({ ...props, path: business.icon_three_dimensional });\nexport const Information = (props) => createIcon({ ...props, path: business.icon_information });\nexport const Information2 = (props) => createIcon({ ...props, path: business.icon_information2 });\nexport const Help = (props) => createIcon({ ...props, path: business.icon_help });\nexport const Help2 = (props) => createIcon({ ...props, path: business.icon_help2 });\nexport const Help3 = (props) => createIcon({ ...props, path: business.icon_help3 });\nexport const Wifi = (props) => createIcon({ ...props, path: business.icon_wifi });\nexport const WifiGreen = (props) => createIcon({ ...props, path: business.icon_wifi_green });\nexport const Guarantee = (props) => createIcon({ ...props, path: business.icon_wifi_guarantee });\nexport const Guarantee2 = (props) => createIcon({ ...props, path: business.icon_wifi_guarantee2 });\n\nIcon.PTZControl = PTZControl;\nIcon.Screenshot = Screenshot;\nIcon.ThreeDimensional = ThreeDimensional;\n\nIcon.Information = Information;\nIcon.Information2 = Information2;\n\nIcon.Help = Help;\nIcon.Help2 = Help2;\nIcon.Help3 = Help3;\n\nIcon.Wifi = Wifi;\nIcon.WifiGreen = WifiGreen;\nIcon.Guarantee = Guarantee;\nIcon.Guarantee2 = Guarantee2;\n\n\nexport const SearchLine  = (props) => createIcon({ ...props, path: magnifier.search_line });\nexport const SearchLine2 = (props) => createIcon({ ...props, path: magnifier.search_line2 });\nexport const SearchFill  = (props) => createIcon({ ...props, path: magnifier.search_fill });\nexport const SearchFill2 = (props) => createIcon({ ...props, path: magnifier.search_fill2 });\nexport const ZoomInLine  = (props) => createIcon({ ...props, path: magnifier.zoom_in_line });\nexport const ZoomInFill  = (props) => createIcon({ ...props, path: magnifier.zoom_in_fill });\nexport const ZoomOutLine = (props) => createIcon({ ...props, path: magnifier.zoom_out_line });\nexport const ZoomOutFill = (props) => createIcon({ ...props, path: magnifier.zoom_out_fill });\n\nIcon.SearchLine = SearchLine;\nIcon.SearchLine2 = SearchLine2;\nIcon.SearchFill = SearchFill;\nIcon.SearchFill2 = SearchFill2;\nIcon.ZoomInLine = ZoomInLine;\nIcon.ZoomInFill = ZoomInFill;\nIcon.ZoomOutLine = ZoomOutLine;\nIcon.ZoomOutFill = ZoomOutFill;\n\nexport const Close = (props) => createIcon({ ...props, path: circular.icon_close });\nIcon.Close = Close;\n\nwindow.__Icons = Icon;\nexport default Icon\n","import Icon from '../assets/icons'\n\nexport const attrs = {\n    color: 'white',\n    style: 'width: 1.2rem; height: 1.2rem;',\n}\nconst iconsMap = {\n    play: {\n        label: '播放',\n        icon: Icon.VideoPlay(attrs),\n        withTips: true,\n    },\n    pause: {\n        label: '暂停',\n        icon: Icon.VideoPause(attrs),\n        withTips: true,\n    },\n    audio: {\n        // icon: Icon.VolumeUp(attrs),\n        icon: Icon.VolumeUp({...attrs, style: 'width: 19px; height: 19px;'}),\n    },\n    mute: {\n        icon: Icon.VolumeOff({...attrs, style: 'width: 19px; height: 19px;'}),\n    },\n    screenshot: {\n        label: '截图',\n        icon: Icon.Screenshot(attrs),\n        withTips: true,\n    },\n    // loading: '加载',\n    fullscreen: {\n        label: '全屏',\n        icon: Icon.ScreenMaximize(attrs),\n        withTips: true,\n    },\n    fullscreenExit: {\n        label: '退出全屏',\n        icon: Icon.ScreenMinimize(attrs),\n        withTips: true,\n    },\n    record: {\n        label: '录制',\n        icon: Icon.Video3(attrs),\n        withTips: true,\n    },\n    recordStop: {\n        label: '停止录制',\n        icon: Icon.Video3Disabled({...attrs, style: 'color: red;' + attrs.style}),\n        withTips: true,\n    },\n    loading: '加载',\n    // movement: '云台控制',\n    // movementEnable: '云台控制', // 启用\n    // transform3D: '3D变换',\n    // transform3DEnable: '3D变换', // 启用\n    // zoomIn: '放大',\n    // zoomOut: '缩小',\n};\n\n// console.log(Icon)\nexport default Object.keys(iconsMap).reduce((icons, key) => {\n    if (key === 'loading') {\n        icons[key] = `<i class=\"jessibuca-icon jessibuca-icon-${key}\">x</i>`;\n        if (iconsMap[key]) {\n            icons[key] += `<span class=\"icon-title-tips\"><span class=\"icon-title\">${iconsMap[key]}</span></span>`;\n        }\n    } else {\n        icons[key] = `<div class=\"jessibuca-icon jessibuca-icon-${key}\">${ iconsMap[key].icon }</div>`;\n        if (iconsMap[key].withTips) {\n            icons[key] += `<span class=\"icon-title-tips\"><span class=\"icon-title\">${iconsMap[key].label}</span></span>`;\n        }\n    }\n\n    return icons;\n}, {});\n","import icons, { attrs } from './icons';\nimport Icon from '../assets/icons'\n\nexport default (player, control) => {\n    player.$container.classList.add('jessibuca-controls-show');\n    const options = player._opt;\n    const operateBtns = options.operateBtns;\n    const moreIconAttr = {\n        ...attrs,\n        width: '1.5rem',\n        height: '1.5rem',\n        style: 'transform: rotate(-90deg);' + attrs.style\n    }\n\n    player.$container.insertAdjacentHTML(\n        'beforeend',\n        `\n            ${options.background ? `<div class=\"jessibuca-poster\" style=\"background-image: url(${options.background})\"></div>` : ''}\n            <div class=\"jessibuca-loading\">\n                ${icons.loading}\n                ${options.loadingText ? `<div class=\"jessibuca-loading-text\">${options.loadingText}</div>` : ''}\n            </div>\n            ${options.hasControl && operateBtns.play ? `<div class=\"jessibuca-play-big\"></div>` : ''}\n            ${options.hasControl ? `\n                <div class=\"jessibuca-controls\">\n                    <div class=\"jessibuca-controls-bottom\">\n                        <div class=\"jessibuca-controls-left\">\n                            ${options.showBandwidth ? `<div class=\"jessibuca-controls-item jessibuca-speed\"></div>` : ''}\n                        </div>\n                        <div class=\"jessibuca-controls-right <!--jessibuca-controls-popover-->\">\n                             ${operateBtns.audio ? `\n                                 <div class=\"jessibuca-controls-item jessibuca-volume\">\n                                     ${icons.audio}\n                                     ${icons.mute}\n                                     <div class=\"jessibuca-volume-panel-wrap\">\n                                          <div class=\"jessibuca-volume-panel\">\n                                                 <div class=\"jessibuca-volume-panel-handle\"></div>\n                                          </div>\n                                          <div class=\"jessibuca-volume-panel-text\"></div>\n                                     </div>\n                                 </div>\n                             ` : ''}\n                             ${operateBtns.play ? `<div class=\"jessibuca-controls-item jessibuca-play\">${icons.play}</div><div class=\"jessibuca-controls-item jessibuca-pause\">${icons.pause}</div>` : ''}\n                             ${operateBtns.screenshot ? `<div class=\"jessibuca-controls-item jessibuca-screenshot\">${icons.screenshot}</div>` : ''}\n                             ${operateBtns.record ? ` <div class=\"jessibuca-controls-item jessibuca-record\">${icons.record}</div><div class=\"jessibuca-controls-item jessibuca-record-stop\">${icons.recordStop}</div>` : ''}\n                             ${operateBtns.fullscreen ? `<div class=\"jessibuca-controls-item jessibuca-fullscreen\">${icons.fullscreen}</div><div class=\"jessibuca-controls-item jessibuca-fullscreen-exit\">${icons.fullscreenExit}</div>` : ''}\n                        </div>\n                        <!--<div  class=\"jessibuca-controls-minimize\">\n                          ${ Icon.More(moreIconAttr) }\n                        </div>-->\n                    </div>\n                </div>\n            ` : ''}\n\n        `\n    )\n\n    Object.defineProperty(control, '$poster', {\n        value: player.$container.querySelector('.jessibuca-poster'),\n    });\n\n    Object.defineProperty(control, '$loading', {\n        value: player.$container.querySelector('.jessibuca-loading'),\n    });\n\n    Object.defineProperty(control, '$play', {\n        value: player.$container.querySelector('.jessibuca-play'),\n    });\n\n    Object.defineProperty(control, '$playBig', {\n        value: player.$container.querySelector('.jessibuca-play-big'),\n    });\n\n    Object.defineProperty(control, '$pause', {\n        value: player.$container.querySelector('.jessibuca-pause'),\n    });\n\n    Object.defineProperty(control, '$controls', {\n        value: player.$container.querySelector('.jessibuca-controls'),\n    });\n\n    Object.defineProperty(control, '$fullscreen', {\n        value: player.$container.querySelector('.jessibuca-fullscreen'),\n    });\n\n    /*Object.defineProperty(control, '$fullscreen', {\n        value: player.$container.querySelector('.jessibuca-fullscreen'),\n    });*/\n\n\n    Object.defineProperty(control, '$volume', {\n        value: player.$container.querySelector('.jessibuca-volume'),\n    });\n\n    Object.defineProperty(control, '$volumePanelWrap', {\n        value: player.$container.querySelector('.jessibuca-volume-panel-wrap'),\n    });\n\n    Object.defineProperty(control, '$volumePanelText', {\n        value: player.$container.querySelector('.jessibuca-volume-panel-text'),\n    });\n\n    Object.defineProperty(control, '$volumePanel', {\n        value: player.$container.querySelector('.jessibuca-volume-panel'),\n    });\n\n    Object.defineProperty(control, '$volumeHandle', {\n        value: player.$container.querySelector('.jessibuca-volume-panel-handle'),\n    });\n\n    Object.defineProperty(control, '$volumeOn', {\n        value: player.$container.querySelector('.jessibuca-icon-audio'),\n    });\n\n    Object.defineProperty(control, '$volumeOff', {\n        value: player.$container.querySelector('.jessibuca-icon-mute'),\n    });\n\n\n    /*Object.defineProperty(control, '$fullscreen', {\n        value: player.$container.querySelector('.jessibuca-fullscreen'),\n    });*/\n\n    Object.defineProperty(control, '$fullscreenExit', {\n        value: player.$container.querySelector('.jessibuca-fullscreen-exit'),\n    });\n\n    Object.defineProperty(control, '$record', {\n        value: player.$container.querySelector('.jessibuca-record'),\n    });\n    Object.defineProperty(control, '$recordStop', {\n        value: player.$container.querySelector('.jessibuca-record-stop'),\n    });\n\n    Object.defineProperty(control, '$screenshot', {\n        value: player.$container.querySelector('.jessibuca-screenshot'),\n    });\n\n    Object.defineProperty(control, '$speed', {\n        value: player.$container.querySelector('.jessibuca-speed'),\n    });\n}\n","import {EVENTS} from \"../constant\";\nimport {bpsSize, getStyle, setStyle} from \"../utils\";\nimport { createToggleDisplay } from \"../utils/toggleDisplay\";\nimport screenfull from \"screenfull\";\n\nexport default (player, control) => {\n    const {\n        events: {proxy},\n    } = player;\n\n    const object = document.createElement('object');\n    object.setAttribute('aria-hidden', 'true');\n    object.setAttribute('tabindex', -1);\n    object.type = 'text/html';\n    object.data = 'about:blank';\n\n    setStyle(object, {\n        display: 'block',\n        position: 'absolute',\n        top: '0',\n        left: '0',\n        height: '100%',\n        width: '100%',\n        overflow: 'hidden',\n        pointerEvents: 'none',\n        zIndex: '-1',\n    });\n\n    let playerWidth = player.width;\n    let playerHeight = player.height;\n\n    proxy(object, 'load', () => {\n        proxy(object.contentDocument.defaultView, 'resize', () => {\n            if (player.width !== playerWidth || player.height !== playerHeight) {\n                playerWidth = player.width;\n                playerHeight = player.height;\n                player.emit(EVENTS.resize);\n            }\n        });\n    });\n    player.$container.appendChild(object);\n\n    player.on(EVENTS.destroy, () => {\n        player.$container.removeChild(object);\n    })\n\n    function setVolumeHandle(percentage) {\n        if (percentage === 0) {\n            setStyle(control.$volumeOn, 'display', 'none');\n            setStyle(control.$volumeOff, 'display', 'flex');\n            setStyle(control.$volumeHandle, 'top', `${48}px`);\n        } else {\n            if (control.$volumeHandle && control.$volumePanel) {\n                const panelHeight = getStyle(control.$volumePanel, 'height') || 60;\n                const handleHeight = getStyle(control.$volumeHandle, 'height');\n                const top = panelHeight - (panelHeight - handleHeight) * percentage - handleHeight;\n                setStyle(control.$volumeHandle, 'top', `${top}px`);\n                setStyle(control.$volumeOn, 'display', 'flex');\n                setStyle(control.$volumeOff, 'display', 'none');\n            }\n        }\n        control.$volumePanelText && (control.$volumePanelText.innerHTML = parseInt(percentage * 100))\n    }\n\n    player.on(EVENTS.volumechange, () => {\n        setVolumeHandle(player.volume);\n    });\n\n    player.on(EVENTS.loading, (flag) => {\n        setStyle(control.$loading, 'display', flag ? 'flex' : 'none');\n        setStyle(control.$poster, 'display', 'none')\n\n        if (flag) {\n            setStyle(control.$playBig, 'display', 'none');\n        }\n    })\n\n    try {\n        const screenfullChange = () => {\n            setStyle(control.$fullscreenExit, 'display', player.fullscreen ? 'flex' : 'none');\n            setStyle(control.$fullscreen, 'display', player.fullscreen ? 'none' : 'flex');\n            // control.autoSize();\n        };\n        screenfull.on('change', screenfullChange);\n        player.events.destroys.push(() => {\n            screenfull.off('change', screenfullChange);\n        });\n    } catch (error) {\n        //\n    }\n\n    player.on(EVENTS.recording, (arg) => {\n        setStyle(control.$record, 'display', player.recording ? 'none' : 'flex');\n        setStyle(control.$recordStop, 'display', player.recording ? 'flex' : 'none');\n    })\n\n    //\n    player.on(EVENTS.recordingTimestamp, (timestamp) => {\n        console.log(timestamp);\n    })\n\n    player.on(EVENTS.playing, (flag) => {\n        const playerWidth = player.width;\n        const toggleDisplay = createToggleDisplay(control, playerWidth);\n        if (flag) {\n            toggleDisplay('$screenshot', 500, 'flex')\n            toggleDisplay('$record', 300, 'flex')\n        } else {\n            setStyle(control.$screenshot, 'display', 'none');\n            setStyle(control.$record, 'display', 'none');\n        }\n\n        setStyle(control.$play, 'display', flag ? 'none' : 'flex');\n        setStyle(control.$playBig, 'display', flag ? 'none' : 'block');\n        setStyle(control.$pause, 'display', flag ? 'flex' : 'none');\n        setStyle(control.$fullscreen, 'display', flag ? 'flex' : 'none');\n\n        // 不在播放\n        if (!flag) {\n            control.$speed && (control.$speed.innerHTML = bpsSize(''));\n        }\n    })\n\n\n    player.on(EVENTS.kBps, (rate) => {\n        const bps = bpsSize(rate);\n        control.$speed && (control.$speed.innerHTML = bps);\n    })\n\n\n    //// movement\n    control.on('movement', () => {\n        console.log('control: movement')\n    })\n\n}\n","export default (player, control) => {\n\n    Object.defineProperty(control, 'controlsRect', {\n        get: () => {\n            return control.$controls.getBoundingClientRect();\n        },\n    });\n\n}\n","import {clamp, setStyle} from \"../utils\";\n\nexport default (player, control) => {\n    const {\n        events: {proxy},\n        debug\n    } = player;\n\n    function volumeChangeFromEvent(event) {\n        const {bottom: panelBottom, height: panelHeight} = control.$volumePanel.getBoundingClientRect();\n        const {height: handleHeight} = control.$volumeHandle.getBoundingClientRect();\n        const percentage =\n            clamp(panelBottom - event.y - handleHeight / 2, 0, panelHeight - handleHeight / 2) / (panelHeight - handleHeight);\n        return percentage;\n    }\n\n    //\n    proxy(window, ['click', 'contextmenu'], event => {\n        if (event.composedPath().indexOf(player.$container) > -1) {\n            control.isFocus = true;\n        } else {\n            control.isFocus = false;\n        }\n    });\n\n    //\n    proxy(window, 'orientationchange', () => {\n        setTimeout(() => {\n            player.resize();\n        }, 300);\n    });\n\n\n    proxy(control.$controls, 'click', (e) => {\n        e.stopPropagation();\n    })\n\n    proxy(control.$pause, 'click', (e) => {\n        player.pause();\n    })\n    // 监听 play 方法\n    proxy(control.$play, 'click', (e) => {\n        player.play();\n    })\n\n    // 监听 play 方法\n    proxy(control.$playBig, 'click', (e) => {\n        player.play();\n    })\n\n    proxy(control.$volume, 'mouseover', () => {\n        control.$volumePanelWrap.classList.add('jessibuca-volume-panel-wrap-show');\n    })\n\n    proxy(control.$volume, 'mouseout', () => {\n        control.$volumePanelWrap.classList.remove('jessibuca-volume-panel-wrap-show');\n    })\n\n    proxy(control.$volumeOn, 'click', (e) => {\n        e.stopPropagation();\n        setStyle(control.$volumeOn, 'display', 'none');\n        setStyle(control.$volumeOff, 'display', 'block');\n        player.lastVolume = player.volume;\n        player.volume = 0;\n    })\n\n    proxy(control.$volumeOff, 'click', (e) => {\n        e.stopPropagation();\n        setStyle(control.$volumeOn, 'display', 'block');\n        setStyle(control.$volumeOff, 'display', 'none');\n        player.volume = player.lastVolume || 0.5;\n    })\n\n    proxy(control.$screenshot, 'click', (e) => {\n        e.stopPropagation();\n        player.video.screenshot();\n    })\n\n    proxy(control.$volumePanel, 'click', event => {\n        event.stopPropagation();\n        player.volume = volumeChangeFromEvent(event);\n    });\n\n    proxy(control.$volumeHandle, 'mousedown', () => {\n        control.isVolumeDroging = true;\n    });\n\n    proxy(control.$volumeHandle, 'mousemove', event => {\n        if (control.isVolumeDroging) {\n            player.volume = volumeChangeFromEvent(event);\n        }\n    });\n\n    proxy(document, 'mouseup', () => {\n        if (control.isVolumeDroging) {\n            control.isVolumeDroging = false;\n        }\n    });\n\n    proxy(control.$record, 'click', (e) => {\n        e.stopPropagation();\n        player.recording = true;\n    })\n\n    proxy(control.$recordStop, 'click', (e) => {\n        e.stopPropagation();\n        player.recording = false;\n    })\n\n    proxy(control.$fullscreen, 'click', (e) => {\n        e.stopPropagation();\n        player.fullscreen = true;\n    })\n\n    proxy(control.$fullscreenExit, 'click', (e) => {\n        e.stopPropagation();\n        player.fullscreen = false;\n    })\n}\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","// todo: 待定\nimport {HOT_KEY} from \"../constant\";\n\nexport default (player, control) => {\n    const {\n        events: {proxy}\n    } = player;\n\n    const keys = {};\n\n    function addHotkey(key, event) {\n        if (keys[key]) {\n            keys[key].push(event);\n        } else {\n            keys[key] = [event];\n        }\n    }\n\n    //\n    addHotkey(HOT_KEY.esc, () => {\n        if (player.fullscreen) {\n            player.fullscreen = false;\n        }\n    })\n\n    //\n    addHotkey(HOT_KEY.arrowUp, () => {\n        player.volume += 0.05;\n    })\n\n    //\n    addHotkey(HOT_KEY.arrowDown, () => {\n        player.volume -= 0.05;\n    })\n\n    proxy(window, 'keydown', event => {\n        if (control.isFocus) {\n            const tag = document.activeElement.tagName.toUpperCase();\n            const editable = document.activeElement.getAttribute('contenteditable');\n            if (tag !== 'INPUT' && tag !== 'TEXTAREA' && editable !== '' && editable !== 'true') {\n                const events = keys[event.keyCode];\n                if (events) {\n                    event.preventDefault();\n                    events.forEach(fn => fn());\n                }\n            }\n        }\n    });\n}\n","import template from \"./template\";\nimport observer from './observer';\nimport property from './property';\nimport events from './events';\nimport './style.scss'\nimport Emitter from \"../utils/emitter\";\nimport hotkey from \"./hotkey\";\n\nexport default class Control extends Emitter {\n    constructor(player) {\n        super()\n        this.player = player;\n        template(player, this);\n        observer(player, this);\n        property(player, this);\n        events(player, this);\n\n        this.movement = false;\n        this.transform = false;\n        this.zoom = 1;\n        if (player._opt.hotKey) {\n            hotkey(player, this);\n        }\n        this.player.debug.log('Control', 'init');\n    }\n\n    destroy() {\n        const $container = this.player.$container;\n        if (this.$poster && $container.contains(this.$poster)) {\n            this.player.$container.removeChild(this.$poster);\n        }\n        if (this.$loading && $container.contains(this.$loading)) {\n            this.player.$container.removeChild(this.$loading);\n        }\n        console.log(this.$controls)\n        if (this.$controls && $container.contains(this.$controls)) {\n            this.player.$container.removeChild(this.$controls);\n        }\n        this.player.debug.log('control', 'destroy');\n    }\n\n    autoSize() {\n        const player = this.player;\n        player.$container.style.padding = '0 0';\n        const playerWidth = player.width;\n        const playerHeight = player.height;\n        const playerRatio = playerWidth / playerHeight;\n        const canvasWidth = player.audio.$videoElement.width;\n        const canvasHeight = player.audio.$videoElement.height;\n        const canvasRatio = canvasWidth / canvasHeight;\n        if (playerRatio > canvasRatio) {\n            const padding = (playerWidth - playerHeight * canvasRatio) / 2;\n            player.$container.style.padding = `0 ${padding}px`;\n        } else {\n            const padding = (playerHeight - playerWidth / canvasRatio) / 2;\n            player.$container.style.padding = `${padding}px 0`;\n        }\n    }\n\n}\n","export default (player) => {\n\n    const {\n        _opt,\n        debug,\n        events: {proxy},\n    } = player;\n\n\n    if (_opt.supportDblclickFullscreen) {\n        proxy(player.$container, 'dblclick', () => {\n            player.fullscreen = !player.fullscreen;\n        })\n    }\n\n\n    //\n    proxy(document, 'visibilitychange', () => {\n        if (_opt.hiddenAutoPause) {\n            debug.log('visibilitychange', document.visibilityState, player._isPlayingBeforePageHidden)\n\n            if (\"visible\" === document.visibilityState) {\n                if (player._isPlayingBeforePageHidden) {\n                    player.play();\n                }\n            } else {\n                player._isPlayingBeforePageHidden = player.playing;\n                // hidden\n                if (player.playing) {\n                    player.pause();\n                }\n            }\n        }\n    })\n\n    proxy(window, 'fullscreenchange', () => {\n        //\n        if (player.keepScreenOn !== null && \"visible\" === document.visibilityState) {\n            player.enableWakeLock();\n        }\n    })\n}\n","// tks: https://github.com/richtr/NoSleep.js\n\nconst WEBM = \"data:video/webm;base64,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\";\nconst MP4 = \"data:video/mp4;base64,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\";\n\n\n// Detect iOS browsers < version 10\nconst\n    oldIOS = () =>\n        typeof navigator !== \"undefined\" &&\n        parseFloat(\n            (\n                \"\" +\n                (/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(\n                    navigator.userAgent\n                ) || [0, \"\"])[1]\n            )\n                .replace(\"undefined\", \"3_2\")\n                .replace(\"_\", \".\")\n                .replace(\"_\", \"\")\n        ) < 10 &&\n        !window.MSStream;\n\n// Detect native Wake Lock API support\nconst nativeWakeLock = () => \"wakeLock\" in navigator;\n\nexport default class NoSleep {\n    constructor(player) {\n        this.player = player;\n        this.enabled = false;\n        if (nativeWakeLock()) {\n            this._wakeLock = null;\n            const handleVisibilityChange = () => {\n                if (this._wakeLock !== null && document.visibilityState === \"visible\") {\n                    this.enable();\n                }\n            };\n            document.addEventListener(\"visibilitychange\", handleVisibilityChange);\n            document.addEventListener(\"fullscreenchange\", handleVisibilityChange);\n        } else if (oldIOS()) {\n            this.noSleepTimer = null;\n        } else {\n            // Set up no sleep video element\n            this.noSleepVideo = document.createElement(\"video\");\n\n            this.noSleepVideo.setAttribute(\"title\", \"No Sleep\");\n            this.noSleepVideo.setAttribute(\"playsinline\", \"\");\n\n            this._addSourceToVideo(this.noSleepVideo, \"webm\", WEBM);\n            this._addSourceToVideo(this.noSleepVideo, \"mp4\", MP4);\n\n            this.noSleepVideo.addEventListener(\"loadedmetadata\", () => {\n                if (this.noSleepVideo.duration <= 1) {\n                    // webm source\n                    this.noSleepVideo.setAttribute(\"loop\", \"\");\n                } else {\n                    // mp4 source\n                    this.noSleepVideo.addEventListener(\"timeupdate\", () => {\n                        if (this.noSleepVideo.currentTime > 0.5) {\n                            this.noSleepVideo.currentTime = Math.random();\n                        }\n                    });\n                }\n            });\n        }\n    }\n\n    _addSourceToVideo(element, type, dataURI) {\n        var source = document.createElement(\"source\");\n        source.src = dataURI;\n        source.type = `video/${type}`;\n        element.appendChild(source);\n    }\n\n    get isEnabled() {\n        return this.enabled;\n    }\n\n    enable() {\n        const debug = this.player.debug;\n        if (nativeWakeLock()) {\n            return navigator.wakeLock\n                .request(\"screen\")\n                .then((wakeLock) => {\n                    this._wakeLock = wakeLock;\n                    this.enabled = true;\n                    debug.log('wakeLock', 'Wake Lock active.')\n                    this._wakeLock.addEventListener(\"release\", () => {\n                        // ToDo: Potentially emit an event for the page to observe since\n                        // Wake Lock releases happen when page visibility changes.\n                        // (https://web.dev/wakelock/#wake-lock-lifecycle)\n                        debug.log('wakeLock', 'Wake Lock released.')\n                    });\n                })\n                .catch((err) => {\n                    this.enabled = false;\n                    debug.error('wakeLock', `${err.name}, ${err.message}`)\n                    throw err;\n                });\n        } else if (oldIOS()) {\n            this.disable();\n            this.noSleepTimer = window.setInterval(() => {\n                if (!document.hidden) {\n                    window.location.href = window.location.href.split(\"#\")[0];\n                    window.setTimeout(window.stop, 0);\n                }\n            }, 15000);\n            this.enabled = true;\n            return Promise.resolve();\n        } else {\n            let playPromise = this.noSleepVideo.play();\n            return playPromise\n                .then((res) => {\n                    this.enabled = true;\n                    return res;\n                })\n                .catch((err) => {\n                    this.enabled = false;\n                    throw err;\n                });\n        }\n    }\n\n    disable() {\n        const debug = this.player.debug;\n        if (nativeWakeLock()) {\n            if (this._wakeLock) {\n                this._wakeLock.release();\n            }\n            this._wakeLock = null;\n        } else if (oldIOS()) {\n            if (this.noSleepTimer) {\n                debug.warn('wakeLock', 'NoSleep now disabled for older iOS devices.')\n\n                window.clearInterval(this.noSleepTimer);\n                this.noSleepTimer = null;\n            }\n        } else {\n            this.noSleepVideo.pause();\n        }\n        this.enabled = false;\n    }\n}\n","export default function webRTCErrorHandle (peerConnection, callbacks = {}, noop = () => {}) {\n    const {\n        iceCandidateError = noop,\n        connectionStateFailed = noop,\n        iceConnectionStateFailed = noop,\n        framesDroppedFailed = noop,\n    } = callbacks;\n    /**\n     * 当 ICE 候选人收集过程中发生错误时，将触发此事件。\n     * errorCode: {\n     *     300 ~ 699:\n     *     700 ~ 799: 无法连接到服务器；提供了特定的错误号，但尚未指定这些错误号。\n     * }\n     * @param error\n     */\n    peerConnection.addEventListener('icecandidateerror', async function () {\n        iceCandidateError(error);\n        console.error(`iceError: => { \\n  errorText: ${error.errorText}, \\n  errorCode: ${error.errorCode} \\n}`);\n    });\n\n    /**\n     * 1. new:\n     *    至少在连接的一ICE传输（RTCIceTransport或RTCDtlsTransport对象）是在new状态，\n     *    他们都不是在以下状态之一： connecting，checking，failed，disconnected，或所有连接的传输都在closed状态。\n     *\n     * 2. connecting:\n     *    一个或多个ICE传输当前正在建立连接；\n     *    也就是说，它们iceConnectionState是checking或connected，并且该failed状态下没有传输。\n     *\n     * 3. connected:\n     *    连接使用的 每个ICE传输要么正在使用（状态connected或completed），\n     *    要么已关闭（状态closed）；\n     *    此外，至少一种传输方式是connected或completed。\n     *\n     * 4. disconnected:\n     *    至少之一ICE传输用于连接处于disconnected状态并且没有其他传输的处于状态 failed，connecting或checking。\n     *\n     * 5. failed:\n     *    连接上的 一个或多个ICE传输处于该failed状态。\n     *\n     * 6. closed:\n     *    将RTCPeerConnection被关闭。\n     */\n    peerConnection.addEventListener('connectionstatechange', async function () {\n        const connectionState = this.connectionState;\n        console.debug('connection: => ' + JSON.stringify(connectionState, null, 2));\n        if (connectionState === 'failed') {\n            connectionStateFailed();\n            this.restartIce();\n        }\n    });\n\n    /**\n     * 获取远端 Ice 状态\n     * 1. new:\n     *    ICE 代理正在收集地址或等待通过调用RTCPeerConnection.addIceCandidate()（或两者）获得远程候选人。\n     *\n     * 2. checking:\n     *    ICE 代理已获得一个或多个远程候选者，并且正在检查一对本地和远程候选者，以尝试找到兼容的匹配项，\n     *    但尚未找到允许建立对等连接的对。候选人的收集可能仍在进行中。\n     *\n     * 3. connected:\n     *    已为连接的所有组件找到可用的本地和远程候选配对，并且已建立连接。\n     *    收集可能仍在进行中，也可能 ICE 代理仍在检查候选人以寻找更好的连接使用。\n     *\n     * 4. completed:\n     *    ICE 代理已经完成了候选人的收集，已经检查了所有对，并找到了所有组件的连接。\n     *\n     * 5. failed:\n     *    ICE 候选者已将所有候选者对相互检查，但未能为连接的所有组件找到兼容的匹配项。\n     *    但是，ICE 代理可能确实为某些组件找到了兼容的连接。\n     *\n     * 6. disconnected:\n     *    检查以确保组件仍然连接失败的RTCPeerConnection. 这是一个较不严格的测试，\n     *    failed 并且可能会间歇性触发并在不太可靠的网络上或在临时断开连接期间自发解决。\n     *    问题解决后，连接可能会返回到该connected状态。\n     *\n     * 7. closed:\n     *    ICE 代理RTCPeerConnection已关闭，不再处理请求。\n     */\n    peerConnection.addEventListener('iceconnectionstatechange', async function () {\n        const iceConnectionState = peerConnection.iceConnectionState;\n        console.debug('iceConnection: => ' + JSON.stringify(iceConnectionState, null, 2));\n        if (iceConnectionState === 'failed') {\n            iceConnectionStateFailed();\n            /*const offer = await peer.createOffer({iceRestart: true });\n            logger.log('offer', offer);\n            onOfferPresenter(null, offer.sdp);*/\n        }\n    });\n\n    /**\n     * 检测本地 Ice 状态\n     * 1. new:\n     *    对等连接刚刚创建，尚未完成任何联网。\n     *\n     * 2. gathering:\n     *    ICE 代理正在为连接收集候选人。\n     *\n     * 3. complete:\n     *    ICE 特工已经完成了候选人的收集。\n     *    如果发生需要收集新候选者的事情，例如添加新接口或添加新 ICE 服务器，则状态将恢复gathering为收集这些候选者。\n     */\n    peerConnection.addEventListener('icegatheringstatechange', async function () {\n        const iceGatheringState = this.iceGatheringState;\n        let label = \"Unknown\";\n        switch(iceGatheringState) {\n            case \"new\":\n            case \"complete\":\n                label = \"Idle\";\n                break;\n            case \"gathering\":\n                label = \"Determining route\";\n                break;\n        }\n        console.debug('iceGathering: => ' + label);\n    });\n\n    /**\n     * 1. stable:\n     *    没有正在进行的 SDP 交换。\n     *    这种情况出现在：\n     *      1） RTCPeerConnection 刚刚创建，还没有开始 SDP 交换；这可能意味着RTCPeerConnection对象是新的，在这种情况下localDescription 和remoteDescription 都是null;\n     *      2） 协商已经完成，连接成功建立。协商完成并建立了连接。\n     *\n     * 2. have-local-offer:\n     *    本地peer调用了RTCPeerConnection.setLocalDescription()，\n     *    传入代表offer的SDP（通常是调用创建的RTCPeerConnection.createOffer()），\n     *    offer申请成功。\n     *\n     * 3. have-remote-offer:\n     *    收到了对等端的提案，并成功调用了 setRemoteDescription() 方法。\n     *    远程对等点创建了一个提议并使用信令服务器将其传递给本地对等点，\n     *    本地对等点通过调用将提议设置为远程描述RTCPeerConnection.setRemoteDescription()。\n     *\n     * 4. have-local-pranswer:\n     *    远程对等方发送的提议已被应用，\n     *    并且已创建答案（通常通过调用RTCPeerConnection.createAnswer()）\n     *    并通过调用应用RTCPeerConnection.setLocalDescription()。此临时答案描述了支持的媒体格式等，\n     *    但可能没有包含完整的 ICE 候选集。更多的候选人将在稍后单独交付。\n     *\n     * 5. have-remote-pranswer:\n     *    已收到并成功应用临时答复，以响应先前通过调用发送和建立的提议setLocalDescription()。\n     *\n     * 6. closed:\n     *    在RTCPeerConnection已被关闭。\n     */\n    peerConnection.addEventListener('signalingstatechange', async function () {\n        const signalingState = this.signalingState;\n        console.debug('signaling: => ' + JSON.stringify(signalingState, null, 2));\n    });\n\n\n    // 获取数据统计\n    let restartLength = 0;\n\n    async function getStats () {\n        peerConnection.getStats(null).then((statsReport) => {\n            statsReport.forEach((report) => {\n                // console.log('statsReport: => ', report)\n            })\n        })\n\n        const rtpVideoReceiver = peerConnection.getReceivers().find(receive => receive.track && receive.track.kind === 'video')\n        const rtpVideoSender = peerConnection.getSenders().find(receive => receive.track && receive.track.kind === 'video')\n\n        if (rtpVideoReceiver) {\n            const receiveVideoStats = await rtpVideoReceiver.getStats()\n            receiveVideoStats.forEach((report) => {\n                // console.log('receiveVideoStats: => ', report)\n                if (report.type === 'track') {\n                    // console.log('track:framesDecoded: => ', report.framesDecoded)\n                }\n                if (report.type === 'inbound-rtp') {\n                    const { framesDecoded, framesDropped, framesPerSecond, framesReceived } = report\n                    if (!framesPerSecond) {\n                        if (restartLength > 6) {\n                            framesDroppedFailed()\n                        }\n                        restartLength++\n                    }\n                    // console.log('inbound-rtp: => ', { framesDecoded, framesDropped, framesPerSecond, framesReceived })\n                }\n            })\n            // console.log('receiveVideoStats: => ', receiveVideoStats)\n        }\n\n        if (rtpVideoSender) {\n            const sendVideoStats = await rtpVideoSender.getStats()\n            sendVideoStats.forEach((report) => {\n                // console.log('sendVideoStats: => ', report)\n            })\n        }\n        // console.log('setInterval')\n    }\n    // setInterval(getStats, 6000)\n    // setTimeout(getStats, 2000)\n    setInterval(getStats, 1000)\n}\n","function WebRtcPeer(option) {\n    this.pc = new RTCPeerConnection(option);\n    this.time = {\n        // 开始时间\n        __start: Date.now(),\n        // 持续时间\n        __duration: null,\n        // 1小时\n        __interval: 1000 * 60 * 60,\n        // 上次清理的时间\n        __prevClear: null,\n    }\n}\n\nexport function WebRtcPeerRecvOnly(option) {\n    WebRtcPeer.call(this, option);\n\n    this.pc.addTransceiver('video',{\n        direction: 'recvonly'\n    });\n}\n\nWebRtcPeerRecvOnly.prototype.generateOffer = async function generateOffer (option, callback) {\n    if (typeof option === 'function') {\n        callback = option;\n        option = undefined\n    }\n    await  this.pc.setLocalDescription(await  this.pc.createOffer(option));\n\n    if (callback) {\n        callback(this.pc.localDescription)\n    }\n\n    return this.pc.localDescription\n};\n\nWebRtcPeerRecvOnly.prototype.processAnswer = async function processAnswer (sdp, callback) {\n    if (typeof sdp === 'string') {\n        sdp = { sdp }\n    }\n\n    if (!sdp.sdp) {\n        throw new Error('sdp 不能为空！')\n    }\n\n    await this.pc.setRemoteDescription(new RTCSessionDescription(sdp));\n\n    if (callback) {\n        callback(true)\n    }\n\n    return true\n};\n\nWebRtcPeerRecvOnly.prototype.destroy = function () {\n    this.pc.close();\n    this.pc.onicecandidate = null;\n    this.pc = false;\n    this.pc = null;\n};\n\nexport function webRtcRecvOnly(option, callback) {\n    const webRtc = new WebRtcPeerRecvOnly(option);\n\n    if (callback) {\n        callback(webRtc)\n    }\n\n    return webRtc\n}\n","import webRTCErrorHandle from './webRTCErrorHandle'\nimport { WebRtcPeerRecvOnly } from './webRTCUtls'\nimport Video from \"../video\";\nimport {EVENTS} from \"../constant\";\n\nfunction assembleUrl (path) {\n    const url = new URL(path)\n    if (url.origin && url.origin !== 'null') {\n        if (path.indexOf('webrtc/play') > -1) {\n            return path\n        }\n\n        if (path.startsWith('streamPath')) {\n            return `${window.location.origin}/webrtc-api/webrtc/play${url.search}`\n        }\n        return `${window.location.origin}/webrtc-api/webrtc/play?streamPath=${url.pathname.substr(1)}`\n    } else {\n        let pathname = url.pathname\n        let streamPath = ''\n        let index = 0\n        if (url.pathname.startsWith('//')) {\n            pathname = url.pathname.substr(2)\n        }\n\n        index = pathname.indexOf('/')\n        streamPath = pathname.substring(index + 1)\n\n        if (pathname) {\n            return `${window.location.origin}/webrtc-api/webrtc/play?streamPath=${streamPath}`\n        } else {\n            console.log('url is Error for webRTC！')\n        }\n    }\n}\n\nfunction getOldVideoKey () {\n    return parseInt('' + Math.random() * Math.pow(10, 6)) + '-' + Date.now()\n}\n\nconst map = new WeakMap();\nasync function WebRTCVideo(player) {\n    const streamPath = assembleUrl(player._opt.url)\n    const timeRefresh = player._opt.webRTCRefreshTime\n    let $webRTCVideo = player.$container.$videoElement\n    let $oldVideo = $webRTCVideo\n    map.set($webRTCVideo, new WebRtcPeerRecvOnly())\n    let __timer = null\n    let __TimerWebRTC = null\n\n    console.log(player._opt)\n\n    function withError(pc) {\n        webRTCErrorHandle(pc, {\n            connectionStateFailed: () => {\n                player.loading = true\n                resetWebRTC()\n                console.log('-------- webRTCErrorHandle -----------')\n            },\n            framesDroppedFailed: () => {\n                player.loading = true\n                resetWebRTC()\n                console.log('-------- framesDroppedFailed -----------')\n            },\n        })\n    }\n\n    withError(map.get($webRTCVideo).pc)\n\n    function ontrack (event, __webRTCVideo) {\n        clearTimeout(__timer)\n        if (event.track.kind === \"video\") {\n            player.$container.appendChild(__webRTCVideo);\n            $webRTCVideo.srcObject = event.streams[0];\n            $webRTCVideo.play()\n\n            if (!player.playing) {\n                player.playing = true;\n            }\n        }\n    }\n\n    function deleteWebRTC() {\n        clearTimeout(player.__deleteWebRTCTimer)\n        $oldVideo.srcObject = undefined;\n        $oldVideo.src = '';\n        $oldVideo.load();\n\n        // 把上一个卸载了。\n        if ($oldVideo) {\n            console.log($oldVideo)\n            if (player.video && player.video.destroyVideo) {\n                player.video.destroyVideo($oldVideo)\n            }\n\n            if (map.has($oldVideo)) {\n                map.get($oldVideo).destroy()\n                map.delete($oldVideo)\n            }\n        }\n\n        $oldVideo = $webRTCVideo\n    }\n\n    async function resetWebRTC () {\n        player.__deleteWebRTCTimer = setTimeout(deleteWebRTC, 1000)\n        // 创建新 video\n        player.video = new Video(player)\n        $webRTCVideo = player.video.$videoElement\n\n        map.set($webRTCVideo, map.get($webRTCVideo))\n        map.delete($webRTCVideo)\n        // player.video = __newVideo\n        map.set($webRTCVideo, new WebRtcPeerRecvOnly())\n\n        clearTimeout(__TimerWebRTC)\n\n        withError(map.get($webRTCVideo).pc)\n        map.get($webRTCVideo).pc.ontrack = function(event) {\n            ontrack(event, $webRTCVideo)\n        }\n\n        // restartVideo(event.streams[0])\n        // $video = null;\n        await fetchRemoteSDP (map.get($webRTCVideo))\n\n        __TimerWebRTC = setTimeout(resetWebRTC, timeRefresh)\n    }\n\n    __TimerWebRTC = setTimeout(resetWebRTC, timeRefresh)\n\n    async function fetchRemoteSDP (webRTC) {\n        return new Promise((resolve, reject) => {\n            if (webRTC) {\n                webRTC.generateOffer(async (sdp) => {\n                    try {\n                        let result = await fetch(streamPath, {\n                            method: \"POST\",\n                            body: JSON.stringify(sdp),\n                            headers: {\n                                'Content-Type': 'application/json;charset=UTF-8'\n                            }\n                        }).then(res => res.json());\n\n                        if (result.errmsg) {\n                            console.error(result.errmsg);\n                            deleteWebRTC()\n                            player.emit('connectError', {code: 5015, errorMsg: 'stream not found!'});\n                            player.destroy()\n                            map.delete($webRTCVideo)\n                        } else {\n                            await webRTC.pc.setRemoteDescription(new RTCSessionDescription(result));\n                        }\n\n                        player.loading = false\n                        resolve(result)\n                        result = null\n                        webRTC = null\n                    } catch (e) {\n                        clearTimeout(webRTC.restartTimer);\n                        console.error(e)\n                        webRTC.restartTimer = setTimeout(async () => {\n                            const result = await fetchRemoteSDP (webRTC)\n                            resolve(result)\n                            clearTimeout(webRTC.restartTimer);\n                        }, 1000)\n                    }\n                })\n            } else {\n                reject()\n            }\n        })\n    }\n\n    map.get($webRTCVideo).pc.ontrack = function(event) {\n        ontrack(event, $webRTCVideo)\n    }\n\n    fetchRemoteSDP (map.get($webRTCVideo))\n}\n\nexport default WebRTCVideo;\n","import {DEFAULT_PLAYER_OPTIONS, EVENTS, EVENTS_ERROR, JESSIBUCA_EVENTS} from \"../constant\";\nimport Debug from \"../utils/debug\";\nimport Events from \"../utils/events\";\nimport property from './property';\nimport events from './events';\nimport {\n    fpsStatus,\n    initPlayTimes,\n    isEmpty,\n    isFullScreen,\n    isNotEmpty,\n    now,\n    supportMSE,\n    supportOffscreenV2,\n    supportWCS\n} from \"../utils\";\nimport Video from \"../video\";\nimport Audio from \"../audio\";\nimport Stream from \"../stream\";\nimport Recorder from \"../recorder\";\nimport DecoderWorker from \"../worker/index\";\nimport Emitter from \"../utils/emitter\";\nimport Demux from \"../demux\";\nimport WebcodecsDecoder from \"../decoder/webcodecs\";\nimport Control from \"../control\";\nimport './style.scss'\nimport observer from \"./observer\";\nimport MseDecoder from \"../decoder/mediaSource\";\nimport NoSleep from \"../utils/noSleep\";\nimport useWebRTC from './useWebRTC'\n\nexport default class Player extends Emitter {\n    constructor(container, options) {\n        super()\n        this.$container = container;\n        this._opt = Object.assign({}, DEFAULT_PLAYER_OPTIONS, options)\n        this.debug = new Debug(this);\n        this.weak = new WeakMap();\n\n        if (this._opt.useWCS) {\n            this._opt.useWCS = supportWCS();\n        }\n\n        if (this._opt.useMSE) {\n            this._opt.useMSE = supportMSE();\n        }\n\n        // 如果使用mse则强制不允许 webcodecs\n        if (this._opt.useMSE) {\n            if (this._opt.useWCS) {\n                this.debug.log('Player', 'useWCS set true->false')\n            }\n\n            if (!this._opt.forceNoOffscreen) {\n                this.debug.log('Player', 'forceNoOffscreen set false->true')\n            }\n\n            this._opt.useWCS = false;\n            this._opt.forceNoOffscreen = true;\n        } else if (this._opt.useWCS) {\n\n        }\n\n\n        if (!this._opt.forceNoOffscreen) {\n            if (!supportOffscreenV2()) {\n                this._opt.forceNoOffscreen = true;\n                this._opt.useOffscreen = false;\n            } else {\n                this._opt.useOffscreen = true;\n            }\n        }\n\n\n        this._opt.hasControl = this._hasControl();\n        //\n        this._loading = false;\n        this._playing = false;\n        this._hasLoaded = false;\n\n        //\n        this._checkHeartTimeout = null;\n        this._checkLoadingTimeout = null;\n\n        //\n        this._startBpsTime = null;\n        this._isPlayingBeforePageHidden = false;\n        this._stats = {\n            buf: 0, // 当前缓冲区时长，单位毫秒,\n            fps: 0, // 当前视频帧率\n            abps: 0, // 当前音频码率，单位bit\n            vbps: 0, // 当前视频码率，单位bit\n            ts: 0 // 当前视频帧pts，单位毫秒\n        }\n\n        // 各个步骤的时间统计\n        this._times = initPlayTimes();\n\n        //\n        this._videoTimestamp = 0;\n        this._audioTimestamp = 0;\n\n        property(this);\n\n        this.events = new Events(this);\n        this.video = new Video(this);\n        this.audio = new Audio(this);\n        this.recorder = new Recorder(this);\n\n        this.decoderWorker = new DecoderWorker(this);\n\n        this.stream = null;\n        this.demux = null;\n\n        if (!this._opt.useWebRTC) {\n            if (this._opt.useWCS) {\n                this.webcodecsDecoder = new WebcodecsDecoder(this)\n            }\n\n            try {\n                if (this._opt.useMSE) {\n                    this.mseDecoder = new MseDecoder(this);\n                }\n            } catch (error) {\n                console.log(error)\n            }\n        }\n\n        //\n        this.control = new Control(this);\n\n        this.keepScreenOn = new NoSleep(this);\n\n\n        events(this);\n        observer(this);\n\n\n        if (this._opt.useWCS) {\n            this.debug.log('Player', 'use WCS')\n        }\n\n        if (this._opt.useMSE) {\n            this.debug.log('Player', 'use MSE')\n        }\n\n        if (this._opt.useOffscreen) {\n            this.debug.log('Player', 'use offscreen')\n        }\n\n        if (typeof this._opt.controlReset === 'function') {\n            this._opt.controlReset(this)\n        }\n\n        // console.log(this, this._opt)\n        this.debug.log('Player options', this._opt);\n    }\n\n\n    destroy() {\n        this._loading = false;\n        this._playing = false;\n        this._hasLoaded = false;\n\n        this._times = initPlayTimes();\n\n        if (this.stream) {\n            this.stream.destroy();\n            this.stream = null;\n        }\n\n        if (this.decoderWorker) {\n            this.decoderWorker.destroy();\n            this.decoderWorker = null;\n        }\n        if (this.video) {\n            this.video.destroy();\n            this.video = null;\n        }\n\n        if (this.audio) {\n            this.audio.destroy();\n            this.audio = null;\n        }\n\n        if (this.recorder) {\n            this.recorder.destroy();\n            this.recorder = null;\n        }\n\n        if (this.control) {\n            this.control.destroy();\n            this.control = null;\n        }\n\n        if (this.webcodecsDecoder) {\n            this.webcodecsDecoder.destroy();\n            this.webcodecsDecoder = null;\n        }\n\n        if (this.mseDecoder) {\n            this.mseDecoder.destroy();\n            this.mseDecoder = null;\n        }\n\n        if (this.demux) {\n            this.demux.destroy();\n            this.demux = null;\n        }\n\n        if (this.events) {\n            this.events.destroy();\n            this.events = null;\n        }\n\n        this.clearCheckHeartTimeout();\n        this.clearCheckLoadingTimeout();\n        //\n        this.releaseWakeLock();\n        this.keepScreenOn = null;\n        // reset stats\n        this.resetStats();\n        this._audioTimestamp = 0;\n        this._videoTimestamp = 0;\n\n        // 其他没法解耦的，通过 destroy 方式\n        this.emit('destroy');\n        // 接触所有绑定事件\n        this.off();\n\n        this.debug.log('play', 'destroy end');\n    }\n\n    set fullscreen(value) {\n        this.emit(EVENTS.fullscreen, value);\n    }\n\n    get fullscreen() {\n        return isFullScreen() || this.webFullscreen;\n    }\n\n    set webFullscreen(value) {\n        this.emit(EVENTS.webFullscreen, value);\n    }\n\n    get webFullscreen() {\n        return this.$container.classList.contains('jessibuca-fullscreen-web')\n    }\n\n    get loaded() {\n        return this._hasLoaded;\n    }\n\n    //\n    set playing(value) {\n\n        if (value) {\n            // 将loading 设置为 false\n            this.loading = false;\n        }\n\n        if (this.playing !== value) {\n            this._playing = value;\n            this.emit(EVENTS.playing, value);\n            this.emit(EVENTS.volumechange, this.volume);\n\n            if (value) {\n                this.emit(EVENTS.play);\n            } else {\n                this.emit(EVENTS.pause);\n            }\n        }\n\n    }\n\n    get playing() {\n        return this._playing;\n    }\n\n    get volume() {\n        return this.audio && this.audio.volume;\n    }\n\n    set volume(value) {\n        this.audio.setVolume(value);\n    }\n\n    set loading(value) {\n        if (this.loading !== value) {\n            this._loading = value;\n            this.emit(EVENTS.loading, this._loading);\n        }\n    }\n\n    get loading() {\n        return this._loading;\n    }\n\n    set recording(value) {\n        if (this.playing) {\n            if (value) {\n                this.recorder.startRecord();\n            } else {\n                this.recorder.stopRecordAndSave();\n            }\n        }\n    }\n\n    get recording() {\n        return this.recorder && this.recorder.recording;\n    }\n\n    set audioTimestamp(value) {\n        if (value === null) {\n            return;\n        }\n        this._audioTimestamp = value;\n    }\n\n    //\n    get audioTimestamp() {\n        return this._audioTimestamp;\n    }\n\n    //\n    set videoTimestamp(value) {\n        if (value === null) {\n            return;\n        }\n        this._videoTimestamp = value;\n        // just for wasm\n        if (!this._opt.useWCS && !this._opt.useMSE) {\n            if (this.audioTimestamp && this.videoTimestamp) {\n                this.audio.emit(EVENTS.videoSyncAudio, {\n                    audioTimestamp: this.audioTimestamp,\n                    videoTimestamp: this.videoTimestamp,\n                    diff: this.audioTimestamp - this.videoTimestamp\n                })\n            }\n        }\n    }\n\n    //\n    get videoTimestamp() {\n        return this._videoTimestamp;\n    }\n\n\n    /**\n     *\n     * @param options\n     */\n    updateOption(options) {\n        this._opt = Object.assign({}, this._opt, options)\n    }\n\n    /**\n     *\n     * @returns {Promise<unknown>}\n     */\n    init() {\n        return new Promise((resolve, reject) => {\n            if (!this.stream) {\n                this.stream = new Stream(this);\n            }\n\n            if (!this.demux) {\n                this.demux = new Demux(this);\n            }\n\n            if (this._opt.useWCS) {\n                if (!this.webcodecsDecoder) {\n                    this.webcodecsDecoder = new WebcodecsDecoder(this)\n                }\n            }\n\n            if (this._opt.useMSE) {\n                if (!this.mseDecoder) {\n                    this.mseDecoder = new MseDecoder(this);\n                }\n            }\n\n            if (!this.decoderWorker) {\n                this.decoderWorker = new DecoderWorker(this);\n\n                this.once(EVENTS.decoderWorkerInit, () => {\n                    resolve()\n                })\n            } else {\n                resolve()\n            }\n        })\n    }\n\n    replay () {\n        try {\n            this.video.resetVideo();\n\n            if (this.stream) {\n                this.stream.destroy()\n                this.stream = null;\n            }\n\n            if (this.decoderWorker) {\n                this.decoderWorker.destroy();\n                this.decoderWorker = null;\n            }\n\n            if (this.demux) {\n                this.demux.destroy()\n                this.demux = null;\n            }\n\n            if (this.mseDecoder) {\n                this.mseDecoder.destroy();\n                this.mseDecoder = null;\n            }\n\n            this.clearCheckHeartTimeout()\n\n            this.play(this._opt.url)\n        } catch (e) {\n            console.error(e)\n        }\n    }\n\n    /**\n     *\n     * @param url\n     * @returns {Promise<unknown>}\n     */\n    play(url) {\n        return new Promise((resolve, reject) => {\n            if (!url && !this._opt.url) {\n                return reject();\n            }\n\n            this.loading = true;\n            this.playing = false;\n            this._times.playInitStart = now();\n            if (!url) {\n                url = this._opt.url;\n            }\n            this._opt.url = url;\n\n            this.clearCheckHeartTimeout();\n\n            // 使用WebRTC\n            if (this._opt.useWebRTC) {\n                // 不静音\n                this.init().then(() => {\n                    this._times.playStart = now();\n                    //\n                    if (this._opt.isNotMute) {\n                        this.mute(false);\n                    }\n\n                    useWebRTC(this);\n                })\n            } else {\n                this.init().then(() => {\n                    this._times.playStart = now();\n                    //\n                    if (this._opt.isNotMute) {\n                        this.mute(false);\n                    }\n\n\n                    if (this.webcodecsDecoder) {\n                        this.webcodecsDecoder.once(EVENTS_ERROR.webcodecsH265NotSupport, () => {\n                            this.emit(EVENTS_ERROR.webcodecsH265NotSupport)\n                            this.emit(EVENTS.error, EVENTS_ERROR.webcodecsH265NotSupport);\n                        })\n                    }\n\n                    if (this.mseDecoder) {\n                        this.mseDecoder.once(EVENTS_ERROR.mediaSourceH265NotSupport, () => {\n                            this.emit(EVENTS_ERROR.mediaSourceH265NotSupport)\n                            this.emit(EVENTS.error, EVENTS_ERROR.mediaSourceH265NotSupport);\n                        })\n                    }\n\n                    this.enableWakeLock();\n\n                    if (this.stream) {\n                        this.stream.fetchStream(url);\n                    }\n\n                    //\n                    this.checkLoadingTimeout();\n\n                    if (this.stream) {\n                        // fetch error\n                        this.stream.once(EVENTS_ERROR.fetchError, (error) => {\n                            reject(error)\n                        })\n\n                        // ws\n                        this.stream.once(EVENTS_ERROR.websocketError, (error) => {\n                            reject(error)\n                        })\n\n                        // success\n                        this.stream.once(EVENTS.streamSuccess, () => {\n                            resolve();\n                            this._times.streamResponse = now();\n                            //\n                            if (this._opt.useMSE) {\n                                this.video.play();\n                            }\n                        })\n                    }\n\n                }).catch((e) => {\n                    reject(e)\n                })\n            }\n        })\n    }\n\n    /**\n     *\n     */\n    close() {\n        return new Promise((resolve, reject) => {\n            this._close().then(() => {\n                this.video.clearView();\n                resolve()\n            })\n        })\n    }\n\n    _close() {\n        return new Promise((resolve, reject) => {\n            //\n            if (this.stream) {\n                this.stream.destroy();\n                this.stream = null;\n            }\n\n            if (this.demux) {\n                this.demux.destroy();\n                this.demux = null;\n            }\n\n            //\n            if (this.decoderWorker) {\n                this.decoderWorker.destroy();\n                this.decoderWorker = null;\n            }\n\n            if (this.webcodecsDecoder) {\n                this.webcodecsDecoder.destroy();\n                this.webcodecsDecoder = null;\n            }\n\n            if (this.mseDecoder) {\n                this.mseDecoder.destroy();\n                this.mseDecoder = null;\n            }\n\n\n            this.clearCheckHeartTimeout();\n            this.clearCheckLoadingTimeout();\n            this.playing = false;\n            this.loading = false;\n            this.recording = false;\n            // release audio buffer\n            this.audio.pause();\n            // release lock\n            this.releaseWakeLock();\n            // reset stats\n            this.resetStats();\n            //\n            this._audioTimestamp = 0;\n            this._videoTimestamp = 0;\n            //\n            this._times = initPlayTimes();\n            //\n            setTimeout(() => {\n                resolve()\n            }, 0)\n        })\n    }\n\n    /**\n     *\n     * @param flag {boolean} 是否清除画面\n     * @returns {Promise<unknown>}\n     */\n    pause(flag) {\n        if (flag) {\n            return this.close();\n        } else {\n            return this._close();\n        }\n    }\n\n    /**\n     *\n     * @param flag\n     */\n    mute(flag) {\n        this.audio.mute(flag)\n    }\n\n    /**\n     *\n     */\n    resize() {\n        this.video && this.video.resize();\n    }\n\n    /**\n     *\n     * @param fileName\n     * @param fileType\n     */\n    startRecord(fileName, fileType) {\n        if (this.recording) {\n            return;\n        }\n\n        this.recorder.setFileName(fileName, fileType);\n        this.recording = true;\n    }\n\n    /**\n     *\n     */\n    stopRecordAndSave() {\n        if (this.recording) {\n            this.recording = false;\n        }\n    }\n\n    _hasControl() {\n        let result = false;\n\n        let hasBtnShow = false;\n        Object.keys(this._opt.operateBtns).forEach((key) => {\n            if (this._opt.operateBtns[key]) {\n                hasBtnShow = true;\n            }\n        });\n\n        if (this._opt.showBandwidth || this._opt.text || hasBtnShow) {\n            result = true;\n        }\n\n        return result;\n    }\n\n    checkHeart() {\n        this.clearCheckHeartTimeout();\n        this.checkHeartTimeout();\n    }\n\n    // 心跳检查，如果渲染间隔暂停了多少时间之后，就会抛出异常\n    checkHeartTimeout() {\n        this._checkHeartTimeout = setTimeout(() => {\n            this.pause(false).then(() => {\n                this.emit(EVENTS.timeout, EVENTS.delayTimeout);\n                this.emit(EVENTS.delayTimeout);\n            });\n        }, this._opt.heartTimeout * 1000)\n    }\n\n    //\n    clearCheckHeartTimeout() {\n        if (this._checkHeartTimeout) {\n            clearTimeout(this._checkHeartTimeout);\n            this._checkHeartTimeout = null;\n        }\n    }\n\n    // loading 等待时间\n    checkLoadingTimeout() {\n        this._checkLoadingTimeout = setTimeout(() => {\n            this.pause(false).then(() => {\n                this.emit(EVENTS.timeout, EVENTS.loadingTimeout);\n                this.emit(EVENTS.loadingTimeout);\n            });\n        }, this._opt.loadingTimeout * 1000)\n    }\n\n    clearCheckLoadingTimeout() {\n        if (this._checkLoadingTimeout) {\n            clearTimeout(this._checkLoadingTimeout);\n            this._checkLoadingTimeout = null;\n        }\n    }\n\n    handleRender() {\n        if (this.loading) {\n            this.emit(EVENTS.start);\n            this.loading = false;\n            this.clearCheckLoadingTimeout();\n        }\n        if (!this.playing) {\n            this.playing = true;\n        }\n        this.checkHeart();\n    }\n\n\n    //\n    updateStats(options) {\n        options = options || {};\n\n        if (!this._startBpsTime) {\n            this._startBpsTime = now();\n        }\n\n        if (isNotEmpty(options.ts)) {\n            this._stats.ts = options.ts;\n        }\n\n        if (isNotEmpty(options.buf)) {\n            this._stats.buf = options.buf;\n        }\n\n        if (options.fps) {\n            this._stats.fps += 1;\n        }\n        if (options.abps) {\n            this._stats.abps += options.abps;\n        }\n        if (options.vbps) {\n            this._stats.vbps += options.vbps;\n        }\n\n        const _nowTime = now();\n        const timestamp = _nowTime - this._startBpsTime;\n\n        if (timestamp < 1 * 1000) {\n            return;\n        }\n\n        this.emit(EVENTS.stats, this._stats);\n        this.emit(EVENTS.performance, fpsStatus(this._stats.fps));\n        this._stats.fps = 0;\n        this._stats.abps = 0;\n        this._stats.vbps = 0;\n        this._startBpsTime = _nowTime;\n    }\n\n    resetStats() {\n        this._startBpsTime = null;\n        this._stats = {\n            buf: 0, //ms\n            fps: 0,\n            abps: 0,\n            vbps: 0,\n            ts: 0\n        }\n    }\n\n    enableWakeLock() {\n        if (this._opt.keepScreenOn) {\n            this.keepScreenOn.enable();\n        }\n    }\n\n    releaseWakeLock() {\n        if (this._opt.keepScreenOn) {\n            this.keepScreenOn.disable();\n        }\n    }\n\n    handlePlayToRenderTimes() {\n        const _times = this._times;\n        _times.playTimestamp = _times.playStart - _times.playInitStart;\n        _times.streamTimestamp = _times.streamStart - _times.playStart;\n        _times.streamResponseTimestamp = _times.streamResponse - _times.streamStart;\n        _times.demuxTimestamp = _times.demuxStart - _times.streamResponse;\n        _times.decodeTimestamp = _times.decodeStart - _times.demuxStart;\n        _times.videoTimestamp = _times.videoStart - _times.decodeStart;\n        _times.allTimestamp = _times.videoStart - _times.playInitStart;\n        this.emit(EVENTS.playToRenderTimes, _times);\n    }\n}\n","import Player from './player';\nimport Events from \"./utils/events\";\nimport {DEMUX_TYPE, EVENTS, EVENTS_ERROR, JESSIBUCA_EVENTS, PLAYER_PLAY_PROTOCOL, SCALE_MODE_TYPE, DEFAULT_PLAYER_OPTIONS} from \"./constant\";\nimport {isEmpty, isNotEmpty, defNumber, supportWCS, uuid16} from \"./utils\";\nimport Emitter from \"./utils/emitter\";\n\n\nclass Jessibuca extends Emitter {\n    static ERROR = EVENTS_ERROR\n\n    static TIMEOUT = {\n        loadingTimeout: EVENTS.loadingTimeout,\n        delayTimeout: EVENTS.delayTimeout,\n    }\n\n    constructor(options) {\n        super()\n        let _opt = options;\n        let $container = options.container;\n        if (typeof options.container === 'string') {\n            $container = document.querySelector(options.container);\n        }\n        if (!$container) {\n            throw new Error('Jessibuca need container option');\n            return;\n        }\n\n        $container.classList.add('jessibuca-container');\n\n        delete _opt.container;\n\n        // s -> ms\n        if (isNotEmpty(_opt.videoBuffer)) {\n            _opt.videoBuffer = Number(_opt.videoBuffer) * 1000\n        }\n\n        // setting\n        if (isNotEmpty(_opt.timeout)) {\n            if (isEmpty(_opt.loadingTimeout)) {\n                _opt.loadingTimeout = _opt.timeout;\n            }\n\n            if (isEmpty(_opt.heartTimeout)) {\n                _opt.heartTimeout = _opt.timeout\n            }\n        }\n\n        _opt.timeOffLineReconnect = defNumber(\n            _opt.offLineReconnectTime,\n            DEFAULT_PLAYER_OPTIONS.offLineReconnectTime\n        )\n\n        _opt.webRTCRefreshTime = defNumber(\n            _opt.webRTCRefreshTime,\n            DEFAULT_PLAYER_OPTIONS.webRTCRefreshTime\n        )\n\n        this._opt = _opt;\n        this.$container = $container;\n        this.href = null;\n        this.events = new Events(this);\n        this.player = new Player($container, _opt);\n        this._bindEvents();\n    }\n\n    /*_initAegis() {\n        const aegis = new Aegis({\n            id: '3ogWGfLmpllRGka9pY', // 上报 id\n            // uin: uuid16(), // 用户唯一 ID（可选）\n            reportApiSpeed: false, // 接口测速\n            reportAssetSpeed: false, // 静态资源测速\n            spa: false // spa 应用页面跳转的时候开启 pv 计算\n    });*/\n    /**\n     *\n     */\n    destroy() {\n        this.player.destroy();\n        this.player = null;\n        this.off();\n    }\n\n    _bindEvents() {\n        // 对外的事件\n        Object.keys(JESSIBUCA_EVENTS).forEach((key) => {\n            this.player.on(JESSIBUCA_EVENTS[key], (value) => {\n                this.emit(key, value)\n            })\n        })\n    }\n\n    /**\n     * 是否开启控制台调试打印\n     * @param value {Boolean}\n     */\n    setDebug(value) {\n        this.player.updateOption({\n            isDebug: !!value\n        })\n    }\n\n    /**\n     *\n     */\n    mute() {\n        this.player.mute(true);\n    }\n\n    /**\n     *\n     */\n    cancelMute() {\n        this.player.mute(false);\n    }\n\n    /**\n     *\n     * @param value {number}\n     */\n    setVolume(value) {\n        this.player.volume = value;\n    }\n\n    /**\n     *\n     */\n    audioResume() {\n        this.player.audio.audioEnabled(true);\n    }\n\n    /**\n     * 设置超时时长, 单位秒 在连接成功之前和播放中途,如果超过设定时长无数据返回,则回调timeout事件\n     * @param value {number}\n     */\n    setTimeout(time) {\n        time = Number(time);\n        this.player.updateOption({\n            timeout: time,\n            loadingTimeout: time,\n            heartTimeout: time\n        })\n    }\n\n    /**\n     *\n     * @param type {number}: 0,1,2\n     */\n    setScaleMode(type) {\n        type = Number(type);\n        let options = {\n            isFullResize: false,\n            isResize: false\n        }\n        switch (type) {\n            case SCALE_MODE_TYPE.full:\n                options.isFullResize = false;\n                options.isResize = false;\n                break;\n            case SCALE_MODE_TYPE.auto:\n                options.isFullResize = false;\n                options.isResize = true;\n                break;\n            case SCALE_MODE_TYPE.fullAuto:\n                options.isFullResize = true;\n                options.isResize = true;\n                break;\n        }\n\n        this.player.updateOption(options);\n        this.resize();\n    }\n\n    /**\n     *\n     * @returns {Promise<commander.ParseOptionsResult.unknown>}\n     */\n    pause() {\n        return this.player.pause();\n    }\n\n    /**\n     *\n     */\n    close() {\n        // clear url\n        this._opt.url = '';\n        return this.player.close();\n    }\n\n\n    /**\n     *\n     */\n    clearView() {\n        this.player.video.clearView()\n    }\n\n    /**\n     *\n     * @param url {string}\n     * @returns {Promise<unknown>}\n     */\n    play(url) {\n        const temp = '34020000001420000123/34020000001320000001'\n        if (this._opt.useWebRTC === true) {\n            if (url.startsWith('rtmp:') || url.startsWith('rtsp:') || url.indexOf('streamPath') > -1) {\n                console.log('WebRTC')\n            } else {\n                console.error(`WebRTC: url(\"${url}\") 格式不正确！`)\n                console.warn('参考格式： rtmp://xxx.xxx.x.xx:1935/' + temp)\n                console.warn('参考格式： rtsp://xxx.xxx.x.xx:554/' + temp)\n                console.warn('参考格式： http://xxx.xxx.x.xx:8081/api/webrtc/play?streamPath=' + temp)\n                return;\n            }\n        } else {\n            this._opt.useMSE = true\n            this._opt.useWCS = false\n            if (url.startsWith('ws:')) {\n                console.log('WS-RAW')\n            } else {\n                console.error(`WS-RAW: url(\"${url}\") 格式不正确！`)\n                console.warn('参考格式： ws://xxx.xxx.x.xx:80/jessica/' + temp)\n                console.warn(`参考格式： ws://xxx.xxx.x.xx:80/jessica/${temp}.flv`)\n                return;\n            }\n        }\n        // console.log('play')\n        return new Promise((resolve, reject) => {\n            if (!url && !this._opt.url) {\n                this.emit(EVENTS.error, EVENTS_ERROR.playError)\n                reject();\n                return;\n            }\n\n            if (url) {\n                // url 相等的时候。\n                if (this._opt.url) {\n                    // 存在相同的 url\n                    if (url === this._opt.url) {\n                        // 正在播放\n                        if (this.player.playing) {\n                            resolve();\n                        } else {\n                            // pause ->  play\n                            this.clearView();\n                            this.player.play(this._opt.url).then(() => {\n                                resolve();\n                            }).catch(() => {\n                                this.player.pause().then(() => {\n                                    reject();\n                                })\n                            })\n                        }\n                    } else {\n                        // url 发生改变了\n                        this.player.pause().then(() => {\n                            // 清除 画面\n                            this.clearView();\n                            return this._play(url);\n                        }).catch(() => {\n                            reject();\n                        })\n                    }\n                } else {\n                    return this._play(url);\n                }\n            } else {\n                //  url 不存在的时候\n                //  就是从 play -> pause -> play\n                this.player.play(this._opt.url).then(() => {\n                    resolve();\n                }).catch(() => {\n                    this.player.pause().then(() => {\n                        reject();\n                    })\n                })\n            }\n        })\n    }\n\n    /**\n     *\n     * @param url {string}\n     * @returns {Promise<unknown>}\n     * @private\n     */\n    _play(url) {\n        return new Promise((resolve, reject) => {\n            this._opt.url = url;\n            //  新的url\n            const isHttp = url.indexOf(\"http\") === 0;\n            //\n            const protocol = isHttp ? PLAYER_PLAY_PROTOCOL.fetch : PLAYER_PLAY_PROTOCOL.websocket\n            //\n            const demuxType = (isHttp || url.indexOf(\".flv\") !== -1 || this._opt.isFlv) ? DEMUX_TYPE.flv : DEMUX_TYPE.m7s;\n\n            this.player.updateOption({\n                protocol,\n                demuxType\n            })\n\n            this.player.once(EVENTS_ERROR.mediaSourceH265NotSupport, () => {\n                this.close();\n            })\n\n            this.player.once(EVENTS_ERROR.webcodecsH265NotSupport, () => {\n                this.close();\n            })\n\n            if (this.hasLoaded()) {\n                this.player.play(url).then(() => {\n                    resolve();\n                }).catch(() => {\n                    this.player.pause().then(() => {\n                        reject();\n                    })\n                })\n            } else {\n                this.player.once(EVENTS.decoderWorkerInit, () => {\n                    this.player.play(url).then(() => {\n                        resolve();\n                    }).catch(() => {\n                        this.player.pause().then(() => {\n                            reject();\n                        })\n                    })\n                })\n            }\n        })\n    }\n\n    /**\n     *\n     */\n    resize() {\n        this.player && this.player.resize();\n    }\n\n    /**\n     *\n     * @param time {number} s\n     */\n    setBufferTime(time) {\n        time = Number(time)\n        // s -> ms\n        this.player.updateOption({\n            videoBuffer: time * 1000\n        })\n    }\n\n    /**\n     *\n     * @param deg {number}\n     */\n    setRotate(deg) {\n        deg = parseInt(deg, 10)\n        const list = [0, 90, 270];\n        if (this._opt.rotate === deg || list.indexOf(deg) === -1) {\n            return;\n        }\n        this.player.updateOption({\n            rotate: deg\n        })\n        this.resize();\n    }\n\n    /**\n     *\n     * @returns {boolean}\n     */\n    hasLoaded() {\n        return this.player.loaded;\n    }\n\n    /**\n     *\n     */\n    setKeepScreenOn() {\n        this.player.updateOption({\n            keepScreenOn: true\n        })\n    }\n\n    /**\n     *\n     * @param flag {Boolean}\n     */\n    setFullscreen(flag) {\n        const fullscreen = !!flag;\n        if (this.player.fullscreen !== fullscreen) {\n            this.player.fullscreen = fullscreen;\n        }\n    }\n\n    /**\n     *\n     * @param filename {string}\n     * @param format {string}\n     * @param quality {number}\n     * @param type {string} download,base64,blob\n     */\n    screenshot(filename, format, quality, type) {\n        return this.player.video.screenshot(filename, format, quality, type)\n    }\n\n    /**\n     *\n     * @param fileName {string}\n     * @param fileType {string}\n     * @returns {Promise<unknown>}\n     */\n    startRecord(fileName, fileType) {\n        return new Promise((resolve, reject) => {\n            if (this.player.playing) {\n                this.player.startRecord(fileName, fileType)\n                resolve();\n            } else {\n                reject();\n            }\n        })\n    }\n\n    stopRecordAndSave() {\n        if (this.player.recording) {\n            this.player.stopRecordAndSave();\n        }\n    }\n\n    /**\n     *\n     * @returns {Boolean}\n     */\n    isPlaying() {\n        return this.player.playing;\n    }\n\n    /**\n     * 是否静音状态\n     * @returns {Boolean}\n     */\n    isMute() {\n        return this.player.audio.isMute;\n    }\n\n    /**\n     * 是否在录制视频\n     * @returns {*}\n     */\n    isRecording() {\n        return this.player.recorder.recording;\n    }\n\n\n}\n\n\nwindow.Jessibuca = Jessibuca;\nwindow.Sullivan  = Jessibuca;\n\nexport default Jessibuca;\n"],"names":["PLAYER_PLAY_PROTOCOL","websocket","fetch","DEMUX_TYPE","flv","m7s","DEFAULT_PLAYER_OPTIONS","videoBuffer","isResize","isFullResize","isFlv","debug","hotKey","loadingTimeout","heartTimeout","timeout","webRTCRefreshTime","offLineReconnectTime","supportDblclickFullscreen","showBandwidth","keepScreenOn","isNotMute","hasAudio","hasVideo","useWebRTC","operateBtns","fullscreen","screenshot","play","audio","record","hasControl","loadingText","background","decoder","url","rotate","forceNoOffscreen","hiddenAutoPause","protocol","demuxType","useWCS","useMSE","useOffscreen","WORKER_CMD_TYPE","init","initVideo","render","playAudio","print","printErr","initAudio","kBps","decode","audioCode","videoCode","MEDIA_TYPE","video","FLV_MEDIA_TYPE","WORKER_SEND_TYPE","audioDecode","videoDecode","close","EVENTS","webFullscreen","decoderWorkerInit","playing","pause","mute","load","loading","videoInfo","timeUpdate","audioInfo","log","error","connectError","delayTimeout","stats","performance","recording","recordingTimestamp","recordStart","recordEnd","recordCreateError","buffer","videoFrame","start","metadata","resize","streamEnd","streamSuccess","streamMessage","streamError","volumechange","destroy","mseSourceOpen","mseSourceClose","mseSourceBufferError","mseSourceBufferBusy","videoWaiting","videoTimeUpdate","videoSyncAudio","playToRenderTimes","JESSIBUCA_EVENTS","EVENTS_ERROR","playError","fetchError","websocketError","webcodecsH265NotSupport","mediaSourceH265NotSupport","wasmDecodeError","WEBSOCKET_STATUS","notConnect","open","SCREENSHOT_TYPE","download","base64","blob","VIDEO_ENC_TYPE","VIDEO_ENC_CODE","h264","h265","AUDIO_ENC_TYPE","H265_NAL_TYPE","vps","sps","pps","CONTROL_HEIGHT","SCALE_MODE_TYPE","full","auto","fullAuto","FILE_SUFFIX","mp4","webm","CANVAS_RENDER_TYPE","webcodecs","webgl","offscreen","ENCODED_VIDEO_TYPE","key","delta","MP4_CODECS","avc","hev","MEDIA_SOURCE_STATE","ended","closed","AUDIO_SYNC_VIDEO_DIFF","HOT_KEY","esc","arrowUp","arrowDown","Debug","constructor","master","name","_opt","args","console","warn","Events","destroys","proxy","bind","target","callback","option","Array","isArray","map","item","addEventListener","removeEventListener","push","forEach","event","player","Object","defineProperty","get","clientRect","$container","getBoundingClientRect","width","Math","max","clientWidth","height","clientHeight","rect","document","window","isCommonjs","module","exports","fn","val","fnMap","i","l","length","ret","eventNameMap","change","fullscreenchange","fullscreenerror","screenfull","request","element","options","Promise","resolve","reject","onFullScreenEntered","off","on","documentElement","returnPromise","requestFullscreen","then","catch","exit","isFullscreen","onFullScreenExit","exitFullscreen","toggle","onchange","onerror","eventName","raw","isEnabled","defineProperties","Boolean","fullscreenElement","enumerable","fullscreenEnabled","noop","supportOffscreen","$canvas","transferControlToOffscreen","supportOffscreenV2","OffscreenCanvas","createContextGL","gl","validContextNames","nameIndex","contextName","contextOptions","preserveDrawingBuffer","getContext","e","getParameter","dataURLToFile","dataURL","arr","split","bstr","atob","type","replace","n","u8arr","Uint8Array","charCodeAt","File","downloadImg","content","fileName","aLink","createElement","href","URL","createObjectURL","click","revokeObjectURL","now","Date","getTime","WebAssembly","instantiate","Module","of","Instance","clamp","num","a","b","min","setStyle","value","keys","style","getStyle","numberType","getComputedStyle","getPropertyValue","parseFloat","getNowTime","calculationRate","totalSize","lastTime","size","thisTime","diffTime","downloadRecord","suffix","supportWCS","formatVideoDecoderConfigure","avcC","codecArray","subarray","codecString","j","h","toString","codec","description","isFullScreen","mozIsFullScreen","webkitIsFullScreen","bpsSize","toFixed","fpsStatus","fps","result","createEmptyImageBitmap","$canvasElement","createImageBitmap","supportMSE","MediaSource","isTypeSupported","isEmpty","undefined","isNotEmpty","defNumber","initial","initPlayTimes","playInitStart","playStart","streamStart","streamResponse","demuxStart","decodeStart","videoStart","playTimestamp","streamTimestamp","streamResponseTimestamp","demuxTimestamp","decodeTimestamp","videoTimestamp","allTimestamp","screenfullChange","emit","events","_hasLoaded","classList","add","bodyHeight","bodyWidth","body","playerHeight","playerWidth","$videoElement","bodyRatio","playerRatio","needSpin","scale","transform","remove","ignoreList","includes","Emitter","ctx","once","self","listener","apply","_","evtArr","slice","data","evts","liveEvents","len","vertexShaderScript","join","fragmentShaderScript","vertexShader","createShader","VERTEX_SHADER","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","getShaderInfoLog","fragmentShader","FRAGMENT_SHADER","program","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","useProgram","vertexPosBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","vertexPosRef","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","texturePosBuffer","texturePosRef","_initTexture","index","textureRef","createTexture","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MAG_FILTER","LINEAR","TEXTURE_MIN_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","uniform1i","getUniformLocation","yTextureRef","uTextureRef","vTextureRef","w","y","u","v","viewport","activeTexture","TEXTURE0","texImage2D","LUMINANCE","UNSIGNED_BYTE","TEXTURE1","TEXTURE2","drawArrays","TRIANGLE_STRIP","deleteProgram","deleteBuffer","deleteTexture","CommonLoader","updateVideoInfo","encTypeCode","encType","CanvasVideoLoader","position","top","left","appendChild","context2D","contextGl","contextGlRender","contextGlDestroy","bitmaprenderer","renderType","_initCanvasRender","removeChild","_initContextGl","createWebGL","_initContext2D","_supportOffscreen","_bindOffscreen","initCanvasViewSize","msg","ts","transferFromImageBitmap","output","drawImage","filename","format","quality","formatType","png","jpeg","webp","encoderOptions","Number","toDataURL","file","clearView","imageBitMap","clear","COLOR_BUFFER_BIT","clearRect","resizeWidth","resizeHeight","wScale","hScale","createToggleDisplay","control","toggleDisplay","elementName","defDisplay","VideoLoader","muted","setAttribute","contains","$video","canvas","videoWidth","videoHeight","context","objectFill","objectFit","movement","zoom","volume","recorder","getNewVideo","resetVideo","destroyVideo","$oldVideo","Video","Loader","getLoaderFactory","opt","AudioContextLoader","bufferList","scriptNode","hasInitScriptNode","audioContextChannel","audioContext","AudioContext","webkitAudioContext","gainNode","createGain","source","createBufferSource","connect","destination","noteOn","audioBufferSourceNode","mediaStreamAudioDestinationNode","createMediaStreamDestination","audioEnabled","gain","audioSyncVideoOption","diff","channels","sampleRate","audioTimestamp","closeAudio","onaudioprocess","updateAudioInfo","isPlaying","isMute","isStateSuspended","bufferSize","initScriptNode","createScriptProcessor","audioProcessingEvent","outputBuffer","bufferItem","shift","channel","nowBuffering","getChannelData","flag","setVolume","isNaN","setValueAtTime","currentTime","disconnect","state","resume","suspend","isStateRunning","Audio","FetchLoader","abortController","AbortController","streamRate","rate","abort","fetchStream","demux","_times","signal","res","reader","getReader","fetchNext","read","done","byteLength","dispatch","socketWeakMap","WeakMap","WebsocketLoader","socket","socketStatus","wsUrl","stream","delete","_createWebSocket","WebSocket","set","binaryType","_handleMessage","replay","message","Stream","RecordRTC","mediaStream","config","RecordRTCConfiguration","startRecording","config2","disableLogs","version","mediaRecorder","clearRecordedData","setState","recordingDuration","handleRecordingDuration","initRecorder","initCallback","Recorder","GetRecorderType","stopRecording","warningLog","resumeRecording","setTimeout","stop","_callback","__blob","call","bytesToSize","autoWriteToDisk","getDataURL","parameter","DiskStorage","Store","pauseRecording","readFile","_blob","postMessage","FileReaderSync","readAsDataURL","_mediaRecorder","Worker","navigator","mozGetUserMedia","webWorker","processInWebWorker","onmessage","FileReader","onload","_function","Blob","worker","counter","onRecordingStopped","onStateChanged","WARNING","returnObject","setRecordingDuration","getBlob","toURL","getInternalRecorder","save","invokeSaveAsDialog","getFromDisk","setAdvertisementArray","arrayOfWebPImages","advertisement","duration","image","reset","getState","disableLogsCache","Storage","AudioContextConstructor","prop","Fetch","_type","writeToDisk","gif","audioDataURL","videoDataURL","gifDataURL","audioBlob","videoBlob","gifBlob","recorderType","WhammyRecorder","CanvasRecorder","WebAssemblyRecorder","GifRecorder","StereoAudioRecorder","MediaStreamRecorder","getTracks","MediaRecorder","prototype","mimeType","bitsPerSecond","isChrome","isEdge","isOpera","ReadableStream","isMediaRecorderCompatible","MultiStreamRecorder","isSafari","MRecordRTC","addStream","_mediaStream","mediaType","audioRecorder","numberOfAudioChannels","timeSlice","onTimeStamp","newStream","videoTrack","isFirefox","MediaStream","addTrack","videoRecorder","frameInterval","workerPath","webAssemblyPath","frameRate","bitrate","isSingleRecorder","gifRecorder","blobURL","_audioDataURL","_videoDataURL","callback00","webkitURL","browserFakeUserAgent","that","global","userAgent","getUserMedia","arguments","captureStream","mozCaptureStream","obj","HTMLVideoElement","location","hash","screen","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","msRequestAnimationFrame","currTime","timeToCall","id","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","msCancelAnimationFrame","clearTimeout","mozAudioContext","webkitGetUserMedia","indexOf","msSaveBlob","msSaveOrOpenBlob","opera","toLowerCase","test","isElectron","webkitMediaStream","track","bytes","k","sizes","parseInt","floor","pow","toPrecision","fileExtension","splitted","fileFullName","round","random","hyperlink","dispatchEvent","MouseEvent","view","bubbles","cancelable","process","versions","electron","kind","filter","t","setSrcObject","srcObject","mozSrcObject","getSeekableBlob","inputBlob","EBML","Error","Reader","Decoder","tools","fileReader","ebmlElms","refinedMetadataBuf","makeMetadataSeekable","metadatas","cues","metadataSize","newBlob","readAsArrayBuffer","nAgt","fullVersion","appVersion","majorVersion","verOffset","ix","substring","arrayOfBlobs","getArrayOfBlobs","timestamps","allStates","recorderHints","canRecordMimeType","ondataavailable","updateTimeStamp","getNativeBlob","getMimeType","recordingCallback","onstart","onpause","onresume","onstop","looper","manuallyStopped","timeslice","secondObject","clearRecordedDataCB","isMediaStreamActive","active","getAllStates","checkForInactiveTracks","leftchannel","rightchannel","recordingLength","jsAudioNode","desiredSampRate","leftChannel","resetVariables","isAudioProcessStarted","isPaused","mergeLeftRightBuffers","mergeAudioBuffers","cb","leftBuffers","rightBuffers","internalInterleavedLength","mergeBuffers","interpolateArray","newSampleRate","oldSampleRate","fitCount","newData","springFactor","tmp","before","after","ceil","atPoint","linearInterpolate","channelBuffer","rLength","Float64Array","offset","lng","interleave","rightChannel","inputIndex","writeUTFBytes","string","setUint8","interleaved","interleavedLength","resultingBufferLength","ArrayBuffer","DataView","setUint32","setUint16","setInt16","noWorker","workerURL","terminate","audioInput","createMediaStreamSource","legalBufferValues","JSON","stringify","createJavaScriptNode","intervalsBasedBuffers","right","onAudioProcessDataAvailable","onAudioProcessStarted","inputBuffer","chLeft","chRight","htmlElement","html2canvas","isCanvasSupportsStreamCapturing","_isChrome","webkitRTCPeerConnection","chrome","chromeVersion","matchArray","match","useWhammyRecorder","globalCanvas","mediaStreamRecorder","HTMLCanvasElement","CanvasRenderingContext2D","isRecording","canvasMediaStream","webkitCaptureStream","mdStream","whammy","frames","drawCanvasFrame","getWebPImages","nodeName","framesLength","frame","idx","framesRemaining","onEncodingCallback","compile","isPausedRecording","cloneCanvas","newCanvas","grabMouse","showMousePointer","onrendered","Whammy","cloneNode","onloadedmetadata","drawFrames","paused","isStopDrawing","asyncLoop","o","loop","functionToLoop","dropBlackFrames","_frames","_framesToCheck","_pixTolerance","_frameTolerance","localCanvas","context2d","resultFrames","checkUntilNotBlack","endCheckFrame","sampleColor","r","g","maxColorDifference","sqrt","pixTolerance","frameTolerance","doNotCheckNext","f","matchPixCount","endPixCheck","maxPixCount","finishImage","Image","imageData","getImageData","pix","currentColor","colorDifference","src","concat","_this","WhammyVideo","whammyInWebWorker","ArrayToWebM","info","checkFrames","clusterMaxDuration","doubleToString","frameNumber","clusterTimecode","clusterFrames","clusterDuration","clusterCounter","cluster","getClusterData","generateEBML","block","makeSimpleBlock","discardable","invisible","keyframe","lacing","trackNum","timecode","numToBuffer","parts","reverse","strToBuffer","str","bitsToBuffer","bits","pad","substr","json","ebml","zeroes","sizeToString","padded","flags","out","String","fromCharCode","parseWebP","riff","VP8","RIFF","WEBP","frameStart","c","getStrLength","unpadded","parseRIFF","chunks","indexedDB","dbVersion","dbName","db","createObjectStore","dataBase","dataStoreName","putInDB","transaction","objectStore","put","getFromStore","portionName","onsuccess","onError","setVersion","onupgradeneeded","GIFEncoder","script","isHTMLObject","isLoadedMetaData","offsetWidth","offsetHeight","gifEncoder","setRepeat","setDelay","setQuality","onGifRecordingStarted","drawVideoFrame","time","clearedRecordedData","lastAnimationFrame","lastFrameTime","onGifPreview","addFrame","bin","autoplay","playsInline","MultiStreamsMixer","arrayOfMediaStreams","elementClass","videos","isStopDrawingFrames","opacity","zIndex","className","useGainNode","startDrawingFrames","drawVideosToCanvas","videosLength","fullcanvas","remaining","x","onRender","getMixedStream","mixedVideoStream","getMixedVideoStream","mixedAudioStream","getMixedAudioStream","resetVideoStreams","capturedStream","videoStream","audioSources","audioTracksLength","audioSource","audioDestination","getVideo","appendStreams","streams","releaseStreams","mixer","getAllVideoTracks","previewStream","tracks","addStreams","getMixer","RecordRTCPromisesHandler","recordRTC","WritableStream","realtime","finished","cameraStream","controller","cvs","first","onplaying","frameTimeout","cameraTimer","setInterval","clearInterval","onVideoProcessStarted","_controlledReadableStream","enqueue","arrayBuffer","timebaseDen","pipeTo","write","arrayOfBuffers","RecordRTCLoader","fileType","recordingInterval","_reset","setFileName","recordTime","startRecord","timestamp","audioStream","getAudioTracks","audioTrack","enabled","stopRecordAndSave","WebcodecsDecoder","hasInit","isInitInfo","initDecoder","VideoDecoder","handleDecode","handleError","codedWidth","codedHeight","handlePlayToRenderTimes","handleRender","updateStats","buf","delay","decodeVideo","payload","isIframe","videoCodec","configure","chunk","EncodedVideoChunk","MP4","types","avc1","hvc1","hvcC","btrt","dinf","dref","esds","ftyp","hdlr","mdat","mdhd","mdia","mfhd","minf","moof","moov","mp4a","mvex","mvhd","sdtp","stbl","stco","stsc","stsd","stsz","stts","tfdt","tfhd","traf","trak","trun","trex","tkhd","vmhd","smhd","hasOwnProperty","constants","FTYP","STSD_PREFIX","STTS","STSC","STCO","STSZ","HDLR_VIDEO","HDLR_AUDIO","DREF","SMHD","VMHD","box","datas","arrayCount","generateInitSegment","meta","timescale","trackId","presentWidth","presentHeight","xmhd","stsdOld","videoType","channelCount","audioSampleRate","configSize","avcc","codecWidth","codecHeight","baseMediaDecodeTime","sequenceNumber","sdtpOld","A","isLeading","dependsOn","isDependedOn","hasRedundancy","dataSize","cts","isNonSync","ExpGolomb","uint8array","TAG","_buffer","_buffer_index","_total_bytes","_total_bits","_current_word","_current_word_bits_left","_fillCurrentWord","buffer_bytes_left","bytes_read","word","getUint32","readBits","bits_need_left","bits_read_next","result2","readBool","readByte","_skipLeadingZero","zero_count","readUEG","leading_zeros","readSEG","SPSParser","_ebsp2rbsp","src_length","dst","dst_idx","parseSPS","rbsp","gb","profile_idc","level_idc","profile_string","getProfileString","level_string","getLevelString","chroma_format_idc","chroma_format","chroma_format_table","bit_depth","scaling_list_count","_skipScalingList","pic_order_cnt_type","num_ref_frames_in_pic_order_cnt_cycle","ref_frames","pic_width_in_mbs_minus1","pic_height_in_map_units_minus1","frame_mbs_only_flag","frame_crop_left_offset","frame_crop_right_offset","frame_crop_top_offset","frame_crop_bottom_offset","frame_cropping_flag","sar_width","sar_height","fps_fixed","fps_num","fps_den","vui_parameters_present_flag","aspect_ratio_idc","sar_w_table","sar_h_table","num_units_in_tick","time_scale","sarScale","crop_unit_x","crop_unit_y","sub_wc","sub_hc","codec_width","codec_height","present_width","chroma_format_string","getChromaFormatString","frame_rate","fixed","sar_ratio","codec_size","present_size","count","last_scale","next_scale","delta_scale","chroma","parseAVCDecoderConfigurationRecord","getUint8","avcProfile","_naluLengthSize","spsCount","getUint16","profile","level","bitDepth","chromaFormat","sarRatio","refSampleDuration","ppsCount","parseHEVCDecoderConfigurationRecord","vpsTag","vpsLength","vpsData","from","spsTag","spsLength","spsData","ppsTag","ppsLength","ppsData","MseDecoder","isAvc","mediaSource","sourceBuffer","cacheTrack","timeInit","mediaSourceOpen","dropping","removeSourceBuffer","readyState","isStateOpen","isStateClosed","isStateEnded","_decodeConfigurationRecord","_decodeVideo","_doDecode","metaData","metaBox","appendBuffer","dts","buffered","removeBuffer","end","drop","mdatBytes","mdatbox","moofbox","isKeyframe","addSourceBuffer","dropSourceBuffer","updating","endOfStream","DecoderWorker","__initWebRTCStatus","decoderWorker","_initDecoderWorker","loaded","cmd","_initWork","code","isIFrame","decodeAudio","_decodeAudioNoDelay","_decodeAudio","stopId","firstTimestamp","startTimestamp","initInterval","weak","has","getDelay","resetDelay","_loop","_doDecoderDecode","pushBuffer","webcodecsDecoder","mseDecoder","FlvLoader","input","_inputFlv","flvDemux","dispatchFlvData","tmp8","tmp32","Uint32Array","abps","vbps","need","next","combine","remain","return","M7sLoader","dv","Demux","createIcon","path","color","children","props","attrs","fill","entries","arrow","__up","up","up_square","up_circular","__right","right_square","right_circular","__down","down","down_square","down_circular","__left","left_square","left_circular","swap","camera","video_camera","xxxx","__video","__video2","__video3","__video3_disabled","play2","fast_forward","backward","prev","microphone","microphone0","microphone1","microphone2","microphone3","microphone4","microphone_disabled","microphone_disabled0","microphone_disabled1","microphone_disabled2","microphone_disabled3","microphone_disabled4","microphone_disabled5","microphone_disabled6","microphone_disabled7","microphone_disabled8","microphone_disabled9","video2","video3","video3_disabled","heart","follow","un_follow","more","__more","more_horizontal","more_vertical","move","__move","double_up","double_right","double_down","double_left","sort","rotation","maximize","minimize","maximize2","minimize2","trending","business","icon_PTZ_control","icon_three_dimensional","icon_screenshot","icon_information","icon_information2","icon_help","icon_help2","icon_help3","icon_wifi","icon_wifi_green","icon_wifi_guarantee","icon_wifi_guarantee2","magnifier","search_line","search_line2","search_fill","search_fill2","zoom_in_line","zoom_in_fill","zoom_out_line","zoom_out_fill","icon_close","Icon","ArrowUp","ArrowUpSquare","ArrowUpCircular","ArrowRight","ArrowRightSquare","ArrowRightCircular","ArrowDown","ArrowDownSquare","ArrowDownCircular","ArrowLeft","ArrowLeftSquare","ArrowLeftCircular","CameraVideo","Video2","Video3","Video3Disabled","VideoPlay","VideoPlay2","VideoPause","VideoFastForward","VideoBackward","VideoPrev","VideoNext","Microphone","Microphone0","Microphone1","Microphone2","Microphone3","Microphone4","MicrophoneDisabled","MicrophoneDisabled1","MicrophoneDisabled2","MicrophoneDisabled3","MicrophoneDisabled4","MicrophoneDisabled5","MicrophoneDisabled6","MicrophoneDisabled7","MicrophoneDisabled8","MicrophoneDisabled9","VolumeOff","VolumeUp","VolumeDown","HeartFollow","HeartUnFollow","TrendingUp","TrendingDown","More","MoreHorizontal","MoreVertical","Move","MoveUp","MoveDoubleUp","MoveRight","MoveDoubleRight","MoveDown","MoveDoubleDown","MoveLeft","MoveDoubleLeft","RotationLeft","RotationRight","ScreenMaximize","ScreenMaximize2","ScreenMinimize","ScreenMinimize2","PTZControl","Screenshot","ThreeDimensional","Information","Information2","Help","Help2","Help3","Wifi","WifiGreen","Guarantee","Guarantee2","SearchLine","SearchLine2","SearchFill","SearchFill2","ZoomInLine","ZoomInFill","ZoomOutLine","ZoomOutFill","Close","circular","__Icons","iconsMap","label","icon","withTips","fullscreenExit","recordStop","reduce","icons","moreIconAttr","insertAdjacentHTML","querySelector","object","display","overflow","pointerEvents","contentDocument","defaultView","setVolumeHandle","percentage","$volumeOn","$volumeOff","$volumeHandle","$volumePanel","panelHeight","handleHeight","$volumePanelText","innerHTML","$loading","$poster","$playBig","$fullscreenExit","$fullscreen","arg","$record","$recordStop","$screenshot","$play","$pause","$speed","bps","$controls","volumeChangeFromEvent","bottom","panelBottom","composedPath","isFocus","stopPropagation","$volume","$volumePanelWrap","lastVolume","isVolumeDroging","styleInject","css","ref","insertAt","head","getElementsByTagName","firstChild","insertBefore","styleSheet","cssText","createTextNode","addHotkey","tag","activeElement","tagName","toUpperCase","editable","getAttribute","keyCode","preventDefault","Control","template","observer","property","hotkey","autoSize","padding","canvasWidth","canvasHeight","canvasRatio","visibilityState","_isPlayingBeforePageHidden","enableWakeLock","WEBM","oldIOS","exec","MSStream","nativeWakeLock","NoSleep","_wakeLock","handleVisibilityChange","enable","noSleepTimer","noSleepVideo","_addSourceToVideo","dataURI","wakeLock","err","disable","hidden","playPromise","release","webRTCErrorHandle","peerConnection","callbacks","iceCandidateError","connectionStateFailed","iceConnectionStateFailed","framesDroppedFailed","errorText","errorCode","connectionState","restartIce","iceConnectionState","iceGatheringState","signalingState","restartLength","getStats","statsReport","report","rtpVideoReceiver","getReceivers","find","receive","rtpVideoSender","getSenders","receiveVideoStats","framesDecoded","framesDropped","framesPerSecond","framesReceived","sendVideoStats","WebRtcPeer","pc","RTCPeerConnection","__start","__duration","__interval","__prevClear","WebRtcPeerRecvOnly","addTransceiver","direction","generateOffer","setLocalDescription","createOffer","localDescription","processAnswer","sdp","setRemoteDescription","RTCSessionDescription","onicecandidate","assembleUrl","origin","startsWith","search","pathname","streamPath","WebRTCVideo","timeRefresh","$webRTCVideo","__timer","__TimerWebRTC","withError","resetWebRTC","ontrack","__webRTCVideo","deleteWebRTC","__deleteWebRTCTimer","fetchRemoteSDP","webRTC","method","headers","errmsg","errorMsg","restartTimer","Player","container","assign","_hasControl","_loading","_playing","_checkHeartTimeout","_checkLoadingTimeout","_startBpsTime","_stats","_videoTimestamp","_audioTimestamp","controlReset","clearCheckHeartTimeout","clearCheckLoadingTimeout","releaseWakeLock","resetStats","updateOption","checkLoadingTimeout","_close","hasBtnShow","text","checkHeart","checkHeartTimeout","_nowTime","Jessibuca","timeOffLineReconnect","_bindEvents","setDebug","isDebug","cancelMute","audioResume","setScaleMode","temp","_play","isHttp","hasLoaded","setBufferTime","setRotate","deg","list","setKeepScreenOn","setFullscreen","Sullivan"],"mappings":";;;;;;;;;;;;;;;;;CAAA,SAAS,eAAe,CAAC,GAAG,EAAE,GAAG,EAAE,KAAK,EAAE;CAC1C,EAAE,IAAI,GAAG,IAAI,GAAG,EAAE;CAClB,IAAI,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;CACpC,MAAM,KAAK,EAAE,KAAK;CAClB,MAAM,UAAU,EAAE,IAAI;CACtB,MAAM,YAAY,EAAE,IAAI;CACxB,MAAM,QAAQ,EAAE,IAAI;CACpB,KAAK,CAAC,CAAC;CACP,GAAG,MAAM;CACT,IAAI,GAAG,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;CACrB,GAAG;AACH;CACA,EAAE,OAAO,GAAG,CAAC;CACb,CAAC;AACD;CACA,cAAc,GAAG,eAAe,EAAE,yBAAyB,GAAG,IAAI,EAAE,MAAM,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC,OAAO;;;;;CCf9G;CACO,MAAMA,oBAAoB,GAAG;CAChCC,EAAAA,SAAS,EAAE,CADqB;CAEhCC,EAAAA,KAAK,EAAE;CAFyB,CAA7B;CAKA,MAAMC,UAAU,GAAG;CACtBC,EAAAA,GAAG,EAAE,KADiB;CAEtBC,EAAAA,GAAG,EAAE;CAFiB,CAAnB;;CAOA,MAAMC,sBAAsB,GAAG;CAClCC,EAAAA,WAAW,EAAE,IADqB;CACf;CACnBC,EAAAA,QAAQ,EAAE,IAFwB;CAGlCC,EAAAA,YAAY,EAAE,KAHoB;CAGb;CACrBC,EAAAA,KAAK,EAAE,KAJ2B;CAKlCC,EAAAA,KAAK,EAAE,KAL2B;CAMlCC,EAAAA,MAAM,EAAE,KAN0B;CAMnB;CACfC,EAAAA,cAAc,EAAE,EAPkB;CAOd;CACpBC,EAAAA,YAAY,EAAE,EARoB;CAQf;CACnBC,EAAAA,OAAO,EAAE,EATyB;CASrB;CACb;CACAC,EAAAA,iBAAiB,EAAE,OAAO,EAAP,GAAY,EAXG;CAWC;CACnC;CACAC,EAAAA,oBAAoB,EAAE,OAAO,CAbK;CAclCC,EAAAA,yBAAyB,EAAE,KAdO;CAelCC,EAAAA,aAAa,EAAE,KAfmB;CAeZ;CACtBC,EAAAA,YAAY,EAAE,KAhBoB;CAiBlCC,EAAAA,SAAS,EAAE,KAjBuB;CAkBlCC,EAAAA,QAAQ,EAAE,IAlBwB;CAmBlCC,EAAAA,QAAQ,EAAE,IAnBwB;CAoBlCC,EAAAA,SAAS,EAAE,IApBuB;CAqBlCC,EAAAA,WAAW,EAAE;CACTC,IAAAA,UAAU,EAAE,KADH;CAETC,IAAAA,UAAU,EAAE,KAFH;CAGTC,IAAAA,IAAI,EAAE,KAHG;CAITC,IAAAA,KAAK,EAAE,KAJE;CAKT;CACAC,IAAAA,MAAM,EAAE,KANC;CAQT;CACA;CACA;CACA;CACA;;CAZS,GArBqB;CAmClCC,EAAAA,UAAU,EAAE,KAnCsB;CAoClCC,EAAAA,WAAW,EAAE,EApCqB;CAqClCC,EAAAA,UAAU,EAAE,EArCsB;CAsClCC,EAAAA,OAAO,EAAE,YAtCyB;CAuClCC,EAAAA,GAAG,EAAE,EAvC6B;CAuC1B;CACRC,EAAAA,MAAM,EAAE,CAxC0B;CAyClC;CACAC,EAAAA,gBAAgB,EAAE,IA1CgB;CA0CV;CACxBC,EAAAA,eAAe,EAAE,KA3CiB;CA4ClCC,EAAAA,QAAQ,EAAEvC,oBAAoB,CAACE,KA5CG;CA6ClCsC,EAAAA,SAAS,EAAErC,UAAU,CAACC,GA7CY;CA6CP;CAC3BqC,EAAAA,MAAM,EAAE,KA9C0B;CA8CnB;CACfC,EAAAA,MAAM,EAAE,KA/C0B;CA+CnB;CACfC,EAAAA,YAAY,EAAE,KAhDoB;;CAAA,CAA/B;CAoDA,MAAMC,eAAe,GAAG;CAC3BC,EAAAA,IAAI,EAAE,MADqB;CAE3BC,EAAAA,SAAS,EAAE,WAFgB;CAG3BC,EAAAA,MAAM,EAAE,QAHmB;CAI3BC,EAAAA,SAAS,EAAE,WAJgB;CAK3BC,EAAAA,KAAK,EAAE,OALoB;CAM3BC,EAAAA,QAAQ,EAAE,UANiB;CAO3BC,EAAAA,SAAS,EAAE,WAPgB;CAQ3BC,EAAAA,IAAI,EAAE,MARqB;CAS3BC,EAAAA,MAAM,EAAE,QATmB;CAU3BC,EAAAA,SAAS,EAAE,WAVgB;CAW3BC,EAAAA,SAAS,EAAE;CAXgB,CAAxB;CAcA,MAAMC,UAAU,GAAG;CACtB3B,EAAAA,KAAK,EAAE,CADe;CAEtB4B,EAAAA,KAAK,EAAE;CAFe,CAAnB;CAKA,MAAMC,cAAc,GAAG;CAC1B7B,EAAAA,KAAK,EAAE,CADmB;CAE1B4B,EAAAA,KAAK,EAAE;CAFmB,CAAvB;CAKA,MAAME,gBAAgB,GAAG;CAC5Bd,EAAAA,IAAI,EAAE,MADsB;CAE5BQ,EAAAA,MAAM,EAAE,QAFoB;CAG5BO,EAAAA,WAAW,EAAE,aAHe;CAI5BC,EAAAA,WAAW,EAAE,aAJe;CAK5BC,EAAAA,KAAK,EAAE;CALqB,CAAzB;;CAUA,MAAMC,MAAM,GAAG;CAClBrC,EAAAA,UAAU,EAAE,cADM;CAElBsC,EAAAA,aAAa,EAAE,eAFG;CAGlBC,EAAAA,iBAAiB,EAAE,mBAHD;CAIlBrC,EAAAA,IAAI,EAAE,MAJY;CAKlBsC,EAAAA,OAAO,EAAE,SALS;CAMlBC,EAAAA,KAAK,EAAE,OANW;CAOlBC,EAAAA,IAAI,EAAE,MAPY;CAQlBC,EAAAA,IAAI,EAAE,MARY;CASlBC,EAAAA,OAAO,EAAE,SATS;CAUlBC,EAAAA,SAAS,EAAE,WAVO;CAWlBC,EAAAA,UAAU,EAAE,YAXM;CAYlBC,EAAAA,SAAS,EAAE,WAZO;CAalBC,EAAAA,GAAG,EAAE,KAba;CAclBC,EAAAA,KAAK,EAAE,OAdW;CAelBC,EAAAA,YAAY,EAAE,cAfI;CAgBlBxB,EAAAA,IAAI,EAAE,MAhBY;CAiBlBrC,EAAAA,OAAO,EAAE,SAjBS;CAkBlB8D,EAAAA,YAAY,EAAE,cAlBI;CAmBlBhE,EAAAA,cAAc,EAAE,gBAnBE;CAoBlBiE,EAAAA,KAAK,EAAE,OApBW;CAqBlBC,EAAAA,WAAW,EAAE,aArBK;CAsBlBjD,EAAAA,MAAM,EAAE,QAtBU;CAuBlBkD,EAAAA,SAAS,EAAE,WAvBO;CAwBlBC,EAAAA,kBAAkB,EAAE,oBAxBF;CAyBlBC,EAAAA,WAAW,EAAE,aAzBK;CA0BlBC,EAAAA,SAAS,EAAE,WA1BO;CA2BlBC,EAAAA,iBAAiB,EAAE,mBA3BD;CA4BlBC,EAAAA,MAAM,EAAE,QA5BU;CA6BlBC,EAAAA,UAAU,EAAE,YA7BM;CA8BlBC,EAAAA,KAAK,EAAE,OA9BW;CA+BlBC,EAAAA,QAAQ,EAAE,UA/BQ;CAgClBC,EAAAA,MAAM,EAAE,QAhCU;CAiClBC,EAAAA,SAAS,EAAE,WAjCO;CAkClBC,EAAAA,aAAa,EAAE,eAlCG;CAmClBC,EAAAA,aAAa,EAAE,eAnCG;CAoClBC,EAAAA,WAAW,EAAE,aApCK;CAqClBC,EAAAA,YAAY,EAAE,cArCI;CAsClBC,EAAAA,OAAO,EAAE,SAtCS;CAuClBC,EAAAA,aAAa,EAAE,eAvCG;CAwClBC,EAAAA,cAAc,EAAE,gBAxCE;CAyClBC,EAAAA,oBAAoB,EAAE,sBAzCJ;CA0ClBC,EAAAA,mBAAmB,EAAE,qBA1CH;CA2ClBC,EAAAA,YAAY,EAAE,cA3CI;CA4ClBC,EAAAA,eAAe,EAAE,iBA5CC;CA6ClBC,EAAAA,cAAc,EAAE,gBA7CE;CA8ClBC,EAAAA,iBAAiB,EAAE;CA9CD,CAAf;CAiDP;CACA;CACA;;CACO,MAAMC,gBAAgB,GAAG;CAC5BnC,EAAAA,IAAI,EAAEN,MAAM,CAACM,IADe;CAE5BG,EAAAA,UAAU,EAAET,MAAM,CAACS,UAFS;CAG5BD,EAAAA,SAAS,EAAER,MAAM,CAACQ,SAHU;CAI5BE,EAAAA,SAAS,EAAEV,MAAM,CAACU,SAJU;CAK5BE,EAAAA,KAAK,EAAEZ,MAAM,CAACY,KALc;CAM5BC,EAAAA,YAAY,EAAEb,MAAM,CAACa,YANO;CAO5BxB,EAAAA,IAAI,EAAEW,MAAM,CAACX,IAPe;CAQ5BsB,EAAAA,GAAG,EAAEX,MAAM,CAACW,GARgB;CAS5Ba,EAAAA,KAAK,EAAExB,MAAM,CAACwB,KATc;CAU5BxE,EAAAA,OAAO,EAAEgD,MAAM,CAAChD,OAVY;CAW5BF,EAAAA,cAAc,EAAEkD,MAAM,CAAClD,cAXK;CAY5BgE,EAAAA,YAAY,EAAEd,MAAM,CAACc,YAZO;CAa5BnD,EAAAA,UAAU,EAAE,YAbgB;CAc5BE,EAAAA,IAAI,EAAEmC,MAAM,CAACnC,IAde;CAe5BuC,EAAAA,KAAK,EAAEJ,MAAM,CAACI,KAfc;CAgB5BC,EAAAA,IAAI,EAAEL,MAAM,CAACK,IAhBe;CAiB5BU,EAAAA,KAAK,EAAEf,MAAM,CAACe,KAjBc;CAkB5BC,EAAAA,WAAW,EAAEhB,MAAM,CAACgB,WAlBQ;CAmB5BE,EAAAA,kBAAkB,EAAElB,MAAM,CAACkB,kBAnBC;CAoB5BC,EAAAA,WAAW,EAAEnB,MAAM,CAACmB,WApBQ;CAqB5BC,EAAAA,SAAS,EAAEpB,MAAM,CAACoB,SArBU;CAsB5BoB,EAAAA,iBAAiB,EAAExC,MAAM,CAACwC;CAtBE,CAAzB;CAyBA,MAAME,YAAY,GAAG;CACxBC,EAAAA,SAAS,EAAE,2BADa;CAExBC,EAAAA,UAAU,EAAE,YAFY;CAGxBC,EAAAA,cAAc,EAAE,gBAHQ;CAIxBC,EAAAA,uBAAuB,EAAE,yBAJD;CAKxBC,EAAAA,yBAAyB,EAAE,2BALH;CAMxBC,EAAAA,eAAe,EAAE;CANO,CAArB;CAUA,MAAMC,gBAAgB,GAAG;CAC5BC,EAAAA,UAAU,EAAE,YADgB;CAE5BC,EAAAA,IAAI,EAAE,MAFsB;CAG5BpD,EAAAA,KAAK,EAAE,OAHqB;CAI5Ba,EAAAA,KAAK,EAAE;CAJqB,CAAzB;CAcA,MAAMwC,eAAe,GAAG;CAC3BC,EAAAA,QAAQ,EAAE,UADiB;CAE3BC,EAAAA,MAAM,EAAE,QAFmB;CAG3BC,EAAAA,IAAI,EAAE;CAHqB,CAAxB;CAOA,MAAMC,cAAc,GAAG;CAC1B,KAAG,WADuB;CACV;CAChB,MAAI,YAFsB;;CAAA,CAAvB;CAKA,MAAMC,cAAc,GAAG;CAC1BC,EAAAA,IAAI,EAAE,CADoB;CAE1BC,EAAAA,IAAI,EAAE;CAFoB,CAAvB;CAMA,MAAMC,cAAc,GAAG;CAC1B,MAAI,KADsB;CAE1B,KAAG,MAFuB;CAG1B,KAAG;CAHuB,CAAvB;CAMA,MAAMC,aAAa,GAAG;CACzBC,EAAAA,GAAG,EAAE,EADoB;CAEzBC,EAAAA,GAAG,EAAE,EAFoB;CAGzBC,EAAAA,GAAG,EAAE;CAHoB,CAAtB;;CAOA,MAAMC,cAAc,GAAG,CAAvB;CAEA,MAAMC,eAAe,GAAG;CAC3BC,EAAAA,IAAI,EAAE,CADqB;CAClB;CACTC,EAAAA,IAAI,EAAE,CAFqB;CAElB;CACTC,EAAAA,QAAQ,EAAE,CAHiB;;CAAA,CAAxB;CAOA,MAAMC,aAAW,GAAG;CACvBC,EAAAA,GAAG,EAAE,KADkB;CAEvBC,EAAAA,IAAI,EAAE;CAFiB,CAApB;CAMA,MAAMC,kBAAkB,GAAG;CAC9BC,EAAAA,SAAS,EAAE,WADmB;CAE9BC,EAAAA,KAAK,EAAE,OAFuB;CAG9BC,EAAAA,SAAS,EAAE;CAHmB,CAA3B;CAMA,MAAMC,kBAAkB,GAAG;CAC9BC,EAAAA,GAAG,EAAE,KADyB;CAE9BC,EAAAA,KAAK,EAAE;CAFuB,CAA3B;CAMA,MAAMC,UAAU,GAAG;CACtBC,EAAAA,GAAG,EAAE,iCADiB;CAEtBC,EAAAA,GAAG,EAAE;CAFiB,CAAnB;CAMA,MAAMC,kBAAkB,GAAG;CAC9BC,EAAAA,KAAK,EAAE,OADuB;CAE9BjC,EAAAA,IAAI,EAAE,MAFwB;CAG9BkC,EAAAA,MAAM,EAAE;CAHsB,CAA3B;CAWA,MAAMC,qBAAqB,GAAG,IAA9B;CAGA,MAAMC,OAAO,GAAG;CACnBC,EAAAA,GAAG,EAAE,EADc;CACV;CACTC,EAAAA,OAAO,EAAE,EAFU;CAEN;CACbC,EAAAA,SAAS,EAAE,EAHQ;;CAAA,CAAhB;;CCtRQ,MAAMC,KAAN,CAAY;CACvBC,EAAAA,WAAW,CAACC,MAAD,EAAS;CAChB,SAAKlF,GAAL,GAAW,UAACmF,IAAD,EAAmB;CAC1B,UAAID,MAAM,CAACE,IAAP,CAAYnJ,KAAhB,EAAuB;CAAA,0CADNoJ,IACM;CADNA,UAAAA,IACM;CAAA;;CACnBC,QAAAA,OAAO,CAACtF,GAAR,CAAa,eAAcmF,IAAK,GAAhC,EAAoC,GAAGE,IAAvC;CACH;CACJ,KAJD;;CAMA,SAAKE,IAAL,GAAY,UAACJ,IAAD,EAAmB;CAC3B,UAAID,MAAM,CAACE,IAAP,CAAYnJ,KAAhB,EAAuB;CAAA,2CADLoJ,IACK;CADLA,UAAAA,IACK;CAAA;;CACnBC,QAAAA,OAAO,CAACC,IAAR,CAAc,eAAcJ,IAAK,GAAjC,EAAqC,GAAGE,IAAxC;CACH;CACJ,KAJD;;CAMA,SAAKpF,KAAL,GAAa,UAACkF,IAAD,EAAmB;CAC5B,UAAID,MAAM,CAACE,IAAP,CAAYnJ,KAAhB,EAAuB;CAAA,2CADJoJ,IACI;CADJA,UAAAA,IACI;CAAA;;CACnBC,QAAAA,OAAO,CAACrF,KAAR,CAAe,eAAckF,IAAK,GAAlC,EAAsC,GAAGE,IAAzC;CACH;CACJ,KAJD;CAKH;;CAnBsB;;CCAZ,MAAMG,MAAN,CAAa;CACxBP,EAAAA,WAAW,CAACC,MAAD,EAAS;CAChB,SAAKO,QAAL,GAAgB,EAAhB;CACA,SAAKC,KAAL,GAAa,KAAKA,KAAL,CAAWC,IAAX,CAAgB,IAAhB,CAAb;CACA,SAAKT,MAAL,GAAcA,MAAd;CACH;;CAEDQ,EAAAA,KAAK,CAACE,MAAD,EAAST,IAAT,EAAeU,QAAf,EAAsC;CAAA,QAAbC,MAAa,uEAAJ,EAAI;;CACvC,QAAI,CAACF,MAAL,EAAa;CACT;CACH;;CACD,QAAIG,KAAK,CAACC,OAAN,CAAcb,IAAd,CAAJ,EAAyB;CACrB,aAAOA,IAAI,CAACc,GAAL,CAASC,IAAI,IAAI,KAAKR,KAAL,CAAWE,MAAX,EAAmBM,IAAnB,EAAyBL,QAAzB,EAAmCC,MAAnC,CAAjB,CAAP;CACH;;CACDF,IAAAA,MAAM,CAACO,gBAAP,CAAwBhB,IAAxB,EAA8BU,QAA9B,EAAwCC,MAAxC;;CACA,UAAMzE,OAAO,GAAG,MAAMuE,MAAM,CAACQ,mBAAP,CAA2BjB,IAA3B,EAAiCU,QAAjC,EAA2CC,MAA3C,CAAtB;;CACA,SAAKL,QAAL,CAAcY,IAAd,CAAmBhF,OAAnB;CACA,WAAOA,OAAP;CACH;;CAEDA,EAAAA,OAAO,GAAG;CACN,SAAK6D,MAAL,CAAYjJ,KAAZ,CAAkB+D,GAAlB,CAAuB,QAAvB,EAAgC,SAAhC;CACA,SAAKyF,QAAL,CAAca,OAAd,CAAsBC,KAAK,IAAIA,KAAK,EAApC;CACH;;CAvBuB;;ACA5B,mBAAgBC,MAAD,IAAY;CACvBC,EAAAA,MAAM,CAACC,cAAP,CAAsBF,MAAtB,EAA8B,MAA9B,EAAsC;CAClCG,IAAAA,GAAG,EAAE,MAAM;CACP,YAAMC,UAAU,GAAGJ,MAAM,CAACK,UAAP,CAAkBC,qBAAlB,EAAnB;CACAF,MAAAA,UAAU,CAACG,KAAX,GAAmBC,IAAI,CAACC,GAAL,CAASL,UAAU,CAACG,KAApB,EAA2BP,MAAM,CAACK,UAAP,CAAkBK,WAA7C,CAAnB;CACAN,MAAAA,UAAU,CAACO,MAAX,GAAoBH,IAAI,CAACC,GAAL,CAASL,UAAU,CAACO,MAApB,EAA4BX,MAAM,CAACK,UAAP,CAAkBO,YAA9C,CAApB;CACA,aAAOR,UAAP;CACH;CANiC,GAAtC;CASA,GAAC,QAAD,EAAW,QAAX,EAAqB,MAArB,EAA6B,OAA7B,EAAsC,KAAtC,EAA6C,OAA7C,EAAsDN,OAAtD,CAA8DnC,GAAG,IAAI;CACjEsC,IAAAA,MAAM,CAACC,cAAP,CAAsBF,MAAtB,EAA8BrC,GAA9B,EAAmC;CAC/BwC,MAAAA,GAAG,EAAE,MAAM;CACP,eAAOH,MAAM,CAACa,IAAP,CAAYlD,GAAZ,CAAP;CACH;CAH8B,KAAnC;CAKH,GAND;CAOH,CAjBD;;;CCAA;CACA;CACA;CACA;CACA;CACA,GAAC,YAAY;;CAGZ,QAAImD,QAAQ,GAAG,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACD,QAAd,KAA2B,WAA5D,GAA0EC,MAAM,CAACD,QAAjF,GAA4F,EAA3G;CACA,QAAIE,UAAU,GAAoCC,MAAM,CAACC,OAAzD;;CAEA,QAAIC,EAAE,GAAI,YAAY;CACrB,UAAIC,GAAJ;CAEA,UAAIC,KAAK,GAAG,CACX,CACC,mBADD,EAEC,gBAFD,EAGC,mBAHD,EAIC,mBAJD,EAKC,kBALD,EAMC,iBAND,CADW;CAUX,OACC,yBADD,EAEC,sBAFD,EAGC,yBAHD,EAIC,yBAJD,EAKC,wBALD,EAMC,uBAND,CAVW;CAoBX,OACC,yBADD,EAEC,wBAFD,EAGC,gCAHD,EAIC,wBAJD,EAKC,wBALD,EAMC,uBAND,CApBW,EA6BX,CACC,sBADD,EAEC,qBAFD,EAGC,sBAHD,EAIC,sBAJD,EAKC,qBALD,EAMC,oBAND,CA7BW,EAqCX,CACC,qBADD,EAEC,kBAFD,EAGC,qBAHD,EAIC,qBAJD,EAKC,oBALD,EAMC,mBAND,CArCW,CAAZ;CA+CA,UAAIC,CAAC,GAAG,CAAR;CACA,UAAIC,CAAC,GAAGF,KAAK,CAACG,MAAd;CACA,UAAIC,GAAG,GAAG,EAAV;;CAEA,aAAOH,CAAC,GAAGC,CAAX,EAAcD,CAAC,EAAf,EAAmB;CAClBF,QAAAA,GAAG,GAAGC,KAAK,CAACC,CAAD,CAAX;;CACA,YAAIF,GAAG,IAAIA,GAAG,CAAC,CAAD,CAAH,IAAUN,QAArB,EAA+B;CAC9B,eAAKQ,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGF,GAAG,CAACI,MAApB,EAA4BF,CAAC,EAA7B,EAAiC;CAChCG,YAAAA,GAAG,CAACJ,KAAK,CAAC,CAAD,CAAL,CAASC,CAAT,CAAD,CAAH,GAAmBF,GAAG,CAACE,CAAD,CAAtB;CACA;;CACD,iBAAOG,GAAP;CACA;CACD;;CAED,aAAO,KAAP;CACA,KAjEQ,EAAT;;CAmEA,QAAIC,YAAY,GAAG;CAClBC,MAAAA,MAAM,EAAER,EAAE,CAACS,gBADO;CAElBnI,MAAAA,KAAK,EAAE0H,EAAE,CAACU;CAFQ,KAAnB;CAKA,QAAIC,UAAU,GAAG;CAChBC,MAAAA,OAAO,EAAE,UAAUC,OAAV,EAAmBC,OAAnB,EAA4B;CACpC,eAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;CAC7C,cAAIC,mBAAmB,GAAG,YAAY;CACrC,iBAAKC,GAAL,CAAS,QAAT,EAAmBD,mBAAnB;CACAF,YAAAA,OAAO;CACP,WAHyB,CAGxBhD,IAHwB,CAGnB,IAHmB,CAA1B;;CAKA,eAAKoD,EAAL,CAAQ,QAAR,EAAkBF,mBAAlB;CAEAL,UAAAA,OAAO,GAAGA,OAAO,IAAIlB,QAAQ,CAAC0B,eAA9B;CAEA,cAAIC,aAAa,GAAGT,OAAO,CAACb,EAAE,CAACuB,iBAAJ,CAAP,CAA8BT,OAA9B,CAApB;;CAEA,cAAIQ,aAAa,YAAYP,OAA7B,EAAsC;CACrCO,YAAAA,aAAa,CAACE,IAAd,CAAmBN,mBAAnB,EAAwCO,KAAxC,CAA8CR,MAA9C;CACA;CACD,SAfkB,CAejBjD,IAfiB,CAeZ,IAfY,CAAZ,CAAP;CAgBA,OAlBe;CAmBhB0D,MAAAA,IAAI,EAAE,YAAY;CACjB,eAAO,IAAIX,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;CAC7C,cAAI,CAAC,KAAKU,YAAV,EAAwB;CACvBX,YAAAA,OAAO;CACP;CACA;;CAED,cAAIY,gBAAgB,GAAG,YAAY;CAClC,iBAAKT,GAAL,CAAS,QAAT,EAAmBS,gBAAnB;CACAZ,YAAAA,OAAO;CACP,WAHsB,CAGrBhD,IAHqB,CAGhB,IAHgB,CAAvB;;CAKA,eAAKoD,EAAL,CAAQ,QAAR,EAAkBQ,gBAAlB;CAEA,cAAIN,aAAa,GAAG3B,QAAQ,CAACK,EAAE,CAAC6B,cAAJ,CAAR,EAApB;;CAEA,cAAIP,aAAa,YAAYP,OAA7B,EAAsC;CACrCO,YAAAA,aAAa,CAACE,IAAd,CAAmBI,gBAAnB,EAAqCH,KAArC,CAA2CR,MAA3C;CACA;CACD,SAlBkB,CAkBjBjD,IAlBiB,CAkBZ,IAlBY,CAAZ,CAAP;CAmBA,OAvCe;CAwChB8D,MAAAA,MAAM,EAAE,UAAUjB,OAAV,EAAmBC,OAAnB,EAA4B;CACnC,eAAO,KAAKa,YAAL,GAAoB,KAAKD,IAAL,EAApB,GAAkC,KAAKd,OAAL,CAAaC,OAAb,EAAsBC,OAAtB,CAAzC;CACA,OA1Ce;CA2ChBiB,MAAAA,QAAQ,EAAE,UAAU7D,QAAV,EAAoB;CAC7B,aAAKkD,EAAL,CAAQ,QAAR,EAAkBlD,QAAlB;CACA,OA7Ce;CA8ChB8D,MAAAA,OAAO,EAAE,UAAU9D,QAAV,EAAoB;CAC5B,aAAKkD,EAAL,CAAQ,OAAR,EAAiBlD,QAAjB;CACA,OAhDe;CAiDhBkD,MAAAA,EAAE,EAAE,UAAUxC,KAAV,EAAiBV,QAAjB,EAA2B;CAC9B,YAAI+D,SAAS,GAAG1B,YAAY,CAAC3B,KAAD,CAA5B;;CACA,YAAIqD,SAAJ,EAAe;CACdtC,UAAAA,QAAQ,CAACnB,gBAAT,CAA0ByD,SAA1B,EAAqC/D,QAArC,EAA+C,KAA/C;CACA;CACD,OAtDe;CAuDhBiD,MAAAA,GAAG,EAAE,UAAUvC,KAAV,EAAiBV,QAAjB,EAA2B;CAC/B,YAAI+D,SAAS,GAAG1B,YAAY,CAAC3B,KAAD,CAA5B;;CACA,YAAIqD,SAAJ,EAAe;CACdtC,UAAAA,QAAQ,CAAClB,mBAAT,CAA6BwD,SAA7B,EAAwC/D,QAAxC,EAAkD,KAAlD;CACA;CACD,OA5De;CA6DhBgE,MAAAA,GAAG,EAAElC;CA7DW,KAAjB;;CAgEA,QAAI,CAACA,EAAL,EAAS;CACR,UAAIH,UAAJ,EAAgB;CACfC,QAAAA,cAAA,GAAiB;CAACqC,UAAAA,SAAS,EAAE;CAAZ,SAAjB;CACA,OAFD,MAEO;CACNvC,QAAAA,MAAM,CAACe,UAAP,GAAoB;CAACwB,UAAAA,SAAS,EAAE;CAAZ,SAApB;CACA;;CAED;CACA;;CAEDrD,IAAAA,MAAM,CAACsD,gBAAP,CAAwBzB,UAAxB,EAAoC;CACnCgB,MAAAA,YAAY,EAAE;CACb3C,QAAAA,GAAG,EAAE,YAAY;CAChB,iBAAOqD,OAAO,CAAC1C,QAAQ,CAACK,EAAE,CAACsC,iBAAJ,CAAT,CAAd;CACA;CAHY,OADqB;CAMnCzB,MAAAA,OAAO,EAAE;CACR0B,QAAAA,UAAU,EAAE,IADJ;CAERvD,QAAAA,GAAG,EAAE,YAAY;CAChB,iBAAOW,QAAQ,CAACK,EAAE,CAACsC,iBAAJ,CAAf;CACA;CAJO,OAN0B;CAYnCH,MAAAA,SAAS,EAAE;CACVI,QAAAA,UAAU,EAAE,IADF;CAEVvD,QAAAA,GAAG,EAAE,YAAY;;CAEhB,iBAAOqD,OAAO,CAAC1C,QAAQ,CAACK,EAAE,CAACwC,iBAAJ,CAAT,CAAd;CACA;CALS;CAZwB,KAApC;;CAqBA,QAAI3C,UAAJ,EAAgB;CACfC,MAAAA,cAAA,GAAiBa,UAAjB;CACA,KAFD,MAEO;CACNf,MAAAA,MAAM,CAACe,UAAP,GAAoBA,UAApB;CACA;CACD,GAlLD;;;;CCHO,SAAS8B,IAAT,GAAgB;CAIhB,SAASC,gBAAT,CAA0BC,OAA1B,EAAmC;CACtC,SAAO,OAAOA,OAAO,CAACC,0BAAf,KAA8C,UAArD;CACH;CAGM,SAASC,kBAAT,GAA8B;CACjC,SAAO,OAAOC,eAAP,KAA2B,WAAlC;CACH;CAGM,SAASC,eAAT,CAAyBJ,OAAzB,EAAkC;CACrC,MAAIK,EAAE,GAAG,IAAT;CAEA,QAAMC,iBAAiB,GAAG,CAAC,OAAD,EAAU,oBAAV,EAAgC,WAAhC,EAA6C,WAA7C,CAA1B;CACA,MAAIC,SAAS,GAAG,CAAhB;;CAEA,SAAO,CAACF,EAAD,IAAOE,SAAS,GAAGD,iBAAiB,CAAC5C,MAA5C,EAAoD;CAChD,UAAM8C,WAAW,GAAGF,iBAAiB,CAACC,SAAD,CAArC;;CAEA,QAAI;CACA,UAAIE,cAAc,GAAG;CAACC,QAAAA,qBAAqB,EAAE;CAAxB,OAArB;CACAL,MAAAA,EAAE,GAAGL,OAAO,CAACW,UAAR,CAAmBH,WAAnB,EAAgCC,cAAhC,CAAL;CACH,KAHD,CAGE,OAAOG,CAAP,EAAU;CACRP,MAAAA,EAAE,GAAG,IAAL;CACH;;CAED,QAAI,CAACA,EAAD,IAAO,OAAOA,EAAE,CAACQ,YAAV,KAA2B,UAAtC,EAAkD;CAC9CR,MAAAA,EAAE,GAAG,IAAL;CACH;;CAED,MAAEE,SAAF;CACH;;CAGD,SAAOF,EAAP;CACH;CAeM,SAASS,aAAT,GAAqC;CAAA,MAAdC,OAAc,uEAAJ,EAAI;CACxC,QAAMC,GAAG,GAAGD,OAAO,CAACE,KAAR,CAAc,GAAd,CAAZ;CACA,QAAMC,IAAI,GAAGC,IAAI,CAACH,GAAG,CAAC,CAAD,CAAJ,CAAjB;CACA,QAAMI,IAAI,GAAGJ,GAAG,CAAC,CAAD,CAAH,CAAOK,OAAP,CAAe,OAAf,EAAwB,EAAxB,EAA4BA,OAA5B,CAAoC,SAApC,EAA+C,EAA/C,CAAb;CACA,MAAIC,CAAC,GAAGJ,IAAI,CAACxD,MAAb;CAAA,MAAqB6D,KAAK,GAAG,IAAIC,UAAJ,CAAeF,CAAf,CAA7B;;CACA,SAAOA,CAAC,EAAR,EAAY;CACRC,IAAAA,KAAK,CAACD,CAAD,CAAL,GAAWJ,IAAI,CAACO,UAAL,CAAgBH,CAAhB,CAAX;CACH;;CACD,SAAO,IAAII,IAAJ,CAAS,CAACH,KAAD,CAAT,EAAkB,MAAlB,EAA0B;CAACH,IAAAA;CAAD,GAA1B,CAAP;CACH;CAaM,SAASO,WAAT,CAAqBC,OAArB,EAA8BC,QAA9B,EAAwC;CAC3C,QAAMC,KAAK,GAAG9E,QAAQ,CAAC+E,aAAT,CAAuB,GAAvB,CAAd;CACAD,EAAAA,KAAK,CAAC1J,QAAN,GAAiByJ,QAAjB;CACAC,EAAAA,KAAK,CAACE,IAAN,GAAaC,GAAG,CAACC,eAAJ,CAAoBN,OAApB,CAAb;CACAE,EAAAA,KAAK,CAACK,KAAN;CACAF,EAAAA,GAAG,CAACG,eAAJ,CAAoBR,OAApB;CACH;CAQM,SAASS,GAAT,GAAe;CAClB,SAAO,IAAIC,IAAJ,GAAWC,OAAX,EAAP;CACH;CAE4B,CAAC,MAAM;CAChC,MAAI;CACA,QAAI,OAAOC,WAAP,KAAuB,QAAvB,IACG,OAAOA,WAAW,CAACC,WAAnB,KAAmC,UAD1C,EACsD;CAClD,YAAMtF,MAAM,GAAG,IAAIqF,WAAW,CAACE,MAAhB,CAAuBlB,UAAU,CAACmB,EAAX,CAAc,GAAd,EAAmB,IAAnB,EAAyB,IAAzB,EAA+B,IAA/B,EAAqC,IAArC,EAA2C,IAA3C,EAAiD,IAAjD,EAAuD,IAAvD,CAAvB,CAAf;CACA,UAAIxF,MAAM,YAAYqF,WAAW,CAACE,MAAlC,EACI,OAAO,IAAIF,WAAW,CAACI,QAAhB,CAAyBzF,MAAzB,aAA4CqF,WAAW,CAACI,QAA/D;CACP;CACJ,GAPD,CAOE,OAAOhC,CAAP,EAAU;;CAEZ,SAAO,KAAP;CACH,CAX4B;CAatB,SAASiC,KAAT,CAAeC,GAAf,EAAoBC,CAApB,EAAuBC,CAAvB,EAA0B;CAC7B,SAAOtG,IAAI,CAACC,GAAL,CAASD,IAAI,CAACuG,GAAL,CAASH,GAAT,EAAcpG,IAAI,CAACC,GAAL,CAASoG,CAAT,EAAYC,CAAZ,CAAd,CAAT,EAAwCtG,IAAI,CAACuG,GAAL,CAASF,CAAT,EAAYC,CAAZ,CAAxC,CAAP;CACH;CAEM,SAASE,QAAT,CAAkBhF,OAAlB,EAA2BrE,GAA3B,EAAgCsJ,KAAhC,EAAuC;CAC1C,MAAI,CAACjF,OAAL,EAAc;CACV;CACH;;CACD,MAAI,OAAOrE,GAAP,KAAe,QAAnB,EAA6B;CACzBsC,IAAAA,MAAM,CAACiH,IAAP,CAAYvJ,GAAZ,EAAiBmC,OAAjB,CAAyBJ,IAAI,IAAI;CAC7BsH,MAAAA,QAAQ,CAAChF,OAAD,EAAUtC,IAAV,EAAgB/B,GAAG,CAAC+B,IAAD,CAAnB,CAAR;CACH,KAFD;CAGH;;CACDsC,EAAAA,OAAO,CAACmF,KAAR,CAAcxJ,GAAd,IAAqBsJ,KAArB;CACA,SAAOjF,OAAP;CACH;CAGM,SAASoF,QAAT,CAAkBpF,OAAlB,EAA2BrE,GAA3B,EAAmD;CAAA,MAAnB0J,UAAmB,uEAAN,IAAM;;CACtD,MAAI,CAACrF,OAAL,EAAc;CACV,WAAO,CAAP;CACH;;CAED,QAAMiF,KAAK,GAAGK,gBAAgB,CAACtF,OAAD,EAAU,IAAV,CAAhB,CAAgCuF,gBAAhC,CAAiD5J,GAAjD,CAAd;CACA,SAAO0J,UAAU,GAAGG,UAAU,CAACP,KAAD,CAAb,GAAuBA,KAAxC;CACH;CAEM,SAASQ,UAAT,GAAsB;CACzB,MAAI5N,WAAW,IAAI,OAAOA,WAAW,CAACsM,GAAnB,KAA2B,UAA9C,EAA0D;CACtD,WAAOtM,WAAW,CAACsM,GAAZ,EAAP;CACH;;CACD,SAAOC,IAAI,CAACD,GAAL,EAAP;CACH;CAEM,SAASuB,eAAT,CAAyBrI,QAAzB,EAAmC;CACtC,MAAIsI,SAAS,GAAG,CAAhB;CACA,MAAIC,QAAQ,GAAGH,UAAU,EAAzB;CACA,SAAOI,IAAI,IAAI;CACXF,IAAAA,SAAS,IAAIE,IAAb;CACA,UAAMC,QAAQ,GAAGL,UAAU,EAA3B;CACA,UAAMM,QAAQ,GAAGD,QAAQ,GAAGF,QAA5B;;CACA,QAAIG,QAAQ,IAAI,IAAhB,EAAsB;CAClB1I,MAAAA,QAAQ,CAAEsI,SAAS,GAAGI,QAAb,GAAyB,IAA1B,CAAR;CACAH,MAAAA,QAAQ,GAAGE,QAAX;CACAH,MAAAA,SAAS,GAAG,CAAZ;CACH;CACJ,GATD;CAUH;CAEM,SAASK,cAAT,CAAwB5L,IAAxB,EAA8BuC,IAA9B,EAAoCsJ,MAApC,EAA4C;CAC/C,QAAMhR,GAAG,GAAG8J,MAAM,CAACgF,GAAP,CAAWC,eAAX,CAA2B5J,IAA3B,CAAZ;CACA,QAAMyK,CAAC,GAAG/F,QAAQ,CAAC+E,aAAT,CAAuB,GAAvB,CAAV;CACAgB,EAAAA,CAAC,CAACf,IAAF,GAAS7O,GAAT;CACA4P,EAAAA,CAAC,CAAC3K,QAAF,GAAa,CAACyC,IAAI,IAAIwH,GAAG,EAAZ,IAAkB,GAAlB,IAAyB8B,MAAM,IAAI9K,WAAW,CAACE,IAA/C,CAAb;CACAwJ,EAAAA,CAAC,CAACZ,KAAF;CACAlF,EAAAA,MAAM,CAACgF,GAAP,CAAWG,eAAX,CAA2BjP,GAA3B;CACH;;CAqDM,SAASiR,UAAT,GAAsB;CACzB,SAAO,kBAAkBnH,MAAzB;CACH;CAmDM,SAASoH,2BAAT,CAAqCC,IAArC,EAA2C;CAC9C,MAAIC,UAAU,GAAGD,IAAI,CAACE,QAAL,CAAc,CAAd,EAAiB,CAAjB,CAAjB;CACA,MAAIC,WAAW,GAAG,OAAlB;;CACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;CACxB,QAAIC,CAAC,GAAGJ,UAAU,CAACG,CAAD,CAAV,CAAcE,QAAd,CAAuB,EAAvB,CAAR;;CACA,QAAID,CAAC,CAACjH,MAAF,GAAW,CAAf,EAAkB;CACdiH,MAAAA,CAAC,GAAG,MAAMA,CAAV;CACH;;CACDF,IAAAA,WAAW,IAAIE,CAAf;CACH;;CAED,SAAO;CACHE,IAAAA,KAAK,EAAEJ,WADJ;CAEHK,IAAAA,WAAW,EAAER;CAFV,GAAP;CAIH;CAEM,SAASS,YAAT,GAAwB;CAC3B,SAAO/H,QAAQ,CAAC+H,YAAT,IAAyB/H,QAAQ,CAACgI,eAAlC,IAAqDhI,QAAQ,CAACiI,kBAArE;CACH;CAEM,SAASC,OAAT,CAAiB/B,KAAjB,EAAwB;CAC3B,MAAI,QAAQA,KAAR,IAAiBA,KAAK,KAAK,EAA/B,EAAmC;CAC/B,WAAO,QAAP;CACH;;CACD,MAAIY,IAAI,GAAGL,UAAU,CAACP,KAAD,CAArB;CACAY,EAAAA,IAAI,GAAGA,IAAI,CAACoB,OAAL,CAAa,CAAb,CAAP;CACA,SAAOpB,IAAI,GAAG,MAAd;CACH;CAGM,SAASqB,SAAT,CAAmBC,GAAnB,EAAwB;CAC3B,MAAIC,MAAM,GAAG,CAAb;;CACA,MAAID,GAAG,IAAI,EAAX,EAAe;CACXC,IAAAA,MAAM,GAAG,CAAT;CACH,GAFD,MAEO,IAAID,GAAG,IAAI,EAAX,EAAe;CAClBC,IAAAA,MAAM,GAAG,CAAT;CACH;;CAED,SAAOA,MAAP;CACH;CAEM,SAASC,sBAAT,CAAgC9I,KAAhC,EAAuCI,MAAvC,EAA+C;CAClD,QAAM2I,cAAc,GAAGxI,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAvB;CACAyD,EAAAA,cAAc,CAAC/I,KAAf,GAAuBA,KAAvB;CACA+I,EAAAA,cAAc,CAAC3I,MAAf,GAAwBA,MAAxB;CACA,SAAO4I,iBAAiB,CAACD,cAAD,EAAiB,CAAjB,EAAoB,CAApB,EAAuB/I,KAAvB,EAA8BI,MAA9B,CAAxB;CACH;CAGM,SAAS6I,UAAT,GAAsB;CACzB,SAAOzI,MAAM,CAAC0I,WAAP,IAAsB1I,MAAM,CAAC0I,WAAP,CAAmBC,eAAnB,CAAmC7L,UAAU,CAACC,GAA9C,CAA7B;CACH;CAmBM,SAAS6L,OAAT,CAAiB1C,KAAjB,EAAwB;CAC3B,SAAOA,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK2C,SAAnC;CACH;CAEM,SAASC,UAAT,CAAoB5C,KAApB,EAA2B;CAC9B,SAAO,CAAC0C,OAAO,CAAC1C,KAAD,CAAf;CACH;CAEM,SAAS6C,SAAT,CAAmB7C,KAAnB,EAA0B8C,OAA1B,EAAmC;CACtC,MAAIF,UAAU,CAAC5C,KAAD,CAAV,IAAqB,OAAOA,KAAP,KAAiB,QAAtC,IAAkD,OAAO,CAACA,KAAR,KAAkB,QAAxE,EAAkF;CAC9E,QAAI8C,OAAO,IAAIA,OAAO,GAAG9C,KAAzB,EAAgC;CAC5B,aAAO8C,OAAP;CACH;;CACD,WAAO9C,KAAP;CACH,GALD,MAKO;CACH,WAAO8C,OAAP;CACH;CACJ;CAEM,SAASC,aAAT,GAAyB;CAC5B,SAAO;CACHC,IAAAA,aAAa,EAAE,EADZ;CACgB;CACnBC,IAAAA,SAAS,EAAE,EAFR;CAEY;CACfC,IAAAA,WAAW,EAAE,EAHV;CAGc;CACjBC,IAAAA,cAAc,EAAE,EAJb;CAIiB;CACpBC,IAAAA,UAAU,EAAE,EALT;CAKa;CAChBC,IAAAA,WAAW,EAAE,EANV;CAMc;CACjBC,IAAAA,UAAU,EAAE,EAPT;CAOa;CAChBC,IAAAA,aAAa,EAAE,EARZ;CAQe;CAClBC,IAAAA,eAAe,EAAE,EATd;CASiB;CACpBC,IAAAA,uBAAuB,EAAE,EAVtB;CAUyB;CAC5BC,IAAAA,cAAc,EAAE,EAXb;CAWiB;CACpBC,IAAAA,eAAe,EAAE,EAZd;CAYkB;CACrBC,IAAAA,cAAc,EAAE,EAbb;CAagB;CACnBC,IAAAA,YAAY,EAAE,EAdX;;CAAA,GAAP;CAgBH;;ACtXD,iBAAgB9K,MAAD,IAAY;CACvB,MAAI;CACA,UAAM+K,gBAAgB,GAAG,MAAM;CAC3B/K,MAAAA,MAAM,CAACgL,IAAP,CAAY1P,gBAAgB,CAAC9E,UAA7B,EAAyCwJ,MAAM,CAACxJ,UAAhD,EAD2B;;CAI3B,UAAI,CAACwJ,MAAM,CAACxJ,UAAZ,EAAwB;CACpBwJ,QAAAA,MAAM,CAACzF,MAAP;CACH,OAFD,MAEO;CACH,YAAGyF,MAAM,CAACpB,IAAP,CAAYpH,MAAf,EAAsB;CAClBwI,UAAAA,MAAM,CAACzF,MAAP;CACH;CACJ;CAEJ,KAZD;;CAaAuH,IAAAA,UAAU,CAACS,EAAX,CAAc,QAAd,EAAwBwI,gBAAxB;CACA/K,IAAAA,MAAM,CAACiL,MAAP,CAAchM,QAAd,CAAuBY,IAAvB,CAA4B,MAAM;CAC9BiC,MAAAA,UAAU,CAACQ,GAAX,CAAe,QAAf,EAAyByI,gBAAzB;CACH,KAFD;CAGH,GAlBD,CAkBE,OAAOtR,KAAP,EAAc;CAEf,GArBsB;;;CAuBvBuG,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACE,iBAAjB,EAAoC,MAAM;CACtCiH,IAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,QAAjB,EAA2B,YAA3B;CACAwG,IAAAA,MAAM,CAACkL,UAAP,GAAoB,IAApB;CACH,GAHD,EAvBuB;;CA6BvBlL,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACnC,IAAjB,EAAuB,MAAM;CACzBsJ,IAAAA,MAAM,CAAC5G,OAAP,GAAiB,KAAjB;CACH,GAFD,EA7BuB;;CAkCvB4G,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACrC,UAAjB,EAA8ByQ,KAAD,IAAW;CACpC,QAAIA,KAAJ,EAAW;CACP,UAAI;CACAnF,QAAAA,UAAU,CAACC,OAAX,CAAmB/B,MAAM,CAACK,UAA1B,EAAsCsC,IAAtC,CAA2C,MAAM,EAAjD,EAEGC,KAFH,CAEU8B,CAAD,IAAO;CACZ1E,UAAAA,MAAM,CAAClH,aAAP,GAAuB,IAAvB;CACH,SAJD;CAMH,OAPD,CAOE,OAAO4L,CAAP,EAAU;CACR1E,QAAAA,MAAM,CAAClH,aAAP,GAAuB,IAAvB;CACH;CACJ,KAXD,MAWO;CACH,UAAI;CACAgJ,QAAAA,UAAU,CAACe,IAAX,GAAkBF,IAAlB,CAAuB,MAAM,EAA7B,EACGC,KADH,CACS,MAAM;CACX5C,UAAAA,MAAM,CAAClH,aAAP,GAAuB,KAAvB;CAEH,SAJD;CAKH,OAND,CAME,OAAO4L,CAAP,EAAU;CACR1E,QAAAA,MAAM,CAAClH,aAAP,GAAuB,KAAvB;CACH;CACJ;CACJ,GAvBD;CAyBAkH,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACC,aAAjB,EAAiCmO,KAAD,IAAW;CACvC,QAAIA,KAAJ,EAAW;CACPjH,MAAAA,MAAM,CAACK,UAAP,CAAkB8K,SAAlB,CAA4BC,GAA5B,CAAgC,+BAAhC;CACA,YAAM;CAACxK,QAAAA,YAAY,EAAEyK,UAAf;CAA2B3K,QAAAA,WAAW,EAAE4K;CAAxC,UAAqDxK,QAAQ,CAACyK,IAApE;CACA,YAAM;CAAC3K,QAAAA,YAAY,EAAE4K,YAAf;CAA6B9K,QAAAA,WAAW,EAAE+K;CAA1C,UAAyDzL,MAAM,CAACzH,KAAP,CAAamT,aAA5E;CACA,YAAMC,SAAS,GAAGL,SAAS,GAAGD,UAA9B;CACA,YAAMO,WAAW,GAAGH,WAAW,GAAGD,YAAlC;CACA,YAAMK,QAAQ,GAAGF,SAAS,GAAGC,WAA7B;;CACA,UAAIC,QAAJ,EAAc;CACV,cAAMC,KAAK,GAAGtL,IAAI,CAACuG,GAAL,CAASsE,UAAU,GAAGI,WAAtB,EAAmCH,SAAS,GAAGE,YAA/C,CAAd;CACAxL,QAAAA,MAAM,CAACzH,KAAP,CAAamT,aAAb,CAA2BvE,KAA3B,CAAiC4E,SAAjC,GAA8C,uBAAsBD,KAAM,IAAGA,KAAM,GAAnF;CACH;CAEJ,KAZD,MAYO;CACH9L,MAAAA,MAAM,CAACK,UAAP,CAAkB8K,SAAlB,CAA4Ba,MAA5B,CAAmC,+BAAnC;CACAhM,MAAAA,MAAM,CAACzH,KAAP,CAAamT,aAAb,CAA2BvE,KAA3B,CAAiC4E,SAAjC,GAA6C,IAA7C;CACH;CACJ,GAjBD,EA3DuB;;CA+EvB/L,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAAC0B,MAAjB,EAAyB,MAAM;CAC3ByF,IAAAA,MAAM,CAACzH,KAAP,CAAagC,MAAb;CACH,GAFD;;CAKA,MAAIyF,MAAM,CAACpB,IAAP,CAAYnJ,KAAhB,EAAuB;CACnB,UAAMwW,UAAU,GAAG,CAACpT,MAAM,CAACS,UAAR,CAAnB;CACA2G,IAAAA,MAAM,CAACiH,IAAP,CAAYrO,MAAZ,EAAoBiH,OAApB,CAA6BnC,GAAD,IAAS;CACjCqC,MAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAAC8E,GAAD,CAAhB,EAAwBsJ,KAAD,IAAW;CAC9B,YAAIgF,UAAU,CAACC,QAAX,CAAoBvO,GAApB,CAAJ,EAA8B;CAC1B;CACH;;CAEDqC,QAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,eAAjB,EAAkCX,MAAM,CAAC8E,GAAD,CAAxC,EAA+CsJ,KAA/C;CACH,OAND;CAOH,KARD;CAUAhH,IAAAA,MAAM,CAACiH,IAAP,CAAY3L,YAAZ,EAA0BuE,OAA1B,CAAmCnC,GAAD,IAAS;CACvCqC,MAAAA,MAAM,CAACuC,EAAP,CAAUhH,YAAY,CAACoC,GAAD,CAAtB,EAA8BsJ,KAAD,IAAW;CACpCjH,QAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,oBAAjB,EAAuC+B,YAAY,CAACoC,GAAD,CAAnD,EAA0DsJ,KAA1D;CACH,OAFD;CAGH,KAJD;CAKH;CACJ,CAtGD;;CCJe,MAAMkF,OAAN,CAAc;CACzB5J,EAAAA,EAAE,CAAC5D,IAAD,EAAOwC,EAAP,EAAWiL,GAAX,EAAgB;CACd,UAAM1H,CAAC,GAAG,KAAKA,CAAL,KAAW,KAAKA,CAAL,GAAS,EAApB,CAAV;CACA,KAACA,CAAC,CAAC/F,IAAD,CAAD,KAAY+F,CAAC,CAAC/F,IAAD,CAAD,GAAU,EAAtB,CAAD,EAA4BkB,IAA5B,CAAiC;CAACsB,MAAAA,EAAD;CAAKiL,MAAAA;CAAL,KAAjC;CACA,WAAO,IAAP;CACH;;CAEDC,EAAAA,IAAI,CAAC1N,IAAD,EAAOwC,EAAP,EAAWiL,GAAX,EAAgB;CAChB,UAAME,IAAI,GAAG,IAAb;;CAEA,aAASC,QAAT,GAA2B;CACvBD,MAAAA,IAAI,CAAChK,GAAL,CAAS3D,IAAT,EAAe4N,QAAf;;CADuB,wCAAN1N,IAAM;CAANA,QAAAA,IAAM;CAAA;;CAEvBsC,MAAAA,EAAE,CAACqL,KAAH,CAASJ,GAAT,EAAcvN,IAAd;CACH;;CAED0N,IAAAA,QAAQ,CAACE,CAAT,GAAatL,EAAb;CACA,WAAO,KAAKoB,EAAL,CAAQ5D,IAAR,EAAc4N,QAAd,EAAwBH,GAAxB,CAAP;CACH;;CAEDpB,EAAAA,IAAI,CAACrM,IAAD,EAAgB;CAChB,UAAM+N,MAAM,GAAG,CAAC,CAAC,KAAKhI,CAAL,KAAW,KAAKA,CAAL,GAAS,EAApB,CAAD,EAA0B/F,IAA1B,KAAmC,EAApC,EAAwCgO,KAAxC,EAAf;;CADgB,uCAANC,IAAM;CAANA,MAAAA,IAAM;CAAA;;CAEhB,SAAK,IAAItL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoL,MAAM,CAAClL,MAA3B,EAAmCF,CAAC,IAAI,CAAxC,EAA2C;CACvCoL,MAAAA,MAAM,CAACpL,CAAD,CAAN,CAAUH,EAAV,CAAaqL,KAAb,CAAmBE,MAAM,CAACpL,CAAD,CAAN,CAAU8K,GAA7B,EAAkCQ,IAAlC;CACH;;CACD,WAAO,IAAP;CACH;;CAEDtK,EAAAA,GAAG,CAAC3D,IAAD,EAAOU,QAAP,EAAiB;CAChB,UAAMqF,CAAC,GAAG,KAAKA,CAAL,KAAW,KAAKA,CAAL,GAAS,EAApB,CAAV;;CAEA,QAAI,CAAC/F,IAAL,EAAW;CACPsB,MAAAA,MAAM,CAACiH,IAAP,CAAYxC,CAAZ,EAAe5E,OAAf,CAAwBnC,GAAD,IAAS;CAC5B,eAAO+G,CAAC,CAAC/G,GAAD,CAAR;CACH,OAFD;CAGA,aAAO,KAAK+G,CAAZ;CACA;CACH;;CAED,UAAMmI,IAAI,GAAGnI,CAAC,CAAC/F,IAAD,CAAd;CACA,UAAMmO,UAAU,GAAG,EAAnB;;CACA,QAAID,IAAI,IAAIxN,QAAZ,EAAsB;CAClB,WAAK,IAAIiC,CAAC,GAAG,CAAR,EAAWyL,GAAG,GAAGF,IAAI,CAACrL,MAA3B,EAAmCF,CAAC,GAAGyL,GAAvC,EAA4CzL,CAAC,IAAI,CAAjD,EAAoD;CAChD,YAAIuL,IAAI,CAACvL,CAAD,CAAJ,CAAQH,EAAR,KAAe9B,QAAf,IAA2BwN,IAAI,CAACvL,CAAD,CAAJ,CAAQH,EAAR,CAAWsL,CAAX,KAAiBpN,QAAhD,EAA0DyN,UAAU,CAACjN,IAAX,CAAgBgN,IAAI,CAACvL,CAAD,CAApB;CAC7D;CACJ;;CACD,QAAIwL,UAAU,CAACtL,MAAf,EAAuB;CACnBkD,MAAAA,CAAC,CAAC/F,IAAD,CAAD,GAAUmO,UAAV;CACH,KAFD,MAEO;CACH,aAAOpI,CAAC,CAAC/F,IAAD,CAAR;CACH;;CACD,WAAO,IAAP;CACH;;CAnDwB;;ACA7B,oBAAgBwF,EAAD,IAAQ;CACnB,MAAI6I,kBAAkB,GAAG,CACrB,2BADqB,EAErB,4BAFqB,EAGrB,4BAHqB,EAKrB,aALqB,EAMrB,GANqB,EAOrB,0BAPqB,EAQrB,+BARqB,EASrB,GATqB,EAUvBC,IAVuB,CAUlB,IAVkB,CAAzB;CAYA,MAAIC,oBAAoB,GAAG,CACvB,wBADuB,EAEvB,kCAFuB,EAGvB,6BAHuB,EAIvB,6BAJuB,EAKvB,6BALuB,EAMvB,2BANuB,EAOvB,GAPuB,EAQvB,gDARuB,EASvB,qDATuB,EAUvB,6CAVuB,EAWvB,YAXuB,EAYvB,IAZuB,EAcvB,mBAduB,EAevB,uDAfuB,EAgBvB,uDAhBuB,EAiBvB,uDAjBuB,EAkBvB,4CAlBuB,EAmBvB,GAnBuB,EAoBzBD,IApByB,CAoBpB,IApBoB,CAA3B;CAsBA,MAAIE,YAAY,GAAGhJ,EAAE,CAACiJ,YAAH,CAAgBjJ,EAAE,CAACkJ,aAAnB,CAAnB;CACAlJ,EAAAA,EAAE,CAACmJ,YAAH,CAAgBH,YAAhB,EAA8BH,kBAA9B;CACA7I,EAAAA,EAAE,CAACoJ,aAAH,CAAiBJ,YAAjB;;CACA,MAAI,CAAChJ,EAAE,CAACqJ,kBAAH,CAAsBL,YAAtB,EAAoChJ,EAAE,CAACsJ,cAAvC,CAAL,EAA6D;CACzD3O,IAAAA,OAAO,CAACtF,GAAR,CAAY,sCAAsC2K,EAAE,CAACuJ,gBAAH,CAAoBP,YAApB,CAAlD;CACH;;CAED,MAAIQ,cAAc,GAAGxJ,EAAE,CAACiJ,YAAH,CAAgBjJ,EAAE,CAACyJ,eAAnB,CAArB;CACAzJ,EAAAA,EAAE,CAACmJ,YAAH,CAAgBK,cAAhB,EAAgCT,oBAAhC;CACA/I,EAAAA,EAAE,CAACoJ,aAAH,CAAiBI,cAAjB;;CACA,MAAI,CAACxJ,EAAE,CAACqJ,kBAAH,CAAsBG,cAAtB,EAAsCxJ,EAAE,CAACsJ,cAAzC,CAAL,EAA+D;CAC3D3O,IAAAA,OAAO,CAACtF,GAAR,CAAY,wCAAwC2K,EAAE,CAACuJ,gBAAH,CAAoBC,cAApB,CAApD;CACH;;CAED,MAAIE,OAAO,GAAG1J,EAAE,CAAC2J,aAAH,EAAd;CACA3J,EAAAA,EAAE,CAAC4J,YAAH,CAAgBF,OAAhB,EAAyBV,YAAzB;CACAhJ,EAAAA,EAAE,CAAC4J,YAAH,CAAgBF,OAAhB,EAAyBF,cAAzB;CACAxJ,EAAAA,EAAE,CAAC6J,WAAH,CAAeH,OAAf;;CACA,MAAI,CAAC1J,EAAE,CAAC8J,mBAAH,CAAuBJ,OAAvB,EAAgC1J,EAAE,CAAC+J,WAAnC,CAAL,EAAsD;CAClDpP,IAAAA,OAAO,CAACtF,GAAR,CAAY,gCAAgC2K,EAAE,CAACgK,iBAAH,CAAqBN,OAArB,CAA5C;CACH;;CAED1J,EAAAA,EAAE,CAACiK,UAAH,CAAcP,OAAd,EAzDmB;;CA4DnB,MAAIQ,eAAe,GAAGlK,EAAE,CAACmK,YAAH,EAAtB;CACAnK,EAAAA,EAAE,CAACoK,UAAH,CAAcpK,EAAE,CAACqK,YAAjB,EAA+BH,eAA/B;CACAlK,EAAAA,EAAE,CAACsK,UAAH,CAActK,EAAE,CAACqK,YAAjB,EAA+B,IAAIE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqB,CAAC,CAAtB,EAAyB,CAAC,CAA1B,CAAjB,CAA/B,EAA+EvK,EAAE,CAACwK,WAAlF;CAEA,MAAIC,YAAY,GAAGzK,EAAE,CAAC0K,iBAAH,CAAqBhB,OAArB,EAA8B,WAA9B,CAAnB;CACA1J,EAAAA,EAAE,CAAC2K,uBAAH,CAA2BF,YAA3B;CACAzK,EAAAA,EAAE,CAAC4K,mBAAH,CAAuBH,YAAvB,EAAqC,CAArC,EAAwCzK,EAAE,CAAC6K,KAA3C,EAAkD,KAAlD,EAAyD,CAAzD,EAA4D,CAA5D;CAEA,MAAIC,gBAAgB,GAAG9K,EAAE,CAACmK,YAAH,EAAvB;CACAnK,EAAAA,EAAE,CAACoK,UAAH,CAAcpK,EAAE,CAACqK,YAAjB,EAA+BS,gBAA/B;CACA9K,EAAAA,EAAE,CAACsK,UAAH,CAActK,EAAE,CAACqK,YAAjB,EAA+B,IAAIE,YAAJ,CAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,CAAjB,CAA/B,EAA2EvK,EAAE,CAACwK,WAA9E;CAEA,MAAIO,aAAa,GAAG/K,EAAE,CAAC0K,iBAAH,CAAqBhB,OAArB,EAA8B,YAA9B,CAApB;CACA1J,EAAAA,EAAE,CAAC2K,uBAAH,CAA2BI,aAA3B;CACA/K,EAAAA,EAAE,CAAC4K,mBAAH,CAAuBG,aAAvB,EAAsC,CAAtC,EAAyC/K,EAAE,CAAC6K,KAA5C,EAAmD,KAAnD,EAA0D,CAA1D,EAA6D,CAA7D;;CAEA,WAASG,YAAT,CAAsBxQ,IAAtB,EAA4ByQ,KAA5B,EAAmC;CAC/B,QAAIC,UAAU,GAAGlL,EAAE,CAACmL,aAAH,EAAjB;CACAnL,IAAAA,EAAE,CAACoL,WAAH,CAAepL,EAAE,CAACqL,UAAlB,EAA8BH,UAA9B;CACAlL,IAAAA,EAAE,CAACsL,aAAH,CAAiBtL,EAAE,CAACqL,UAApB,EAAgCrL,EAAE,CAACuL,kBAAnC,EAAuDvL,EAAE,CAACwL,MAA1D;CACAxL,IAAAA,EAAE,CAACsL,aAAH,CAAiBtL,EAAE,CAACqL,UAApB,EAAgCrL,EAAE,CAACyL,kBAAnC,EAAuDzL,EAAE,CAACwL,MAA1D;CACAxL,IAAAA,EAAE,CAACsL,aAAH,CAAiBtL,EAAE,CAACqL,UAApB,EAAgCrL,EAAE,CAAC0L,cAAnC,EAAmD1L,EAAE,CAAC2L,aAAtD;CACA3L,IAAAA,EAAE,CAACsL,aAAH,CAAiBtL,EAAE,CAACqL,UAApB,EAAgCrL,EAAE,CAAC4L,cAAnC,EAAmD5L,EAAE,CAAC2L,aAAtD;CACA3L,IAAAA,EAAE,CAACoL,WAAH,CAAepL,EAAE,CAACqL,UAAlB,EAA8B,IAA9B;CACArL,IAAAA,EAAE,CAAC6L,SAAH,CAAa7L,EAAE,CAAC8L,kBAAH,CAAsBpC,OAAtB,EAA+BlP,IAA/B,CAAb,EAAmDyQ,KAAnD;CACA,WAAOC,UAAP;CACH;;CAED,MAAIa,WAAW,GAAGf,YAAY,CAAC,UAAD,EAAa,CAAb,CAA9B;;CACA,MAAIgB,WAAW,GAAGhB,YAAY,CAAC,UAAD,EAAa,CAAb,CAA9B;;CACA,MAAIiB,WAAW,GAAGjB,YAAY,CAAC,UAAD,EAAa,CAAb,CAA9B;;CAEA,SAAO;CACHtX,IAAAA,MAAM,EAAE,UAAUwY,CAAV,EAAa5H,CAAb,EAAgB6H,CAAhB,EAAmBC,CAAnB,EAAsBC,CAAtB,EAAyB;CAC7BrM,MAAAA,EAAE,CAACsM,QAAH,CAAY,CAAZ,EAAe,CAAf,EAAkBJ,CAAlB,EAAqB5H,CAArB;CACAtE,MAAAA,EAAE,CAACuM,aAAH,CAAiBvM,EAAE,CAACwM,QAApB;CACAxM,MAAAA,EAAE,CAACoL,WAAH,CAAepL,EAAE,CAACqL,UAAlB,EAA8BU,WAA9B;CACA/L,MAAAA,EAAE,CAACyM,UAAH,CAAczM,EAAE,CAACqL,UAAjB,EAA6B,CAA7B,EAAgCrL,EAAE,CAAC0M,SAAnC,EAA8CR,CAA9C,EAAiD5H,CAAjD,EAAoD,CAApD,EAAuDtE,EAAE,CAAC0M,SAA1D,EAAqE1M,EAAE,CAAC2M,aAAxE,EAAuFR,CAAvF;CACAnM,MAAAA,EAAE,CAACuM,aAAH,CAAiBvM,EAAE,CAAC4M,QAApB;CACA5M,MAAAA,EAAE,CAACoL,WAAH,CAAepL,EAAE,CAACqL,UAAlB,EAA8BW,WAA9B;CACAhM,MAAAA,EAAE,CAACyM,UAAH,CAAczM,EAAE,CAACqL,UAAjB,EAA6B,CAA7B,EAAgCrL,EAAE,CAAC0M,SAAnC,EAA8CR,CAAC,GAAG,CAAlD,EAAqD5H,CAAC,GAAG,CAAzD,EAA4D,CAA5D,EAA+DtE,EAAE,CAAC0M,SAAlE,EAA6E1M,EAAE,CAAC2M,aAAhF,EAA+FP,CAA/F;CACApM,MAAAA,EAAE,CAACuM,aAAH,CAAiBvM,EAAE,CAAC6M,QAApB;CACA7M,MAAAA,EAAE,CAACoL,WAAH,CAAepL,EAAE,CAACqL,UAAlB,EAA8BY,WAA9B;CACAjM,MAAAA,EAAE,CAACyM,UAAH,CAAczM,EAAE,CAACqL,UAAjB,EAA6B,CAA7B,EAAgCrL,EAAE,CAAC0M,SAAnC,EAA8CR,CAAC,GAAG,CAAlD,EAAqD5H,CAAC,GAAG,CAAzD,EAA4D,CAA5D,EAA+DtE,EAAE,CAAC0M,SAAlE,EAA6E1M,EAAE,CAAC2M,aAAhF,EAA+FN,CAA/F;CACArM,MAAAA,EAAE,CAAC8M,UAAH,CAAc9M,EAAE,CAAC+M,cAAjB,EAAiC,CAAjC,EAAoC,CAApC;CACH,KAbE;CAcHrW,IAAAA,OAAO,EAAE,YAAY;CACjB,UAAI;CACAsJ,QAAAA,EAAE,CAACgN,aAAH,CAAiBtD,OAAjB;CAEA1J,QAAAA,EAAE,CAACiN,YAAH,CAAgB/C,eAAhB;CACAlK,QAAAA,EAAE,CAACiN,YAAH,CAAgBnC,gBAAhB;CAEA9K,QAAAA,EAAE,CAACkN,aAAH,CAAiBnB,WAAjB;CACA/L,QAAAA,EAAE,CAACkN,aAAH,CAAiBlB,WAAjB;CACAhM,QAAAA,EAAE,CAACiN,YAAH,CAAgBhB,WAAhB;CACH,OATD,CASE,OAAO1L,CAAP,EAAU;CAEX;CAEJ;CA5BE,GAAP;CA8BH,CA1HD;;CCGe,MAAM4M,cAAN,SAA2BnF,OAA3B,CAAmC;CAC9C1N,EAAAA,WAAW,GAAG;CACV;CACA,SAAK9G,IAAL,GAAY,KAAZ;CACH,GAJ6C;;;CAO9C4Z,EAAAA,eAAe,CAAC3E,IAAD,EAAO;CAClB,QAAIA,IAAI,CAAC4E,WAAT,EAAsB;CAClB,WAAKnY,SAAL,CAAeoY,OAAf,GAAyBpV,cAAc,CAACuQ,IAAI,CAAC4E,WAAN,CAAvC;CACH;;CAED,QAAI5E,IAAI,CAACrM,KAAT,EAAgB;CACZ,WAAKlH,SAAL,CAAekH,KAAf,GAAuBqM,IAAI,CAACrM,KAA5B;CACH;;CAED,QAAIqM,IAAI,CAACjM,MAAT,EAAiB;CACb,WAAKtH,SAAL,CAAesH,MAAf,GAAwBiM,IAAI,CAACjM,MAA7B;CACH,KAXiB;;;CAclB,QAAI,KAAKtH,SAAL,CAAeoY,OAAf,IAA0B,KAAKpY,SAAL,CAAesH,MAAzC,IAAmD,KAAKtH,SAAL,CAAekH,KAAlE,IAA2E,CAAC,KAAK5I,IAArF,EAA2F;CACvF,WAAKqI,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACQ,SAAxB,EAAmC,KAAKA,SAAxC;CACA,WAAK1B,IAAL,GAAY,IAAZ;CACH;CACJ;;CAzB6C;;CCGnC,MAAM+Z,iBAAN,SAAgCJ,cAAhC,CAA6C;CAExD7S,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,UAAMsJ,cAAc,GAAGxI,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAvB;CACAyD,IAAAA,cAAc,CAACnC,KAAf,CAAqBwK,QAArB,GAAgC,UAAhC;CACArI,IAAAA,cAAc,CAACnC,KAAf,CAAqByK,GAArB,GAA2B,CAA3B;CACAtI,IAAAA,cAAc,CAACnC,KAAf,CAAqB0K,IAArB,GAA4B,CAA5B;CACA,SAAKnG,aAAL,GAAqBpC,cAArB;CACAtJ,IAAAA,MAAM,CAACK,UAAP,CAAkByR,WAAlB,CAA8B,KAAKpG,aAAnC;CAEA,SAAKqG,SAAL,GAAiB,IAAjB;CACA,SAAKC,SAAL,GAAiB,IAAjB;CACA,SAAKC,eAAL,GAAuB,IAAvB;CACA,SAAKC,gBAAL,GAAwB,IAAxB;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKC,UAAL,GAAkB,IAAlB;CACA,SAAK/Y,SAAL,GAAiB;CACbkH,MAAAA,KAAK,EAAE,EADM;CAEbI,MAAAA,MAAM,EAAE,EAFK;CAGb8Q,MAAAA,OAAO,EAAE;CAHI,KAAjB,CAhBgB;;CAsBhB,SAAKY,iBAAL;;CACA,SAAKrS,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,aAAtB,EAAqC,MAArC;CACH;;CAEDqB,EAAAA,OAAO,GAAG;CACN,QAAI,KAAKmX,SAAT,EAAoB;CAChB,WAAKA,SAAL,GAAiB,IAAjB;CACH;;CAED,QAAI,KAAKD,SAAT,EAAoB;CAChB,WAAKA,SAAL,GAAiB,IAAjB;CACH;;CAED,QAAI,KAAKE,eAAT,EAA0B;CACtB,WAAKC,gBAAL,IAAyB,KAAKA,gBAAL,EAAzB;CACA,WAAKA,gBAAL,GAAwB,IAAxB;CACA,WAAKD,eAAL,GAAuB,IAAvB;CACH;;CACD,QAAI,KAAKE,cAAT,EAAyB;CACrB,WAAKA,cAAL,GAAsB,IAAtB;CACH;;CAED,SAAKC,UAAL,GAAkB,IAAlB;CAEA,SAAK/Y,SAAL,GAAiB;CACbkH,MAAAA,KAAK,EAAE,EADM;CAEbI,MAAAA,MAAM,EAAE,EAFK;CAGb8Q,MAAAA,OAAO,EAAE,EAHI;CAIbD,MAAAA,WAAW,EAAE;CAJA,KAAjB;CAOA,SAAKxR,MAAL,CAAYK,UAAZ,CAAuBiS,WAAvB,CAAmC,KAAK5G,aAAxC;CACA,SAAK/T,IAAL,GAAY,KAAZ;CACA,SAAK2K,GAAL;CACA,SAAKtC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAuB,mBAAvB,EAA2C,SAA3C;CACH;;CAGD+Y,EAAAA,cAAc,GAAG;CACb,SAAKP,SAAL,GAAiB9N,eAAe,CAAC,KAAKwH,aAAN,CAAhC;CACA,UAAMlO,KAAK,GAAGgV,WAAW,CAAC,KAAKR,SAAN,CAAzB;CACA,SAAKC,eAAL,GAAuBzU,KAAK,CAAC3F,MAA7B;CACA,SAAKqa,gBAAL,GAAwB1U,KAAK,CAAC3C,OAA9B;CACH;;CAED4X,EAAAA,cAAc,GAAG;CACb,SAAKV,SAAL,GAAiB,KAAKrG,aAAL,CAAmBjH,UAAnB,CAA8B,IAA9B,CAAjB;CACH,GAvEuD;;;CA2ExD4N,EAAAA,iBAAiB,GAAG;CAChB,QAAI,KAAKrS,MAAL,CAAYpB,IAAZ,CAAiBrH,MAAjB,IAA2B,CAAC,KAAKmb,iBAAL,EAAhC,EAA0D;CACtD,WAAKN,UAAL,GAAkB9U,kBAAkB,CAACC,SAArC;;CACA,WAAKkV,cAAL;CACH,KAHD,MAGO,IAAI,KAAKC,iBAAL,EAAJ,EAA8B;CACjC,WAAKN,UAAL,GAAkB9U,kBAAkB,CAACG,SAArC;;CACA,WAAKkV,cAAL;CACH,KAHM,MAGA;CACH,WAAKP,UAAL,GAAkB9U,kBAAkB,CAACE,KAArC;;CACA,WAAK+U,cAAL;CACH;CACJ;;CAEDG,EAAAA,iBAAiB,GAAG;CAChB,WAAO7O,gBAAgB,CAAC,KAAK6H,aAAN,CAAhB,IAAwC,KAAK1L,MAAL,CAAYpB,IAAZ,CAAiBnH,YAAhE;CACH,GA1FuD;;;CA6FxDkb,EAAAA,cAAc,GAAG;CACb,SAAKR,cAAL,GAAsB,KAAKzG,aAAL,CAAmBjH,UAAnB,CAA8B,gBAA9B,CAAtB;CACH;;CAEDmO,EAAAA,kBAAkB,GAAG;CACjB,SAAKlH,aAAL,CAAmBnL,KAAnB,GAA2B,KAAKlH,SAAL,CAAekH,KAA1C;CACA,SAAKmL,aAAL,CAAmB/K,MAAnB,GAA4B,KAAKtH,SAAL,CAAesH,MAA3C;CACA,SAAKpG,MAAL;CACH,GArGuD;;;CAwGxD1C,EAAAA,MAAM,CAACgb,GAAD,EAAM;CACR,SAAK7S,MAAL,CAAY6K,cAAZ,GAA6BgI,GAAG,CAACC,EAAjC;;CACA,YAAQ,KAAKV,UAAb;CACI,WAAK9U,kBAAkB,CAACG,SAAxB;CACI,aAAK0U,cAAL,CAAoBY,uBAApB,CAA4CF,GAAG,CAAC1Y,MAAhD;CACA;;CACJ,WAAKmD,kBAAkB,CAACE,KAAxB;CACI,aAAKyU,eAAL,CAAqB,KAAKvG,aAAL,CAAmBnL,KAAxC,EAA+C,KAAKmL,aAAL,CAAmB/K,MAAlE,EAA0EkS,GAAG,CAACG,MAAJ,CAAW,CAAX,CAA1E,EAAyFH,GAAG,CAACG,MAAJ,CAAW,CAAX,CAAzF,EAAwGH,GAAG,CAACG,MAAJ,CAAW,CAAX,CAAxG;CACA;;CACJ,WAAK1V,kBAAkB,CAACC,SAAxB;CACI,aAAKwU,SAAL,CAAekB,SAAf,CAAyBJ,GAAG,CAACzY,UAA7B,EAAyC,CAAzC,EAA4C,CAA5C,EAA+C,KAAKsR,aAAL,CAAmBnL,KAAlE,EAAyE,KAAKmL,aAAL,CAAmB/K,MAA5F;CACA;CATR;CAWH;;CAEDlK,EAAAA,UAAU,CAACyc,QAAD,EAAWC,MAAX,EAAmBC,OAAnB,EAA4BlO,IAA5B,EAAkC;CACxCgO,IAAAA,QAAQ,GAAGA,QAAQ,IAAI/M,GAAG,EAA1B;CACAjB,IAAAA,IAAI,GAAGA,IAAI,IAAIjJ,eAAe,CAACC,QAA/B;CACA,UAAMmX,UAAU,GAAG;CACfC,MAAAA,GAAG,EAAE,WADU;CAEfC,MAAAA,IAAI,EAAE,YAFS;CAGfC,MAAAA,IAAI,EAAE;CAHS,KAAnB;CAKA,QAAIC,cAAc,GAAG,IAArB;;CACA,QAAI,CAACJ,UAAU,CAACF,MAAD,CAAX,IAAuBlX,eAAe,CAACkX,MAAD,CAA1C,EAAoD;CAChDjO,MAAAA,IAAI,GAAGiO,MAAP;CACAA,MAAAA,MAAM,GAAG,KAAT;CACAC,MAAAA,OAAO,GAAGxJ,SAAV;CACH;;CAED,QAAI,OAAOwJ,OAAP,KAAmB,QAAvB,EAAiC;CAC7BlO,MAAAA,IAAI,GAAGkO,OAAP;CACAA,MAAAA,OAAO,GAAGxJ,SAAV;CACH;;CAED,QAAI,OAAOwJ,OAAP,KAAmB,WAAvB,EAAoC;CAChCK,MAAAA,cAAc,GAAGC,MAAM,CAACN,OAAD,CAAvB;CACH;;CACD,UAAMvO,OAAO,GAAG,KAAK6G,aAAL,CAAmBiI,SAAnB,CAA6BN,UAAU,CAACF,MAAD,CAAV,IAAsBE,UAAU,CAACC,GAA9D,EAAmEG,cAAnE,CAAhB;CAEA,UAAMG,IAAI,GAAGhP,aAAa,CAACC,OAAD,CAA1B;;CACA,QAAIK,IAAI,KAAKjJ,eAAe,CAACE,MAA7B,EAAqC;CACjC,aAAO0I,OAAP;CACH,KAFD,MAEO,IAAIK,IAAI,KAAKjJ,eAAe,CAACG,IAA7B,EAAmC;CACtC,aAAOwX,IAAP;CACH,KAFM,MAEA,IAAI1O,IAAI,KAAKjJ,eAAe,CAACC,QAA7B,EAAuC;CAC1CuJ,MAAAA,WAAW,CAACmO,IAAD,EAAOV,QAAP,CAAX;CACH;CACJ,GAxJuD;;;CA2JxDW,EAAAA,SAAS,GAAG;CACR,YAAQ,KAAKzB,UAAb;CACI,WAAK9U,kBAAkB,CAACG,SAAxB;CACI4L,QAAAA,sBAAsB,CAAC,KAAKqC,aAAL,CAAmBnL,KAApB,EAA2B,KAAKmL,aAAL,CAAmB/K,MAA9C,CAAtB,CAA4EgC,IAA5E,CAAkFmR,WAAD,IAAiB;CAC9F,eAAK3B,cAAL,CAAoBY,uBAApB,CAA4Ce,WAA5C;CACH,SAFD;CAGA;;CACJ,WAAKxW,kBAAkB,CAACE,KAAxB;CACI,aAAKwU,SAAL,CAAe+B,KAAf,CAAqB,KAAK/B,SAAL,CAAegC,gBAApC;CACA;;CACJ,WAAK1W,kBAAkB,CAACC,SAAxB;CACI,aAAKwU,SAAL,CAAekC,SAAf,CAAyB,CAAzB,EAA4B,CAA5B,EAA+B,KAAKvI,aAAL,CAAmBnL,KAAlD,EAAyD,KAAKmL,aAAL,CAAmB/K,MAA5E;CACA;CAXR;CAaH;;CAEDpG,EAAAA,MAAM,GAAG;CACL,SAAKyF,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,aAAtB,EAAqC,QAArC;CACA,UAAM8F,MAAM,GAAG,KAAKU,MAAL,CAAYpB,IAA3B;CACA,UAAM2B,KAAK,GAAG,KAAKP,MAAL,CAAYO,KAA1B;CACA,QAAII,MAAM,GAAG,KAAKX,MAAL,CAAYW,MAAzB;;CACA,QAAIrB,MAAM,CAACzI,UAAX,EAAuB;CACnB8J,MAAAA,MAAM,IAAI7D,cAAV;CACH;;CACD,QAAIoX,WAAW,GAAG,KAAKxI,aAAL,CAAmBnL,KAArC;CACA,QAAI4T,YAAY,GAAG,KAAKzI,aAAL,CAAmB/K,MAAtC;CACA,UAAMzJ,MAAM,GAAGoI,MAAM,CAACpI,MAAtB;CACA,QAAI2a,IAAI,GAAI,CAACtR,KAAK,GAAG2T,WAAT,IAAwB,CAApC;CACA,QAAItC,GAAG,GAAI,CAACjR,MAAM,GAAGwT,YAAV,IAA0B,CAArC;;CACA,QAAIjd,MAAM,KAAK,GAAX,IAAkBA,MAAM,KAAK,EAAjC,EAAqC;CACjCgd,MAAAA,WAAW,GAAG,KAAKxI,aAAL,CAAmB/K,MAAjC;CACAwT,MAAAA,YAAY,GAAG,KAAKzI,aAAL,CAAmBnL,KAAlC;CACH;;CAED,UAAM6T,MAAM,GAAG7T,KAAK,GAAG2T,WAAvB;CACA,UAAMG,MAAM,GAAG1T,MAAM,GAAGwT,YAAxB;CAEA,QAAIrI,KAAK,GAAGsI,MAAM,GAAGC,MAAT,GAAkBA,MAAlB,GAA2BD,MAAvC,CArBK;;CAuBL,QAAI,CAAC9U,MAAM,CAAChK,QAAZ,EAAsB;CAClB,UAAI8e,MAAM,KAAKC,MAAf,EAAuB;CACnBvI,QAAAA,KAAK,GAAGsI,MAAM,GAAG,GAAT,GAAeC,MAAvB;CACH;CACJ,KA3BI;;;CA6BL,QAAI/U,MAAM,CAAC/J,YAAX,EAAyB;CACrBuW,MAAAA,KAAK,GAAGsI,MAAM,GAAGC,MAAT,GAAkBD,MAAlB,GAA2BC,MAAnC;CACH;;CACD,QAAItI,SAAS,GAAG,WAAWD,KAAX,GAAmB,GAAnC;;CAEA,QAAI5U,MAAJ,EAAY;CACR6U,MAAAA,SAAS,IAAI,aAAa7U,MAAb,GAAsB,MAAnC;CACH;;CAED,SAAKwU,aAAL,CAAmBvE,KAAnB,CAAyB4E,SAAzB,GAAqCA,SAArC;CACA,SAAKL,aAAL,CAAmBvE,KAAnB,CAAyB0K,IAAzB,GAAgCA,IAAI,GAAG,IAAvC;CACA,SAAKnG,aAAL,CAAmBvE,KAAnB,CAAyByK,GAAzB,GAA+BA,GAAG,GAAG,IAArC;CACH;;CApNuD;;CCJrD,SAAS0C,mBAAT,CAA6BC,OAA7B,EAAsC9I,WAAtC,EAAmD;CACtD,SAAO,SAAS+I,aAAT,CAAwBC,WAAxB,EAAqClU,KAArC,EAAkE;CAAA,QAAtBmU,UAAsB,uEAAT,OAAS;;CACrE,QAAIH,OAAO,IAAIA,OAAO,CAACE,WAAD,CAAtB,EAAqC;CACjCzN,MAAAA,QAAQ,CACJuN,OAAO,CAACE,WAAD,CADH,EAEJ,SAFI,EAGHhJ,WAAW,GAAGlL,KAAf,GAAwB,MAAxB,GAAiCmU,UAH7B,CAAR;CAKH;CACJ,GARD;CASH;;CCLc,MAAMC,WAAN,SAA0BrD,cAA1B,CAAuC;CAClD7S,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,UAAM0L,aAAa,GAAG5K,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAtB;CACA6F,IAAAA,aAAa,CAACkJ,KAAd,GAAsB,IAAtB;CACAlJ,IAAAA,aAAa,CAACvE,KAAd,CAAoBwK,QAApB,GAA+B,UAA/B;CACAjG,IAAAA,aAAa,CAACvE,KAAd,CAAoByK,GAApB,GAA0B,CAA1B;CACAlG,IAAAA,aAAa,CAACvE,KAAd,CAAoB0K,IAApB,GAA2B,CAA3B;CACAnG,IAAAA,aAAa,CAACmJ,YAAd,CAA2B,YAA3B,EAAyCzO,IAAI,CAACD,GAAL,EAAzC;;CACA,QAAI,CAACnG,MAAM,CAACpB,IAAP,CAAYtI,SAAjB,EAA4B;CACxB0J,MAAAA,MAAM,CAACK,UAAP,CAAkByR,WAAlB,CAA8BpG,aAA9B;CACH;;CACD1L,IAAAA,MAAM,CAACK,UAAP,CAAkBqL,aAAlB,GAAkCA,aAAlC;CACA,SAAKA,aAAL,GAAqBA,aAArB;CACA,SAAKrS,SAAL,GAAiB;CACbkH,MAAAA,KAAK,EAAE,EADM;CAEbI,MAAAA,MAAM,EAAE,EAFK;CAGb8Q,MAAAA,OAAO,EAAE;CAHI,KAAjB;CAKA,SAAKlX,MAAL;CAEA,UAAM;CAAC2E,MAAAA;CAAD,QAAU,KAAKc,MAAL,CAAYiL,MAA5B;CAEA/L,IAAAA,KAAK,CAAC,KAAKwM,aAAN,EAAqB,SAArB,EAAgC,MAAM;CACvC;CACA,WAAK1L,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,OAAtB,EAA+B,SAA/B;CACH,KAHI,CAAL;CAKA0F,IAAAA,KAAK,CAAC,KAAKwM,aAAN,EAAqB,SAArB,EAAgC,MAAM;CACvC,WAAK1L,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACqC,YAAxB;CACH,KAFI,CAAL;CAIAgE,IAAAA,KAAK,CAAC,KAAKwM,aAAN,EAAqB,YAArB,EAAoC3L,KAAD,IAAW;CAElD,KAFI,CAAL,CAhCgB;CAqChB;CACA;CACA;CACR;CACQ;CACA;CACA;CACA;CACR;CACQ;CACA;CACA;CACA;;CAEA,SAAKC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,OAAtB,EAA+B,MAA/B;CACH;;CAEDqB,EAAAA,OAAO,GAAG;CACN,QAAI,KAAK6Q,aAAL,IAAsB,KAAK1L,MAAL,CAAYK,UAAZ,CAAuByU,QAAvB,CAAgC,KAAKpJ,aAArC,CAA1B,EAA+E;CAC3E,WAAK1L,MAAL,CAAYK,UAAZ,CAAuBiS,WAAvB,CAAmC,KAAK5G,aAAxC;CACH;;CACD,SAAKA,aAAL,GAAqB,IAArB;CACA,SAAK/T,IAAL,GAAY,KAAZ;CACA,SAAK2K,GAAL;CACA,SAAKtC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,OAAtB,EAA+B,SAA/B;CACH;;CAED9C,EAAAA,IAAI,GAAG;CACH;CACA,SAAKgV,aAAL,CAAmBhV,IAAnB;CACH;;CAEDmd,EAAAA,SAAS,GAAG;;CAIZpd,EAAAA,UAAU,CAACyc,QAAD,EAAWC,MAAX,EAAmBC,OAAnB,EAA4BlO,IAA5B,EAAkC;CACxCgO,IAAAA,QAAQ,GAAGA,QAAQ,IAAI/M,GAAG,EAA1B;CACAjB,IAAAA,IAAI,GAAGA,IAAI,IAAIjJ,eAAe,CAACC,QAA/B;CACA,UAAMmX,UAAU,GAAG;CACfC,MAAAA,GAAG,EAAE,WADU;CAEfC,MAAAA,IAAI,EAAE,YAFS;CAGfC,MAAAA,IAAI,EAAE;CAHS,KAAnB;CAKA,QAAIC,cAAc,GAAG,IAArB;;CACA,QAAI,CAACJ,UAAU,CAACF,MAAD,CAAX,IAAuBlX,eAAe,CAACkX,MAAD,CAA1C,EAAoD;CAChDjO,MAAAA,IAAI,GAAGiO,MAAP;CACAA,MAAAA,MAAM,GAAG,KAAT;CACAC,MAAAA,OAAO,GAAGxJ,SAAV;CACH;;CACD,QAAI,OAAOwJ,OAAP,KAAmB,QAAvB,EAAiC;CAC7BlO,MAAAA,IAAI,GAAGkO,OAAP;CACAA,MAAAA,OAAO,GAAGxJ,SAAV;CACH;;CAED,QAAI,OAAOwJ,OAAP,KAAmB,WAAvB,EAAoC;CAChCK,MAAAA,cAAc,GAAGC,MAAM,CAACN,OAAD,CAAvB;CACH;;CACD,UAAM2B,MAAM,GAAG,KAAKrJ,aAApB;CACA,QAAIsJ,MAAM,GAAGlU,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACAmP,IAAAA,MAAM,CAACzU,KAAP,GAAewU,MAAM,CAACE,UAAtB;CACAD,IAAAA,MAAM,CAACrU,MAAP,GAAgBoU,MAAM,CAACG,WAAvB;CACA,UAAMC,OAAO,GAAGH,MAAM,CAACvQ,UAAP,CAAkB,IAAlB,CAAhB;CACA0Q,IAAAA,OAAO,CAAClC,SAAR,CAAkB8B,MAAlB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgCC,MAAM,CAACzU,KAAvC,EAA8CyU,MAAM,CAACrU,MAArD;CACA,UAAMkE,OAAO,GAAGmQ,MAAM,CAACrB,SAAP,CAAiB1X,eAAe,CAACkX,MAAD,CAAf,IAA2BlX,eAAe,CAACqX,GAA5D,EAAiEG,cAAjE,CAAhB;CACA,UAAMG,IAAI,GAAGhP,aAAa,CAACC,OAAD,CAA1B;;CACA,QAAIK,IAAI,KAAKjJ,eAAe,CAACE,MAA7B,EAAqC;CACjC,aAAO0I,OAAP;CACH,KAFD,MAEO,IAAIK,IAAI,KAAKjJ,eAAe,CAACG,IAA7B,EAAmC;CACtC,aAAOwX,IAAP;CACH,KAFM,MAEA,IAAI1O,IAAI,KAAKjJ,eAAe,CAACC,QAA7B,EAAuC;CAC1CuJ,MAAAA,WAAW,CAACmO,IAAD,EAAOV,QAAP,CAAX;CACH;CACJ;;CAEDN,EAAAA,kBAAkB,GAAG;CACjB,SAAKrY,MAAL;CACH;;CAEDA,EAAAA,MAAM,GAAG;CACL,UAAMga,OAAO,GAAG,KAAKvU,MAAL,CAAYuU,OAA5B;CACA,UAAM9I,WAAW,GAAG,KAAKzL,MAAL,CAAYO,KAAhC;CACA,SAAKmL,aAAL,CAAmBnL,KAAnB,GAA2BkL,WAA3B;CACA,SAAKC,aAAL,CAAmB/K,MAAnB,GAA4B,KAAKX,MAAL,CAAYpB,IAAZ,CAAiB/H,UAAjB,GAA8B,KAAKmJ,MAAL,CAAYW,MAAZ,GAAqB7D,cAAnD,GAAoE,KAAKkD,MAAL,CAAYW,MAA5G;CACA,UAAMrB,MAAM,GAAG,KAAKU,MAAL,CAAYpB,IAA3B;CACA,QAAIwW,UAAU,GAAG,SAAjB;CACA,UAAMle,MAAM,GAAGoI,MAAM,CAACpI,MAAtB;CACA,UAAMsd,aAAa,GAAGF,mBAAmB,CAACC,OAAD,EAAU9I,WAAV,CAAzC,CARK;CAWL;CAEA;;CACA,QAAI,CAACnM,MAAM,CAAChK,QAAZ,EAAsB;CAClB8f,MAAAA,UAAU,GAAG,MAAb;CACH,KAhBI;;;CAmBL,QAAI9V,MAAM,CAAC/J,YAAX,EAAyB;CACrB6f,MAAAA,UAAU,GAAG,MAAb;CACH;;CACD,SAAK1J,aAAL,CAAmBvE,KAAnB,CAAyBkO,SAAzB,GAAqCD,UAArC;CACA,UAAMrJ,SAAS,GAAG,KAAKL,aAAL,CAAmBvE,KAAnB,CAAyB4E,SAA3C;;CACA,QAAIA,SAAJ,EAAe;CACX,WAAKL,aAAL,CAAmBvE,KAAnB,CAAyB4E,SAAzB,GAAqCA,SAArC;CACH,KAFD,MAEO;CACH,WAAKL,aAAL,CAAmBvE,KAAnB,CAAyB4E,SAAzB,GAAqC,YAAY7U,MAAZ,GAAqB,MAA1D;CACH;CAED;CACR;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEQsd,IAAAA,aAAa,CAAC,aAAD,EAAgB,GAAhB,CAAb;;CAEA,QAAIlV,MAAM,CAAC/I,WAAP,CAAmBwV,SAAvB,EAAkC;CAC9B,UAAIwI,OAAO,IAAIA,OAAO,CAACe,QAAvB,EAAiC;CAC7Bd,QAAAA,aAAa,CAAC,iBAAD,EAAoB,GAApB,CAAb;CACH,OAFD,MAEO;CACHA,QAAAA,aAAa,CAAC,WAAD,EAAc,GAAd,CAAb;CACH;;CACDA,MAAAA,aAAa,CAAC,eAAD,EAAkB,GAAlB,CAAb;CACH;;CAED,QAAIlV,MAAM,CAAC/I,WAAP,CAAmBwV,SAAvB,EAAkC;CAC9B,UAAIwI,OAAO,IAAIA,OAAO,CAACxI,SAAvB,EAAkC;CAC9ByI,QAAAA,aAAa,CAAC,kBAAD,EAAqB,GAArB,CAAb;CACH,OAFD,MAEO;CACHA,QAAAA,aAAa,CAAC,YAAD,EAAe,GAAf,CAAb;CACH;CACJ;;CAED,QAAIlV,MAAM,CAAC/I,WAAP,CAAmBgf,IAAvB,EAA6B;CACzB,UAAIhB,OAAO,IAAIA,OAAO,CAACgB,IAAR,IAAgB,CAA/B,EAAkC;CAC9Bf,QAAAA,aAAa,CAAC,cAAD,EAAiB,GAAjB,CAAb;CACAA,QAAAA,aAAa,CAAC,qBAAD,EAAwB,GAAxB,CAAb;CACH,OAHD,MAGO,IAAID,OAAO,IAAIA,OAAO,CAACgB,IAAR,GAAe,CAA1B,IAA+BhB,OAAO,CAACgB,IAAR,GAAe,CAAlD,EAAqD;CACxDf,QAAAA,aAAa,CAAC,oBAAD,EAAuB,GAAvB,CAAb;CACAA,QAAAA,aAAa,CAAC,qBAAD,EAAwB,GAAxB,CAAb;CACH,OAHM,MAGA;CACHA,QAAAA,aAAa,CAAC,oBAAD,EAAuB,GAAvB,CAAb;CACAA,QAAAA,aAAa,CAAC,eAAD,EAAkB,GAAlB,CAAb;CACH;CACJ;;CAED,QAAIlV,MAAM,CAAC/I,WAAP,CAAmBG,IAAvB,EAA6B;CACzB,UAAI,KAAKsJ,MAAL,CAAYhH,OAAhB,EAAyB;CACrBwb,QAAAA,aAAa,CAAC,QAAD,EAAW,GAAX,EAAgB,MAAhB,CAAb;CACH,OAFD,MAEO;CACHA,QAAAA,aAAa,CAAC,OAAD,EAAU,GAAV,EAAe,MAAf,CAAb;CACH;CACJ;;CAED,QAAIlV,MAAM,CAAC/I,WAAP,CAAmBI,KAAvB,EAA8B;CAC1B,UAAI,KAAKqJ,MAAL,CAAYrJ,KAAZ,IAAqB,KAAKqJ,MAAL,CAAYrJ,KAAZ,CAAkB6e,MAAlB,GAA2B,CAApD,EAAuD;CACnDhB,QAAAA,aAAa,CAAC,WAAD,EAAc,GAAd,EAAmB,MAAnB,CAAb;CACH,OAFD,MAEO;CACHA,QAAAA,aAAa,CAAC,YAAD,EAAe,GAAf,EAAoB,MAApB,CAAb;CACH;CACJ;;CAED,QAAI,KAAKxU,MAAL,CAAYyV,QAAZ,IAAwB,KAAKzV,MAAL,CAAYlG,SAAxC,EAAmD;CAC/C0a,MAAAA,aAAa,CAAC,aAAD,EAAgB,GAAhB,CAAb;CACH,KAFD,MAEO;CACHA,MAAAA,aAAa,CAAC,SAAD,EAAY,GAAZ,CAAb;CACH;;CAED,QAAI,KAAKxU,MAAL,IAAe,KAAKA,MAAL,CAAYuU,OAA/B,EAAwC;CACpC;CACA,WAAKvU,MAAL,CAAYuU,OAAZ,CAAoBvJ,IAApB,CAAyB,QAAzB,EAAmC,KAAKU,aAAxC;CACH,KAlGI;;CAoGR;;CAEDgK,EAAAA,WAAW,CAAE1V,MAAF,EAAU;CACjB,WAAO,IAAI2U,WAAJ,CAAgB3U,MAAhB,CAAP;CACH;;CAED2V,EAAAA,UAAU,GAAI;CACV,QAAI,KAAK3V,MAAL,CAAYK,UAAZ,IAA0B,KAAKL,MAAL,CAAYK,UAAZ,CAAuBqL,aAArD,EAAoE;CAChE,UAAIqJ,MAAM,GAAG,KAAK/U,MAAL,CAAYK,UAAZ,CAAuBqL,aAApC,CADgE;;CAIhE,UAAIqJ,MAAJ,EAAY;CACR;CACA,aAAKla,OAAL;CACA,aAAKmF,MAAL,CAAYK,UAAZ,CAAuBqL,aAAvB,GAAuC,IAAvC;CACA,aAAKA,aAAL,GAAqB,IAArB;CACA,aAAKrS,SAAL,GAAiB,IAAjB;CACA,aAAK2G,MAAL,CAAYzH,KAAZ,GAAoB,IAApB;CACA,aAAKyH,MAAL,CAAYzH,KAAZ,GAAoB,IAAIoc,WAAJ,CAAgB,KAAK3U,MAArB,CAApB;CACH;CACJ;CACJ;;CAED4V,EAAAA,YAAY,CAAEC,SAAF,EAAa;CACrB,QAAI,KAAK7V,MAAL,CAAYK,UAAZ,IAA0BwV,SAA9B,EAAyC;CACrC;CACA;CACA,UAAI,KAAK7V,MAAL,CAAYK,UAAZ,CAAuByU,QAAvB,CAAgCe,SAAhC,CAAJ,EAAgD;CAC5C,aAAK7V,MAAL,CAAYK,UAAZ,CAAuBiS,WAAvB,CAAmCuD,SAAnC;CACH;;CAED,WAAKle,IAAL,GAAY,KAAZ;CACA,WAAK2K,GAAL;CACA,WAAKtC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,OAAtB,EAA+B,SAA/B;CACAqc,MAAAA,SAAS,GAAG,IAAZ;CACH;CACJ;;CA7PiD;;CCJvC,MAAMC,OAAN,CAAY;CACvBrX,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAM+V,MAAM,GAAGD,OAAK,CAACE,gBAAN,CAAuBhW,MAAM,CAACpB,IAA9B,CAAf;CACA,WAAO,IAAImX,MAAJ,CAAW/V,MAAX,CAAP;CACH;;CAEsB,SAAhBgW,gBAAgB,CAACC,GAAD,EAAM;CACzB,QAAIA,GAAG,CAACze,MAAR,EAAgB;CACZ,aAAOmd,WAAP;CACH,KAFD,MAEO;CACH,aAAOjD,iBAAP;CACH;CACJ;;CAZsB;;CCCZ,MAAMwE,kBAAN,SAAiC/J,OAAjC,CAAyC;CACpD1N,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKmW,UAAL,GAAkB,EAAlB;CACA,SAAKnW,MAAL,GAAcA,MAAd;CACA,SAAKoW,UAAL,GAAkB,IAAlB;CACA,SAAKC,iBAAL,GAAyB,KAAzB;CACA,SAAKC,mBAAL,GAA2B,IAA3B;CAEA,SAAKC,YAAL,GAAoB,KAAKxV,MAAM,CAACyV,YAAP,IAAuBzV,MAAM,CAAC0V,kBAAnC,GAApB,CARgB;;CAUhB,SAAKC,QAAL,GAAgB,KAAKH,YAAL,CAAkBI,UAAlB,EAAhB,CAVgB;CAYhB;;CACA,UAAMC,MAAM,GAAG,KAAKL,YAAL,CAAkBM,kBAAlB,EAAf,CAbgB;;CAehBD,IAAAA,MAAM,CAACzc,MAAP,GAAgB,KAAKoc,YAAL,CAAkBjI,YAAlB,CAA+B,CAA/B,EAAkC,CAAlC,EAAqC,KAArC,CAAhB,CAfgB;CAiBhB;;CACAsI,IAAAA,MAAM,CAACE,OAAP,CAAe,KAAKP,YAAL,CAAkBQ,WAAjC,EAlBgB;CAoBhB;;CACA,QAAIH,MAAM,CAACI,MAAX,EAAmB;CACfJ,MAAAA,MAAM,CAACI,MAAP,CAAc,CAAd;CACH,KAFD,MAEO;CACHJ,MAAAA,MAAM,CAACvc,KAAP,CAAa,CAAb;CACH;;CACD,SAAK4c,qBAAL,GAA6BL,MAA7B,CA1BgB;;CA4BhB,SAAKM,+BAAL,GAAuC,KAAKX,YAAL,CAAkBY,4BAAlB,EAAvC,CA5BgB;;CA8BhB,SAAKC,YAAL,CAAkB,IAAlB,EA9BgB;;CAgChB,SAAKV,QAAL,CAAcW,IAAd,CAAmBpQ,KAAnB,GAA2B,CAA3B;CAEA,SAAKjO,OAAL,GAAe,KAAf,CAlCgB;;CAoChB,SAAKse,oBAAL,GAA4B;CACxBC,MAAAA,IAAI,EAAE;CADkB,KAA5B;CAKA,SAAKhe,SAAL,GAAiB;CACbkY,MAAAA,OAAO,EAAE,EADI;CAEb+F,MAAAA,QAAQ,EAAE,EAFG;CAGbC,MAAAA,UAAU,EAAE;CAHC,KAAjB;CAKA,SAAK9f,IAAL,GAAY,KAAZ;CACA,SAAKvB,QAAL,GAAgB,KAAhB,CA/CgB;;CAkDhB,SAAKmM,EAAL,CAAQ1J,MAAM,CAACuC,cAAf,EAAgC6G,OAAD,IAAa;CACxC,WAAKjC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,cAAtB,EAAuC,oCAAmCyI,OAAO,CAACyV,cAAe,oBAAmBzV,OAAO,CAAC4I,cAAe,SAAQ5I,OAAO,CAACsV,IAAK,EAAhK;CACA,WAAKD,oBAAL,GAA4BrV,OAA5B;CACH,KAHD;CAKA,SAAKjC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,cAAtB,EAAsC,MAAtC;CACH;;CAGDqB,EAAAA,OAAO,GAAG;CACN,SAAK8c,UAAL;CACA,SAAKpB,YAAL,CAAkB3d,KAAlB;CACA,SAAK2d,YAAL,GAAoB,IAApB;CACA,SAAKG,QAAL,GAAgB,IAAhB;CACA,SAAK/e,IAAL,GAAY,KAAZ;CACA,SAAKvB,QAAL,GAAgB,KAAhB;CACA,SAAK4C,OAAL,GAAe,KAAf;;CAEA,QAAI,KAAKod,UAAT,EAAqB;CACjB,WAAKA,UAAL,CAAgBwB,cAAhB,GAAiChU,IAAjC;CACA,WAAKwS,UAAL,GAAkB,IAAlB;CACH;;CACD,SAAKa,qBAAL,GAA6B,IAA7B;CACA,SAAKC,+BAAL,GAAuC,IAAvC;CACA,SAAKb,iBAAL,GAAyB,KAAzB;CACA,SAAKiB,oBAAL,GAA4B;CACxBC,MAAAA,IAAI,EAAE;CADkB,KAA5B;CAGA,SAAKhe,SAAL,GAAiB;CACbkY,MAAAA,OAAO,EAAE,EADI;CAEb+F,MAAAA,QAAQ,EAAE,EAFG;CAGbC,MAAAA,UAAU,EAAE;CAHC,KAAjB;CAKA,SAAKnV,GAAL;CACA,SAAKtC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,cAAtB,EAAsC,SAAtC;CACH;;CAEDqe,EAAAA,eAAe,CAACjL,IAAD,EAAO;CAClB,QAAIA,IAAI,CAAC4E,WAAT,EAAsB;CAClB,WAAKjY,SAAL,CAAekY,OAAf,GAAyBhV,cAAc,CAACmQ,IAAI,CAAC4E,WAAN,CAAvC;CACH;;CAED,QAAI5E,IAAI,CAAC4K,QAAT,EAAmB;CACf,WAAKje,SAAL,CAAeie,QAAf,GAA0B5K,IAAI,CAAC4K,QAA/B;CACH;;CAED,QAAI5K,IAAI,CAAC6K,UAAT,EAAqB;CACjB,WAAKle,SAAL,CAAeke,UAAf,GAA4B7K,IAAI,CAAC6K,UAAjC;CACH,KAXiB;;;CAclB,QAAI,KAAKle,SAAL,CAAeke,UAAf,IAA6B,KAAKle,SAAL,CAAeie,QAA5C,IAAwD,KAAKje,SAAL,CAAekY,OAAvE,IAAkF,CAAC,KAAK9Z,IAA5F,EAAkG;CAC9F,WAAKqI,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACU,SAAxB,EAAmC,KAAKA,SAAxC;CACA,WAAK5B,IAAL,GAAY,IAAZ;CACH;CACJ,GA1GmD;;;CA6GvC,MAATmgB,SAAS,GAAG;CACZ,WAAO,KAAK9e,OAAZ;CACH;;CAES,MAAN+e,MAAM,GAAG;CACT,WAAO,KAAKrB,QAAL,CAAcW,IAAd,CAAmBpQ,KAAnB,KAA6B,CAA7B,IAAkC,KAAK+Q,gBAAL,EAAzC;CACH;;CAES,MAANxC,MAAM,GAAG;CACT,WAAO,KAAKkB,QAAL,CAAcW,IAAd,CAAmBpQ,KAA1B;CACH;;CAEa,MAAVgR,UAAU,GAAG;CACb,WAAO,KAAK9B,UAAL,CAAgB3U,MAAvB;CACH;;CAGD0W,EAAAA,cAAc,GAAG;CACb,SAAKlf,OAAL,GAAe,IAAf;;CAEA,QAAI,KAAKqd,iBAAT,EAA4B;CACxB;CACH;;CACD,UAAMmB,QAAQ,GAAG,KAAKje,SAAL,CAAeie,QAAhC;CAEA,UAAMpB,UAAU,GAAG,KAAKG,YAAL,CAAkB4B,qBAAlB,CAAwC,IAAxC,EAA8C,CAA9C,EAAiDX,QAAjD,CAAnB,CARa;;CAUbpB,IAAAA,UAAU,CAACwB,cAAX,GAA6BQ,oBAAD,IAA0B;CAClD,YAAMC,YAAY,GAAGD,oBAAoB,CAACC,YAA1C;;CAEA,UAAI,KAAKlC,UAAL,CAAgB3U,MAAhB,IAA0B,KAAKxI,OAAnC,EAA4C;CACxC;CACA,YAAI,CAAC,KAAKgH,MAAL,CAAYpB,IAAZ,CAAiBrH,MAAlB,IAA4B,CAAC,KAAKyI,MAAL,CAAYpB,IAAZ,CAAiBpH,MAAlD,EAA0D;CACtD;CACA;CACA,cAAI,KAAK8f,oBAAL,CAA0BC,IAA1B,GAAiCpZ,qBAArC,EAA4D;CACxD,iBAAK6B,MAAL,CAAYvK,KAAZ,CAAkBsJ,IAAlB,CAAuB,cAAvB,EAAwC,wCAAuC,KAAKuY,oBAAL,CAA0BC,IAAK,WAA9G,EADwD;;CAGxD;CACH,WAJD;CAMA;CANA,eAOK,IAAI,KAAKD,oBAAL,CAA0BC,IAA1B,GAAiC,CAACpZ,qBAAtC,EAA6D;CAC9D,iBAAK6B,MAAL,CAAYvK,KAAZ,CAAkBsJ,IAAlB,CAAuB,cAAvB,EAAwC,wCAAuC,KAAKuY,oBAAL,CAA0BC,IAAK,YAA9G,EAD8D;;CAI9D,gBAAIe,UAAU,GAAG,KAAKnC,UAAL,CAAgBoC,KAAhB,EAAjB,CAJ8D;;CAM9D,mBAAQD,UAAU,CAACxF,EAAX,GAAgB,KAAK9S,MAAL,CAAY6K,cAA5B,GAA6C,CAAC1M,qBAA/C,IAAyE,KAAKgY,UAAL,CAAgB3U,MAAhB,GAAyB,CAAzG,EAA4G;CACxG;CACA8W,cAAAA,UAAU,GAAG,KAAKnC,UAAL,CAAgBoC,KAAhB,EAAb;CACH;;CAED,gBAAI,KAAKpC,UAAL,CAAgB3U,MAAhB,KAA2B,CAA/B,EAAkC;CAC9B;CACH;CACJ;CACJ;;CAED,YAAI,KAAK2U,UAAL,CAAgB3U,MAAhB,KAA2B,CAA/B,EAAkC;CAC9B;CACH;;CAED,cAAM8W,UAAU,GAAG,KAAKnC,UAAL,CAAgBoC,KAAhB,EAAnB,CAjCwC;;CAoCxC,YAAID,UAAU,IAAIA,UAAU,CAACxF,EAA7B,EAAiC;CAC7B,eAAK9S,MAAL,CAAY0X,cAAZ,GAA6BY,UAAU,CAACxF,EAAxC;CACH;;CAED,aAAK,IAAI0F,OAAO,GAAG,CAAnB,EAAsBA,OAAO,GAAGhB,QAAhC,EAA0CgB,OAAO,EAAjD,EAAqD;CACjD,gBAAM1R,CAAC,GAAGwR,UAAU,CAACne,MAAX,CAAkBqe,OAAlB,CAAV;CACA,gBAAMC,YAAY,GAAGJ,YAAY,CAACK,cAAb,CAA4BF,OAA5B,CAArB;;CACA,eAAK,IAAIlX,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,IAApB,EAA0BA,CAAC,EAA3B,EAA+B;CAC3BmX,YAAAA,YAAY,CAACnX,CAAD,CAAZ,GAAkBwF,CAAC,CAACxF,CAAD,CAAD,IAAQ,CAA1B;CACH;CACJ;CACJ;CACJ,KAnDD;;CAqDA8U,IAAAA,UAAU,CAACU,OAAX,CAAmB,KAAKJ,QAAxB;CACA,SAAKN,UAAL,GAAkBA,UAAlB;CACA,SAAKM,QAAL,CAAcI,OAAd,CAAsB,KAAKP,YAAL,CAAkBQ,WAAxC;CACA,SAAKL,QAAL,CAAcI,OAAd,CAAsB,KAAKI,+BAA3B;CACA,SAAKb,iBAAL,GAAyB,IAAzB;CACH;;CAEDnd,EAAAA,IAAI,CAACyf,IAAD,EAAO;CACP,QAAIA,IAAJ,EAAU;CACN,UAAI,CAAC,KAAKZ,MAAV,EAAkB;CACd,aAAK/X,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACK,IAAxB,EAA8Byf,IAA9B;CACH;;CACD,WAAKC,SAAL,CAAe,CAAf;CACA,WAAKxB,YAAL,CAAkB,KAAlB;CACA,WAAKrD,KAAL;CACH,KAPD,MAOO;CACH,UAAI,KAAKgE,MAAT,EAAiB;CACb,aAAK/X,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACK,IAAxB,EAA8Byf,IAA9B;CACH;;CACD,WAAKC,SAAL,CAAe,GAAf;CACA,WAAKxB,YAAL,CAAkB,IAAlB;CACH;CACJ;;CAEDwB,EAAAA,SAAS,CAACpD,MAAD,EAAS;CACdA,IAAAA,MAAM,GAAGhO,UAAU,CAACgO,MAAD,CAAV,CAAmBvM,OAAnB,CAA2B,CAA3B,CAAT;;CACA,QAAI4P,KAAK,CAACrD,MAAD,CAAT,EAAmB;CACf;CACH;;CACD,SAAK4B,YAAL,CAAkB,IAAlB;CACA5B,IAAAA,MAAM,GAAG7O,KAAK,CAAC6O,MAAD,EAAS,CAAT,EAAY,CAAZ,CAAd;CACA,SAAKkB,QAAL,CAAcW,IAAd,CAAmBpQ,KAAnB,GAA2BuO,MAA3B;CACA,SAAKkB,QAAL,CAAcW,IAAd,CAAmByB,cAAnB,CAAkCtD,MAAlC,EAA0C,KAAKe,YAAL,CAAkBwC,WAA5D;CACA,SAAK/Y,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAAC+B,YAAxB,EAAsC,KAAKoF,MAAL,CAAYwV,MAAlD;CACH;;CAEDmC,EAAAA,UAAU,GAAG;CACT,QAAI,KAAKtB,iBAAT,EAA4B;CACxB,WAAKD,UAAL,IAAmB,KAAKA,UAAL,CAAgB4C,UAAhB,CAA2B,KAAKtC,QAAhC,CAAnB;CACA,WAAKA,QAAL,IAAiB,KAAKA,QAAL,CAAcsC,UAAd,CAAyB,KAAKzC,YAAL,CAAkBQ,WAA3C,CAAjB;CACA,WAAKL,QAAL,IAAiB,KAAKA,QAAL,CAAcsC,UAAd,CAAyB,KAAK9B,+BAA9B,CAAjB;CACH;;CACD,SAAKnD,KAAL;CACH,GAxOmD;;;CA2OpDqD,EAAAA,YAAY,CAACuB,IAAD,EAAO;CACf,QAAIA,IAAJ,EAAU;CACN,UAAI,KAAKpC,YAAL,CAAkB0C,KAAlB,KAA4B,WAAhC,EAA6C;CACzC;CACA,aAAK1C,YAAL,CAAkB2C,MAAlB;CACH;CACJ,KALD,MAKO;CACH,UAAI,KAAK3C,YAAL,CAAkB0C,KAAlB,KAA4B,SAAhC,EAA2C;CACvC;CACA,aAAK1C,YAAL,CAAkB4C,OAAlB;CACH;CACJ;CACJ;;CAEDC,EAAAA,cAAc,GAAG;CACb,WAAO,KAAK7C,YAAL,CAAkB0C,KAAlB,KAA4B,SAAnC;CACH;;CAEDjB,EAAAA,gBAAgB,GAAG;CACf,WAAO,KAAKzB,YAAL,CAAkB0C,KAAlB,KAA4B,WAAnC;CACH;;CAEDlF,EAAAA,KAAK,GAAG;CACJ,SAAKoC,UAAL,GAAkB,EAAlB;CACH;;CAEDzf,EAAAA,IAAI,CAACyD,MAAD,EAAS2Y,EAAT,EAAa;CACb;CACA,QAAI,KAAKiF,MAAT,EAAiB;CACb;CACH;;CAED,SAAK3hB,QAAL,GAAgB,IAAhB;CAEA,SAAK+f,UAAL,CAAgBtW,IAAhB,CAAqB;CACjB1F,MAAAA,MADiB;CAEjB2Y,MAAAA;CAFiB,KAArB;;CAKA,QAAI,KAAKqD,UAAL,CAAgB3U,MAAhB,GAAyB,EAA7B,EAAiC;CAC7B,WAAKxB,MAAL,CAAYvK,KAAZ,CAAkBsJ,IAAlB,CAAuB,cAAvB,EAAwC,wBAAuB,KAAKoX,UAAL,CAAgB3U,MAAO,EAAtF,EAD6B;;CAI7B,UAAI,KAAK2U,UAAL,CAAgB3U,MAAhB,GAAyB,EAA7B,EAAiC;CAC7B,aAAK2U,UAAL,CAAgBoC,KAAhB;CACH;CACJ,KApBY;;CAsBhB;;CAEDtf,EAAAA,KAAK,GAAG;CACJ,SAAKqe,oBAAL,GAA4B;CACxBC,MAAAA,IAAI,EAAE;CADkB,KAA5B;CAGA,SAAKve,OAAL,GAAe,KAAf;CACA,SAAK+a,KAAL;CACH;;CAEDmF,EAAAA,MAAM,GAAG;CACL,SAAKlgB,OAAL,GAAe,IAAf;CACH;;CAvSmD;;CCDzC,MAAMqgB,KAAN,CAAY;CACvB5a,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAM+V,MAAM,GAAGsD,KAAK,CAACrD,gBAAN,EAAf;CACA,WAAO,IAAID,MAAJ,CAAW/V,MAAX,CAAP;CACH;;CAEsB,SAAhBgW,gBAAgB,GAAG;CACtB,WAAOE,kBAAP;CACH;;CARsB;;CCCZ,MAAMoD,WAAN,SAA0BnN,OAA1B,CAAkC;CAC7C1N,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAKhH,OAAL,GAAe,KAAf;CAEA,SAAKugB,eAAL,GAAuB,IAAIC,eAAJ,EAAvB,CALgB;;CAOhB,SAAKC,UAAL,GAAkB/R,eAAe,CAACgS,IAAI,IAAI;CACtC1Z,MAAAA,MAAM,CAACgL,IAAP,CAAYnS,MAAM,CAACX,IAAnB,EAAyB,CAACwhB,IAAI,GAAG,IAAR,EAAczQ,OAAd,CAAsB,CAAtB,CAAzB;CACH,KAFgC,CAAjC;CAGAjJ,IAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,aAAjB,EAAgC,MAAhC;CACH;;CAEDqB,EAAAA,OAAO,GAAG;CACN,SAAK8e,KAAL;CACA,SAAKrX,GAAL;CACA,SAAKmX,UAAL,GAAkB,IAAlB;CACA,SAAKzZ,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,aAAtB,EAAqC,SAArC;CACH;;CAEDogB,EAAAA,WAAW,CAAC3iB,GAAD,EAAM;CACb,UAAM;CAAC4iB,MAAAA;CAAD,QAAU,KAAK7Z,MAArB;CACA,SAAKA,MAAL,CAAY8Z,MAAZ,CAAmB3P,WAAnB,GAAiChE,GAAG,EAApC;CACAnR,IAAAA,KAAK,CAACiC,GAAD,EAAM;CAAC8iB,MAAAA,MAAM,EAAE,KAAKR,eAAL,CAAqBQ;CAA9B,KAAN,CAAL,CAAkDpX,IAAlD,CAAwDqX,GAAD,IAAS;CAC5D,YAAMC,MAAM,GAAGD,GAAG,CAACzO,IAAJ,CAAS2O,SAAT,EAAf;CACA,WAAKlP,IAAL,CAAUnS,MAAM,CAAC4B,aAAjB;;CACA,YAAM0f,SAAS,GAAG,MAAM;CACpBF,QAAAA,MAAM,CAACG,IAAP,GAAczX,IAAd,CAAmB,QAAmB;CAAA,cAAlB;CAAC0X,YAAAA,IAAD;CAAOpT,YAAAA;CAAP,WAAkB;;CAC9B,cAAIoT,IAAJ,EAAU;CACNR,YAAAA,KAAK,CAACjhB,KAAN;CACH,WAFD,MAEO;CACH,iBAAK6gB,UAAL,IAAmB,KAAKA,UAAL,CAAgBxS,KAAK,CAACqT,UAAtB,CAAnB;CACAT,YAAAA,KAAK,CAACU,QAAN,CAAetT,KAAf;CACAkT,YAAAA,SAAS;CACZ;CACJ,SARL,EASEvX,KATF,CASS8B,CAAD,IAAO;CACXmV,UAAAA,KAAK,CAACjhB,KAAN,GADW;;CAGX,eAAKoS,IAAL,CAAUzP,YAAY,CAACE,UAAvB,EAAmCiJ,CAAnC;CACA,eAAK1E,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACY,KAAxB,EAA+B8B,YAAY,CAACE,UAA5C;CACA,eAAKke,KAAL;CACH,SAfD;CAgBH,OAjBD;;CAkBAQ,MAAAA,SAAS;CACZ,KAtBD,EAsBGvX,KAtBH,CAsBU8B,CAAD,IAAO;CACZ,WAAKiV,KAAL;CACA,WAAK3O,IAAL,CAAUzP,YAAY,CAACE,UAAvB,EAAmCiJ,CAAnC;CACA,WAAK1E,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACY,KAAxB,EAA+B8B,YAAY,CAACE,UAA5C;CACH,KA1BD;CA2BH;;CAEDke,EAAAA,KAAK,GAAG;CACJ,QAAI,KAAKJ,eAAT,EAA0B;CACtB,WAAKA,eAAL,CAAqBI,KAArB;CACA,WAAKJ,eAAL,GAAuB,IAAvB;CACH;CACJ;;CA1D4C;;CCAjD,MAAMiB,aAAa,GAAG,IAAIC,OAAJ,EAAtB;CAEe,MAAMC,eAAN,SAA8BvO,OAA9B,CAAsC;CACjD1N,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAK2a,MAAL,GAAc,IAAd;CACA,SAAKC,YAAL,GAAoB9e,gBAAgB,CAACC,UAArC;CACA,SAAK8e,KAAL,GAAa,IAAb,CALgB;;CAOhB,SAAKpB,UAAL,GAAkB/R,eAAe,CAACgS,IAAI,IAAI;CACtC1Z,MAAAA,MAAM,CAACgL,IAAP,CAAYnS,MAAM,CAACX,IAAnB,EAAyB,CAACwhB,IAAI,GAAG,IAAR,EAAczQ,OAAd,CAAsB,CAAtB,CAAzB;CACH,KAFgC,CAAjC;CAGH;;CAEDpO,EAAAA,OAAO,GAAG;CACN,QAAI8f,MAAM,GAAGH,aAAa,CAACra,GAAd,CAAkB,KAAKH,MAAL,CAAY8a,MAA9B,CAAb;;CAEA,QAAIH,MAAJ,EAAY;CACRH,MAAAA,aAAa,CAACO,MAAd,CAAqB,KAAK/a,MAAL,CAAY8a,MAAjC;CACAH,MAAAA,MAAM,CAAC/hB,KAAP;CACA+hB,MAAAA,MAAM,GAAG,IAAT;CACH;;CACD,SAAKC,YAAL,GAAoB9e,gBAAgB,CAACC,UAArC;CACA,SAAK0d,UAAL,GAAkB,IAAlB;CACA,SAAKoB,KAAL,GAAa,IAAb;CACA,SAAKvY,GAAL;CACA,SAAKtC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,iBAAtB,EAAyC,SAAzC;CACH;;CAEDwhB,EAAAA,gBAAgB,GAAG;CACf,UAAMhb,MAAM,GAAG,KAAKA,MAApB;CACA,UAAM;CACFvK,MAAAA,KADE;CAEFwV,MAAAA,MAAM,EAAE;CAAC/L,QAAAA;CAAD,OAFN;CAGF2a,MAAAA;CAHE,QAIF7Z,MAJJ;CAKA,UAAM2a,MAAM,GAAG,IAAIM,SAAJ,CAAc,KAAKJ,KAAnB,CAAf;CAEAL,IAAAA,aAAa,CAACU,GAAd,CAAkB,KAAKlb,MAAL,CAAY8a,MAA9B,EAAsCH,MAAtC;CAEAA,IAAAA,MAAM,CAACQ,UAAP,GAAoB,aAApB;CACAjc,IAAAA,KAAK,CAACyb,MAAD,EAAS,MAAT,EAAiB,MAAM;CACxB,WAAK3P,IAAL,CAAUnS,MAAM,CAAC4B,aAAjB;CACAhF,MAAAA,KAAK,CAAC+D,GAAN,CAAU,iBAAV,EAA6B,aAA7B;CACA,WAAKohB,YAAL,GAAoB9e,gBAAgB,CAACE,IAArC;CACH,KAJI,CAAL;CAMAkD,IAAAA,KAAK,CAACyb,MAAD,EAAS,SAAT,EAAoB5a,KAAK,IAAI;CAC9B,WAAK0Z,UAAL,IAAmB,KAAKA,UAAL,CAAgB1Z,KAAK,CAAC6M,IAAN,CAAW0N,UAA3B,CAAnB;;CACA,WAAKc,cAAL,CAAoBrb,KAAK,CAAC6M,IAA1B;CACH,KAHI,CAAL;CAKA1N,IAAAA,KAAK,CAACyb,MAAD,EAAS,OAAT,EAAkB,MAAM;CACzBllB,MAAAA,KAAK,CAAC+D,GAAN,CAAU,iBAAV,EAA6B,cAA7B;CACA,WAAKwR,IAAL,CAAUnS,MAAM,CAAC2B,SAAjB;CACA,WAAKogB,YAAL,GAAoB9e,gBAAgB,CAAClD,KAArC;CACA,WAAKiC,OAAL;CACAmF,MAAAA,MAAM,CAACqb,MAAP;CACH,KANI,CAAL;CAQAnc,IAAAA,KAAK,CAACyb,MAAD,EAAS,OAAT,EAAkBlhB,KAAK,IAAI;CAC5BhE,MAAAA,KAAK,CAAC+D,GAAN,CAAU,iBAAV,EAA6B,cAA7B;CACA,WAAKwR,IAAL,CAAUzP,YAAY,CAACG,cAAvB,EAAuCjC,KAAvC;CACA,WAAKuG,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACY,KAAxB,EAA+B8B,YAAY,CAACG,cAA5C;CACA,WAAKkf,YAAL,GAAoB9e,gBAAgB,CAACrC,KAArC;CACAogB,MAAAA,KAAK,CAACjhB,KAAN;CACAnD,MAAAA,KAAK,CAAC+D,GAAN,CAAU,iBAAV,EAA8B,eAA9B,EAA8CC,KAA9C;CACH,KAPI,CAAL;CAQH,GAnEgD;;;CAsEjD2hB,EAAAA,cAAc,CAACE,OAAD,EAAU;CACpB,UAAM;CAACzB,MAAAA;CAAD,QAAU,KAAK7Z,MAArB;;CACA,QAAI,CAAC6Z,KAAL,EAAY;CACR,WAAK7Z,MAAL,CAAYvK,KAAZ,CAAkBsJ,IAAlB,CAAuB,iBAAvB,EAA0C,wCAA1C;CACA;CACH;;CACD8a,IAAAA,KAAK,CAACU,QAAN,CAAee,OAAf;CACH;;CAGD1B,EAAAA,WAAW,CAAC3iB,GAAD,EAAM;CACb,SAAK+I,MAAL,CAAY8Z,MAAZ,CAAmB3P,WAAnB,GAAiChE,GAAG,EAApC;CACA,SAAK0U,KAAL,GAAa5jB,GAAb;;CACA,SAAK+jB,gBAAL,CAAsB/jB,GAAtB;CACH;;CApFgD;;CCFtC,MAAMskB,MAAN,CAAa;CACxB9c,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAM+V,MAAM,GAAGwF,MAAM,CAACvF,gBAAP,CAAwBhW,MAAM,CAACpB,IAAP,CAAYvH,QAApC,CAAf;CACA,WAAO,IAAI0e,MAAJ,CAAW/V,MAAX,CAAP;CACH;;CAEsB,SAAhBgW,gBAAgB,CAAC3e,QAAD,EAAW;CAC9B,QAAIA,QAAQ,KAAKvC,oBAAoB,CAACE,KAAtC,EAA6C;CACzC,aAAOskB,WAAP;CACH,KAFD,MAEO,IAAIjiB,QAAQ,KAAKvC,oBAAoB,CAACC,SAAtC,EAAiD;CACpD,aAAO2lB,eAAP;CACH;CACJ;;CAZuB;;;CCA5B;CACA;CAEA;CAEA;CACA;CACA;CACA;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA,WAASc,SAAT,CAAmBC,WAAnB,EAAgCC,MAAhC,EAAwC;CACpC,QAAI,CAACD,WAAL,EAAkB;CACd,YAAM,8BAAN;CACH;;CAEDC,IAAAA,MAAM,GAAGA,MAAM,IAAI;CACfxW,MAAAA,IAAI,EAAE;CADS,KAAnB;CAIAwW,IAAAA,MAAM,GAAG,IAAIC,sBAAJ,CAA2BF,WAA3B,EAAwCC,MAAxC,CAAT,CAToC;;CAYpC,QAAIpP,IAAI,GAAG,IAAX;;CAEA,aAASsP,cAAT,CAAwBC,OAAxB,EAAiC;CAC7B,UAAI,CAACH,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,qBAAZ,EAAmC8S,IAAI,CAACyP,OAAxC;CACH;;CAED,UAAI,CAAC,CAACF,OAAN,EAAe;;;CAGXH,QAAAA,MAAM,GAAG,IAAIC,sBAAJ,CAA2BF,WAA3B,EAAwCI,OAAxC,CAAT;CACH;;CAED,UAAI,CAACH,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,uBAAuBkiB,MAAM,CAACxW,IAA9B,GAAqC,UAAjD;CACH;;CAED,UAAI8W,aAAJ,EAAmB;CACfA,QAAAA,aAAa,CAACC,iBAAd;CACAD,QAAAA,aAAa,CAACplB,MAAd;CAEAslB,QAAAA,QAAQ,CAAC,WAAD,CAAR;;CAEA,YAAI5P,IAAI,CAAC6P,iBAAT,EAA4B;CACxBC,UAAAA,uBAAuB;CAC1B;;CACD,eAAO9P,IAAP;CACH;;CAED+P,MAAAA,YAAY,CAAC,YAAW;CACpB,YAAI/P,IAAI,CAAC6P,iBAAT,EAA4B;CACxBC,UAAAA,uBAAuB;CAC1B;CACJ,OAJW,CAAZ;CAMA,aAAO9P,IAAP;CACH;;CAED,aAAS+P,YAAT,CAAsBC,YAAtB,EAAoC;CAChC,UAAIA,YAAJ,EAAkB;CACdZ,QAAAA,MAAM,CAACY,YAAP,GAAsB,YAAW;CAC7BA,UAAAA,YAAY;CACZA,UAAAA,YAAY,GAAGZ,MAAM,CAACY,YAAP,GAAsB,IAArC,CAF6B;CAGhC,SAHD;CAIH;;CAED,UAAIC,QAAQ,GAAG,IAAIC,eAAJ,CAAoBf,WAApB,EAAiCC,MAAjC,CAAf;CAEAM,MAAAA,aAAa,GAAG,IAAIO,QAAJ,CAAad,WAAb,EAA0BC,MAA1B,CAAhB;CACAM,MAAAA,aAAa,CAACplB,MAAd;CAEAslB,MAAAA,QAAQ,CAAC,WAAD,CAAR;;CAEA,UAAI,CAACR,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,2BAAZ,EAAyCwiB,aAAa,CAACvd,WAAd,CAA0BE,IAAnE,EAAyE,kBAAzE,EAA6F+c,MAAM,CAACxW,IAApG;CACH;CACJ;;CAED,aAASuX,aAAT,CAAuBpd,QAAvB,EAAiC;CAC7BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEA,UAAI,CAAC2c,aAAL,EAAoB;CAChBU,QAAAA,UAAU;CACV;CACH;;CAED,UAAIpQ,IAAI,CAAC2M,KAAL,KAAe,QAAnB,EAA6B;CACzB3M,QAAAA,IAAI,CAACqQ,eAAL;CAEAC,QAAAA,UAAU,CAAC,YAAW;CAClBH,UAAAA,aAAa,CAACpd,QAAD,CAAb;CACH,SAFS,EAEP,CAFO,CAAV;CAGA;CACH;;CAED,UAAIiN,IAAI,CAAC2M,KAAL,KAAe,WAAf,IAA8B,CAACyC,MAAM,CAACI,WAA1C,EAAuD;CACnDhd,QAAAA,OAAO,CAACC,IAAR,CAAa,oEAAb,EAAmFuN,IAAI,CAAC2M,KAAxF;CACH;;CAED,UAAI,CAACyC,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,uBAAuBkiB,MAAM,CAACxW,IAA9B,GAAqC,UAAjD;CACH;;CAED,UAAIwW,MAAM,CAACxW,IAAP,KAAgB,KAApB,EAA2B;CACvB8W,QAAAA,aAAa,CAACa,IAAd,CAAmBC,SAAnB;CACH,OAFD,MAEO;CACHd,QAAAA,aAAa,CAACa,IAAd;;CACAC,QAAAA,SAAS;CACZ;;CAEDZ,MAAAA,QAAQ,CAAC,SAAD,CAAR;;CAEA,eAASY,SAAT,CAAmBC,MAAnB,EAA2B;CACvB,YAAI,CAACf,aAAL,EAAoB;CAChB,cAAI,OAAO3c,QAAQ,CAAC2d,IAAhB,KAAyB,UAA7B,EAAyC;CACrC3d,YAAAA,QAAQ,CAAC2d,IAAT,CAAc1Q,IAAd,EAAoB,EAApB;CACH,WAFD,MAEO;CACHjN,YAAAA,QAAQ,CAAC,EAAD,CAAR;CACH;;CACD;CACH;;CAEDY,QAAAA,MAAM,CAACiH,IAAP,CAAY8U,aAAZ,EAA2Blc,OAA3B,CAAmC,UAASnC,GAAT,EAAc;CAC7C,cAAI,OAAOqe,aAAa,CAACre,GAAD,CAApB,KAA8B,UAAlC,EAA8C;CAC1C;CACH;;CAED2O,UAAAA,IAAI,CAAC3O,GAAD,CAAJ,GAAYqe,aAAa,CAACre,GAAD,CAAzB;CACH,SAND;CAQA,YAAIvB,IAAI,GAAG4f,aAAa,CAAC5f,IAAzB;;CAEA,YAAI,CAACA,IAAL,EAAW;CACP,cAAI2gB,MAAJ,EAAY;CACRf,YAAAA,aAAa,CAAC5f,IAAd,GAAqBA,IAAI,GAAG2gB,MAA5B;CACH,WAFD,MAEO;CACH,kBAAM,mBAAN;CACH;CACJ;;CAED,YAAI3gB,IAAI,IAAI,CAACsf,MAAM,CAACI,WAApB,EAAiC;CAC7Bhd,UAAAA,OAAO,CAACtF,GAAR,CAAY4C,IAAI,CAAC8I,IAAjB,EAAuB,IAAvB,EAA6B+X,WAAW,CAAC7gB,IAAI,CAACyL,IAAN,CAAxC;CACH;;CAED,YAAIxI,QAAJ,EAAc;CACV,cAAIpI,GAAJ;;CAEA,cAAI;CACAA,YAAAA,GAAG,GAAG8O,GAAG,CAACC,eAAJ,CAAoB5J,IAApB,CAAN;CACH,WAFD,CAEE,OAAOsI,CAAP,EAAU;;CAEZ,cAAI,OAAOrF,QAAQ,CAAC2d,IAAhB,KAAyB,UAA7B,EAAyC;CACrC3d,YAAAA,QAAQ,CAAC2d,IAAT,CAAc1Q,IAAd,EAAoBrV,GAApB;CACH,WAFD,MAEO;CACHoI,YAAAA,QAAQ,CAACpI,GAAD,CAAR;CACH;CACJ;;CAED,YAAI,CAACykB,MAAM,CAACwB,eAAZ,EAA6B;CACzB;CACH;;CAEDC,QAAAA,UAAU,CAAC,UAAStY,OAAT,EAAkB;CACzB,cAAIuY,SAAS,GAAG,EAAhB;CACAA,UAAAA,SAAS,CAAC1B,MAAM,CAACxW,IAAP,GAAc,MAAf,CAAT,GAAkCL,OAAlC;CACAwY,UAAAA,WAAW,CAACC,KAAZ,CAAkBF,SAAlB;CACH,SAJS,CAAV;CAKH;CACJ;;CAED,aAASG,cAAT,GAA0B;CACtB,UAAI,CAACvB,aAAL,EAAoB;CAChBU,QAAAA,UAAU;CACV;CACH;;CAED,UAAIpQ,IAAI,CAAC2M,KAAL,KAAe,WAAnB,EAAgC;CAC5B,YAAI,CAACyC,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACC,IAAR,CAAa,kDAAb,EAAiEuN,IAAI,CAAC2M,KAAtE;CACH;;CACD;CACH;;CAEDiD,MAAAA,QAAQ,CAAC,QAAD,CAAR;CAEAF,MAAAA,aAAa,CAAC/iB,KAAd;;CAEA,UAAI,CAACyiB,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,mBAAZ;CACH;CACJ;;CAED,aAASmjB,eAAT,GAA2B;CACvB,UAAI,CAACX,aAAL,EAAoB;CAChBU,QAAAA,UAAU;CACV;CACH;;CAED,UAAIpQ,IAAI,CAAC2M,KAAL,KAAe,QAAnB,EAA6B;CACzB,YAAI,CAACyC,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACC,IAAR,CAAa,mDAAb,EAAkEuN,IAAI,CAAC2M,KAAvE;CACH;;CACD;CACH;;CAEDiD,MAAAA,QAAQ,CAAC,WAAD,CAAR,CAbuB;;CAgBvBF,MAAAA,aAAa,CAAC9C,MAAd;;CAEA,UAAI,CAACwC,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,oBAAZ;CACH;CACJ;;CAED,aAASgkB,QAAT,CAAkBC,KAAlB,EAAyB;CACrBC,MAAAA,WAAW,CAAC,IAAIC,cAAJ,GAAqBC,aAArB,CAAmCH,KAAnC,CAAD,CAAX;CACH;;CAED,aAASN,UAAT,CAAoB9d,QAApB,EAA8Bwe,cAA9B,EAA8C;CAC1C,UAAI,CAACxe,QAAL,EAAe;CACX,cAAM,2CAAN;CACH;;CAED,UAAIjD,IAAI,GAAGyhB,cAAc,GAAGA,cAAc,CAACzhB,IAAlB,GAAyB,CAAC4f,aAAa,IAAI,EAAlB,EAAsB5f,IAAxE;;CAEA,UAAI,CAACA,IAAL,EAAW;CACP,YAAI,CAACsf,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACC,IAAR,CAAa,0CAAb;CACH;;CAED6d,QAAAA,UAAU,CAAC,YAAW;CAClBO,UAAAA,UAAU,CAAC9d,QAAD,EAAWwe,cAAX,CAAV;CACH,SAFS,EAEP,IAFO,CAAV;CAGA;CACH;;CAED,UAAI,OAAOC,MAAP,KAAkB,WAAlB,IAAiC,CAACC,SAAS,CAACC,eAAhD,EAAiE;CAC7D,YAAIC,SAAS,GAAGC,kBAAkB,CAACV,QAAD,CAAlC;;CAEAS,QAAAA,SAAS,CAACE,SAAV,GAAsB,UAASpe,KAAT,EAAgB;CAClCV,UAAAA,QAAQ,CAACU,KAAK,CAAC6M,IAAP,CAAR;CACH,SAFD;;CAIAqR,QAAAA,SAAS,CAACP,WAAV,CAAsBthB,IAAtB;CACH,OARD,MAQO;CACH,YAAI6d,MAAM,GAAG,IAAImE,UAAJ,EAAb;CACAnE,QAAAA,MAAM,CAAC2D,aAAP,CAAqBxhB,IAArB;;CACA6d,QAAAA,MAAM,CAACoE,MAAP,GAAgB,UAASte,KAAT,EAAgB;CAC5BV,UAAAA,QAAQ,CAACU,KAAK,CAACX,MAAN,CAAagK,MAAd,CAAR;CACH,SAFD;CAGH;;CAED,eAAS8U,kBAAT,CAA4BI,SAA5B,EAAuC;CACnC,YAAI;CACA,cAAIliB,IAAI,GAAG2J,GAAG,CAACC,eAAJ,CAAoB,IAAIuY,IAAJ,CAAS,CAACD,SAAS,CAAC5V,QAAV,EAAD,EACpC,uCAAuC4V,SAAS,CAAC3f,IAAjD,GAAwD,cADpB,CAAT,EAE5B;CACCuG,YAAAA,IAAI,EAAE;CADP,WAF4B,CAApB,CAAX;CAMA,cAAIsZ,MAAM,GAAG,IAAIV,MAAJ,CAAW1hB,IAAX,CAAb;CACA2J,UAAAA,GAAG,CAACG,eAAJ,CAAoB9J,IAApB;CACA,iBAAOoiB,MAAP;CACH,SAVD,CAUE,OAAO9Z,CAAP,EAAU;CACf;CACJ;;CAED,aAAS0X,uBAAT,CAAiCqC,OAAjC,EAA0C;CACtCA,MAAAA,OAAO,GAAGA,OAAO,IAAI,CAArB;;CAEA,UAAInS,IAAI,CAAC2M,KAAL,KAAe,QAAnB,EAA6B;CACzB2D,QAAAA,UAAU,CAAC,YAAW;CAClBR,UAAAA,uBAAuB,CAACqC,OAAD,CAAvB;CACH,SAFS,EAEP,IAFO,CAAV;CAGA;CACH;;CAED,UAAInS,IAAI,CAAC2M,KAAL,KAAe,SAAnB,EAA8B;CAC1B;CACH;;CAED,UAAIwF,OAAO,IAAInS,IAAI,CAAC6P,iBAApB,EAAuC;CACnCM,QAAAA,aAAa,CAACnQ,IAAI,CAACoS,kBAAN,CAAb;CACA;CACH;;CAEDD,MAAAA,OAAO,IAAI,IAAX,CAnBsC;;CAqBtC7B,MAAAA,UAAU,CAAC,YAAW;CAClBR,QAAAA,uBAAuB,CAACqC,OAAD,CAAvB;CACH,OAFS,EAEP,IAFO,CAAV;CAGH;;CAED,aAASvC,QAAT,CAAkBjD,KAAlB,EAAyB;CACrB,UAAI,CAAC3M,IAAL,EAAW;CACP;CACH;;CAEDA,MAAAA,IAAI,CAAC2M,KAAL,GAAaA,KAAb;;CAEA,UAAI,OAAO3M,IAAI,CAACqS,cAAL,CAAoB3B,IAA3B,KAAoC,UAAxC,EAAoD;CAChD1Q,QAAAA,IAAI,CAACqS,cAAL,CAAoB3B,IAApB,CAAyB1Q,IAAzB,EAA+B2M,KAA/B;CACH,OAFD,MAEO;CACH3M,QAAAA,IAAI,CAACqS,cAAL,CAAoB1F,KAApB;CACH;CACJ;;CAED,QAAI2F,OAAO,GAAG,gFAAgFlD,MAAM,CAACxW,IAAvF,GAA8F,YAA5G;;CAEA,aAASwX,UAAT,GAAsB;CAClB,UAAIhB,MAAM,CAACI,WAAP,KAAuB,IAA3B,EAAiC;CAC7B;CACH;;CAEDhd,MAAAA,OAAO,CAACC,IAAR,CAAa6f,OAAb;CACH;;CAED,QAAI5C,aAAJ;CAEA,QAAI6C,YAAY,GAAG;;CAEvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQjD,MAAAA,cAAc,EAAEA,cAZD;;;CAevB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQa,MAAAA,aAAa,EAAEA,aA3BA;;;CA8BvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQc,MAAAA,cAAc,EAAEA,cAvCD;;;CA0CvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQZ,MAAAA,eAAe,EAAEA,eAlDF;;;CAqDvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQN,MAAAA,YAAY,EAAEA,YA7DC;;;CAgEvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQyC,MAAAA,oBAAoB,EAAE,UAAS3C,iBAAT,EAA4B9c,QAA5B,EAAsC;CACxD,YAAI,OAAO8c,iBAAP,KAA6B,WAAjC,EAA8C;CAC1C,gBAAM,gCAAN;CACH;;CAED,YAAI,OAAOA,iBAAP,KAA6B,QAAjC,EAA2C;CACvC,gBAAM,qCAAN;CACH;;CAED7P,QAAAA,IAAI,CAAC6P,iBAAL,GAAyBA,iBAAzB;;CACA7P,QAAAA,IAAI,CAACoS,kBAAL,GAA0Brf,QAAQ,IAAI,YAAW,EAAjD;;CAEA,eAAO;CACHqf,UAAAA,kBAAkB,EAAE,UAASrf,QAAT,EAAmB;CACnCiN,YAAAA,IAAI,CAACoS,kBAAL,GAA0Brf,QAA1B;CACH;CAHE,SAAP;CAKH,OAlGc;;;CAqGvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ4c,MAAAA,iBAAiB,EAAE,YAAW;CAC1B,YAAI,CAACD,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAEDV,QAAAA,aAAa,CAACC,iBAAd;;CAEA,YAAI,CAACP,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACtF,GAAR,CAAY,4BAAZ;CACH;CACJ,OAxHc;;;CA2HvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQulB,MAAAA,OAAO,EAAE,YAAW;CAChB,YAAI,CAAC/C,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAED,eAAOV,aAAa,CAAC5f,IAArB;CACH,OApJc;;;CAuJvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ+gB,MAAAA,UAAU,EAAEA,UAnKG;;;CAsKvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ6B,MAAAA,KAAK,EAAE,YAAW;CACd,YAAI,CAAChD,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAED,eAAO3W,GAAG,CAACC,eAAJ,CAAoBgW,aAAa,CAAC5f,IAAlC,CAAP;CACH,OAvLc;;;CA0LvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ6iB,MAAAA,mBAAmB,EAAE,YAAW;CAC5B,eAAOjD,aAAP;CACH,OAxMc;;;CA2MvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQkD,MAAAA,IAAI,EAAE,UAASvZ,QAAT,EAAmB;CACrB,YAAI,CAACqW,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAEDyC,QAAAA,kBAAkB,CAACnD,aAAa,CAAC5f,IAAf,EAAqBuJ,QAArB,CAAlB;CACH,OA/Nc;;;CAkOvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQyZ,MAAAA,WAAW,EAAE,UAAS/f,QAAT,EAAmB;CAC5B,YAAI,CAAC2c,aAAL,EAAoB;CAChBU,UAAAA,UAAU;CACV;CACH;;CAEDlB,QAAAA,SAAS,CAAC4D,WAAV,CAAsB1D,MAAM,CAACxW,IAA7B,EAAmC7F,QAAnC;CACH,OAnPc;;;CAsPvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQggB,MAAAA,qBAAqB,EAAE,UAASC,iBAAT,EAA4B;CAC/C5D,QAAAA,MAAM,CAAC6D,aAAP,GAAuB,EAAvB;CAEA,YAAI/d,MAAM,GAAG8d,iBAAiB,CAAC9d,MAA/B;;CACA,aAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGE,MAApB,EAA4BF,CAAC,EAA7B,EAAiC;CAC7Boa,UAAAA,MAAM,CAAC6D,aAAP,CAAqB1f,IAArB,CAA0B;CACtB2f,YAAAA,QAAQ,EAAEle,CADY;CAEtBme,YAAAA,KAAK,EAAEH,iBAAiB,CAAChe,CAAD;CAFF,WAA1B;CAIH;CACJ,OA/Qc;;;CAkRvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQlF,MAAAA,IAAI,EAAE,IA/RS;;;CAkSvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQ6b,MAAAA,UAAU,EAAE,CA5SG;;;CA+SvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQR,MAAAA,UAAU,EAAE,CAzTG;;;CA4TvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQtd,MAAAA,MAAM,EAAE,IAvUO;;;CA0UvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQulB,MAAAA,KAAK,EAAE,YAAW;CACd,YAAIpT,IAAI,CAAC2M,KAAL,KAAe,WAAf,IAA8B,CAACyC,MAAM,CAACI,WAA1C,EAAuD;CACnDhd,UAAAA,OAAO,CAACC,IAAR,CAAa,0BAAb;CACH;;CAED,YAAIid,aAAa,IAAI,OAAOA,aAAa,CAACC,iBAArB,KAA2C,UAAhE,EAA4E;CACxED,UAAAA,aAAa,CAACC,iBAAd;CACH;;CACDD,QAAAA,aAAa,GAAG,IAAhB;CACAE,QAAAA,QAAQ,CAAC,UAAD,CAAR;CACA5P,QAAAA,IAAI,CAAClQ,IAAL,GAAY,IAAZ;CACH,OA7Vc;;;CAgWvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQuiB,MAAAA,cAAc,EAAE,UAAS1F,KAAT,EAAgB;CAC5B,YAAI,CAACyC,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACtF,GAAR,CAAY,yBAAZ,EAAuCyf,KAAvC;CACH;CACJ,OA9Wc;;;CAiXvB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQA,MAAAA,KAAK,EAAE,UA/XQ;;;CAkYvB;CACA;CACA;CACA;CACA;CACA;CACA;CACQ0G,MAAAA,QAAQ,EAAE,YAAW;CACjB,eAAOrT,IAAI,CAAC2M,KAAZ;CACH,OA3Yc;;;CA8YvB;CACA;CACA;CACA;CACA;CACA;CACQpe,MAAAA,OAAO,EAAE,YAAW;CAChB,YAAI+kB,gBAAgB,GAAGlE,MAAM,CAACI,WAA9B;CAEAJ,QAAAA,MAAM,GAAG;CACLI,UAAAA,WAAW,EAAE;CADR,SAAT;CAGAxP,QAAAA,IAAI,CAACoT,KAAL;CACAxD,QAAAA,QAAQ,CAAC,WAAD,CAAR;CACA2C,QAAAA,YAAY,GAAGvS,IAAI,GAAG,IAAtB;;CAEA,YAAIuT,OAAO,CAACC,uBAAZ,EAAqC;CACjCD,UAAAA,OAAO,CAACC,uBAAR,CAAgClnB,KAAhC;CACAinB,UAAAA,OAAO,CAACC,uBAAR,GAAkC,IAAlC;CACH;;CAEDpE,QAAAA,MAAM,CAACI,WAAP,GAAqB8D,gBAArB;;CAEA,YAAI,CAAClE,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACtF,GAAR,CAAY,yBAAZ;CACH;CACJ,OAxac;;;CA2avB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQuiB,MAAAA,OAAO,EAAE;CAnbM,KAAnB;;CAsbA,QAAI,CAAC,IAAL,EAAW;CACPzP,MAAAA,IAAI,GAAGuS,YAAP;CACA,aAAOA,YAAP;CACH,KAjvBmC;;;CAovBpC,SAAK,IAAIkB,IAAT,IAAiBlB,YAAjB,EAA+B;CAC3B,WAAKkB,IAAL,IAAalB,YAAY,CAACkB,IAAD,CAAzB;CACH;;CAEDzT,IAAAA,IAAI,GAAG,IAAP;CAEA,WAAOuS,YAAP;CACH;;CAEDrD,EAAAA,SAAS,CAACO,OAAV,GAAoB,OAApB;;CAEA,EAA6D;CACzD9a,IAAAA,cAAA,GAAiBua,SAAjB;CACH;;CAQDA,EAAAA,SAAS,CAAC4D,WAAV,GAAwB,UAASla,IAAT,EAAe7F,QAAf,EAAyB;CAC7C,QAAI,CAACA,QAAL,EAAe;CACX,YAAM,wBAAN;CACH;;CAEDP,IAAAA,OAAO,CAACtF,GAAR,CAAY,uBAAuB0L,IAAI,KAAK,KAAT,GAAiB,OAAjB,GAA2BA,IAAI,GAAG,QAAzD,IAAqE,aAAjF;CACAmY,IAAAA,WAAW,CAAC2C,KAAZ,CAAkB,UAASnb,OAAT,EAAkBob,KAAlB,EAAyB;CACvC,UAAI/a,IAAI,KAAK,KAAT,IAAkB+a,KAAK,KAAK/a,IAAI,GAAG,MAAnC,IAA6C7F,QAAjD,EAA2D;CACvDA,QAAAA,QAAQ,CAACwF,OAAD,CAAR;CACH;;CAED,UAAIK,IAAI,KAAK,KAAT,IAAkB7F,QAAtB,EAAgC;CAC5BA,QAAAA,QAAQ,CAACwF,OAAD,EAAUob,KAAK,CAAC9a,OAAN,CAAc,MAAd,EAAsB,EAAtB,CAAV,CAAR;CACH;CACJ,KARD;CASH,GAfD;CAiBA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACAqW,EAAAA,SAAS,CAAC0E,WAAV,GAAwB,UAASje,OAAT,EAAkB;CACtCnD,IAAAA,OAAO,CAACtF,GAAR,CAAY,mCAAZ;CACAyI,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;;CACA,QAAIA,OAAO,CAACtL,KAAR,IAAiBsL,OAAO,CAAC1J,KAAzB,IAAkC0J,OAAO,CAACke,GAA9C,EAAmD;CAC/Cle,MAAAA,OAAO,CAACtL,KAAR,CAAcwmB,UAAd,CAAyB,UAASiD,YAAT,EAAuB;CAC5Cne,QAAAA,OAAO,CAAC1J,KAAR,CAAc4kB,UAAd,CAAyB,UAASkD,YAAT,EAAuB;CAC5Cpe,UAAAA,OAAO,CAACke,GAAR,CAAYhD,UAAZ,CAAuB,UAASmD,UAAT,EAAqB;CACxCjD,YAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdiD,cAAAA,SAAS,EAAEH,YADG;CAEdI,cAAAA,SAAS,EAAEH,YAFG;CAGdI,cAAAA,OAAO,EAAEH;CAHK,aAAlB;CAKH,WAND;CAOH,SARD;CASH,OAVD;CAWH,KAZD,MAYO,IAAIre,OAAO,CAACtL,KAAR,IAAiBsL,OAAO,CAAC1J,KAA7B,EAAoC;CACvC0J,MAAAA,OAAO,CAACtL,KAAR,CAAcwmB,UAAd,CAAyB,UAASiD,YAAT,EAAuB;CAC5Cne,QAAAA,OAAO,CAAC1J,KAAR,CAAc4kB,UAAd,CAAyB,UAASkD,YAAT,EAAuB;CAC5ChD,UAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdiD,YAAAA,SAAS,EAAEH,YADG;CAEdI,YAAAA,SAAS,EAAEH;CAFG,WAAlB;CAIH,SALD;CAMH,OAPD;CAQH,KATM,MASA,IAAIpe,OAAO,CAACtL,KAAR,IAAiBsL,OAAO,CAACke,GAA7B,EAAkC;CACrCle,MAAAA,OAAO,CAACtL,KAAR,CAAcwmB,UAAd,CAAyB,UAASiD,YAAT,EAAuB;CAC5Cne,QAAAA,OAAO,CAACke,GAAR,CAAYhD,UAAZ,CAAuB,UAASmD,UAAT,EAAqB;CACxCjD,UAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdiD,YAAAA,SAAS,EAAEH,YADG;CAEdK,YAAAA,OAAO,EAAEH;CAFK,WAAlB;CAIH,SALD;CAMH,OAPD;CAQH,KATM,MASA,IAAIre,OAAO,CAAC1J,KAAR,IAAiB0J,OAAO,CAACke,GAA7B,EAAkC;CACrCle,MAAAA,OAAO,CAAC1J,KAAR,CAAc4kB,UAAd,CAAyB,UAASkD,YAAT,EAAuB;CAC5Cpe,QAAAA,OAAO,CAACke,GAAR,CAAYhD,UAAZ,CAAuB,UAASmD,UAAT,EAAqB;CACxCjD,UAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdkD,YAAAA,SAAS,EAAEH,YADG;CAEdI,YAAAA,OAAO,EAAEH;CAFK,WAAlB;CAIH,SALD;CAMH,OAPD;CAQH,KATM,MASA,IAAIre,OAAO,CAACtL,KAAZ,EAAmB;CACtBsL,MAAAA,OAAO,CAACtL,KAAR,CAAcwmB,UAAd,CAAyB,UAASiD,YAAT,EAAuB;CAC5C/C,QAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdiD,UAAAA,SAAS,EAAEH;CADG,SAAlB;CAGH,OAJD;CAKH,KANM,MAMA,IAAIne,OAAO,CAAC1J,KAAZ,EAAmB;CACtB0J,MAAAA,OAAO,CAAC1J,KAAR,CAAc4kB,UAAd,CAAyB,UAASkD,YAAT,EAAuB;CAC5ChD,QAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdkD,UAAAA,SAAS,EAAEH;CADG,SAAlB;CAGH,OAJD;CAKH,KANM,MAMA,IAAIpe,OAAO,CAACke,GAAZ,EAAiB;CACpBle,MAAAA,OAAO,CAACke,GAAR,CAAYhD,UAAZ,CAAuB,UAASmD,UAAT,EAAqB;CACxCjD,QAAAA,WAAW,CAACC,KAAZ,CAAkB;CACdmD,UAAAA,OAAO,EAAEH;CADK,SAAlB;CAGH,OAJD;CAKH;CACJ,GA7DD;CAgEA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAAS3E,sBAAT,CAAgCF,WAAhC,EAA6CC,MAA7C,EAAqD;CACjD,QAAI,CAACA,MAAM,CAACgF,YAAR,IAAwB,CAAChF,MAAM,CAACxW,IAApC,EAA0C;CACtC,UAAI,CAAC,CAACwW,MAAM,CAAC/kB,KAAT,IAAkB,CAAC,CAAC+kB,MAAM,CAACnjB,KAA/B,EAAsC;CAClCmjB,QAAAA,MAAM,CAACxW,IAAP,GAAc,OAAd;CACH,OAFD,MAEO,IAAI,CAAC,CAACwW,MAAM,CAAC/kB,KAAT,IAAkB,CAAC+kB,MAAM,CAACnjB,KAA9B,EAAqC;CACxCmjB,QAAAA,MAAM,CAACxW,IAAP,GAAc,OAAd;CACH;CACJ;;CAED,QAAIwW,MAAM,CAACgF,YAAP,IAAuB,CAAChF,MAAM,CAACxW,IAAnC,EAAyC;CACrC,UAAIwW,MAAM,CAACgF,YAAP,KAAwBC,cAAxB,IAA0CjF,MAAM,CAACgF,YAAP,KAAwBE,cAAlE,IAAqF,OAAOC,mBAAP,KAA+B,WAA/B,IAA8CnF,MAAM,CAACgF,YAAP,KAAwBG,mBAA/J,EAAqL;CACjLnF,QAAAA,MAAM,CAACxW,IAAP,GAAc,OAAd;CACH,OAFD,MAEO,IAAIwW,MAAM,CAACgF,YAAP,KAAwBI,WAA5B,EAAyC;CAC5CpF,QAAAA,MAAM,CAACxW,IAAP,GAAc,KAAd;CACH,OAFM,MAEA,IAAIwW,MAAM,CAACgF,YAAP,KAAwBK,mBAA5B,EAAiD;CACpDrF,QAAAA,MAAM,CAACxW,IAAP,GAAc,OAAd;CACH,OAFM,MAEA,IAAIwW,MAAM,CAACgF,YAAP,KAAwBM,mBAA5B,EAAiD;CACpD,YAAIC,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAAhC,IAA0Cyf,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAA9E,EAAsF;CAClFka,UAAAA,MAAM,CAACxW,IAAP,GAAc,OAAd;CACH,SAFD,MAEO,IAAI,CAAC+b,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAAjC,IAA2Cyf,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAA/E,EAAuF;CAC1Fka,UAAAA,MAAM,CAACxW,IAAP,GAAc,OAAd;CACH,SAFM,MAEA,IAAI+b,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAAhC,IAA0C,CAACyf,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAA/E,EAAuF;CAC1Fka,UAAAA,MAAM,CAACxW,IAAP,GAAc,OAAd;CACH,SAFM,MAEA;CAGV;CACJ;;CAED,QAAI,OAAO8b,mBAAP,KAA+B,WAA/B,IAA8C,OAAOE,aAAP,KAAyB,WAAvE,IAAsF,iBAAiBA,aAAa,CAACC,SAAzH,EAAoI;CAChI,UAAI,CAACzF,MAAM,CAAC0F,QAAZ,EAAsB;CAClB1F,QAAAA,MAAM,CAAC0F,QAAP,GAAkB,YAAlB;CACH;;CAED,UAAI,CAAC1F,MAAM,CAACxW,IAAZ,EAAkB;CACdwW,QAAAA,MAAM,CAACxW,IAAP,GAAcwW,MAAM,CAAC0F,QAAP,CAAgBrc,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAd;CACH;;CAED,UAAI,CAAC2W,MAAM,CAAC2F,aAAZ,EAA2B;CAG9B,KAzCgD;;;CA4CjD,QAAI,CAAC3F,MAAM,CAACxW,IAAZ,EAAkB;CACd,UAAIwW,MAAM,CAAC0F,QAAX,EAAqB;CACjB1F,QAAAA,MAAM,CAACxW,IAAP,GAAcwW,MAAM,CAAC0F,QAAP,CAAgBrc,KAAhB,CAAsB,GAAtB,EAA2B,CAA3B,CAAd;CACH;;CACD,UAAI,CAAC2W,MAAM,CAACxW,IAAZ,EAAkB;CACdwW,QAAAA,MAAM,CAACxW,IAAP,GAAc,OAAd;CACH;CACJ;;CAED,WAAOwW,MAAP;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASc,eAAT,CAAyBf,WAAzB,EAAsCC,MAAtC,EAA8C;CAC1C,QAAIjG,QAAJ,CAD0C;;;CAK1C,QAAI6L,QAAQ,IAAIC,MAAZ,IAAsBC,OAA1B,EAAmC;;;CAG/B/L,MAAAA,QAAQ,GAAGsL,mBAAX;CACH;;CAED,QAAI,OAAOG,aAAP,KAAyB,WAAzB,IAAwC,iBAAiBA,aAAa,CAACC,SAAvE,IAAoF,CAACG,QAAzF,EAAmG;CAC/F7L,MAAAA,QAAQ,GAAGuL,mBAAX;CACH,KAbyC;;;CAgB1C,QAAItF,MAAM,CAACxW,IAAP,KAAgB,OAAhB,KAA4Boc,QAAQ,IAAIE,OAAxC,CAAJ,EAAsD;CAClD/L,MAAAA,QAAQ,GAAGkL,cAAX;;CAEA,UAAI,OAAOE,mBAAP,KAA+B,WAA/B,IAA8C,OAAOY,cAAP,KAA0B,WAA5E,EAAyF;CACrFhM,QAAAA,QAAQ,GAAGoL,mBAAX;CACH;CACJ,KAtByC;;;CAyB1C,QAAInF,MAAM,CAACxW,IAAP,KAAgB,KAApB,EAA2B;CACvBuQ,MAAAA,QAAQ,GAAGqL,WAAX;CACH,KA3ByC;;;CA8B1C,QAAIpF,MAAM,CAACxW,IAAP,KAAgB,QAApB,EAA8B;CAC1BuQ,MAAAA,QAAQ,GAAGmL,cAAX;CACH;;CAED,QAAIc,yBAAyB,MAAMjM,QAAQ,KAAKmL,cAA5C,IAA8DnL,QAAQ,KAAKqL,WAA3E,IAA0F,OAAOI,aAAP,KAAyB,WAAnH,IAAkI,iBAAiBA,aAAa,CAACC,SAArK,EAAgL;CAC5K,UAAIF,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAAhC,IAA0Cyf,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAA9E,EAAsF;;CAElF,YAAIka,MAAM,CAACxW,IAAP,KAAgB,OAApB,EAA6B;CACzB,cAAI,OAAOgc,aAAa,CAACxX,eAArB,KAAyC,UAAzC,IAAuDwX,aAAa,CAACxX,eAAd,CAA8B,YAA9B,CAA3D,EAAwG;CACpG+L,YAAAA,QAAQ,GAAGuL,mBAAX;CACH,WAHwB;;CAK5B,SALD,MAKO;;CAEH,cAAI,OAAOE,aAAa,CAACxX,eAArB,KAAyC,UAAzC,IAAuDwX,aAAa,CAACxX,eAAd,CAA8B,YAA9B,CAA3D,EAAwG;CACpG+L,YAAAA,QAAQ,GAAGuL,mBAAX;CACH;CACJ;CACJ;CACJ;;CAED,QAAIvF,WAAW,YAAYlc,KAAvB,IAAgCkc,WAAW,CAACja,MAAhD,EAAwD;CACpDiU,MAAAA,QAAQ,GAAGkM,mBAAX;CACH;;CAED,QAAIjG,MAAM,CAACgF,YAAX,EAAyB;CACrBjL,MAAAA,QAAQ,GAAGiG,MAAM,CAACgF,YAAlB;CACH;;CAED,QAAI,CAAChF,MAAM,CAACI,WAAR,IAAuB,CAAC,CAACrG,QAAzB,IAAqC,CAAC,CAACA,QAAQ,CAAC9W,IAApD,EAA0D;CACtDG,MAAAA,OAAO,CAACtF,GAAR,CAAY,qBAAZ,EAAmCic,QAAQ,CAAC9W,IAAT,IAAiB8W,QAAQ,CAAChX,WAAT,CAAqBE,IAAzE;CACH;;CAED,QAAI,CAAC8W,QAAD,IAAamM,QAAjB,EAA2B;CACvBnM,MAAAA,QAAQ,GAAGuL,mBAAX;CACH;;CAED,WAAOvL,QAAP;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASoM,UAAT,CAAoBpG,WAApB,EAAiC;;CAGjC;CACA;CACA;CACA;CACA;CACA;CACA;CACI,SAAKqG,SAAL,GAAiB,UAASC,YAAT,EAAuB;CACpC,UAAIA,YAAJ,EAAkB;CACdtG,QAAAA,WAAW,GAAGsG,YAAd;CACH;CACJ,KAJD;;CAOJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKC,SAAL,GAAiB;CACbrrB,MAAAA,KAAK,EAAE,IADM;CAEb4B,MAAAA,KAAK,EAAE;CAFM,KAAjB;;CAMJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKqjB,cAAL,GAAsB,YAAW;CAC7B,UAAIoG,SAAS,GAAG,KAAKA,SAArB;CACA,UAAItB,YAAJ;CACA,UAAIU,QAAQ,GAAG,KAAKA,QAAL,IAAiB;CAC5BzqB,QAAAA,KAAK,EAAE,IADqB;CAE5B4B,QAAAA,KAAK,EAAE,IAFqB;CAG5B4nB,QAAAA,GAAG,EAAE;CAHuB,OAAhC;;CAMA,UAAI,OAAO6B,SAAS,CAACrrB,KAAjB,KAA2B,UAA3B,IAAyC+qB,yBAAyB,EAAlE,IAAwE,CAACT,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAA7G,EAAqH;CACjHwgB,QAAAA,SAAS,CAACrrB,KAAV,GAAkB,KAAlB;CACH;;CAED,UAAI,OAAOqrB,SAAS,CAACzpB,KAAjB,KAA2B,UAA3B,IAAyCmpB,yBAAyB,EAAlE,IAAwE,CAACT,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAA7G,EAAqH;CACjHwgB,QAAAA,SAAS,CAACzpB,KAAV,GAAkB,KAAlB;CACH;;CAED,UAAI,OAAOypB,SAAS,CAAC7B,GAAjB,KAAyB,UAAzB,IAAuCuB,yBAAyB,EAAhE,IAAsE,CAACT,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAA3G,EAAmH;CAC/GwgB,QAAAA,SAAS,CAAC7B,GAAV,GAAgB,KAAhB;CACH;;CAED,UAAI,CAAC6B,SAAS,CAACrrB,KAAX,IAAoB,CAACqrB,SAAS,CAACzpB,KAA/B,IAAwC,CAACypB,SAAS,CAAC7B,GAAvD,EAA4D;CACxD,cAAM,qDAAN;CACH;;CAED,UAAI,CAAC,CAAC6B,SAAS,CAACrrB,KAAhB,EAAuB;CACnB+pB,QAAAA,YAAY,GAAG,IAAf;;CACA,YAAI,OAAOsB,SAAS,CAACrrB,KAAjB,KAA2B,UAA/B,EAA2C;CACvC+pB,UAAAA,YAAY,GAAGsB,SAAS,CAACrrB,KAAzB;CACH;;CAED,aAAKsrB,aAAL,GAAqB,IAAIzG,SAAJ,CAAcC,WAAd,EAA2B;CAC5CvW,UAAAA,IAAI,EAAE,OADsC;CAE5C+S,UAAAA,UAAU,EAAE,KAAKA,UAF2B;CAG5CR,UAAAA,UAAU,EAAE,KAAKA,UAH2B;CAI5CyK,UAAAA,qBAAqB,EAAE,KAAKA,qBAAL,IAA8B,CAJT;CAK5CpG,UAAAA,WAAW,EAAE,KAAKA,WAL0B;CAM5C4E,UAAAA,YAAY,EAAEA,YAN8B;CAO5CU,UAAAA,QAAQ,EAAEA,QAAQ,CAACzqB,KAPyB;CAQ5CwrB,UAAAA,SAAS,EAAE,KAAKA,SAR4B;CAS5CC,UAAAA,WAAW,EAAE,KAAKA;CAT0B,SAA3B,CAArB;;CAYA,YAAI,CAACJ,SAAS,CAACzpB,KAAf,EAAsB;CAClB,eAAK0pB,aAAL,CAAmBrG,cAAnB;CACH;CACJ;;CAED,UAAI,CAAC,CAACoG,SAAS,CAACzpB,KAAhB,EAAuB;CACnBmoB,QAAAA,YAAY,GAAG,IAAf;;CACA,YAAI,OAAOsB,SAAS,CAACzpB,KAAjB,KAA2B,UAA/B,EAA2C;CACvCmoB,UAAAA,YAAY,GAAGsB,SAAS,CAACzpB,KAAzB;CACH;;CAED,YAAI8pB,SAAS,GAAG5G,WAAhB;;CAEA,YAAIiG,yBAAyB,MAAM,CAAC,CAACM,SAAS,CAACrrB,KAA3C,IAAoD,OAAOqrB,SAAS,CAACrrB,KAAjB,KAA2B,UAAnF,EAA+F;CAC3F,cAAI2rB,UAAU,GAAGrB,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC,CAAhC,CAAjB;;CAEA,cAAI8G,SAAJ,EAAe;CACXF,YAAAA,SAAS,GAAG,IAAIG,WAAJ,EAAZ;CACAH,YAAAA,SAAS,CAACI,QAAV,CAAmBH,UAAnB;;CAEA,gBAAI5B,YAAY,IAAIA,YAAY,KAAKC,cAArC,EAAqD;;;CAGjDD,cAAAA,YAAY,GAAGM,mBAAf;CACH;CACJ,WATD,MASO;CACHqB,YAAAA,SAAS,GAAG,IAAIG,WAAJ,EAAZ;CACAH,YAAAA,SAAS,CAACI,QAAV,CAAmBH,UAAnB;CACH;CACJ;;CAED,aAAKI,aAAL,GAAqB,IAAIlH,SAAJ,CAAc6G,SAAd,EAAyB;CAC1Cnd,UAAAA,IAAI,EAAE,OADoC;CAE1C3M,UAAAA,KAAK,EAAE,KAAKA,KAF8B;CAG1Cyc,UAAAA,MAAM,EAAE,KAAKA,MAH6B;CAI1C2N,UAAAA,aAAa,EAAE,KAAKA,aAAL,IAAsB,EAJK;CAK1C7G,UAAAA,WAAW,EAAE,KAAKA,WALwB;CAM1C4E,UAAAA,YAAY,EAAEA,YAN4B;CAO1CU,UAAAA,QAAQ,EAAEA,QAAQ,CAAC7oB,KAPuB;CAQ1C4pB,UAAAA,SAAS,EAAE,KAAKA,SAR0B;CAS1CC,UAAAA,WAAW,EAAE,KAAKA,WATwB;CAU1CQ,UAAAA,UAAU,EAAE,KAAKA,UAVyB;CAW1CC,UAAAA,eAAe,EAAE,KAAKA,eAXoB;CAY1CC,UAAAA,SAAS,EAAE,KAAKA,SAZ0B;;CAa1CC,UAAAA,OAAO,EAAE,KAAKA,OAb4B;;CAAA,SAAzB,CAArB;;CAgBA,YAAI,CAACf,SAAS,CAACrrB,KAAf,EAAsB;CAClB,eAAK+rB,aAAL,CAAmB9G,cAAnB;CACH;CACJ;;CAED,UAAI,CAAC,CAACoG,SAAS,CAACrrB,KAAZ,IAAqB,CAAC,CAACqrB,SAAS,CAACzpB,KAArC,EAA4C;CACxC,YAAI+T,IAAI,GAAG,IAAX;CAEA,YAAI0W,gBAAgB,GAAGtB,yBAAyB,OAAO,IAAvD;;CAEA,YAAIM,SAAS,CAACrrB,KAAV,YAA2BoqB,mBAA3B,IAAkD,CAAC,CAACiB,SAAS,CAACzpB,KAAlE,EAAyE;CACrEyqB,UAAAA,gBAAgB,GAAG,KAAnB;CACH,SAFD,MAEO,IAAIhB,SAAS,CAACrrB,KAAV,KAAoB,IAApB,IAA4BqrB,SAAS,CAACzpB,KAAV,KAAoB,IAAhD,IAAwDypB,SAAS,CAACrrB,KAAV,KAAoBqrB,SAAS,CAACzpB,KAA1F,EAAiG;CACpGyqB,UAAAA,gBAAgB,GAAG,KAAnB;CACH;;CAED,YAAIA,gBAAgB,KAAK,IAAzB,EAA+B;CAC3B1W,UAAAA,IAAI,CAAC2V,aAAL,GAAqB,IAArB;CACA3V,UAAAA,IAAI,CAACoW,aAAL,CAAmB9G,cAAnB;CACH,SAHD,MAGO;CACHtP,UAAAA,IAAI,CAACoW,aAAL,CAAmBrG,YAAnB,CAAgC,YAAW;CACvC/P,YAAAA,IAAI,CAAC2V,aAAL,CAAmB5F,YAAnB,CAAgC,YAAW;;CAEvC/P,cAAAA,IAAI,CAACoW,aAAL,CAAmB9G,cAAnB;CACAtP,cAAAA,IAAI,CAAC2V,aAAL,CAAmBrG,cAAnB;CACH,aAJD;CAKH,WAND;CAOH;CACJ;;CAED,UAAI,CAAC,CAACoG,SAAS,CAAC7B,GAAhB,EAAqB;CACjBO,QAAAA,YAAY,GAAG,IAAf;;CACA,YAAI,OAAOsB,SAAS,CAAC7B,GAAjB,KAAyB,UAA7B,EAAyC;CACrCO,UAAAA,YAAY,GAAGsB,SAAS,CAAC7B,GAAzB;CACH;;CACD,aAAK8C,WAAL,GAAmB,IAAIzH,SAAJ,CAAcC,WAAd,EAA2B;CAC1CvW,UAAAA,IAAI,EAAE,KADoC;CAE1C4d,UAAAA,SAAS,EAAE,KAAKA,SAAL,IAAkB,GAFa;CAG1C1P,UAAAA,OAAO,EAAE,KAAKA,OAAL,IAAgB,EAHiB;CAI1C0I,UAAAA,WAAW,EAAE,KAAKA,WAJwB;CAK1C4E,UAAAA,YAAY,EAAEA,YAL4B;CAM1CU,UAAAA,QAAQ,EAAEA,QAAQ,CAACjB;CANuB,SAA3B,CAAnB;CAQA,aAAK8C,WAAL,CAAiBrH,cAAjB;CACH;CACJ,KAvID;;CA0IJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKa,aAAL,GAAqB,UAASpd,QAAT,EAAmB;CACpCA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEA,UAAI,KAAK4iB,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBxF,aAAnB,CAAiC,UAASyG,OAAT,EAAkB;CAC/C7jB,UAAAA,QAAQ,CAAC6jB,OAAD,EAAU,OAAV,CAAR;CACH,SAFD;CAGH;;CAED,UAAI,KAAKR,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBjG,aAAnB,CAAiC,UAASyG,OAAT,EAAkB;CAC/C7jB,UAAAA,QAAQ,CAAC6jB,OAAD,EAAU,OAAV,CAAR;CACH,SAFD;CAGH;;CAED,UAAI,KAAKD,WAAT,EAAsB;CAClB,aAAKA,WAAL,CAAiBxG,aAAjB,CAA+B,UAASyG,OAAT,EAAkB;CAC7C7jB,UAAAA,QAAQ,CAAC6jB,OAAD,EAAU,KAAV,CAAR;CACH,SAFD;CAGH;CACJ,KApBD;;CAuBJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK3F,cAAL,GAAsB,YAAW;CAC7B,UAAI,KAAK0E,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmB1E,cAAnB;CACH;;CAED,UAAI,KAAKmF,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBnF,cAAnB;CACH;;CAED,UAAI,KAAK0F,WAAT,EAAsB;CAClB,aAAKA,WAAL,CAAiB1F,cAAjB;CACH;CACJ,KAZD;;CAeJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKZ,eAAL,GAAuB,YAAW;CAC9B,UAAI,KAAKsF,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBtF,eAAnB;CACH;;CAED,UAAI,KAAK+F,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmB/F,eAAnB;CACH;;CAED,UAAI,KAAKsG,WAAT,EAAsB;CAClB,aAAKA,WAAL,CAAiBtG,eAAjB;CACH;CACJ,KAZD;;CAeJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKoC,OAAL,GAAe,UAAS1f,QAAT,EAAmB;CAC9B,UAAI2T,MAAM,GAAG,EAAb;;CAEA,UAAI,KAAKiP,aAAT,EAAwB;CACpBjP,QAAAA,MAAM,CAACrc,KAAP,GAAe,KAAKsrB,aAAL,CAAmBlD,OAAnB,EAAf;CACH;;CAED,UAAI,KAAK2D,aAAT,EAAwB;CACpB1P,QAAAA,MAAM,CAACza,KAAP,GAAe,KAAKmqB,aAAL,CAAmB3D,OAAnB,EAAf;CACH;;CAED,UAAI,KAAKkE,WAAT,EAAsB;CAClBjQ,QAAAA,MAAM,CAACmN,GAAP,GAAa,KAAK8C,WAAL,CAAiBlE,OAAjB,EAAb;CACH;;CAED,UAAI1f,QAAJ,EAAc;CACVA,QAAAA,QAAQ,CAAC2T,MAAD,CAAR;CACH;;CAED,aAAOA,MAAP;CACH,KApBD;;CAuBJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKnY,OAAL,GAAe,YAAW;CACtB,UAAI,KAAKonB,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmBpnB,OAAnB;CACA,aAAKonB,aAAL,GAAqB,IAArB;CACH;;CAED,UAAI,KAAKS,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmB7nB,OAAnB;CACA,aAAK6nB,aAAL,GAAqB,IAArB;CACH;;CAED,UAAI,KAAKO,WAAT,EAAsB;CAClB,aAAKA,WAAL,CAAiBpoB,OAAjB;CACA,aAAKooB,WAAL,GAAmB,IAAnB;CACH;CACJ,KAfD;;CAkBJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK9F,UAAL,GAAkB,UAAS9d,QAAT,EAAmB;CACjC,WAAK0f,OAAL,CAAa,UAAS3iB,IAAT,EAAe;CACxB,YAAIA,IAAI,CAACzF,KAAL,IAAcyF,IAAI,CAAC7D,KAAvB,EAA8B;CAC1B4kB,UAAAA,UAAU,CAAC/gB,IAAI,CAACzF,KAAN,EAAa,UAASwsB,aAAT,EAAwB;CAC3ChG,YAAAA,UAAU,CAAC/gB,IAAI,CAAC7D,KAAN,EAAa,UAAS6qB,aAAT,EAAwB;CAC3C/jB,cAAAA,QAAQ,CAAC;CACL1I,gBAAAA,KAAK,EAAEwsB,aADF;CAEL5qB,gBAAAA,KAAK,EAAE6qB;CAFF,eAAD,CAAR;CAIH,aALS,CAAV;CAMH,WAPS,CAAV;CAQH,SATD,MASO,IAAIhnB,IAAI,CAACzF,KAAT,EAAgB;CACnBwmB,UAAAA,UAAU,CAAC/gB,IAAI,CAACzF,KAAN,EAAa,UAASwsB,aAAT,EAAwB;CAC3C9jB,YAAAA,QAAQ,CAAC;CACL1I,cAAAA,KAAK,EAAEwsB;CADF,aAAD,CAAR;CAGH,WAJS,CAAV;CAKH,SANM,MAMA,IAAI/mB,IAAI,CAAC7D,KAAT,EAAgB;CACnB4kB,UAAAA,UAAU,CAAC/gB,IAAI,CAAC7D,KAAN,EAAa,UAAS6qB,aAAT,EAAwB;CAC3C/jB,YAAAA,QAAQ,CAAC;CACL9G,cAAAA,KAAK,EAAE6qB;CADF,aAAD,CAAR;CAGH,WAJS,CAAV;CAKH;CACJ,OAvBD;;CAyBA,eAASjG,UAAT,CAAoB/gB,IAApB,EAA0BinB,UAA1B,EAAsC;CAClC,YAAI,OAAOvF,MAAP,KAAkB,WAAtB,EAAmC;CAC/B,cAAIG,SAAS,GAAGC,kBAAkB,CAAC,SAASV,QAAT,CAAkBC,KAAlB,EAAyB;CACxDC,YAAAA,WAAW,CAAC,IAAIC,cAAJ,GAAqBC,aAArB,CAAmCH,KAAnC,CAAD,CAAX;CACH,WAFiC,CAAlC;;CAIAQ,UAAAA,SAAS,CAACE,SAAV,GAAsB,UAASpe,KAAT,EAAgB;CAClCsjB,YAAAA,UAAU,CAACtjB,KAAK,CAAC6M,IAAP,CAAV;CACH,WAFD;;CAIAqR,UAAAA,SAAS,CAACP,WAAV,CAAsBthB,IAAtB;CACH,SAVD,MAUO;CACH,cAAI6d,MAAM,GAAG,IAAImE,UAAJ,EAAb;CACAnE,UAAAA,MAAM,CAAC2D,aAAP,CAAqBxhB,IAArB;;CACA6d,UAAAA,MAAM,CAACoE,MAAP,GAAgB,UAASte,KAAT,EAAgB;CAC5BsjB,YAAAA,UAAU,CAACtjB,KAAK,CAACX,MAAN,CAAagK,MAAd,CAAV;CACH,WAFD;CAGH;CACJ;;CAED,eAAS8U,kBAAT,CAA4BI,SAA5B,EAAuC;CACnC,YAAIliB,IAAI,GAAG2J,GAAG,CAACC,eAAJ,CAAoB,IAAIuY,IAAJ,CAAS,CAACD,SAAS,CAAC5V,QAAV,EAAD,EACpC,uCAAuC4V,SAAS,CAAC3f,IAAjD,GAAwD,cADpB,CAAT,EAE5B;CACCuG,UAAAA,IAAI,EAAE;CADP,SAF4B,CAApB,CAAX;CAMA,YAAIsZ,MAAM,GAAG,IAAIV,MAAJ,CAAW1hB,IAAX,CAAb;CACA,YAAInF,GAAJ;;CACA,YAAI,OAAO8O,GAAP,KAAe,WAAnB,EAAgC;CAC5B9O,UAAAA,GAAG,GAAG8O,GAAN;CACH,SAFD,MAEO,IAAI,OAAOud,SAAP,KAAqB,WAAzB,EAAsC;CACzCrsB,UAAAA,GAAG,GAAGqsB,SAAN;CACH,SAFM,MAEA;CACH,gBAAM,qCAAN;CACH;;CACDrsB,QAAAA,GAAG,CAACiP,eAAJ,CAAoB9J,IAApB;CACA,eAAOoiB,MAAP;CACH;CACJ,KAjED;;CAoEJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK0B,WAAL,GAAmB,YAAW;CAC1B1E,MAAAA,SAAS,CAAC0E,WAAV,CAAsB;CAClBvpB,QAAAA,KAAK,EAAE,KAAKsrB,aADM;CAElB1pB,QAAAA,KAAK,EAAE,KAAKmqB,aAFM;CAGlBvC,QAAAA,GAAG,EAAE,KAAK8C;CAHQ,OAAtB;CAKH,KAND;;CASJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK/D,IAAL,GAAY,UAASrgB,IAAT,EAAe;CACvBA,MAAAA,IAAI,GAAGA,IAAI,IAAI;CACXlI,QAAAA,KAAK,EAAE,IADI;CAEX4B,QAAAA,KAAK,EAAE,IAFI;CAGX4nB,QAAAA,GAAG,EAAE;CAHM,OAAf;;CAMA,UAAI,CAAC,CAACthB,IAAI,CAAClI,KAAP,IAAgB,KAAKsrB,aAAzB,EAAwC;CACpC,aAAKA,aAAL,CAAmB/C,IAAnB,CAAwB,OAAOrgB,IAAI,CAAClI,KAAZ,KAAsB,QAAtB,GAAiCkI,IAAI,CAAClI,KAAtC,GAA8C,EAAtE;CACH;;CAED,UAAI,CAAC,CAACkI,IAAI,CAACtG,KAAP,IAAgB,KAAKmqB,aAAzB,EAAwC;CACpC,aAAKA,aAAL,CAAmBxD,IAAnB,CAAwB,OAAOrgB,IAAI,CAACtG,KAAZ,KAAsB,QAAtB,GAAiCsG,IAAI,CAACtG,KAAtC,GAA8C,EAAtE;CACH;;CACD,UAAI,CAAC,CAACsG,IAAI,CAACshB,GAAP,IAAc,KAAK8C,WAAvB,EAAoC;CAChC,aAAKA,WAAL,CAAiB/D,IAAjB,CAAsB,OAAOrgB,IAAI,CAACshB,GAAZ,KAAoB,QAApB,GAA+BthB,IAAI,CAACshB,GAApC,GAA0C,EAAhE;CACH;CACJ,KAjBD;CAkBH;CAED;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA0B,EAAAA,UAAU,CAACzC,WAAX,GAAyB5D,SAAS,CAAC4D,WAAnC;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACAyC,EAAAA,UAAU,CAAC3B,WAAX,GAAyB1E,SAAS,CAAC0E,WAAnC;;CAEA,MAAI,OAAO1E,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACqG,UAAV,GAAuBA,UAAvB;CACH;;CAED,MAAI0B,oBAAoB,GAAG,qFAA3B;;CAEA,GAAC,UAASC,IAAT,EAAe;CACZ,QAAI,CAACA,IAAL,EAAW;CACP;CACH;;CAED,QAAI,OAAOziB,MAAP,KAAkB,WAAtB,EAAmC;CAC/B;CACH;;CAED,QAAI,OAAO0iB,cAAP,KAAkB,WAAtB,EAAmC;CAC/B;CACH;;CAEDA,IAAAA,cAAAA,CAAO1F,SAAP0F,GAAmB;CACfC,MAAAA,SAAS,EAAEH,oBADI;CAEfI,MAAAA,YAAY,EAAE,YAAW;CAFV,KAAnBF;;CAKA,QAAI,CAACA,cAAAA,CAAO3kB,OAAZ,EAAqB;CACjB2kB,MAAAA,cAAAA,CAAO3kB,OAAP2kB,GAAiB,EAAjBA;CACH;;CAED,QAAI,OAAOA,cAAAA,CAAO3kB,OAAP2kB,CAAejqB,GAAtB,KAA8B,WAA9B,IAA6C,OAAOiqB,cAAAA,CAAO3kB,OAAP2kB,CAAehqB,KAAtB,KAAgC,WAAjF,EAA8F;CAC1FgqB,MAAAA,cAAAA,CAAO3kB,OAAP2kB,CAAehqB,KAAfgqB,GAAuBA,cAAAA,CAAO3kB,OAAP2kB,CAAejqB,GAAfiqB,GAAqBA,cAAAA,CAAO3kB,OAAP2kB,CAAejqB,GAAfiqB,IAAsB,YAAW;CACzE3kB,QAAAA,OAAO,CAACtF,GAAR,CAAYoqB,SAAZ;CACH,OAFDH;CAGH;;CAED,QAAI,OAAO3iB,QAAP,KAAoB,WAAxB,EAAqC;;CAEjC0iB,MAAAA,IAAI,CAAC1iB,QAAL,GAAgB;CACZ0B,QAAAA,eAAe,EAAE;CACbsP,UAAAA,WAAW,EAAE,YAAW;CACpB,mBAAO,EAAP;CACH;CAHY;CADL,OAAhB;;CAQAhR,MAAAA,QAAQ,CAAC+E,aAAT,GAAyB/E,QAAQ,CAAC+iB,aAAT,GAAyB/iB,QAAQ,CAACgjB,gBAAT,GAA4B,YAAW;CACrF,YAAIC,GAAG,GAAG;CACNtf,UAAAA,UAAU,EAAE,YAAW;CACnB,mBAAOsf,GAAP;CACH,WAHK;CAINrtB,UAAAA,IAAI,EAAE,YAAW,EAJX;CAKNuC,UAAAA,KAAK,EAAE,YAAW,EALZ;CAMNga,UAAAA,SAAS,EAAE,YAAW,EANhB;CAONU,UAAAA,SAAS,EAAE,YAAW;CAClB,mBAAO,EAAP;CACH,WATK;CAUNxM,UAAAA,KAAK,EAAE;CAVD,SAAV;CAYA,eAAO4c,GAAP;CACH,OAdD;;CAgBAP,MAAAA,IAAI,CAACQ,gBAAL,GAAwB,YAAW,EAAnC;CACH;;CAED,QAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC;;CAEjCT,MAAAA,IAAI,CAACS,QAAL,GAAgB;CACZ5sB,QAAAA,QAAQ,EAAE,OADE;CAEZyO,QAAAA,IAAI,EAAE,EAFM;CAGZoe,QAAAA,IAAI,EAAE;CAHM,OAAhB;CAKH;;CAED,QAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;;CAE/BX,MAAAA,IAAI,CAACW,MAAL,GAAc;CACV5jB,QAAAA,KAAK,EAAE,CADG;CAEVI,QAAAA,MAAM,EAAE;CAFE,OAAd;CAIH;;CAED,QAAI,OAAOoF,GAAP,KAAe,WAAnB,EAAgC;;CAE5Byd,MAAAA,IAAI,CAACzd,GAAL,GAAW;CACPC,QAAAA,eAAe,EAAE,YAAW;CACxB,iBAAO,EAAP;CACH,SAHM;CAIPE,QAAAA,eAAe,EAAE,YAAW;CACxB,iBAAO,EAAP;CACH;CANM,OAAX;CAQH;;;;CAGDsd,IAAAA,IAAI,CAACziB,MAAL,GAAc0iB,cAAd;CACH,GAxFD,EAwFG,OAAOA,cAAP,KAAkB,WAAlB,GAAgCA,cAAhC,GAAyC,IAxF5C;CA2FA;CAEA;;CAEA;;;CACA,MAAIW,qBAAqB,GAAGrjB,MAAM,CAACqjB,qBAAnC;;CACA,MAAI,OAAOA,qBAAP,KAAiC,WAArC,EAAkD;CAC9C,QAAI,OAAOC,2BAAP,KAAuC,WAA3C,EAAwD;;CAEpDD,MAAAA,qBAAqB,GAAGC,2BAAxB;CACH,KAHD,MAGO,IAAI,OAAOC,wBAAP,KAAoC,WAAxC,EAAqD;;CAExDF,MAAAA,qBAAqB,GAAGE,wBAAxB;CACH,KAHM,MAGA,IAAI,OAAOC,uBAAP,KAAmC,WAAvC,EAAoD;;CAEvDH,MAAAA,qBAAqB,GAAGG,uBAAxB;CACH,KAHM,MAGA,IAAI,OAAOH,qBAAP,KAAiC,WAArC,EAAkD;;CAErD,UAAIxc,QAAQ,GAAG,CAAf;;;CAGAwc,MAAAA,qBAAqB,GAAG,UAAS/kB,QAAT,EAAmB2C,OAAnB,EAA4B;CAChD,YAAIwiB,QAAQ,GAAG,IAAIpe,IAAJ,GAAWC,OAAX,EAAf;CACA,YAAIoe,UAAU,GAAGjkB,IAAI,CAACC,GAAL,CAAS,CAAT,EAAY,MAAM+jB,QAAQ,GAAG5c,QAAjB,CAAZ,CAAjB;CACA,YAAI8c,EAAE,GAAG9H,UAAU,CAAC,YAAW;CAC3Bvd,UAAAA,QAAQ,CAACmlB,QAAQ,GAAGC,UAAZ,CAAR;CACH,SAFkB,EAEhBA,UAFgB,CAAnB;CAGA7c,QAAAA,QAAQ,GAAG4c,QAAQ,GAAGC,UAAtB;CACA,eAAOC,EAAP;CACH,OARD;CASH;CACJ;CAED;;;CACA,MAAIC,oBAAoB,GAAG5jB,MAAM,CAAC4jB,oBAAlC;;CACA,MAAI,OAAOA,oBAAP,KAAgC,WAApC,EAAiD;CAC7C,QAAI,OAAOC,0BAAP,KAAsC,WAA1C,EAAuD;;CAEnDD,MAAAA,oBAAoB,GAAGC,0BAAvB;CACH,KAHD,MAGO,IAAI,OAAOC,uBAAP,KAAmC,WAAvC,EAAoD;;CAEvDF,MAAAA,oBAAoB,GAAGE,uBAAvB;CACH,KAHM,MAGA,IAAI,OAAOC,sBAAP,KAAkC,WAAtC,EAAmD;;CAEtDH,MAAAA,oBAAoB,GAAGG,sBAAvB;CACH,KAHM,MAGA,IAAI,OAAOH,oBAAP,KAAgC,WAApC,EAAiD;;CAEpDA,MAAAA,oBAAoB,GAAG,UAASD,EAAT,EAAa;CAChCK,QAAAA,YAAY,CAACL,EAAD,CAAZ;CACH,OAFD;CAGH;CACJ;;;CAGD,MAAIlO,YAAY,GAAGzV,MAAM,CAACyV,YAA1B;;CAEA,MAAI,OAAOA,YAAP,KAAwB,WAA5B,EAAyC;CACrC,QAAI,OAAOC,kBAAP,KAA8B,WAAlC,EAA+C;;CAE3CD,MAAAA,YAAY,GAAGC,kBAAf;CACH;;CAED,QAAI,OAAOuO,eAAP,KAA2B,WAA/B,EAA4C;;CAExCxO,MAAAA,YAAY,GAAGwO,eAAf;CACH;CACJ;CAED;;;CACA,MAAIjf,GAAG,GAAGhF,MAAM,CAACgF,GAAjB;;CAEA,MAAI,OAAOA,GAAP,KAAe,WAAf,IAA8B,OAAOud,SAAP,KAAqB,WAAvD,EAAoE;;CAEhEvd,IAAAA,GAAG,GAAGud,SAAN;CACH;;CAED,MAAI,OAAOvF,SAAP,KAAqB,WAArB,IAAoC,OAAOA,SAAS,CAAC4F,YAAjB,KAAkC,WAA1E,EAAuF;;CACnF,QAAI,OAAO5F,SAAS,CAACkH,kBAAjB,KAAwC,WAA5C,EAAyD;CACrDlH,MAAAA,SAAS,CAAC4F,YAAV,GAAyB5F,SAAS,CAACkH,kBAAnC;CACH;;CAED,QAAI,OAAOlH,SAAS,CAACC,eAAjB,KAAqC,WAAzC,EAAsD;CAClDD,MAAAA,SAAS,CAAC4F,YAAV,GAAyB5F,SAAS,CAACC,eAAnC;CACH;CACJ;;CAED,MAAIuD,MAAM,GAAGxD,SAAS,CAAC2F,SAAV,CAAoBwB,OAApB,CAA4B,MAA5B,MAAwC,CAAC,CAAzC,KAA+C,CAAC,CAACnH,SAAS,CAACoH,UAAZ,IAA0B,CAAC,CAACpH,SAAS,CAACqH,gBAArF,CAAb;CACA,MAAI5D,OAAO,GAAG,CAAC,CAACzgB,MAAM,CAACskB,KAAT,IAAkBtH,SAAS,CAAC2F,SAAV,CAAoBwB,OAApB,CAA4B,MAA5B,MAAwC,CAAC,CAAzE;CACA,MAAI3C,SAAS,GAAGxE,SAAS,CAAC2F,SAAV,CAAoB4B,WAApB,GAAkCJ,OAAlC,CAA0C,SAA1C,IAAuD,CAAC,CAAxD,IAA8D,cAAcnkB,MAA5E,IAAuF,OAAOwkB,IAAP,CAAYxH,SAAS,CAAC2F,SAAtB,CAAvG;CACA,MAAIpC,QAAQ,GAAI,CAACE,OAAD,IAAY,CAACD,MAAb,IAAuB,CAAC,CAACxD,SAAS,CAACkH,kBAApC,IAA2DO,UAAU,EAArE,IAA2EzH,SAAS,CAAC2F,SAAV,CAAoB4B,WAApB,GAAkCJ,OAAlC,CAA0C,SAA1C,MAAyD,CAAC,CAApJ;CAEA,MAAItD,QAAQ,GAAG,iCAAiC2D,IAAjC,CAAsCxH,SAAS,CAAC2F,SAAhD,CAAf;;CAEA,MAAI9B,QAAQ,IAAI,CAACN,QAAb,IAAyBvD,SAAS,CAAC2F,SAAV,CAAoBwB,OAApB,CAA4B,OAA5B,MAAyC,CAAC,CAAvE,EAA0E;CACtEtD,IAAAA,QAAQ,GAAG,KAAX;CACAN,IAAAA,QAAQ,GAAG,IAAX;CACH;;CAED,MAAIkB,WAAW,GAAGzhB,MAAM,CAACyhB,WAAzB;;CAEA,MAAI,OAAOA,WAAP,KAAuB,WAAvB,IAAsC,OAAOiD,iBAAP,KAA6B,WAAvE,EAAoF;CAChFjD,IAAAA,WAAW,GAAGiD,iBAAd;CACH;CAED;;;CACA,MAAI,OAAOjD,WAAP,KAAuB,WAA3B,EAAwC;;CAEpC,QAAI,OAAOA,WAAW,CAACrB,SAAZ,CAAsBtE,IAA7B,KAAsC,WAA1C,EAAuD;CACnD2F,MAAAA,WAAW,CAACrB,SAAZ,CAAsBtE,IAAtB,GAA6B,YAAW;CACpC,aAAKoE,SAAL,GAAiBnhB,OAAjB,CAAyB,UAAS4lB,KAAT,EAAgB;CACrCA,UAAAA,KAAK,CAAC7I,IAAN;CACH,SAFD;CAGH,OAJD;CAKH;CACJ;;CAGD;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,WAASI,WAAT,CAAqB0I,KAArB,EAA4B;CACxB,QAAIC,CAAC,GAAG,IAAR;CACA,QAAIC,KAAK,GAAG,CAAC,OAAD,EAAU,IAAV,EAAgB,IAAhB,EAAsB,IAAtB,EAA4B,IAA5B,CAAZ;;CACA,QAAIF,KAAK,KAAK,CAAd,EAAiB;CACb,aAAO,SAAP;CACH;;CACD,QAAIrkB,CAAC,GAAGwkB,QAAQ,CAACtlB,IAAI,CAACulB,KAAL,CAAWvlB,IAAI,CAAChH,GAAL,CAASmsB,KAAT,IAAkBnlB,IAAI,CAAChH,GAAL,CAASosB,CAAT,CAA7B,CAAD,EAA4C,EAA5C,CAAhB;CACA,WAAO,CAACD,KAAK,GAAGnlB,IAAI,CAACwlB,GAAL,CAASJ,CAAT,EAAYtkB,CAAZ,CAAT,EAAyB2kB,WAAzB,CAAqC,CAArC,IAA0C,GAA1C,GAAgDJ,KAAK,CAACvkB,CAAD,CAA5D;CACH;CAED;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,WAAS6d,kBAAT,CAA4BvL,IAA5B,EAAkCjO,QAAlC,EAA4C;CACxC,QAAI,CAACiO,IAAL,EAAW;CACP,YAAM,0BAAN;CACH;;CAED,QAAI,CAACA,IAAI,CAAC1O,IAAV,EAAgB;CACZ,UAAI;CACA0O,QAAAA,IAAI,CAAC1O,IAAL,GAAY,YAAZ;CACH,OAFD,CAEE,OAAOR,CAAP,EAAU;CACf;;CAED,QAAIwhB,aAAa,GAAG,CAACtS,IAAI,CAAC1O,IAAL,IAAa,YAAd,EAA4BH,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAApB;;CACA,QAAImhB,aAAa,CAAChB,OAAd,CAAsB,GAAtB,MAA+B,CAAC,CAApC,EAAuC;;CAEnCgB,MAAAA,aAAa,GAAGA,aAAa,CAACnhB,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAhB;CACH;;CACD,QAAIY,QAAQ,IAAIA,QAAQ,CAACuf,OAAT,CAAiB,GAAjB,MAA0B,CAAC,CAA3C,EAA8C;CAC1C,UAAIiB,QAAQ,GAAGxgB,QAAQ,CAACZ,KAAT,CAAe,GAAf,CAAf;CACAY,MAAAA,QAAQ,GAAGwgB,QAAQ,CAAC,CAAD,CAAnB;CACAD,MAAAA,aAAa,GAAGC,QAAQ,CAAC,CAAD,CAAxB;CACH;;CAED,QAAIC,YAAY,GAAG,CAACzgB,QAAQ,IAAKnF,IAAI,CAAC6lB,KAAL,CAAW7lB,IAAI,CAAC8lB,MAAL,KAAgB,UAA3B,IAAyC,SAAvD,IAAqE,GAArE,GAA2EJ,aAA9F;;CAEA,QAAI,OAAOnI,SAAS,CAACqH,gBAAjB,KAAsC,WAA1C,EAAuD;CACnD,aAAOrH,SAAS,CAACqH,gBAAV,CAA2BxR,IAA3B,EAAiCwS,YAAjC,CAAP;CACH,KAFD,MAEO,IAAI,OAAOrI,SAAS,CAACoH,UAAjB,KAAgC,WAApC,EAAiD;CACpD,aAAOpH,SAAS,CAACoH,UAAV,CAAqBvR,IAArB,EAA2BwS,YAA3B,CAAP;CACH;;CAED,QAAIG,SAAS,GAAGzlB,QAAQ,CAAC+E,aAAT,CAAuB,GAAvB,CAAhB;CACA0gB,IAAAA,SAAS,CAACzgB,IAAV,GAAiBC,GAAG,CAACC,eAAJ,CAAoB4N,IAApB,CAAjB;CACA2S,IAAAA,SAAS,CAACrqB,QAAV,GAAqBkqB,YAArB;CAEAG,IAAAA,SAAS,CAACpf,KAAV,GAAkB,2CAAlB;CACA,KAACrG,QAAQ,CAACyK,IAAT,IAAiBzK,QAAQ,CAAC0B,eAA3B,EAA4CsP,WAA5C,CAAwDyU,SAAxD;;CAEA,QAAI,OAAOA,SAAS,CAACtgB,KAAjB,KAA2B,UAA/B,EAA2C;CACvCsgB,MAAAA,SAAS,CAACtgB,KAAV;CACH,KAFD,MAEO;CACHsgB,MAAAA,SAAS,CAACnnB,MAAV,GAAmB,QAAnB;CACAmnB,MAAAA,SAAS,CAACC,aAAV,CAAwB,IAAIC,UAAJ,CAAe,OAAf,EAAwB;CAC5CC,QAAAA,IAAI,EAAE3lB,MADsC;CAE5C4lB,QAAAA,OAAO,EAAE,IAFmC;CAG5CC,QAAAA,UAAU,EAAE;CAHgC,OAAxB,CAAxB;CAKH;;CAED7gB,IAAAA,GAAG,CAACG,eAAJ,CAAoBqgB,SAAS,CAACzgB,IAA9B;CACH;CAED;CACA;CACA;;;CACA,WAAS0f,UAAT,GAAsB;;CAElB,QAAI,OAAOzkB,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAAC8lB,OAAd,KAA0B,QAA3D,IAAuE9lB,MAAM,CAAC8lB,OAAP,CAAe3hB,IAAf,KAAwB,UAAnG,EAA+G;CAC3G,aAAO,IAAP;CACH,KAJiB;;;CAOlB,QAAI,OAAO2hB,OAAP,KAAmB,WAAnB,IAAkC,OAAOA,OAAO,CAACC,QAAf,KAA4B,QAA9D,IAA0E,CAAC,CAACD,OAAO,CAACC,QAAR,CAAiBC,QAAjG,EAA2G;CACvG,aAAO,IAAP;CACH,KATiB;;;CAYlB,QAAI,OAAOhJ,SAAP,KAAqB,QAArB,IAAiC,OAAOA,SAAS,CAAC2F,SAAjB,KAA+B,QAAhE,IAA4E3F,SAAS,CAAC2F,SAAV,CAAoBwB,OAApB,CAA4B,UAA5B,KAA2C,CAA3H,EAA8H;CAC1H,aAAO,IAAP;CACH;;CAED,WAAO,KAAP;CACH;;CAED,WAASjE,SAAT,CAAmBnG,MAAnB,EAA2BkM,IAA3B,EAAiC;CAC7B,QAAI,CAAClM,MAAD,IAAW,CAACA,MAAM,CAACmG,SAAvB,EAAkC;CAC9B,aAAO,EAAP;CACH;;CAED,WAAOnG,MAAM,CAACmG,SAAP,GAAmBgG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CACzC,aAAOA,CAAC,CAACF,IAAF,MAAYA,IAAI,IAAI,OAApB,CAAP;CACH,KAFM,CAAP;CAGH;;CAED,WAASG,YAAT,CAAsBrM,MAAtB,EAA8B9Y,OAA9B,EAAuC;CACnC,QAAI,eAAeA,OAAnB,EAA4B;CACxBA,MAAAA,OAAO,CAAColB,SAAR,GAAoBtM,MAApB;CACH,KAFD,MAEO,IAAI,kBAAkB9Y,OAAtB,EAA+B;CAClCA,MAAAA,OAAO,CAACqlB,YAAR,GAAuBvM,MAAvB;CACH,KAFM,MAEA;CACH9Y,MAAAA,OAAO,CAAColB,SAAR,GAAoBtM,MAApB;CACH;CACJ;CAED;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,WAASwM,eAAT,CAAyBC,SAAzB,EAAoCloB,QAApC,EAA8C;;CAE1C,QAAI,OAAOmoB,IAAP,KAAgB,WAApB,EAAiC;CAC7B,YAAM,IAAIC,KAAJ,CAAU,wDAAV,CAAN;CACH;;CAED,QAAIxN,MAAM,GAAG,IAAIuN,IAAI,CAACE,MAAT,EAAb;CACA,QAAI1wB,OAAO,GAAG,IAAIwwB,IAAI,CAACG,OAAT,EAAd;CACA,QAAIC,KAAK,GAAGJ,IAAI,CAACI,KAAjB;CAEA,QAAIC,UAAU,GAAG,IAAIzJ,UAAJ,EAAjB;;CACAyJ,IAAAA,UAAU,CAACxJ,MAAX,GAAoB,UAAS3Z,CAAT,EAAY;CAC5B,UAAIojB,QAAQ,GAAG9wB,OAAO,CAACmB,MAAR,CAAe,KAAKiR,MAApB,CAAf;CACA0e,MAAAA,QAAQ,CAAChoB,OAAT,CAAiB,UAASkC,OAAT,EAAkB;CAC/BiY,QAAAA,MAAM,CAACG,IAAP,CAAYpY,OAAZ;CACH,OAFD;CAGAiY,MAAAA,MAAM,CAAC4C,IAAP;CACA,UAAIkL,kBAAkB,GAAGH,KAAK,CAACI,oBAAN,CAA2B/N,MAAM,CAACgO,SAAlC,EAA6ChO,MAAM,CAACuF,QAApD,EAA8DvF,MAAM,CAACiO,IAArE,CAAzB;CACA,UAAI3c,IAAI,GAAG,KAAKnC,MAAL,CAAYuD,KAAZ,CAAkBsN,MAAM,CAACkO,YAAzB,CAAX;CACA,UAAIC,OAAO,GAAG,IAAI7J,IAAJ,CAAS,CAACwJ,kBAAD,EAAqBxc,IAArB,CAAT,EAAqC;CAC/CrG,QAAAA,IAAI,EAAE;CADyC,OAArC,CAAd;CAIA7F,MAAAA,QAAQ,CAAC+oB,OAAD,CAAR;CACH,KAbD;;CAcAP,IAAAA,UAAU,CAACQ,iBAAX,CAA6Bd,SAA7B;CACH;;CAED,MAAI,OAAO/L,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAAC2D,kBAAV,GAA+BA,kBAA/B;CACA3D,IAAAA,SAAS,CAACyF,SAAV,GAAsBA,SAAtB;CACAzF,IAAAA,SAAS,CAAC8L,eAAV,GAA4BA,eAA5B;CACA9L,IAAAA,SAAS,CAACyB,WAAV,GAAwBA,WAAxB;CACAzB,IAAAA,SAAS,CAACgK,UAAV,GAAuBA,UAAvB;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,MAAI3F,OAAO,GAAG,EAAd;;CAEA,MAAI,OAAOrJ,YAAP,KAAwB,WAA5B,EAAyC;CACrCqJ,IAAAA,OAAO,CAACrJ,YAAR,GAAuBA,YAAvB;CACH,GAFD,MAEO,IAAI,OAAOC,kBAAP,KAA8B,WAAlC,EAA+C;CAClDoJ,IAAAA,OAAO,CAACrJ,YAAR,GAAuBC,kBAAvB;CACH;;CAED,MAAI,OAAO+E,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACqE,OAAV,GAAoBA,OAApB;CACH;;CAED,WAAS6B,yBAAT,GAAqC;CACjC,QAAIa,SAAS,IAAIX,QAAb,IAAyBL,MAA7B,EAAqC;CACjC,aAAO,IAAP;CACH;CAGD,QAAI+G,IAAI,GAAGvK,SAAS,CAAC2F,SAArB;CACA,QAAI6E,WAAW,GAAG,KAAK/gB,UAAU,CAACuW,SAAS,CAACyK,UAAX,CAAjC;CACA,QAAIC,YAAY,GAAG3C,QAAQ,CAAC/H,SAAS,CAACyK,UAAX,EAAuB,EAAvB,CAA3B;CACA,QAAgBE,SAAhB,EAA2BC;;CAE3B,QAAIrH,QAAQ,IAAIE,OAAhB,EAAyB;CACrBkH,MAAAA,SAAS,GAAGJ,IAAI,CAACpD,OAAL,CAAa,QAAb,CAAZ;CACAqD,MAAAA,WAAW,GAAGD,IAAI,CAACM,SAAL,CAAeF,SAAS,GAAG,CAA3B,CAAd;CACH,KAdgC;;;CAiBjC,QAAI,CAACC,EAAE,GAAGJ,WAAW,CAACrD,OAAZ,CAAoB,GAApB,CAAN,MAAoC,CAAC,CAAzC,EAA4C;CACxCqD,MAAAA,WAAW,GAAGA,WAAW,CAACK,SAAZ,CAAsB,CAAtB,EAAyBD,EAAzB,CAAd;CACH;;CAED,QAAI,CAACA,EAAE,GAAGJ,WAAW,CAACrD,OAAZ,CAAoB,GAApB,CAAN,MAAoC,CAAC,CAAzC,EAA4C;CACxCqD,MAAAA,WAAW,GAAGA,WAAW,CAACK,SAAZ,CAAsB,CAAtB,EAAyBD,EAAzB,CAAd;CACH;;CAEDF,IAAAA,YAAY,GAAG3C,QAAQ,CAAC,KAAKyC,WAAN,EAAmB,EAAnB,CAAvB;;CAEA,QAAI1P,KAAK,CAAC4P,YAAD,CAAT,EAAyB;CACrBF,MAAAA,WAAW,GAAG,KAAK/gB,UAAU,CAACuW,SAAS,CAACyK,UAAX,CAA7B;CACAC,MAAAA,YAAY,GAAG3C,QAAQ,CAAC/H,SAAS,CAACyK,UAAX,EAAuB,EAAvB,CAAvB;CACH;;CAED,WAAOC,YAAY,IAAI,EAAvB;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASzH,mBAAT,CAA6BvF,WAA7B,EAA0CC,MAA1C,EAAkD;CAC9C,QAAIpP,IAAI,GAAG,IAAX;;CAEA,QAAI,OAAOmP,WAAP,KAAuB,WAA3B,EAAwC;CACpC,YAAM,2CAAN;CACH;;CAED,QAAI,OAAOyF,aAAP,KAAyB,WAA7B,EAA0C;CACtC,YAAM,4HAAN;CACH;;CAEDxF,IAAAA,MAAM,GAAGA,MAAM,IAAI;;CAEf0F,MAAAA,QAAQ,EAAE;CAFK,KAAnB;;CAKA,QAAI1F,MAAM,CAACxW,IAAP,KAAgB,OAApB,EAA6B;CACzB,UAAI+b,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAAhC,IAA0Cyf,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAA9E,EAAsF;CAClF,YAAIsZ,MAAJ;;CACA,YAAI,CAAC,CAACiD,SAAS,CAACC,eAAhB,EAAiC;CAC7BlD,UAAAA,MAAM,GAAG,IAAI0H,WAAJ,EAAT;CACA1H,UAAAA,MAAM,CAAC2H,QAAP,CAAgBxB,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgC,CAAhC,CAAhB;CACH,SAHD,MAGO;;CAEHX,UAAAA,MAAM,GAAG,IAAI0H,WAAJ,CAAgBvB,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAzB,CAAT;CACH;;CACDA,QAAAA,WAAW,GAAGX,MAAd;CACH;;CAED,UAAI,CAACY,MAAM,CAAC0F,QAAR,IAAoB1F,MAAM,CAAC0F,QAAP,CAAgB1Y,QAAhB,GAA2B4c,WAA3B,GAAyCJ,OAAzC,CAAiD,OAAjD,MAA8D,CAAC,CAAvF,EAA0F;CACtFxJ,QAAAA,MAAM,CAAC0F,QAAP,GAAkBE,QAAQ,GAAG,YAAH,GAAkB,WAA5C;CACH;;CAED,UAAI5F,MAAM,CAAC0F,QAAP,IAAmB1F,MAAM,CAAC0F,QAAP,CAAgB1Y,QAAhB,GAA2B4c,WAA3B,OAA6C,WAAhE,IAA+E,CAAC,CAACvH,SAAS,CAACC,eAA/F,EAAgH;;CAE5GtC,QAAAA,MAAM,CAAC0F,QAAP,GAAkB,WAAlB;CACH;CACJ;;CAED,QAAIyH,YAAY,GAAG,EAAnB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKC,eAAL,GAAuB,YAAW;CAC9B,aAAOD,YAAP;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKjyB,MAAL,GAAc,YAAW;;CAErB0V,MAAAA,IAAI,CAAClQ,IAAL,GAAY,IAAZ;CACAkQ,MAAAA,IAAI,CAAC2P,iBAAL;CACA3P,MAAAA,IAAI,CAACyc,UAAL,GAAkB,EAAlB;CACAC,MAAAA,SAAS,GAAG,EAAZ;CACAH,MAAAA,YAAY,GAAG,EAAf;CAEA,UAAII,aAAa,GAAGvN,MAApB;;CAEA,UAAI,CAACA,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,kDAAZ,EAAgEyvB,aAAhE;CACH;;CAED,UAAIjN,aAAJ,EAAmB;;CAEfA,QAAAA,aAAa,GAAG,IAAhB;CACH;;CAED,UAAIsF,QAAQ,IAAI,CAACI,yBAAyB,EAA1C,EAA8C;;CAE1CuH,QAAAA,aAAa,GAAG,WAAhB;CACH;;CAED,UAAI,OAAO/H,aAAa,CAACxX,eAArB,KAAyC,UAAzC,IAAuDuf,aAAa,CAAC7H,QAAzE,EAAmF;CAC/E,YAAI,CAACF,aAAa,CAACxX,eAAd,CAA8Buf,aAAa,CAAC7H,QAA5C,CAAL,EAA4D;CACxD,cAAI,CAAC1F,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,YAAAA,OAAO,CAACC,IAAR,CAAa,oDAAb,EAAmEkqB,aAAa,CAAC7H,QAAjF;CACH;;CAED6H,UAAAA,aAAa,CAAC7H,QAAd,GAAyB1F,MAAM,CAACxW,IAAP,KAAgB,OAAhB,GAA0B,YAA1B,GAAyC,YAAlE;CACH;CACJ,OAhCoB;;;CAmCrB,UAAI;CACA8W,QAAAA,aAAa,GAAG,IAAIkF,aAAJ,CAAkBzF,WAAlB,EAA+BwN,aAA/B,CAAhB,CADA;;CAIAvN,QAAAA,MAAM,CAAC0F,QAAP,GAAkB6H,aAAa,CAAC7H,QAAhC;CACH,OALD,CAKE,OAAO1c,CAAP,EAAU;;CAERsX,QAAAA,aAAa,GAAG,IAAIkF,aAAJ,CAAkBzF,WAAlB,CAAhB;CACH,OA3CoB;;;CA8CrB,UAAIwN,aAAa,CAAC7H,QAAd,IAA0B,CAACF,aAAa,CAACxX,eAAzC,IAA4D,uBAAuBsS,aAAnF,IAAoGA,aAAa,CAACkN,iBAAd,CAAgCD,aAAa,CAAC7H,QAA9C,MAA4D,KAApK,EAA2K;CACvK,YAAI,CAAC1F,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACC,IAAR,CAAa,oDAAb,EAAmEkqB,aAAa,CAAC7H,QAAjF;CACH;CACJ,OAlDoB;;;CAqDrBpF,MAAAA,aAAa,CAACmN,eAAd,GAAgC,UAASzkB,CAAT,EAAY;CACxC,YAAIA,CAAC,CAACkI,IAAN,EAAY;CACRoc,UAAAA,SAAS,CAACnpB,IAAV,CAAe,sBAAsBod,WAAW,CAACvY,CAAC,CAACkI,IAAF,CAAO/E,IAAR,CAAhD;CACH;;CAED,YAAI,OAAO6T,MAAM,CAACyG,SAAd,KAA4B,QAAhC,EAA0C;CACtC,cAAIzd,CAAC,CAACkI,IAAF,IAAUlI,CAAC,CAACkI,IAAF,CAAO/E,IAArB,EAA2B;CACvBghB,YAAAA,YAAY,CAAChpB,IAAb,CAAkB6E,CAAC,CAACkI,IAApB;CACAwc,YAAAA,eAAe;;CAEf,gBAAI,OAAO1N,MAAM,CAACyN,eAAd,KAAkC,UAAtC,EAAkD;;CAE9C,kBAAI/sB,IAAI,GAAGsf,MAAM,CAAC2N,aAAP,GAAuB3kB,CAAC,CAACkI,IAAzB,GAAgC,IAAI2R,IAAJ,CAAS,CAAC7Z,CAAC,CAACkI,IAAH,CAAT,EAAmB;CAC1D1H,gBAAAA,IAAI,EAAEokB,WAAW,CAACL,aAAD;CADyC,eAAnB,CAA3C;CAGAvN,cAAAA,MAAM,CAACyN,eAAP,CAAuB/sB,IAAvB;CACH;CACJ;;CACD;CACH;;CAED,YAAI,CAACsI,CAAC,CAACkI,IAAH,IAAW,CAAClI,CAAC,CAACkI,IAAF,CAAO/E,IAAnB,IAA2BnD,CAAC,CAACkI,IAAF,CAAO/E,IAAP,GAAc,GAAzC,IAAgDyE,IAAI,CAAClQ,IAAzD,EAA+D;;;CAG3D,cAAIkQ,IAAI,CAACid,iBAAT,EAA4B;CACxBjd,YAAAA,IAAI,CAACid,iBAAL,CAAuB,IAAIhL,IAAJ,CAAS,EAAT,EAAa;CAChCrZ,cAAAA,IAAI,EAAEokB,WAAW,CAACL,aAAD;CADe,aAAb,CAAvB;CAGA3c,YAAAA,IAAI,CAACid,iBAAL,GAAyB,IAAzB;CACH;;CACD;CACH;;CAEDjd,QAAAA,IAAI,CAAClQ,IAAL,GAAYsf,MAAM,CAAC2N,aAAP,GAAuB3kB,CAAC,CAACkI,IAAzB,GAAgC,IAAI2R,IAAJ,CAAS,CAAC7Z,CAAC,CAACkI,IAAH,CAAT,EAAmB;CAC3D1H,UAAAA,IAAI,EAAEokB,WAAW,CAACL,aAAD;CAD0C,SAAnB,CAA5C;;CAIA,YAAI3c,IAAI,CAACid,iBAAT,EAA4B;CACxBjd,UAAAA,IAAI,CAACid,iBAAL,CAAuBjd,IAAI,CAAClQ,IAA5B;CACAkQ,UAAAA,IAAI,CAACid,iBAAL,GAAyB,IAAzB;CACH;CACJ,OAzCD;;CA2CAvN,MAAAA,aAAa,CAACwN,OAAd,GAAwB,YAAW;CAC/BR,QAAAA,SAAS,CAACnpB,IAAV,CAAe,SAAf;CACH,OAFD;;CAIAmc,MAAAA,aAAa,CAACyN,OAAd,GAAwB,YAAW;CAC/BT,QAAAA,SAAS,CAACnpB,IAAV,CAAe,QAAf;CACH,OAFD;;CAIAmc,MAAAA,aAAa,CAAC0N,QAAd,GAAyB,YAAW;CAChCV,QAAAA,SAAS,CAACnpB,IAAV,CAAe,SAAf;CACH,OAFD;;CAIAmc,MAAAA,aAAa,CAAC2N,MAAd,GAAuB,YAAW;CAC9BX,QAAAA,SAAS,CAACnpB,IAAV,CAAe,SAAf;CACH,OAFD;;CAIAmc,MAAAA,aAAa,CAAC7Y,OAAd,GAAwB,UAAS1J,KAAT,EAAgB;CACpC,YAAI,CAACA,KAAL,EAAY;CACR;CACH;;CAED,YAAI,CAACA,KAAK,CAACkF,IAAX,EAAiB;CACblF,UAAAA,KAAK,CAACkF,IAAN,GAAa,cAAb;CACH;;CAEDqqB,QAAAA,SAAS,CAACnpB,IAAV,CAAe,YAAYpG,KAA3B;;CAEA,YAAI,CAACiiB,MAAM,CAACI,WAAZ,EAAyB;;CAErB,cAAIriB,KAAK,CAACkF,IAAN,CAAW+J,QAAX,GAAsB4c,WAAtB,GAAoCJ,OAApC,CAA4C,cAA5C,MAAgE,CAAC,CAArE,EAAwE;CACpEpmB,YAAAA,OAAO,CAACrF,KAAR,CAAc,gGAAd,EAAgHA,KAAhH;CACH,WAFD,MAEO,IAAIA,KAAK,CAACkF,IAAN,CAAW+J,QAAX,GAAsB4c,WAAtB,GAAoCJ,OAApC,CAA4C,cAA5C,MAAgE,CAAC,CAArE,EAAwE;CAC3EpmB,YAAAA,OAAO,CAACrF,KAAR,CAAc,aAAd,EAA6BwvB,aAAa,CAAC7H,QAA3C,EAAqD,qBAArD,EAA4E3nB,KAA5E;CACH,WAFM,MAEA,IAAIA,KAAK,CAACkF,IAAN,CAAW+J,QAAX,GAAsB4c,WAAtB,GAAoCJ,OAApC,CAA4C,UAA5C,MAA4D,CAAC,CAAjE,EAAoE;CACvEpmB,YAAAA,OAAO,CAACrF,KAAR,CAAc,8BAAd,EAA8CA,KAA9C;CACH,WAFM;CAAA,eAKF,IAAIA,KAAK,CAACkF,IAAN,KAAe,aAAnB,EAAkC;CACnCG,YAAAA,OAAO,CAACrF,KAAR,CAAc,2IAAd,EAA2JA,KAA3J;CACH,WAFI,MAEE,IAAIA,KAAK,CAACkF,IAAN,KAAe,2BAAnB,EAAgD;CACnDG,YAAAA,OAAO,CAACrF,KAAR,CAAc,qQAAd,EAAqRA,KAArR;CACH,WAFM,MAEA,IAAIA,KAAK,CAACkF,IAAN,KAAe,qBAAnB,EAA0C;CAC7CG,YAAAA,OAAO,CAACrF,KAAR,CAAc,wJAAd,EAAwKA,KAAxK;CACH,WAFM,MAEA,IAAIA,KAAK,CAACkF,IAAN,KAAe,cAAnB,EAAmC;CACtCG,YAAAA,OAAO,CAACrF,KAAR,CAAc,8EAAd,EAA8FA,KAA9F;CACH,WAFM,MAEA;CACHqF,YAAAA,OAAO,CAACrF,KAAR,CAAc,qBAAd,EAAqCA,KAArC;CACH;CACJ;;CAED,SAAC,UAASmwB,MAAT,EAAiB;CACd,cAAI,CAACtd,IAAI,CAACud,eAAN,IAAyB7N,aAAzB,IAA0CA,aAAa,CAAC/C,KAAd,KAAwB,UAAtE,EAAkF;CAC9E,mBAAOyC,MAAM,CAACoO,SAAd,CAD8E;;CAI9E9N,YAAAA,aAAa,CAAC3hB,KAAd,CAAoB,KAAK,EAAL,GAAU,IAA9B;CACA;CACH;;CAEDuiB,UAAAA,UAAU,CAACgN,MAAD,EAAS,IAAT,CAAV;CACH,SAVD;;CAYA,YAAI5N,aAAa,CAAC/C,KAAd,KAAwB,UAAxB,IAAsC+C,aAAa,CAAC/C,KAAd,KAAwB,SAAlE,EAA6E;CACzE+C,UAAAA,aAAa,CAACa,IAAd;CACH;CACJ,OAlDD;;CAoDA,UAAI,OAAOnB,MAAM,CAACyG,SAAd,KAA4B,QAAhC,EAA0C;CACtCiH,QAAAA,eAAe;CACfpN,QAAAA,aAAa,CAAC3hB,KAAd,CAAoBqhB,MAAM,CAACyG,SAA3B;CACH,OAHD,MAGO;;;CAIHnG,QAAAA,aAAa,CAAC3hB,KAAd,CAAoB,MAApB;CACH;;CAED,UAAIqhB,MAAM,CAACY,YAAX,EAAyB;CACrBZ,QAAAA,MAAM,CAACY,YAAP,GADqB;CAExB;CACJ,KAjLD;;CAoLJ;CACA;CACA;CACA;CACA;;;CACI,SAAKyM,UAAL,GAAkB,EAAlB;;CAEA,aAASK,eAAT,GAA2B;CACvB9c,MAAAA,IAAI,CAACyc,UAAL,CAAgBlpB,IAAhB,CAAqB,IAAIuG,IAAJ,GAAWC,OAAX,EAArB;;CAEA,UAAI,OAAOqV,MAAM,CAAC0G,WAAd,KAA8B,UAAlC,EAA8C;CAC1C1G,QAAAA,MAAM,CAAC0G,WAAP,CAAmB9V,IAAI,CAACyc,UAAL,CAAgBzc,IAAI,CAACyc,UAAL,CAAgBvnB,MAAhB,GAAyB,CAAzC,CAAnB,EAAgE8K,IAAI,CAACyc,UAArE;CACH;CACJ;;CAED,aAASO,WAAT,CAAqBS,YAArB,EAAmC;CAC/B,UAAI/N,aAAa,IAAIA,aAAa,CAACoF,QAAnC,EAA6C;CACzC,eAAOpF,aAAa,CAACoF,QAArB;CACH;;CAED,aAAO2I,YAAY,CAAC3I,QAAb,IAAyB,YAAhC;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKvE,IAAL,GAAY,UAASxd,QAAT,EAAmB;CAC3BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEAiN,MAAAA,IAAI,CAACud,eAAL,GAAuB,IAAvB,CAH2B;;CAK3B,UAAI,CAAC7N,aAAL,EAAoB;CAChB;CACH;;CAED,WAAKuN,iBAAL,GAAyBlqB,QAAzB;;CAEA,UAAI2c,aAAa,CAAC/C,KAAd,KAAwB,WAA5B,EAAyC;CACrC+C,QAAAA,aAAa,CAACa,IAAd;CACH;;CAED,UAAI,OAAOnB,MAAM,CAACyG,SAAd,KAA4B,QAAhC,EAA0C;CACtCvF,QAAAA,UAAU,CAAC,YAAW;CAClBtQ,UAAAA,IAAI,CAAClQ,IAAL,GAAY,IAAImiB,IAAJ,CAASsK,YAAT,EAAuB;CAC/B3jB,YAAAA,IAAI,EAAEokB,WAAW,CAAC5N,MAAD;CADc,WAAvB,CAAZ;CAIApP,UAAAA,IAAI,CAACid,iBAAL,CAAuBjd,IAAI,CAAClQ,IAA5B;CACH,SANS,EAMP,GANO,CAAV;CAOH;CACJ,KAxBD;;CA2BJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKnD,KAAL,GAAa,YAAW;CACpB,UAAI,CAAC+iB,aAAL,EAAoB;CAChB;CACH;;CAED,UAAIA,aAAa,CAAC/C,KAAd,KAAwB,WAA5B,EAAyC;CACrC+C,QAAAA,aAAa,CAAC/iB,KAAd;CACH;CACJ,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKigB,MAAL,GAAc,YAAW;CACrB,UAAI,CAAC8C,aAAL,EAAoB;CAChB;CACH;;CAED,UAAIA,aAAa,CAAC/C,KAAd,KAAwB,QAA5B,EAAsC;CAClC+C,QAAAA,aAAa,CAAC9C,MAAd;CACH;CACJ,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK+C,iBAAL,GAAyB,YAAW;CAChC,UAAID,aAAa,IAAIA,aAAa,CAAC/C,KAAd,KAAwB,WAA7C,EAA0D;CACtD3M,QAAAA,IAAI,CAACuQ,IAAL,CAAUmN,mBAAV;CACH;;CAEDA,MAAAA,mBAAmB;CACtB,KAND;;CAQA,aAASA,mBAAT,GAA+B;CAC3BnB,MAAAA,YAAY,GAAG,EAAf;CACA7M,MAAAA,aAAa,GAAG,IAAhB;CACA1P,MAAAA,IAAI,CAACyc,UAAL,GAAkB,EAAlB;CACH,KAhW6C;;;CAmW9C,QAAI/M,aAAJ;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKiD,mBAAL,GAA2B,YAAW;CAClC,aAAOjD,aAAP;CACH,KAFD;;CAIA,aAASiO,mBAAT,GAA+B;CAC3B,UAAI,YAAYxO,WAAhB,EAA6B;CACzB,YAAI,CAACA,WAAW,CAACyO,MAAjB,EAAyB;CACrB,iBAAO,KAAP;CACH;CACJ,OAJD,MAIO,IAAI,WAAWzO,WAAf,EAA4B;;CAC/B,YAAIA,WAAW,CAACxd,KAAhB,EAAuB;CACnB,iBAAO,KAAP;CACH;CACJ;;CACD,aAAO,IAAP;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK7B,IAAL,GAAY,IAAZ;;CAIJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKujB,QAAL,GAAgB,YAAW;CACvB,UAAI,CAAC3D,aAAL,EAAoB;CAChB,eAAO,UAAP;CACH;;CAED,aAAOA,aAAa,CAAC/C,KAAd,IAAuB,UAA9B;CACH,KAND,CApZ8C;;;CA6Z9C,QAAI+P,SAAS,GAAG,EAAhB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKmB,YAAL,GAAoB,YAAW;CAC3B,aAAOnB,SAAP;CACH,KAFD,CAva8C;;;;;;CA+a9C,QAAI,OAAOtN,MAAM,CAAC0O,sBAAd,KAAyC,WAA7C,EAA0D;CACtD1O,MAAAA,MAAM,CAAC0O,sBAAP,GAAgC,KAAhC,CADsD;CAEzD;;CAED,QAAI9d,IAAI,GAAG,IAAX,CAnb8C;;;CAub9C,KAAC,SAASsd,MAAT,GAAkB;CACf,UAAI,CAAC5N,aAAD,IAAkBN,MAAM,CAAC0O,sBAAP,KAAkC,KAAxD,EAA+D;CAC3D;CACH;;CAED,UAAIH,mBAAmB,OAAO,KAA9B,EAAqC;CACjC,YAAI,CAACvO,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACtF,GAAR,CAAY,4BAAZ;CACH;;CACD8S,QAAAA,IAAI,CAACuQ,IAAL;CACA;CACH;;CAEDD,MAAAA,UAAU,CAACgN,MAAD,EAAS,IAAT,CAAV,CAbe;CAclB,KAdD,IAvb8C;;;CAwc9C,SAAKjrB,IAAL,GAAY,qBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;CAGH;;CAED,MAAI,OAAO6c,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACwF,mBAAV,GAAgCA,mBAAhC;CACH;CAGD;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASD,mBAAT,CAA6BtF,WAA7B,EAA0CC,MAA1C,EAAkD;CAC9C,QAAI,CAACuF,SAAS,CAACxF,WAAD,EAAc,OAAd,CAAT,CAAgCja,MAArC,EAA6C;CACzC,YAAM,kCAAN;CACH;;CAEDka,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;CAEA,QAAIpP,IAAI,GAAG,IAAX,CAP8C;;CAU9C,QAAI+d,WAAW,GAAG,EAAlB;CACA,QAAIC,YAAY,GAAG,EAAnB;CACA,QAAIxwB,SAAS,GAAG,KAAhB;CACA,QAAIywB,eAAe,GAAG,CAAtB;CACA,QAAIC,WAAJ;CAEA,QAAItI,qBAAqB,GAAG,CAA5B;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,QAAIuI,eAAe,GAAG/O,MAAM,CAAC+O,eAA7B,CA5B8C;;CA+B9C,QAAI/O,MAAM,CAACgP,WAAP,KAAuB,IAA3B,EAAiC;CAC7BxI,MAAAA,qBAAqB,GAAG,CAAxB;CACH;;CAED,QAAIxG,MAAM,CAACwG,qBAAP,KAAiC,CAArC,EAAwC;CACpCA,MAAAA,qBAAqB,GAAG,CAAxB;CACH;;CAED,QAAI,CAACA,qBAAD,IAA0BA,qBAAqB,GAAG,CAAtD,EAAyD;CACrDA,MAAAA,qBAAqB,GAAG,CAAxB;CACH;;CAED,QAAI,CAACxG,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,MAAAA,OAAO,CAACtF,GAAR,CAAY,8DAA8D0oB,qBAA1E;CACH,KA7C6C;;;;;;CAmD9C,QAAI,OAAOxG,MAAM,CAAC0O,sBAAd,KAAyC,WAA7C,EAA0D;CACtD1O,MAAAA,MAAM,CAAC0O,sBAAP,GAAgC,IAAhC;CACH;;CAED,aAASH,mBAAT,GAA+B;CAC3B,UAAIvO,MAAM,CAAC0O,sBAAP,KAAkC,KAAtC,EAA6C;;CAEzC,eAAO,IAAP;CACH;;CAED,UAAI,YAAY3O,WAAhB,EAA6B;CACzB,YAAI,CAACA,WAAW,CAACyO,MAAjB,EAAyB;CACrB,iBAAO,KAAP;CACH;CACJ,OAJD,MAIO,IAAI,WAAWzO,WAAf,EAA4B;;CAC/B,YAAIA,WAAW,CAACxd,KAAhB,EAAuB;CACnB,iBAAO,KAAP;CACH;CACJ;;CACD,aAAO,IAAP;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKrH,MAAL,GAAc,YAAW;CACrB,UAAIqzB,mBAAmB,OAAO,KAA9B,EAAqC;CACjC,cAAM,yCAAN;CACH;;CAEDU,MAAAA,cAAc;CAEdC,MAAAA,qBAAqB,GAAGC,QAAQ,GAAG,KAAnC;CACA/wB,MAAAA,SAAS,GAAG,IAAZ;;CAEA,UAAI,OAAO4hB,MAAM,CAACyG,SAAd,KAA4B,WAAhC,EAA6C;CACzCyH,QAAAA,MAAM;CACT;CACJ,KAbD;;CAeA,aAASkB,qBAAT,CAA+BpP,MAA/B,EAAuCrc,QAAvC,EAAiD;CAC7C,eAAS0rB,iBAAT,CAA2BrP,MAA3B,EAAmCsP,EAAnC,EAAuC;CACnC,YAAI9I,qBAAqB,GAAGxG,MAAM,CAACwG,qBAAnC,CADmC;;CAInC,YAAI+I,WAAW,GAAGvP,MAAM,CAACuP,WAAP,CAAmBte,KAAnB,CAAyB,CAAzB,CAAlB;CACA,YAAIue,YAAY,GAAGxP,MAAM,CAACwP,YAAP,CAAoBve,KAApB,CAA0B,CAA1B,CAAnB;CACA,YAAI8K,UAAU,GAAGiE,MAAM,CAACjE,UAAxB;CACA,YAAI0T,yBAAyB,GAAGzP,MAAM,CAACyP,yBAAvC;CACA,YAAIV,eAAe,GAAG/O,MAAM,CAAC+O,eAA7B;;CAEA,YAAIvI,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B+I,UAAAA,WAAW,GAAGG,YAAY,CAACH,WAAD,EAAcE,yBAAd,CAA1B;CACAD,UAAAA,YAAY,GAAGE,YAAY,CAACF,YAAD,EAAeC,yBAAf,CAA3B;;CAEA,cAAIV,eAAJ,EAAqB;CACjBQ,YAAAA,WAAW,GAAGI,gBAAgB,CAACJ,WAAD,EAAcR,eAAd,EAA+BhT,UAA/B,CAA9B;CACAyT,YAAAA,YAAY,GAAGG,gBAAgB,CAACH,YAAD,EAAeT,eAAf,EAAgChT,UAAhC,CAA/B;CACH;CACJ;;CAED,YAAIyK,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B+I,UAAAA,WAAW,GAAGG,YAAY,CAACH,WAAD,EAAcE,yBAAd,CAA1B;;CAEA,cAAIV,eAAJ,EAAqB;CACjBQ,YAAAA,WAAW,GAAGI,gBAAgB,CAACJ,WAAD,EAAcR,eAAd,EAA+BhT,UAA/B,CAA9B;CACH;CACJ,SA1BkC;;;CA6BnC,YAAIgT,eAAJ,EAAqB;CACjBhT,UAAAA,UAAU,GAAGgT,eAAb;CACH,SA/BkC;;;;CAmCnC,iBAASY,gBAAT,CAA0Bze,IAA1B,EAAgC0e,aAAhC,EAA+CC,aAA/C,EAA8D;CAC1D,cAAIC,QAAQ,GAAGhrB,IAAI,CAAC6lB,KAAL,CAAWzZ,IAAI,CAACpL,MAAL,IAAe8pB,aAAa,GAAGC,aAA/B,CAAX,CAAf;CACA,cAAIE,OAAO,GAAG,EAAd;CACA,cAAIC,YAAY,GAAGhY,MAAM,CAAC,CAAC9G,IAAI,CAACpL,MAAL,GAAc,CAAf,KAAqBgqB,QAAQ,GAAG,CAAhC,CAAD,CAAzB;CACAC,UAAAA,OAAO,CAAC,CAAD,CAAP,GAAa7e,IAAI,CAAC,CAAD,CAAjB;;CACA,eAAK,IAAItL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGkqB,QAAQ,GAAG,CAA/B,EAAkClqB,CAAC,EAAnC,EAAuC;CACnC,gBAAIqqB,GAAG,GAAGrqB,CAAC,GAAGoqB,YAAd;CACA,gBAAIE,MAAM,GAAGlY,MAAM,CAAClT,IAAI,CAACulB,KAAL,CAAW4F,GAAX,CAAD,CAAN,CAAwB1iB,OAAxB,EAAb;CACA,gBAAI4iB,KAAK,GAAGnY,MAAM,CAAClT,IAAI,CAACsrB,IAAL,CAAUH,GAAV,CAAD,CAAN,CAAuB1iB,OAAvB,EAAZ;CACA,gBAAI8iB,OAAO,GAAGJ,GAAG,GAAGC,MAApB;CACAH,YAAAA,OAAO,CAACnqB,CAAD,CAAP,GAAa0qB,iBAAiB,CAACpf,IAAI,CAACgf,MAAD,CAAL,EAAehf,IAAI,CAACif,KAAD,CAAnB,EAA4BE,OAA5B,CAA9B;CACH;;CACDN,UAAAA,OAAO,CAACD,QAAQ,GAAG,CAAZ,CAAP,GAAwB5e,IAAI,CAACA,IAAI,CAACpL,MAAL,GAAc,CAAf,CAA5B;CACA,iBAAOiqB,OAAP;CACH;;CAED,iBAASO,iBAAT,CAA2BJ,MAA3B,EAAmCC,KAAnC,EAA0CE,OAA1C,EAAmD;CAC/C,iBAAOH,MAAM,GAAG,CAACC,KAAK,GAAGD,MAAT,IAAmBG,OAAnC;CACH;;CAED,iBAASX,YAAT,CAAsBa,aAAtB,EAAqCC,OAArC,EAA8C;CAC1C,cAAI9iB,MAAM,GAAG,IAAI+iB,YAAJ,CAAiBD,OAAjB,CAAb;CACA,cAAIE,MAAM,GAAG,CAAb;CACA,cAAIC,GAAG,GAAGJ,aAAa,CAACzqB,MAAxB;;CAEA,eAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+qB,GAApB,EAAyB/qB,CAAC,EAA1B,EAA8B;CAC1B,gBAAInH,MAAM,GAAG8xB,aAAa,CAAC3qB,CAAD,CAA1B;CACA8H,YAAAA,MAAM,CAAC8R,GAAP,CAAW/gB,MAAX,EAAmBiyB,MAAnB;CACAA,YAAAA,MAAM,IAAIjyB,MAAM,CAACqH,MAAjB;CACH;;CAED,iBAAO4H,MAAP;CACH;;CAED,iBAASkjB,UAAT,CAAoB5B,WAApB,EAAiC6B,YAAjC,EAA+C;CAC3C,cAAI/qB,MAAM,GAAGkpB,WAAW,CAAClpB,MAAZ,GAAqB+qB,YAAY,CAAC/qB,MAA/C;CAEA,cAAI4H,MAAM,GAAG,IAAI+iB,YAAJ,CAAiB3qB,MAAjB,CAAb;CAEA,cAAIgrB,UAAU,GAAG,CAAjB;;CAEA,eAAK,IAAIpd,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAG5N,MAA5B,GAAqC;CACjC4H,YAAAA,MAAM,CAACgG,KAAK,EAAN,CAAN,GAAkBsb,WAAW,CAAC8B,UAAD,CAA7B;CACApjB,YAAAA,MAAM,CAACgG,KAAK,EAAN,CAAN,GAAkBmd,YAAY,CAACC,UAAD,CAA9B;CACAA,YAAAA,UAAU;CACb;;CACD,iBAAOpjB,MAAP;CACH;;CAED,iBAASqjB,aAAT,CAAuB/F,IAAvB,EAA6B0F,MAA7B,EAAqCM,MAArC,EAA6C;CACzC,cAAIL,GAAG,GAAGK,MAAM,CAAClrB,MAAjB;;CACA,eAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+qB,GAApB,EAAyB/qB,CAAC,EAA1B,EAA8B;CAC1BolB,YAAAA,IAAI,CAACiG,QAAL,CAAcP,MAAM,GAAG9qB,CAAvB,EAA0BorB,MAAM,CAACnnB,UAAP,CAAkBjE,CAAlB,CAA1B;CACH;CACJ,SAzFkC;;;CA4FnC,YAAIsrB,WAAJ;;CAEA,YAAI1K,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B0K,UAAAA,WAAW,GAAGN,UAAU,CAACrB,WAAD,EAAcC,YAAd,CAAxB;CACH;;CAED,YAAIhJ,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B0K,UAAAA,WAAW,GAAG3B,WAAd;CACH;;CAED,YAAI4B,iBAAiB,GAAGD,WAAW,CAACprB,MAApC,CAtGmC;;CAyGnC,YAAIsrB,qBAAqB,GAAG,KAAKD,iBAAiB,GAAG,CAArD;CAEA,YAAI1yB,MAAM,GAAG,IAAI4yB,WAAJ,CAAgBD,qBAAhB,CAAb;CAEA,YAAIpG,IAAI,GAAG,IAAIsG,QAAJ,CAAa7yB,MAAb,CAAX,CA7GmC;;CAgHnCsyB,QAAAA,aAAa,CAAC/F,IAAD,EAAO,CAAP,EAAU,MAAV,CAAb,CAhHmC;;;CAoHnCA,QAAAA,IAAI,CAACuG,SAAL,CAAe,CAAf,EAAkB,KAAKJ,iBAAiB,GAAG,CAA3C,EAA8C,IAA9C,EApHmC;;CAuHnCJ,QAAAA,aAAa,CAAC/F,IAAD,EAAO,CAAP,EAAU,MAAV,CAAb,CAvHmC;;;CA2HnC+F,QAAAA,aAAa,CAAC/F,IAAD,EAAO,EAAP,EAAW,MAAX,CAAb,CA3HmC;;CA8HnCA,QAAAA,IAAI,CAACuG,SAAL,CAAe,EAAf,EAAmB,EAAnB,EAAuB,IAAvB,EA9HmC;;CAiInCvG,QAAAA,IAAI,CAACwG,SAAL,CAAe,EAAf,EAAmB,CAAnB,EAAsB,IAAtB,EAjImC;;CAoInCxG,QAAAA,IAAI,CAACwG,SAAL,CAAe,EAAf,EAAmBhL,qBAAnB,EAA0C,IAA1C,EApImC;;CAuInCwE,QAAAA,IAAI,CAACuG,SAAL,CAAe,EAAf,EAAmBxV,UAAnB,EAA+B,IAA/B,EAvImC;;CA0InCiP,QAAAA,IAAI,CAACuG,SAAL,CAAe,EAAf,EAAmBxV,UAAU,GAAGyK,qBAAb,GAAqC,CAAxD,EAA2D,IAA3D,EA1ImC;;CA6InCwE,QAAAA,IAAI,CAACwG,SAAL,CAAe,EAAf,EAAmBhL,qBAAqB,GAAG,CAA3C,EAA8C,IAA9C,EA7ImC;;CAgJnCwE,QAAAA,IAAI,CAACwG,SAAL,CAAe,EAAf,EAAmB,EAAnB,EAAuB,IAAvB,EAhJmC;;;CAoJnCT,QAAAA,aAAa,CAAC/F,IAAD,EAAO,EAAP,EAAW,MAAX,CAAb,CApJmC;;CAuJnCA,QAAAA,IAAI,CAACuG,SAAL,CAAe,EAAf,EAAmBJ,iBAAiB,GAAG,CAAvC,EAA0C,IAA1C,EAvJmC;;CA0JnC,YAAIR,GAAG,GAAGQ,iBAAV;CACA,YAAIzd,KAAK,GAAG,EAAZ;CACA,YAAIoG,MAAM,GAAG,CAAb;;CACA,aAAK,IAAIlU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG+qB,GAApB,EAAyB/qB,CAAC,EAA1B,EAA8B;CAC1BolB,UAAAA,IAAI,CAACyG,QAAL,CAAc/d,KAAd,EAAqBwd,WAAW,CAACtrB,CAAD,CAAX,IAAkB,SAASkU,MAA3B,CAArB,EAAyD,IAAzD;CACApG,UAAAA,KAAK,IAAI,CAAT;CACH;;CAED,YAAI4b,EAAJ,EAAQ;CACJ,iBAAOA,EAAE,CAAC;CACN7wB,YAAAA,MAAM,EAAEA,MADF;CAENusB,YAAAA,IAAI,EAAEA;CAFA,WAAD,CAAT;CAIH;;CAEDhJ,QAAAA,WAAW,CAAC;CACRvjB,UAAAA,MAAM,EAAEA,MADA;CAERusB,UAAAA,IAAI,EAAEA;CAFE,SAAD,CAAX;CAIH;;CAED,UAAIhL,MAAM,CAAC0R,QAAX,EAAqB;CACjBrC,QAAAA,iBAAiB,CAACrP,MAAD,EAAS,UAAS9O,IAAT,EAAe;CACrCvN,UAAAA,QAAQ,CAACuN,IAAI,CAACzS,MAAN,EAAcyS,IAAI,CAAC8Z,IAAnB,CAAR;CACH,SAFgB,CAAjB;CAGA;CACH;;CAGD,UAAIzI,SAAS,GAAGC,kBAAkB,CAAC6M,iBAAD,CAAlC;;CAEA9M,MAAAA,SAAS,CAACE,SAAV,GAAsB,UAASpe,KAAT,EAAgB;CAClCV,QAAAA,QAAQ,CAACU,KAAK,CAAC6M,IAAN,CAAWzS,MAAZ,EAAoB4F,KAAK,CAAC6M,IAAN,CAAW8Z,IAA/B,CAAR,CADkC;;CAIlC3gB,QAAAA,GAAG,CAACG,eAAJ,CAAoB+X,SAAS,CAACoP,SAA9B,EAJkC;;CAOlCpP,QAAAA,SAAS,CAACqP,SAAV;CACH,OARD;;CAUArP,MAAAA,SAAS,CAACP,WAAV,CAAsBhC,MAAtB;CACH;;CAED,aAASwC,kBAAT,CAA4BI,SAA5B,EAAuC;CACnC,UAAI+O,SAAS,GAAGtnB,GAAG,CAACC,eAAJ,CAAoB,IAAIuY,IAAJ,CAAS,CAACD,SAAS,CAAC5V,QAAV,EAAD,EACzC,wCAAwC4V,SAAS,CAAC3f,IAAlD,GAAyD,cADhB,CAAT,EAEjC;CACCuG,QAAAA,IAAI,EAAE;CADP,OAFiC,CAApB,CAAhB;CAMA,UAAIsZ,MAAM,GAAG,IAAIV,MAAJ,CAAWuP,SAAX,CAAb;CACA7O,MAAAA,MAAM,CAAC6O,SAAP,GAAmBA,SAAnB;CACA,aAAO7O,MAAP;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK3B,IAAL,GAAY,UAASxd,QAAT,EAAmB;CAC3BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC,CAD2B;;;CAI3BvF,MAAAA,SAAS,GAAG,KAAZ;CAEAgxB,MAAAA,qBAAqB,CAAC;CAClBL,QAAAA,eAAe,EAAEA,eADC;CAElBhT,QAAAA,UAAU,EAAEA,UAFM;CAGlByK,QAAAA,qBAAqB,EAAEA,qBAHL;CAIlBiJ,QAAAA,yBAAyB,EAAEZ,eAJT;CAKlBU,QAAAA,WAAW,EAAEZ,WALK;CAMlBa,QAAAA,YAAY,EAAEhJ,qBAAqB,KAAK,CAA1B,GAA8B,EAA9B,GAAmCoI,YAN/B;CAOlB8C,QAAAA,QAAQ,EAAE1R,MAAM,CAAC0R;CAPC,OAAD,EAQlB,UAASjzB,MAAT,EAAiBusB,IAAjB,EAAuB;;CAElC;CACA;CACA;CACA;CACA;CACA;CACA;CACYpa,QAAAA,IAAI,CAAClQ,IAAL,GAAY,IAAImiB,IAAJ,CAAS,CAACmI,IAAD,CAAT,EAAiB;CACzBxhB,UAAAA,IAAI,EAAE;CADmB,SAAjB,CAAZ;;CAKZ;CACA;CACA;CACA;CACA;CACA;CACA;;CACYoH,QAAAA,IAAI,CAACnS,MAAL,GAAc,IAAI4yB,WAAJ,CAAgBrG,IAAI,CAACvsB,MAAL,CAAYmgB,UAA5B,CAAd;;CAGZ;CACA;CACA;CACA;CACA;CACA;CACA;;CACYhO,QAAAA,IAAI,CAACoa,IAAL,GAAYA,IAAZ;CAEApa,QAAAA,IAAI,CAACmL,UAAL,GAAkBgT,eAAe,IAAIhT,UAArC;CACAnL,QAAAA,IAAI,CAAC2L,UAAL,GAAkBA,UAAlB,CAlCsB;;CAqCtB3L,QAAAA,IAAI,CAAC9K,MAAL,GAAc+oB,eAAd;CAEAK,QAAAA,qBAAqB,GAAG,KAAxB;;CAEA,YAAIvrB,QAAJ,EAAc;CACVA,UAAAA,QAAQ,CAACiN,IAAI,CAAClQ,IAAN,CAAR;CACH;CACJ,OApDoB,CAArB;CAqDH,KA3DD;;CA6DA,QAAI,OAAOof,SAAS,CAACqE,OAAjB,KAA6B,WAAjC,EAA8C;CAC1CrE,MAAAA,SAAS,CAACqE,OAAV,GAAoB;CAChBC,QAAAA,uBAAuB,EAAE,IADT;CAEhBtJ,QAAAA,YAAY,EAAEzV,MAAM,CAACyV,YAAP,IAAuBzV,MAAM,CAAC0V;CAF5B,OAApB;CAIH;;CAED,QAAI,CAAC+E,SAAS,CAACqE,OAAV,CAAkBC,uBAAnB,IAA8CtE,SAAS,CAACqE,OAAV,CAAkBC,uBAAlB,CAA0C7G,KAA1C,KAAoD,QAAtG,EAAgH;CAC5GuC,MAAAA,SAAS,CAACqE,OAAV,CAAkBC,uBAAlB,GAA4C,IAAItE,SAAS,CAACqE,OAAV,CAAkBrJ,YAAtB,EAA5C;CACH;;CAED,QAAIrB,OAAO,GAAGqG,SAAS,CAACqE,OAAV,CAAkBC,uBAAhC,CApY8C;;CAuY9C,QAAIyN,UAAU,GAAGpY,OAAO,CAACqY,uBAAR,CAAgC/R,WAAhC,CAAjB;CAEA,QAAIgS,iBAAiB,GAAG,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,IAAd,EAAoB,IAApB,EAA0B,IAA1B,EAAgC,IAAhC,EAAsC,KAAtC,CAAxB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAGI,QAAIxV,UAAU,GAAG,OAAOyD,MAAM,CAACzD,UAAd,KAA6B,WAA7B,GAA2C,IAA3C,GAAkDyD,MAAM,CAACzD,UAA1E;;CAEA,QAAIwV,iBAAiB,CAACvI,OAAlB,CAA0BjN,UAA1B,MAA0C,CAAC,CAA/C,EAAkD;CAC9C,UAAI,CAACyD,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,sCAAsCk0B,IAAI,CAACC,SAAL,CAAeF,iBAAf,EAAkC,IAAlC,EAAwC,IAAxC,CAAlD;CACH;CACJ;;CAED,QAAItY,OAAO,CAACyY,oBAAZ,EAAkC;CAC9BpD,MAAAA,WAAW,GAAGrV,OAAO,CAACyY,oBAAR,CAA6B3V,UAA7B,EAAyCiK,qBAAzC,EAAgEA,qBAAhE,CAAd;CACH,KAFD,MAEO,IAAI/M,OAAO,CAACgD,qBAAZ,EAAmC;CACtCqS,MAAAA,WAAW,GAAGrV,OAAO,CAACgD,qBAAR,CAA8BF,UAA9B,EAA0CiK,qBAA1C,EAAiEA,qBAAjE,CAAd;CACH,KAFM,MAEA;CACH,YAAM,8CAAN;CACH,KA1a6C;;;CA6a9CqL,IAAAA,UAAU,CAACzW,OAAX,CAAmB0T,WAAnB;;CAEA,QAAI,CAAC9O,MAAM,CAACzD,UAAZ,EAAwB;CACpBA,MAAAA,UAAU,GAAGuS,WAAW,CAACvS,UAAzB,CADoB;CAEvB;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,QAAIR,UAAU,GAAG,OAAOiE,MAAM,CAACjE,UAAd,KAA6B,WAA7B,GAA2CiE,MAAM,CAACjE,UAAlD,GAA+DtC,OAAO,CAACsC,UAAR,IAAsB,KAAtG;;CAEA,QAAIA,UAAU,GAAG,KAAb,IAAsBA,UAAU,GAAG,KAAvC,EAA8C;;CAE1C,UAAI,CAACiE,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,kDAAZ;CACH;CACJ;;CAED,QAAI,CAACkiB,MAAM,CAACI,WAAZ,EAAyB;CACrB,UAAIJ,MAAM,CAAC+O,eAAX,EAA4B;CACxB3rB,QAAAA,OAAO,CAACtF,GAAR,CAAY,0BAA0BkiB,MAAM,CAAC+O,eAA7C;CACH;CACJ;;CAED,QAAII,QAAQ,GAAG,KAAf;;CAEJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK5xB,KAAL,GAAa,YAAW;CACpB4xB,MAAAA,QAAQ,GAAG,IAAX;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK3R,MAAL,GAAc,YAAW;CACrB,UAAI+Q,mBAAmB,OAAO,KAA9B,EAAqC;CACjC,cAAM,yCAAN;CACH;;CAED,UAAI,CAACnwB,SAAL,EAAgB;CACZ,YAAI,CAAC4hB,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACtF,GAAR,CAAY,qCAAZ;CACH;;CACD,aAAK5C,MAAL;CACA;CACH;;CAEDi0B,MAAAA,QAAQ,GAAG,KAAX;CACH,KAdD;;CAiBJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK5O,iBAAL,GAAyB,YAAW;CAChCP,MAAAA,MAAM,CAAC0O,sBAAP,GAAgC,KAAhC;;CAEA,UAAItwB,SAAJ,EAAe;CACX,aAAK+iB,IAAL,CAAUmN,mBAAV;CACH;;CAEDA,MAAAA,mBAAmB;CACtB,KARD;;CAUA,aAASW,cAAT,GAA0B;CACtBN,MAAAA,WAAW,GAAG,EAAd;CACAC,MAAAA,YAAY,GAAG,EAAf;CACAC,MAAAA,eAAe,GAAG,CAAlB;CACAK,MAAAA,qBAAqB,GAAG,KAAxB;CACA9wB,MAAAA,SAAS,GAAG,KAAZ;CACA+wB,MAAAA,QAAQ,GAAG,KAAX;CACA1V,MAAAA,OAAO,GAAG,IAAV;CAEA7I,MAAAA,IAAI,CAAC+d,WAAL,GAAmBA,WAAnB;CACA/d,MAAAA,IAAI,CAACge,YAAL,GAAoBA,YAApB;CACAhe,MAAAA,IAAI,CAAC4V,qBAAL,GAA6BA,qBAA7B;CACA5V,MAAAA,IAAI,CAACme,eAAL,GAAuBA,eAAvB;CACAne,MAAAA,IAAI,CAACmL,UAAL,GAAkBA,UAAlB;CACAnL,MAAAA,IAAI,CAACie,eAAL,GAAuBA,eAAvB;CAEAsD,MAAAA,qBAAqB,GAAG;CACpBhc,QAAAA,IAAI,EAAE,EADc;CAEpBic,QAAAA,KAAK,EAAE,EAFa;CAGpBvD,QAAAA,eAAe,EAAE;CAHG,OAAxB;CAKH;;CAED,aAASP,mBAAT,GAA+B;CAC3B,UAAIQ,WAAJ,EAAiB;CACbA,QAAAA,WAAW,CAAC5S,cAAZ,GAA6B,IAA7B;CACA4S,QAAAA,WAAW,CAACxR,UAAZ;CACAwR,QAAAA,WAAW,GAAG,IAAd;CACH;;CAED,UAAI+C,UAAJ,EAAgB;CACZA,QAAAA,UAAU,CAACvU,UAAX;CACAuU,QAAAA,UAAU,GAAG,IAAb;CACH;;CAED5C,MAAAA,cAAc;CACjB,KA3iB6C;;;CA8iB9C,SAAKhsB,IAAL,GAAY,qBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,QAAIisB,qBAAqB,GAAG,KAA5B;;CAEA,aAASmD,2BAAT,CAAqCrpB,CAArC,EAAwC;CACpC,UAAImmB,QAAJ,EAAc;CACV;CACH;;CAED,UAAIZ,mBAAmB,OAAO,KAA9B,EAAqC;CACjC,YAAI,CAACvO,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACtF,GAAR,CAAY,4BAAZ;CACH;;CACDgxB,QAAAA,WAAW,CAACxR,UAAZ;CACAlf,QAAAA,SAAS,GAAG,KAAZ;CACH;;CAED,UAAI,CAACA,SAAL,EAAgB;CACZ,YAAIyzB,UAAJ,EAAgB;CACZA,UAAAA,UAAU,CAACvU,UAAX;CACAuU,UAAAA,UAAU,GAAG,IAAb;CACH;;CACD;CACH;;CAGT;CACA;CACA;CACA;CACA;CACA;;;CACQ,UAAI,CAAC3C,qBAAL,EAA4B;CACxBA,QAAAA,qBAAqB,GAAG,IAAxB;;CACA,YAAIlP,MAAM,CAACsS,qBAAX,EAAkC;CAC9BtS,UAAAA,MAAM,CAACsS,qBAAP;CACH;;CAED,YAAItS,MAAM,CAACY,YAAX,EAAyB;CACrBZ,UAAAA,MAAM,CAACY,YAAP;CACH;CACJ;;CAED,UAAIzK,IAAI,GAAGnN,CAAC,CAACupB,WAAF,CAAcvV,cAAd,CAA6B,CAA7B,CAAX,CAvCoC;;CA0CpC,UAAIwV,MAAM,GAAG,IAAIxf,YAAJ,CAAiBmD,IAAjB,CAAb;CACAwY,MAAAA,WAAW,CAACxqB,IAAZ,CAAiBquB,MAAjB;;CAEA,UAAIhM,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B,YAAI4L,KAAK,GAAGppB,CAAC,CAACupB,WAAF,CAAcvV,cAAd,CAA6B,CAA7B,CAAZ;CACA,YAAIyV,OAAO,GAAG,IAAIzf,YAAJ,CAAiBof,KAAjB,CAAd;CACAxD,QAAAA,YAAY,CAACzqB,IAAb,CAAkBsuB,OAAlB;CACH;;CAED5D,MAAAA,eAAe,IAAItS,UAAnB,CAnDoC;;CAsDpC3L,MAAAA,IAAI,CAACie,eAAL,GAAuBA,eAAvB;;CAEA,UAAI,OAAO7O,MAAM,CAACyG,SAAd,KAA4B,WAAhC,EAA6C;CACzC0L,QAAAA,qBAAqB,CAACtD,eAAtB,IAAyCtS,UAAzC;CACA4V,QAAAA,qBAAqB,CAAChc,IAAtB,CAA2BhS,IAA3B,CAAgCquB,MAAhC;;CAEA,YAAIhM,qBAAqB,KAAK,CAA9B,EAAiC;CAC7B2L,UAAAA,qBAAqB,CAACC,KAAtB,CAA4BjuB,IAA5B,CAAiCsuB,OAAjC;CACH;CACJ;CACJ;;CAED3D,IAAAA,WAAW,CAAC5S,cAAZ,GAA6BmW,2BAA7B,CAvnB8C;;CA0nB9C,QAAI5Y,OAAO,CAACgC,4BAAZ,EAA0C;CACtCqT,MAAAA,WAAW,CAAC1T,OAAZ,CAAoB3B,OAAO,CAACgC,4BAAR,EAApB;CACH,KAFD,MAEO;CACHqT,MAAAA,WAAW,CAAC1T,OAAZ,CAAoB3B,OAAO,CAAC4B,WAA5B;CACH,KA9nB6C;;;CAioB9C,SAAKsT,WAAL,GAAmBA,WAAnB;CACA,SAAKC,YAAL,GAAoBA,YAApB;CACA,SAAKpI,qBAAL,GAA6BA,qBAA7B;CACA,SAAKuI,eAAL,GAAuBA,eAAvB;CACA,SAAKhT,UAAL,GAAkBA,UAAlB;CACAnL,IAAAA,IAAI,CAACie,eAAL,GAAuBA,eAAvB,CAtoB8C;;CAyoB9C,QAAIsD,qBAAqB,GAAG;CACxBhc,MAAAA,IAAI,EAAE,EADkB;CAExBic,MAAAA,KAAK,EAAE,EAFiB;CAGxBvD,MAAAA,eAAe,EAAE;CAHO,KAA5B,CAzoB8C;;CAgpB9C,aAASX,MAAT,GAAkB;CACd,UAAI,CAAC9vB,SAAD,IAAc,OAAO4hB,MAAM,CAACyN,eAAd,KAAkC,UAAhD,IAA8D,OAAOzN,MAAM,CAACyG,SAAd,KAA4B,WAA9F,EAA2G;CACvG;CACH;;CAED,UAAI0L,qBAAqB,CAAChc,IAAtB,CAA2BrQ,MAA/B,EAAuC;CACnCspB,QAAAA,qBAAqB,CAAC;CAClBL,UAAAA,eAAe,EAAEA,eADC;CAElBhT,UAAAA,UAAU,EAAEA,UAFM;CAGlByK,UAAAA,qBAAqB,EAAEA,qBAHL;CAIlBiJ,UAAAA,yBAAyB,EAAE0C,qBAAqB,CAACtD,eAJ/B;CAKlBU,UAAAA,WAAW,EAAE4C,qBAAqB,CAAChc,IALjB;CAMlBqZ,UAAAA,YAAY,EAAEhJ,qBAAqB,KAAK,CAA1B,GAA8B,EAA9B,GAAmC2L,qBAAqB,CAACC;CANrD,SAAD,EAOlB,UAAS3zB,MAAT,EAAiBusB,IAAjB,EAAuB;CACtB,cAAItqB,IAAI,GAAG,IAAImiB,IAAJ,CAAS,CAACmI,IAAD,CAAT,EAAiB;CACxBxhB,YAAAA,IAAI,EAAE;CADkB,WAAjB,CAAX;CAGAwW,UAAAA,MAAM,CAACyN,eAAP,CAAuB/sB,IAAvB;CAEAwgB,UAAAA,UAAU,CAACgN,MAAD,EAASlO,MAAM,CAACyG,SAAhB,CAAV;CACH,SAdoB,CAArB;CAgBA0L,QAAAA,qBAAqB,GAAG;CACpBhc,UAAAA,IAAI,EAAE,EADc;CAEpBic,UAAAA,KAAK,EAAE,EAFa;CAGpBvD,UAAAA,eAAe,EAAE;CAHG,SAAxB;CAKH,OAtBD,MAsBO;CACH3N,QAAAA,UAAU,CAACgN,MAAD,EAASlO,MAAM,CAACyG,SAAhB,CAAV;CACH;CACJ;CACJ;;CAED,MAAI,OAAO3G,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACuF,mBAAV,GAAgCA,mBAAhC;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASH,cAAT,CAAwBwN,WAAxB,EAAqC1S,MAArC,EAA6C;CACzC,QAAI,OAAO2S,WAAP,KAAuB,WAA3B,EAAwC;CACpC,YAAM,8DAAN;CACH;;CAED3S,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;;CACA,QAAI,CAACA,MAAM,CAACiH,aAAZ,EAA2B;CACvBjH,MAAAA,MAAM,CAACiH,aAAP,GAAuB,EAAvB;CACH,KARwC;;;CAWzC,QAAI2L,+BAA+B,GAAG,KAAtC;CACA,KAAC,eAAD,EAAkB,kBAAlB,EAAsC,qBAAtC,EAA6DxuB,OAA7D,CAAqE,UAASJ,IAAT,EAAe;CAChF,UAAIA,IAAI,IAAIoB,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAZ,EAA8C;CAC1CyoB,QAAAA,+BAA+B,GAAG,IAAlC;CACH;CACJ,KAJD;;CAMA,QAAIC,SAAS,GAAG,CAAC,CAAC,CAACxtB,MAAM,CAACytB,uBAAT,IAAoC,CAAC,CAACztB,MAAM,CAACkkB,kBAA9C,KAAqE,CAAC,CAAClkB,MAAM,CAAC0tB,MAA9F;;CAEA,QAAIC,aAAa,GAAG,EAApB;CACA,QAAIC,UAAU,GAAG5Q,SAAS,CAAC2F,SAAV,CAAoBkL,KAApB,CAA0B,0BAA1B,CAAjB;;CACA,QAAIL,SAAS,IAAII,UAAb,IAA2BA,UAAU,CAAC,CAAD,CAAzC,EAA8C;CAC1CD,MAAAA,aAAa,GAAG5I,QAAQ,CAAC6I,UAAU,CAAC,CAAD,CAAX,EAAgB,EAAhB,CAAxB;CACH;;CAED,QAAIJ,SAAS,IAAIG,aAAa,GAAG,EAAjC,EAAqC;CACjCJ,MAAAA,+BAA+B,GAAG,KAAlC;CACH;;CAED,QAAI5S,MAAM,CAACmT,iBAAX,EAA8B;CAC1BP,MAAAA,+BAA+B,GAAG,KAAlC;CACH;;CAED,QAAIQ,YAAJ,EAAkBC,mBAAlB;;CAEA,QAAIT,+BAAJ,EAAqC;CACjC,UAAI,CAAC5S,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,uEAAZ;CACH;;CAED,UAAI40B,WAAW,YAAYY,iBAA3B,EAA8C;CAC1CF,QAAAA,YAAY,GAAGV,WAAf;CACH,OAFD,MAEO,IAAIA,WAAW,YAAYa,wBAA3B,EAAqD;CACxDH,QAAAA,YAAY,GAAGV,WAAW,CAACpZ,MAA3B;CACH,OAFM,MAEA;CACH,cAAM,mEAAN;CACH;CACJ,KAZD,MAYO,IAAI,CAAC,CAAC+I,SAAS,CAACC,eAAhB,EAAiC;CACpC,UAAI,CAACtC,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACrF,KAAR,CAAc,+CAAd;CACH;CACJ;;CAED,QAAIy1B,WAAJ;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKt4B,MAAL,GAAc,YAAW;CACrBs4B,MAAAA,WAAW,GAAG,IAAd;;CAEA,UAAIZ,+BAA+B,IAAI,CAAC5S,MAAM,CAACmT,iBAA/C,EAAkE;;CAE9D,YAAIM,iBAAJ;;CACA,YAAI,mBAAmBL,YAAvB,EAAqC;CACjCK,UAAAA,iBAAiB,GAAGL,YAAY,CAACjL,aAAb,CAA2B,EAA3B,CAApB,CADiC;CAEpC,SAFD,MAEO,IAAI,sBAAsBiL,YAA1B,EAAwC;CAC3CK,UAAAA,iBAAiB,GAAGL,YAAY,CAAChL,gBAAb,CAA8B,EAA9B,CAApB;CACH,SAFM,MAEA,IAAI,yBAAyBgL,YAA7B,EAA2C;CAC9CK,UAAAA,iBAAiB,GAAGL,YAAY,CAACM,mBAAb,CAAiC,EAAjC,CAApB;CACH;;CAED,YAAI;CACA,cAAIC,QAAQ,GAAG,IAAI7M,WAAJ,EAAf;CACA6M,UAAAA,QAAQ,CAAC5M,QAAT,CAAkBxB,SAAS,CAACkO,iBAAD,EAAoB,OAApB,CAAT,CAAsC,CAAtC,CAAlB;CACAA,UAAAA,iBAAiB,GAAGE,QAApB;CACH,SAJD,CAIE,OAAO3qB,CAAP,EAAU;;CAEZ,YAAI,CAACyqB,iBAAL,EAAwB;CACpB,gBAAM,sCAAN;CACH,SAnB6D;;;;CAuB9DJ,QAAAA,mBAAmB,GAAG,IAAI/N,mBAAJ,CAAwBmO,iBAAxB,EAA2C;CAC7D/N,UAAAA,QAAQ,EAAE1F,MAAM,CAAC0F,QAAP,IAAmB;CADgC,SAA3C,CAAtB;CAGA2N,QAAAA,mBAAmB,CAACn4B,MAApB;CACH,OA3BD,MA2BO;CACH04B,QAAAA,MAAM,CAACC,MAAP,GAAgB,EAAhB;CACA3nB,QAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CACAmpB,QAAAA,eAAe;CAClB;;CAED,UAAI9T,MAAM,CAACY,YAAX,EAAyB;CACrBZ,QAAAA,MAAM,CAACY,YAAP;CACH;CACJ,KAvCD;;CAyCA,SAAKmT,aAAL,GAAqB,UAASpwB,QAAT,EAAmB;CACpC,UAAI+uB,WAAW,CAACsB,QAAZ,CAAqBpK,WAArB,OAAuC,QAA3C,EAAqD;CACjDjmB,QAAAA,QAAQ;CACR;CACH;;CAED,UAAIswB,YAAY,GAAGL,MAAM,CAACC,MAAP,CAAc/tB,MAAjC;CACA8tB,MAAAA,MAAM,CAACC,MAAP,CAAczvB,OAAd,CAAsB,UAAS8vB,KAAT,EAAgBC,GAAhB,EAAqB;CACvC,YAAIC,eAAe,GAAGH,YAAY,GAAGE,GAArC;;CACA,YAAI,CAACnU,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,UAAAA,OAAO,CAACtF,GAAR,CAAYs2B,eAAe,GAAG,GAAlB,GAAwBH,YAAxB,GAAuC,mBAAnD;CACH;;CAED,YAAIjU,MAAM,CAACqU,kBAAX,EAA+B;CAC3BrU,UAAAA,MAAM,CAACqU,kBAAP,CAA0BD,eAA1B,EAA2CH,YAA3C;CACH;;CAED,YAAInc,IAAI,GAAGoc,KAAK,CAACnQ,KAAN,CAAY9L,SAAZ,CAAsB,YAAtB,EAAoC,CAApC,CAAX;CACA2b,QAAAA,MAAM,CAACC,MAAP,CAAcM,GAAd,EAAmBpQ,KAAnB,GAA2BjM,IAA3B;CACH,OAZD;;CAcA,UAAI,CAACkI,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,iBAAZ;CACH;;CAED6F,MAAAA,QAAQ;CACX,KA1BD;;CA6BJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKwd,IAAL,GAAY,UAASxd,QAAT,EAAmB;CAC3B6vB,MAAAA,WAAW,GAAG,KAAd;CAEA,UAAI1L,IAAI,GAAG,IAAX;;CAEA,UAAI8K,+BAA+B,IAAIS,mBAAvC,EAA4D;CACxDA,QAAAA,mBAAmB,CAAClS,IAApB,CAAyBxd,QAAzB;CACA;CACH;;CAED,WAAKowB,aAAL,CAAmB,YAAW;;CAEtC;CACA;CACA;CACA;CACA;CACA;CACA;CACYH,QAAAA,MAAM,CAACU,OAAP,CAAe,UAAS5zB,IAAT,EAAe;CAC1B,cAAI,CAACsf,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,YAAAA,OAAO,CAACtF,GAAR,CAAY,qBAAZ;CACH;;CAEDgqB,UAAAA,IAAI,CAACpnB,IAAL,GAAYA,IAAZ;;CAEA,cAAIonB,IAAI,CAACpnB,IAAL,CAAU0D,OAAd,EAAuB;CACnB0jB,YAAAA,IAAI,CAACpnB,IAAL,GAAY,IAAImiB,IAAJ,CAAS,EAAT,EAAa;CACrBrZ,cAAAA,IAAI,EAAE;CADe,aAAb,CAAZ;CAGH;;CAED,cAAI7F,QAAJ,EAAc;CACVA,YAAAA,QAAQ,CAACmkB,IAAI,CAACpnB,IAAN,CAAR;CACH;;CAEDkzB,UAAAA,MAAM,CAACC,MAAP,GAAgB,EAAhB;CACH,SAlBD;CAmBH,OA5BD;CA6BH,KAvCD;;CAyCA,QAAIU,iBAAiB,GAAG,KAAxB;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKh3B,KAAL,GAAa,YAAW;CACpBg3B,MAAAA,iBAAiB,GAAG,IAApB;;CAEA,UAAIlB,mBAAmB,YAAY/N,mBAAnC,EAAwD;CACpD+N,QAAAA,mBAAmB,CAAC91B,KAApB;CACA;CACH;CACJ,KAPD;;CAUJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKigB,MAAL,GAAc,YAAW;CACrB+W,MAAAA,iBAAiB,GAAG,KAApB;;CAEA,UAAIlB,mBAAmB,YAAY/N,mBAAnC,EAAwD;CACpD+N,QAAAA,mBAAmB,CAAC7V,MAApB;CACA;CACH;;CAED,UAAI,CAACgW,WAAL,EAAkB;CACd,aAAKt4B,MAAL;CACH;CACJ,KAXD;;CAcJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKqlB,iBAAL,GAAyB,YAAW;CAChC,UAAIiT,WAAJ,EAAiB;CACb,aAAKrS,IAAL,CAAUmN,mBAAV;CACH;;CACDA,MAAAA,mBAAmB;CACtB,KALD;;CAOA,aAASA,mBAAT,GAA+B;CAC3BsF,MAAAA,MAAM,CAACC,MAAP,GAAgB,EAAhB;CACAL,MAAAA,WAAW,GAAG,KAAd;CACAe,MAAAA,iBAAiB,GAAG,KAApB;CACH,KA/OwC;;;CAkPzC,SAAKtxB,IAAL,GAAY,gBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,aAASuxB,WAAT,GAAuB;;CAEnB,UAAIC,SAAS,GAAGrvB,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAhB;CACA,UAAIsP,OAAO,GAAGgb,SAAS,CAAC1rB,UAAV,CAAqB,IAArB,CAAd,CAHmB;;CAMnB0rB,MAAAA,SAAS,CAAC5vB,KAAV,GAAkB6tB,WAAW,CAAC7tB,KAA9B;CACA4vB,MAAAA,SAAS,CAACxvB,MAAV,GAAmBytB,WAAW,CAACztB,MAA/B,CAPmB;;CAUnBwU,MAAAA,OAAO,CAAClC,SAAR,CAAkBmb,WAAlB,EAA+B,CAA/B,EAAkC,CAAlC,EAVmB;;CAanB,aAAO+B,SAAP;CACH;;CAED,aAASX,eAAT,GAA2B;CACvB,UAAIS,iBAAJ,EAAuB;CACnBroB,QAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CACA,eAAOuW,UAAU,CAAC4S,eAAD,EAAkB,GAAlB,CAAjB;CACH;;CAED,UAAIpB,WAAW,CAACsB,QAAZ,CAAqBpK,WAArB,OAAuC,QAA3C,EAAqD;CACjD,YAAI9F,QAAQ,GAAG,IAAIpZ,IAAJ,GAAWC,OAAX,KAAuBuB,QAAtC,CADiD;;CAGjDA,QAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CAEAipB,QAAAA,MAAM,CAACC,MAAP,CAAc1vB,IAAd,CAAmB;CACf4f,UAAAA,KAAK,EAAEyQ,WAAW,EADH;CAEf1Q,UAAAA,QAAQ,EAAEA;CAFK,SAAnB;;CAKA,YAAI0P,WAAJ,EAAiB;CACbtS,UAAAA,UAAU,CAAC4S,eAAD,EAAkB9T,MAAM,CAACiH,aAAzB,CAAV;CACH;;CACD;CACH;;CAED0L,MAAAA,WAAW,CAACD,WAAD,EAAc;CACrBgC,QAAAA,SAAS,EAAE,OAAO1U,MAAM,CAAC2U,gBAAd,KAAmC,WAAnC,IAAkD3U,MAAM,CAAC2U,gBAD/C;CAErBC,QAAAA,UAAU,EAAE,UAAStb,MAAT,EAAiB;CACzB,cAAIwK,QAAQ,GAAG,IAAIpZ,IAAJ,GAAWC,OAAX,KAAuBuB,QAAtC;;CACA,cAAI,CAAC4X,QAAL,EAAe;CACX,mBAAO5C,UAAU,CAAC4S,eAAD,EAAkB9T,MAAM,CAACiH,aAAzB,CAAjB;CACH,WAJwB;;;CAOzB/a,UAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CAEAipB,UAAAA,MAAM,CAACC,MAAP,CAAc1vB,IAAd,CAAmB;CACf4f,YAAAA,KAAK,EAAEzK,MAAM,CAACrB,SAAP,CAAiB,YAAjB,EAA+B,CAA/B,CADQ;CAEf6L,YAAAA,QAAQ,EAAEA;CAFK,WAAnB;;CAKA,cAAI0P,WAAJ,EAAiB;CACbtS,YAAAA,UAAU,CAAC4S,eAAD,EAAkB9T,MAAM,CAACiH,aAAzB,CAAV;CACH;CACJ;CAnBoB,OAAd,CAAX;CAqBH;;CAED,QAAI/a,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAf;CAEA,QAAIipB,MAAM,GAAG,IAAIiB,MAAM,CAACza,KAAX,CAAiB,GAAjB,CAAb;CACH;;CAED,MAAI,OAAO0F,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACoF,cAAV,GAA2BA,cAA3B;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASD,cAAT,CAAwBlF,WAAxB,EAAqCC,MAArC,EAA6C;CAEzCA,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;;CAEA,QAAI,CAACA,MAAM,CAACiH,aAAZ,EAA2B;CACvBjH,MAAAA,MAAM,CAACiH,aAAP,GAAuB,EAAvB;CACH;;CAED,QAAI,CAACjH,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,MAAAA,OAAO,CAACtF,GAAR,CAAY,wBAAZ,EAAsCkiB,MAAM,CAACiH,aAA7C;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK/rB,MAAL,GAAc,YAAW;CACrB,UAAI,CAAC8kB,MAAM,CAACnb,KAAZ,EAAmB;CACfmb,QAAAA,MAAM,CAACnb,KAAP,GAAe,GAAf;CACH;;CAED,UAAI,CAACmb,MAAM,CAAC/a,MAAZ,EAAoB;CAChB+a,QAAAA,MAAM,CAAC/a,MAAP,GAAgB,GAAhB;CACH;;CAED,UAAI,CAAC+a,MAAM,CAACnjB,KAAZ,EAAmB;CACfmjB,QAAAA,MAAM,CAACnjB,KAAP,GAAe;CACXgI,UAAAA,KAAK,EAAEmb,MAAM,CAACnb,KADH;CAEXI,UAAAA,MAAM,EAAE+a,MAAM,CAAC/a;CAFJ,SAAf;CAIH;;CAED,UAAI,CAAC+a,MAAM,CAAC1G,MAAZ,EAAoB;CAChB0G,QAAAA,MAAM,CAAC1G,MAAP,GAAgB;CACZzU,UAAAA,KAAK,EAAEmb,MAAM,CAACnb,KADF;CAEZI,UAAAA,MAAM,EAAE+a,MAAM,CAAC/a;CAFH,SAAhB;CAIH;;CAEDqU,MAAAA,MAAM,CAACzU,KAAP,GAAemb,MAAM,CAAC1G,MAAP,CAAczU,KAAd,IAAuB,GAAtC;CACAyU,MAAAA,MAAM,CAACrU,MAAP,GAAgB+a,MAAM,CAAC1G,MAAP,CAAcrU,MAAd,IAAwB,GAAxC;CAEAwU,MAAAA,OAAO,GAAGH,MAAM,CAACvQ,UAAP,CAAkB,IAAlB,CAAV,CA1BqB;;CA6BrB,UAAIiX,MAAM,CAACnjB,KAAP,IAAgBmjB,MAAM,CAACnjB,KAAP,YAAwByrB,gBAA5C,EAA8D;CAC1DzrB,QAAAA,KAAK,GAAGmjB,MAAM,CAACnjB,KAAP,CAAai4B,SAAb,EAAR;;CAEA,YAAI9U,MAAM,CAACY,YAAX,EAAyB;CACrBZ,UAAAA,MAAM,CAACY,YAAP;CACH;CACJ,OAND,MAMO;CACH/jB,QAAAA,KAAK,GAAGuI,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAR;CAEAshB,QAAAA,YAAY,CAAC1L,WAAD,EAAcljB,KAAd,CAAZ;;CAEAA,QAAAA,KAAK,CAACk4B,gBAAN,GAAyB,YAAW;;CAChC,cAAI/U,MAAM,CAACY,YAAX,EAAyB;CACrBZ,YAAAA,MAAM,CAACY,YAAP;CACH;CACJ,SAJD;;CAMA/jB,QAAAA,KAAK,CAACgI,KAAN,GAAcmb,MAAM,CAACnjB,KAAP,CAAagI,KAA3B;CACAhI,QAAAA,KAAK,CAACoI,MAAN,GAAe+a,MAAM,CAACnjB,KAAP,CAAaoI,MAA5B;CACH;;CAEDpI,MAAAA,KAAK,CAACqc,KAAN,GAAc,IAAd;CACArc,MAAAA,KAAK,CAAC7B,IAAN;CAEAkR,MAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CACAipB,MAAAA,MAAM,GAAG,IAAIiB,MAAM,CAACza,KAAX,EAAT;;CAEA,UAAI,CAAC4F,MAAM,CAACI,WAAZ,EAAyB;CACrBhd,QAAAA,OAAO,CAACtF,GAAR,CAAY,oBAAZ,EAAkCwb,MAAM,CAACzU,KAAzC,EAAgD,GAAhD,EAAqDyU,MAAM,CAACrU,MAA5D;CACA7B,QAAAA,OAAO,CAACtF,GAAR,CAAY,oBAAZ,EAAkCjB,KAAK,CAACgI,KAAN,IAAeyU,MAAM,CAACzU,KAAxD,EAA+D,GAA/D,EAAoEhI,KAAK,CAACoI,MAAN,IAAgBqU,MAAM,CAACrU,MAA3F;CACH;;CAED+vB,MAAAA,UAAU,CAAChV,MAAM,CAACiH,aAAR,CAAV;CACH,KA9DD;;CAiEJ;CACA;CACA;;;CACI,aAAS+N,UAAT,CAAoB/N,aAApB,EAAmC;CAC/BA,MAAAA,aAAa,GAAG,OAAOA,aAAP,KAAyB,WAAzB,GAAuCA,aAAvC,GAAuD,EAAvE;CAEA,UAAInD,QAAQ,GAAG,IAAIpZ,IAAJ,GAAWC,OAAX,KAAuBuB,QAAtC;;CACA,UAAI,CAAC4X,QAAL,EAAe;CACX,eAAO5C,UAAU,CAAC8T,UAAD,EAAa/N,aAAb,EAA4BA,aAA5B,CAAjB;CACH;;CAED,UAAIsN,iBAAJ,EAAuB;CACnBroB,QAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;CACA,eAAOuW,UAAU,CAAC8T,UAAD,EAAa,GAAb,CAAjB;CACH,OAX8B;;;CAc/B9oB,MAAAA,QAAQ,GAAG,IAAIxB,IAAJ,GAAWC,OAAX,EAAX;;CAEA,UAAI9N,KAAK,CAACo4B,MAAV,EAAkB;;;CAGdp4B,QAAAA,KAAK,CAAC7B,IAAN;CACH;;CAEDye,MAAAA,OAAO,CAAClC,SAAR,CAAkB1a,KAAlB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+Byc,MAAM,CAACzU,KAAtC,EAA6CyU,MAAM,CAACrU,MAApD;CACA2uB,MAAAA,MAAM,CAACC,MAAP,CAAc1vB,IAAd,CAAmB;CACf2f,QAAAA,QAAQ,EAAEA,QADK;CAEfC,QAAAA,KAAK,EAAEzK,MAAM,CAACrB,SAAP,CAAiB,YAAjB;CAFQ,OAAnB;;CAKA,UAAI,CAACid,aAAL,EAAoB;CAChBhU,QAAAA,UAAU,CAAC8T,UAAD,EAAa/N,aAAb,EAA4BA,aAA5B,CAAV;CACH;CACJ;;CAED,aAASkO,SAAT,CAAmBC,CAAnB,EAAsB;CAClB,UAAIxvB,CAAC,GAAG,CAAC,CAAT;CAAA,UACIE,MAAM,GAAGsvB,CAAC,CAACtvB,MADf;;CAGA,OAAC,SAASuvB,IAAT,GAAgB;CACbzvB,QAAAA,CAAC;;CACD,YAAIA,CAAC,KAAKE,MAAV,EAAkB;CACdsvB,UAAAA,CAAC,CAACzxB,QAAF;CACA;CACH,SALY;;;CAQbud,QAAAA,UAAU,CAAC,YAAW;CAClBkU,UAAAA,CAAC,CAACE,cAAF,CAAiBD,IAAjB,EAAuBzvB,CAAvB;CACH,SAFS,EAEP,CAFO,CAAV;CAGH,OAXD;CAYH;;CAIL;CACA;CACA;CACA;CACA;CACA;CACA;;;;CAEI,aAAS2vB,eAAT,CAAyBC,OAAzB,EAAkCC,cAAlC,EAAkDC,aAAlD,EAAiEC,eAAjE,EAAkFhyB,QAAlF,EAA4F;CACxF,UAAIiyB,WAAW,GAAGxwB,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAlB;CACAyrB,MAAAA,WAAW,CAAC/wB,KAAZ,GAAoByU,MAAM,CAACzU,KAA3B;CACA+wB,MAAAA,WAAW,CAAC3wB,MAAZ,GAAqBqU,MAAM,CAACrU,MAA5B;CACA,UAAI4wB,SAAS,GAAGD,WAAW,CAAC7sB,UAAZ,CAAuB,IAAvB,CAAhB;CACA,UAAI+sB,YAAY,GAAG,EAAnB;CAEA,UAAIC,kBAAkB,GAAGN,cAAc,KAAK,CAAC,CAA7C;CACA,UAAIO,aAAa,GAAIP,cAAc,IAAIA,cAAc,GAAG,CAAnC,IAAwCA,cAAc,IAAID,OAAO,CAAC1vB,MAAnE,GAChB2vB,cADgB,GACCD,OAAO,CAAC1vB,MAD7B;CAEA,UAAImwB,WAAW,GAAG;CACdC,QAAAA,CAAC,EAAE,CADW;CAEdC,QAAAA,CAAC,EAAE,CAFW;CAGd/qB,QAAAA,CAAC,EAAE;CAHW,OAAlB;CAKA,UAAIgrB,kBAAkB,GAAGtxB,IAAI,CAACuxB,IAAL,CACrBvxB,IAAI,CAACwlB,GAAL,CAAS,GAAT,EAAc,CAAd,IACAxlB,IAAI,CAACwlB,GAAL,CAAS,GAAT,EAAc,CAAd,CADA,GAEAxlB,IAAI,CAACwlB,GAAL,CAAS,GAAT,EAAc,CAAd,CAHqB,CAAzB;CAKA,UAAIgM,YAAY,GAAGZ,aAAa,IAAIA,aAAa,IAAI,CAAlC,IAAuCA,aAAa,IAAI,CAAxD,GAA4DA,aAA5D,GAA4E,CAA/F;CACA,UAAIa,cAAc,GAAGZ,eAAe,IAAIA,eAAe,IAAI,CAAtC,IAA2CA,eAAe,IAAI,CAA9D,GAAkEA,eAAlE,GAAoF,CAAzG;CACA,UAAIa,cAAc,GAAG,KAArB;CAEArB,MAAAA,SAAS,CAAC;CACNrvB,QAAAA,MAAM,EAAEkwB,aADF;CAENV,QAAAA,cAAc,EAAE,UAASD,IAAT,EAAeoB,CAAf,EAAkB;CAC9B,cAAIC,aAAJ,EAAmBC,WAAnB,EAAgCC,WAAhC;;CAEA,cAAIC,WAAW,GAAG,YAAW;CACzB,gBAAI,CAACL,cAAD,IAAmBI,WAAW,GAAGF,aAAd,IAA+BE,WAAW,GAAGL,cAApE,EAAoF,CAApF,MAEO;;CAEH,kBAAIR,kBAAJ,EAAwB;CACpBS,gBAAAA,cAAc,GAAG,IAAjB;CACH;;CACDV,cAAAA,YAAY,CAAC3xB,IAAb,CAAkBqxB,OAAO,CAACiB,CAAD,CAAzB;CACH;;CACDpB,YAAAA,IAAI;CACP,WAXD;;CAaA,cAAI,CAACmB,cAAL,EAAqB;CACjB,gBAAIzS,KAAK,GAAG,IAAI+S,KAAJ,EAAZ;;CACA/S,YAAAA,KAAK,CAACpB,MAAN,GAAe,YAAW;CACtBkT,cAAAA,SAAS,CAACte,SAAV,CAAoBwM,KAApB,EAA2B,CAA3B,EAA8B,CAA9B,EAAiCzK,MAAM,CAACzU,KAAxC,EAA+CyU,MAAM,CAACrU,MAAtD;CACA,kBAAI8xB,SAAS,GAAGlB,SAAS,CAACmB,YAAV,CAAuB,CAAvB,EAA0B,CAA1B,EAA6B1d,MAAM,CAACzU,KAApC,EAA2CyU,MAAM,CAACrU,MAAlD,CAAhB;CACAyxB,cAAAA,aAAa,GAAG,CAAhB;CACAC,cAAAA,WAAW,GAAGI,SAAS,CAAC7lB,IAAV,CAAepL,MAA7B;CACA8wB,cAAAA,WAAW,GAAGG,SAAS,CAAC7lB,IAAV,CAAepL,MAAf,GAAwB,CAAtC;;CAEA,mBAAK,IAAImxB,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGN,WAAxB,EAAqCM,GAAG,IAAI,CAA5C,EAA+C;CAC3C,oBAAIC,YAAY,GAAG;CACfhB,kBAAAA,CAAC,EAAEa,SAAS,CAAC7lB,IAAV,CAAe+lB,GAAf,CADY;CAEfd,kBAAAA,CAAC,EAAEY,SAAS,CAAC7lB,IAAV,CAAe+lB,GAAG,GAAG,CAArB,CAFY;CAGf7rB,kBAAAA,CAAC,EAAE2rB,SAAS,CAAC7lB,IAAV,CAAe+lB,GAAG,GAAG,CAArB;CAHY,iBAAnB;CAKA,oBAAIE,eAAe,GAAGryB,IAAI,CAACuxB,IAAL,CAClBvxB,IAAI,CAACwlB,GAAL,CAAS4M,YAAY,CAAChB,CAAb,GAAiBD,WAAW,CAACC,CAAtC,EAAyC,CAAzC,IACApxB,IAAI,CAACwlB,GAAL,CAAS4M,YAAY,CAACf,CAAb,GAAiBF,WAAW,CAACE,CAAtC,EAAyC,CAAzC,CADA,GAEArxB,IAAI,CAACwlB,GAAL,CAAS4M,YAAY,CAAC9rB,CAAb,GAAiB6qB,WAAW,CAAC7qB,CAAtC,EAAyC,CAAzC,CAHkB,CAAtB,CAN2C;;CAY3C,oBAAI+rB,eAAe,IAAIf,kBAAkB,GAAGE,YAA5C,EAA0D;CACtDI,kBAAAA,aAAa;CAChB;CACJ;;CACDG,cAAAA,WAAW;CACd,aAxBD;;CAyBA9S,YAAAA,KAAK,CAACqT,GAAN,GAAY5B,OAAO,CAACiB,CAAD,CAAP,CAAW1S,KAAvB;CACH,WA5BD,MA4BO;CACH8S,YAAAA,WAAW;CACd;CACJ,SAjDK;CAkDNlzB,QAAAA,QAAQ,EAAE,YAAW;CACjBmyB,UAAAA,YAAY,GAAGA,YAAY,CAACuB,MAAb,CAAoB7B,OAAO,CAACvkB,KAAR,CAAc+kB,aAAd,CAApB,CAAf;;CAEA,cAAIF,YAAY,CAAChwB,MAAb,IAAuB,CAA3B,EAA8B;;;CAG1BgwB,YAAAA,YAAY,CAAC3xB,IAAb,CAAkBqxB,OAAO,CAACA,OAAO,CAAC1vB,MAAR,GAAiB,CAAlB,CAAzB;CACH;;CACDnC,UAAAA,QAAQ,CAACmyB,YAAD,CAAR;CACH;CA3DK,OAAD,CAAT;CA6DH;;CAED,QAAIZ,aAAa,GAAG,KAApB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK/T,IAAL,GAAY,UAASxd,QAAT,EAAmB;CAC3BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEAuxB,MAAAA,aAAa,GAAG,IAAhB;;CAEA,UAAIoC,KAAK,GAAG,IAAZ,CAL2B;;;CAO3BpW,MAAAA,UAAU,CAAC,YAAW;;;;CAIlBqU,QAAAA,eAAe,CAAC3B,MAAM,CAACC,MAAR,EAAgB,CAAC,CAAjB,EAAoB,IAApB,EAA0B,IAA1B,EAAgC,UAASA,MAAT,EAAiB;CAC5DD,UAAAA,MAAM,CAACC,MAAP,GAAgBA,MAAhB,CAD4D;;CAI5D,cAAI7T,MAAM,CAAC6D,aAAP,IAAwB7D,MAAM,CAAC6D,aAAP,CAAqB/d,MAAjD,EAAyD;CACrD8tB,YAAAA,MAAM,CAACC,MAAP,GAAgB7T,MAAM,CAAC6D,aAAP,CAAqBwT,MAArB,CAA4BzD,MAAM,CAACC,MAAnC,CAAhB;CACH;;CAGjB;CACA;CACA;CACA;CACA;CACA;CACA;;;CACgBD,UAAAA,MAAM,CAACU,OAAP,CAAe,UAAS5zB,IAAT,EAAe;CAC1B42B,YAAAA,KAAK,CAAC52B,IAAN,GAAaA,IAAb;;CAEA,gBAAI42B,KAAK,CAAC52B,IAAN,CAAW0D,OAAf,EAAwB;CACpBkzB,cAAAA,KAAK,CAAC52B,IAAN,GAAa,IAAImiB,IAAJ,CAAS,EAAT,EAAa;CACtBrZ,gBAAAA,IAAI,EAAE;CADgB,eAAb,CAAb;CAGH;;CAED,gBAAI7F,QAAJ,EAAc;CACVA,cAAAA,QAAQ,CAAC2zB,KAAK,CAAC52B,IAAP,CAAR;CACH;CACJ,WAZD;CAaH,SA7Bc,CAAf;CA8BH,OAlCS,EAkCP,EAlCO,CAAV;CAmCH,KA1CD;;CA4CA,QAAI6zB,iBAAiB,GAAG,KAAxB;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKh3B,KAAL,GAAa,YAAW;CACpBg3B,MAAAA,iBAAiB,GAAG,IAApB;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK/W,MAAL,GAAc,YAAW;CACrB+W,MAAAA,iBAAiB,GAAG,KAApB;;CAEA,UAAIW,aAAJ,EAAmB;CACf,aAAKh6B,MAAL;CACH;CACJ,KAND;;CASJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKqlB,iBAAL,GAAyB,YAAW;CAChC,UAAI,CAAC2U,aAAL,EAAoB;CAChB,aAAK/T,IAAL,CAAUmN,mBAAV;CACH;;CACDA,MAAAA,mBAAmB;CACtB,KALD;;CAOA,aAASA,mBAAT,GAA+B;CAC3BsF,MAAAA,MAAM,CAACC,MAAP,GAAgB,EAAhB;CACAqB,MAAAA,aAAa,GAAG,IAAhB;CACAX,MAAAA,iBAAiB,GAAG,KAApB;CACH,KAjVwC;;;CAoVzC,SAAKtxB,IAAL,GAAY,gBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,QAAIqW,MAAM,GAAGlU,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACA,QAAIsP,OAAO,GAAGH,MAAM,CAACvQ,UAAP,CAAkB,IAAlB,CAAd;CAEA,QAAIlM,KAAJ;CACA,QAAIqP,QAAJ;CACA,QAAI0nB,MAAJ;CACH;;CAED,MAAI,OAAO9T,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACmF,cAAV,GAA2BA,cAA3B;CACH;CAGD;CACA;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,MAAI4P,MAAM,GAAI,YAAW;;CAGrB,aAAS0C,WAAT,CAAqBzT,QAArB,EAA+B;CAC3B,WAAK+P,MAAL,GAAc,EAAd;CACA,WAAK/P,QAAL,GAAgBA,QAAQ,IAAI,CAA5B;CACA,WAAKpM,OAAL,GAAe,GAAf;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI6f,IAAAA,WAAW,CAAC9R,SAAZ,CAAsB/V,GAAtB,GAA4B,UAASwkB,KAAT,EAAgBpQ,QAAhB,EAA0B;CAClD,UAAI,YAAYoQ,KAAhB,EAAuB;;CACnBA,QAAAA,KAAK,GAAGA,KAAK,CAAC5a,MAAd;CACH;;CAED,UAAI,eAAe4a,KAAnB,EAA0B;CACtBA,QAAAA,KAAK,GAAGA,KAAK,CAACjc,SAAN,CAAgB,YAAhB,EAA8B,KAAKP,OAAnC,CAAR;CACH;;CAED,UAAI,CAAE,6BAAD,CAAgCmS,IAAhC,CAAqCqK,KAArC,CAAL,EAAkD;CAC9C,cAAM,iFAAN;CACH;;CACD,WAAKL,MAAL,CAAY1vB,IAAZ,CAAiB;CACb4f,QAAAA,KAAK,EAAEmQ,KADM;CAEbpQ,QAAAA,QAAQ,EAAEA,QAAQ,IAAI,KAAKA;CAFd,OAAjB;CAIH,KAhBD;;CAkBA,aAAStB,kBAAT,CAA4BI,SAA5B,EAAuC;CACnC,UAAIliB,IAAI,GAAG2J,GAAG,CAACC,eAAJ,CAAoB,IAAIuY,IAAJ,CAAS,CAACD,SAAS,CAAC5V,QAAV,EAAD,EACpC,uCAAuC4V,SAAS,CAAC3f,IAAjD,GAAwD,cADpB,CAAT,EAE5B;CACCuG,QAAAA,IAAI,EAAE;CADP,OAF4B,CAApB,CAAX;CAMA,UAAIsZ,MAAM,GAAG,IAAIV,MAAJ,CAAW1hB,IAAX,CAAb;CACA2J,MAAAA,GAAG,CAACG,eAAJ,CAAoB9J,IAApB;CACA,aAAOoiB,MAAP;CACH;;CAED,aAAS0U,iBAAT,CAA2B3D,MAA3B,EAAmC;CAC/B,eAAS4D,WAAT,CAAqB5D,MAArB,EAA6B;CACzB,YAAI6D,IAAI,GAAGC,WAAW,CAAC9D,MAAD,CAAtB;;CACA,YAAI,CAAC6D,IAAL,EAAW;CACP,iBAAO,EAAP;CACH;;CAED,YAAIE,kBAAkB,GAAG,KAAzB;CAEA,YAAI9L,IAAI,GAAG,CAAC;CACR,gBAAM,UADE;;CAER,kBAAQ,CAAC;CACL,oBAAQ,CADH;CAEL,kBAAM,MAFD;;CAAA,WAAD,EAGL;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WAHK,EAML;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WANK,EASL;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WATK,EAYL;CACC,oBAAQ,MADT;CAEC,kBAAM,MAFP;;CAAA,WAZK,EAeL;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WAfK,EAkBL;CACC,oBAAQ,CADT;CAEC,kBAAM,MAFP;;CAAA,WAlBK;CAFA,SAAD,EAwBR;CACC,gBAAM,UADP;;CAEC,kBAAQ,CAAC;CACL,kBAAM,UADD;;CAEL,oBAAQ,CAAC;CACL,sBAAQ,GADH;;CAEL,oBAAM,QAFD;;CAAA,aAAD,EAGL;CACC,sBAAQ,QADT;CAEC,oBAAM,MAFP;;CAAA,aAHK,EAML;CACC,sBAAQ,QADT;CAEC,oBAAM,MAFP;;CAAA,aANK,EASL;CACC,sBAAQ+L,cAAc,CAACH,IAAI,CAAC5T,QAAN,CADvB;CAEC,oBAAM,MAFP;;CAAA,aATK;CAFH,WAAD,EAeL;CACC,kBAAM,UADP;;CAEC,oBAAQ,CAAC;CACL,oBAAM,IADD;;CAEL,sBAAQ,CAAC;CACL,wBAAQ,CADH;CAEL,sBAAM,IAFD;;CAAA,eAAD,EAGL;CACC,wBAAQ,CADT;CAEC,sBAAM,MAFP;;CAAA,eAHK,EAML;CACC,wBAAQ,CADT;CAEC,sBAAM,IAFP;;CAAA,eANK,EASL;CACC,wBAAQ,KADT;CAEC,sBAAM,QAFP;;CAAA,eATK,EAYL;CACC,wBAAQ,OADT;CAEC,sBAAM,IAFP;;CAAA,eAZK,EAeL;CACC,wBAAQ,KADT;CAEC,sBAAM,QAFP;;CAAA,eAfK,EAkBL;CACC,wBAAQ,CADT;CAEC,sBAAM,IAFP;;CAAA,eAlBK,EAqBL;CACC,sBAAM,IADP;;CAEC,wBAAQ,CAAC;CACL,0BAAQ4T,IAAI,CAAC7yB,KADR;CAEL,wBAAM,IAFD;;CAAA,iBAAD,EAGL;CACC,0BAAQ6yB,IAAI,CAACzyB,MADd;CAEC,wBAAM,IAFP;;CAAA,iBAHK;CAFT,eArBK;CAFH,aAAD;CAFT,WAfK;CAFT,SAxBQ,CAAX,CARyB;;CAyFzB,YAAI6yB,WAAW,GAAG,CAAlB;CACA,YAAIC,eAAe,GAAG,CAAtB;;CACA,eAAOD,WAAW,GAAGjE,MAAM,CAAC/tB,MAA5B,EAAoC;CAEhC,cAAIkyB,aAAa,GAAG,EAApB;CACA,cAAIC,eAAe,GAAG,CAAtB;;CACA,aAAG;CACCD,YAAAA,aAAa,CAAC7zB,IAAd,CAAmB0vB,MAAM,CAACiE,WAAD,CAAzB;CACAG,YAAAA,eAAe,IAAIpE,MAAM,CAACiE,WAAD,CAAN,CAAoBhU,QAAvC;CACAgU,YAAAA,WAAW;CACd,WAJD,QAISA,WAAW,GAAGjE,MAAM,CAAC/tB,MAArB,IAA+BmyB,eAAe,GAAGL,kBAJ1D;;CAMA,cAAIM,cAAc,GAAG,CAArB;CACA,cAAIC,OAAO,GAAG;CACV,kBAAM,UADI;;CAEV,oBAAQC,cAAc,CAACL,eAAD,EAAkBG,cAAlB,EAAkCF,aAAlC;CAFZ,WAAd,CAXgC;;CAehClM,UAAAA,IAAI,CAAC,CAAD,CAAJ,CAAQ5a,IAAR,CAAa/M,IAAb,CAAkBg0B,OAAlB;CACAJ,UAAAA,eAAe,IAAIE,eAAnB;CACH;;CAED,eAAOI,YAAY,CAACvM,IAAD,CAAnB;CACH;;CAED,eAASsM,cAAT,CAAwBL,eAAxB,EAAyCG,cAAzC,EAAyDF,aAAzD,EAAwE;CACpE,eAAO,CAAC;CACJ,kBAAQD,eADJ;CAEJ,gBAAM,IAFF;;CAAA,SAAD,EAGJV,MAHI,CAGGW,aAAa,CAACj0B,GAAd,CAAkB,UAAS+T,IAAT,EAAe;CACvC,cAAIwgB,KAAK,GAAGC,eAAe,CAAC;CACxBC,YAAAA,WAAW,EAAE,CADW;CAExBtE,YAAAA,KAAK,EAAEpc,IAAI,CAAC5G,IAAL,CAAUD,KAAV,CAAgB,CAAhB,CAFiB;CAGxBwnB,YAAAA,SAAS,EAAE,CAHa;CAIxBC,YAAAA,QAAQ,EAAE,CAJc;CAKxBC,YAAAA,MAAM,EAAE,CALgB;CAMxBC,YAAAA,QAAQ,EAAE,CANc;CAOxBC,YAAAA,QAAQ,EAAE/zB,IAAI,CAAC6lB,KAAL,CAAWuN,cAAX;CAPc,WAAD,CAA3B;CASAA,UAAAA,cAAc,IAAIpgB,IAAI,CAACgM,QAAvB;CACA,iBAAO;CACH5S,YAAAA,IAAI,EAAEonB,KADH;CAEHtP,YAAAA,EAAE,EAAE;CAFD,WAAP;CAIH,SAfS,CAHH,CAAP;CAmBH,OAtI8B;;;CA0I/B,eAAS2O,WAAT,CAAqB9D,MAArB,EAA6B;CACzB,YAAI,CAACA,MAAM,CAAC,CAAD,CAAX,EAAgB;CACZ7R,UAAAA,WAAW,CAAC;CACRjkB,YAAAA,KAAK,EAAE;CADC,WAAD,CAAX;CAGA;CACH;;CAED,YAAI8G,KAAK,GAAGgvB,MAAM,CAAC,CAAD,CAAN,CAAUhvB,KAAtB;CAAA,YACII,MAAM,GAAG4uB,MAAM,CAAC,CAAD,CAAN,CAAU5uB,MADvB;CAAA,YAEI6e,QAAQ,GAAG+P,MAAM,CAAC,CAAD,CAAN,CAAU/P,QAFzB;;CAIA,aAAK,IAAIle,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiuB,MAAM,CAAC/tB,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;CACpCke,UAAAA,QAAQ,IAAI+P,MAAM,CAACjuB,CAAD,CAAN,CAAUke,QAAtB;CACH;;CACD,eAAO;CACHA,UAAAA,QAAQ,EAAEA,QADP;CAEHjf,UAAAA,KAAK,EAAEA,KAFJ;CAGHI,UAAAA,MAAM,EAAEA;CAHL,SAAP;CAKH;;CAED,eAAS6zB,WAAT,CAAqB5tB,GAArB,EAA0B;CACtB,YAAI6tB,KAAK,GAAG,EAAZ;;CACA,eAAO7tB,GAAG,GAAG,CAAb,EAAgB;CACZ6tB,UAAAA,KAAK,CAAC50B,IAAN,CAAW+G,GAAG,GAAG,IAAjB;CACAA,UAAAA,GAAG,GAAGA,GAAG,IAAI,CAAb;CACH;;CACD,eAAO,IAAItB,UAAJ,CAAemvB,KAAK,CAACC,OAAN,EAAf,CAAP;CACH;;CAED,eAASC,WAAT,CAAqBC,GAArB,EAA0B;CACtB,eAAO,IAAItvB,UAAJ,CAAesvB,GAAG,CAAC7vB,KAAJ,CAAU,EAAV,EAActF,GAAd,CAAkB,UAASiF,CAAT,EAAY;CAChD,iBAAOA,CAAC,CAACa,UAAF,CAAa,CAAb,CAAP;CACH,SAFqB,CAAf,CAAP;CAGH;;CAED,eAASsvB,YAAT,CAAsBC,IAAtB,EAA4B;CACxB,YAAIloB,IAAI,GAAG,EAAX;CACA,YAAImoB,GAAG,GAAID,IAAI,CAACtzB,MAAL,GAAc,CAAf,GAAqB,IAAIjC,KAAJ,CAAU,IAAI,CAAJ,GAASu1B,IAAI,CAACtzB,MAAL,GAAc,CAAjC,CAAD,CAAuCyL,IAAvC,CAA4C,GAA5C,CAApB,GAAuE,EAAjF;CACA6nB,QAAAA,IAAI,GAAGC,GAAG,GAAGD,IAAb;;CACA,aAAK,IAAIxzB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwzB,IAAI,CAACtzB,MAAzB,EAAiCF,CAAC,IAAI,CAAtC,EAAyC;CACrCsL,UAAAA,IAAI,CAAC/M,IAAL,CAAUimB,QAAQ,CAACgP,IAAI,CAACE,MAAL,CAAY1zB,CAAZ,EAAe,CAAf,CAAD,EAAoB,CAApB,CAAlB;CACH;;CACD,eAAO,IAAIgE,UAAJ,CAAesH,IAAf,CAAP;CACH;;CAED,eAASmnB,YAAT,CAAsBkB,IAAtB,EAA4B;CACxB,YAAIC,IAAI,GAAG,EAAX;;CACA,aAAK,IAAI5zB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2zB,IAAI,CAACzzB,MAAzB,EAAiCF,CAAC,EAAlC,EAAsC;CAClC,cAAIsL,IAAI,GAAGqoB,IAAI,CAAC3zB,CAAD,CAAJ,CAAQsL,IAAnB;;CAEA,cAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAC1BA,YAAAA,IAAI,GAAGmnB,YAAY,CAACnnB,IAAD,CAAnB;CACH;;CAED,cAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;CAC1BA,YAAAA,IAAI,GAAGioB,YAAY,CAACjoB,IAAI,CAAClE,QAAL,CAAc,CAAd,CAAD,CAAnB;CACH;;CAED,cAAI,OAAOkE,IAAP,KAAgB,QAApB,EAA8B;CAC1BA,YAAAA,IAAI,GAAG+nB,WAAW,CAAC/nB,IAAD,CAAlB;CACH;;CAED,cAAIG,GAAG,GAAGH,IAAI,CAAC/E,IAAL,IAAa+E,IAAI,CAAC0N,UAAlB,IAAgC1N,IAAI,CAACpL,MAA/C;CACA,cAAI2zB,MAAM,GAAG30B,IAAI,CAACsrB,IAAL,CAAUtrB,IAAI,CAACsrB,IAAL,CAAUtrB,IAAI,CAAChH,GAAL,CAASuT,GAAT,IAAgBvM,IAAI,CAAChH,GAAL,CAAS,CAAT,CAA1B,IAAyC,CAAnD,CAAb;CACA,cAAI47B,YAAY,GAAGroB,GAAG,CAACrE,QAAJ,CAAa,CAAb,CAAnB;CACA,cAAI2sB,MAAM,GAAI,IAAI91B,KAAJ,CAAW41B,MAAM,GAAG,CAAT,GAAa,CAAb,GAAiB,CAAlB,GAAuBC,YAAY,CAAC5zB,MAA9C,CAAD,CAAwDyL,IAAxD,CAA6D,GAA7D,IAAoEmoB,YAAjF;CACA,cAAIvtB,IAAI,GAAI,IAAItI,KAAJ,CAAU41B,MAAV,CAAD,CAAoBloB,IAApB,CAAyB,GAAzB,IAAgC,GAAhC,GAAsCooB,MAAjD;CAEAH,UAAAA,IAAI,CAACr1B,IAAL,CAAU20B,WAAW,CAACS,IAAI,CAAC3zB,CAAD,CAAJ,CAAQojB,EAAT,CAArB;CACAwQ,UAAAA,IAAI,CAACr1B,IAAL,CAAUg1B,YAAY,CAAChtB,IAAD,CAAtB;CACAqtB,UAAAA,IAAI,CAACr1B,IAAL,CAAU+M,IAAV;CACH;;CAED,eAAO,IAAI2R,IAAJ,CAAS2W,IAAT,EAAe;CAClBhwB,UAAAA,IAAI,EAAE;CADY,SAAf,CAAP;CAGH;;CAYD,eAAS+uB,eAAT,CAAyBrnB,IAAzB,EAA+B;CAC3B,YAAI0oB,KAAK,GAAG,CAAZ;;CAEA,YAAI1oB,IAAI,CAACwnB,QAAT,EAAmB;CACfkB,UAAAA,KAAK,IAAI,GAAT;CACH;;CAED,YAAI1oB,IAAI,CAACunB,SAAT,EAAoB;CAChBmB,UAAAA,KAAK,IAAI,CAAT;CACH;;CAED,YAAI1oB,IAAI,CAACynB,MAAT,EAAiB;CACbiB,UAAAA,KAAK,IAAK1oB,IAAI,CAACynB,MAAL,IAAe,CAAzB;CACH;;CAED,YAAIznB,IAAI,CAACsnB,WAAT,EAAsB;CAClBoB,UAAAA,KAAK,IAAI,CAAT;CACH;;CAED,YAAI1oB,IAAI,CAAC0nB,QAAL,GAAgB,GAApB,EAAyB;CACrB,gBAAM,iCAAN;CACH;;CAED,YAAIiB,GAAG,GAAG,CAAC3oB,IAAI,CAAC0nB,QAAL,GAAgB,IAAjB,EAAuB1nB,IAAI,CAAC2nB,QAAL,IAAiB,CAAxC,EAA2C3nB,IAAI,CAAC2nB,QAAL,GAAgB,IAA3D,EAAiEe,KAAjE,EAAwE71B,GAAxE,CAA4E,UAASiF,CAAT,EAAY;CAC9F,iBAAO8wB,MAAM,CAACC,YAAP,CAAoB/wB,CAApB,CAAP;CACH,SAFS,EAEPuI,IAFO,CAEF,EAFE,IAEIL,IAAI,CAACgjB,KAFnB;CAIA,eAAO2F,GAAP;CACH;;CAED,eAASG,SAAT,CAAmBC,IAAnB,EAAyB;CACrB,YAAIC,GAAG,GAAGD,IAAI,CAACE,IAAL,CAAU,CAAV,EAAaC,IAAb,CAAkB,CAAlB,CAAV;CAEA,YAAIC,UAAU,GAAGH,GAAG,CAAC1Q,OAAJ,CAAY,cAAZ,CAAjB,CAHqB;;CAIrB,aAAK,IAAI5jB,CAAC,GAAG,CAAR,EAAW00B,CAAC,GAAG,EAApB,EAAwB10B,CAAC,GAAG,CAA5B,EAA+BA,CAAC,EAAhC,EAAoC;CAChC00B,UAAAA,CAAC,CAAC10B,CAAD,CAAD,GAAOs0B,GAAG,CAACrwB,UAAJ,CAAewwB,UAAU,GAAG,CAAb,GAAiBz0B,CAAhC,CAAP;CACH;;CAED,YAAIf,KAAJ,EAAWI,MAAX,EAAmBgrB,GAAnB,CARqB;;CAWrBA,QAAAA,GAAG,GAAIqK,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,GAAcA,CAAC,CAAC,CAAD,CAArB;CACAz1B,QAAAA,KAAK,GAAGorB,GAAG,GAAG,MAAd;CACAA,QAAAA,GAAG,GAAIqK,CAAC,CAAC,CAAD,CAAD,IAAQ,CAAT,GAAcA,CAAC,CAAC,CAAD,CAArB;CACAr1B,QAAAA,MAAM,GAAGgrB,GAAG,GAAG,MAAf;CACA,eAAO;CACHprB,UAAAA,KAAK,EAAEA,KADJ;CAEHI,UAAAA,MAAM,EAAEA,MAFL;CAGHiM,UAAAA,IAAI,EAAEgpB,GAHH;CAIHD,UAAAA,IAAI,EAAEA;CAJH,SAAP;CAMH;;CAED,eAASM,YAAT,CAAsBvJ,MAAtB,EAA8BN,MAA9B,EAAsC;CAClC,eAAOtG,QAAQ,CAAC4G,MAAM,CAACsI,MAAP,CAAc5I,MAAM,GAAG,CAAvB,EAA0B,CAA1B,EAA6BrnB,KAA7B,CAAmC,EAAnC,EAAuCtF,GAAvC,CAA2C,UAAS6B,CAAT,EAAY;CACnE,cAAI40B,QAAQ,GAAG50B,CAAC,CAACiE,UAAF,CAAa,CAAb,EAAgBmD,QAAhB,CAAyB,CAAzB,CAAf;CACA,iBAAQ,IAAInJ,KAAJ,CAAU,IAAI22B,QAAQ,CAAC10B,MAAb,GAAsB,CAAhC,CAAD,CAAqCyL,IAArC,CAA0C,GAA1C,IAAiDipB,QAAxD;CACH,SAHe,EAGbjpB,IAHa,CAGR,EAHQ,CAAD,EAGF,CAHE,CAAf;CAIH;;CAED,eAASkpB,SAAT,CAAmBzJ,MAAnB,EAA2B;CACvB,YAAIN,MAAM,GAAG,CAAb;CACA,YAAIgK,MAAM,GAAG,EAAb;;CAEA,eAAOhK,MAAM,GAAGM,MAAM,CAAClrB,MAAvB,EAA+B;CAC3B,cAAIkjB,EAAE,GAAGgI,MAAM,CAACsI,MAAP,CAAc5I,MAAd,EAAsB,CAAtB,CAAT;CACA,cAAIrf,GAAG,GAAGkpB,YAAY,CAACvJ,MAAD,EAASN,MAAT,CAAtB;CACA,cAAIxf,IAAI,GAAG8f,MAAM,CAACsI,MAAP,CAAc5I,MAAM,GAAG,CAAT,GAAa,CAA3B,EAA8Brf,GAA9B,CAAX;CACAqf,UAAAA,MAAM,IAAI,IAAI,CAAJ,GAAQrf,GAAlB;CACAqpB,UAAAA,MAAM,CAAC1R,EAAD,CAAN,GAAa0R,MAAM,CAAC1R,EAAD,CAAN,IAAc,EAA3B;;CAEA,cAAIA,EAAE,KAAK,MAAP,IAAiBA,EAAE,KAAK,MAA5B,EAAoC;CAChC0R,YAAAA,MAAM,CAAC1R,EAAD,CAAN,CAAW7kB,IAAX,CAAgBs2B,SAAS,CAACvpB,IAAD,CAAzB;CACH,WAFD,MAEO;CACHwpB,YAAAA,MAAM,CAAC1R,EAAD,CAAN,CAAW7kB,IAAX,CAAgB+M,IAAhB;CACH;CACJ;;CACD,eAAOwpB,MAAP;CACH;;CAED,eAAS7C,cAAT,CAAwB3sB,GAAxB,EAA6B;CACzB,eAAO,GAAG+F,KAAH,CAASqQ,IAAT,CACH,IAAI1X,UAAJ,CAAgB,IAAI6mB,YAAJ,CAAiB,CAACvlB,GAAD,CAAjB,CAAD,CAA0BzM,MAAzC,CADG,EAC+C,CAD/C,EACkDsF,GADlD,CACsD,UAASiF,CAAT,EAAY;CACrE,iBAAO8wB,MAAM,CAACC,YAAP,CAAoB/wB,CAApB,CAAP;CACH,SAHM,EAGJgwB,OAHI,GAGMznB,IAHN,CAGW,EAHX,CAAP;CAIH;;CAED,UAAI5P,IAAI,GAAG,IAAI81B,WAAJ,CAAgB5D,MAAM,CAAC9vB,GAAP,CAAW,UAASmwB,KAAT,EAAgB;CAClD,YAAIpc,IAAI,GAAGkiB,SAAS,CAACS,SAAS,CAAClxB,IAAI,CAAC2qB,KAAK,CAACnQ,KAAN,CAAY9S,KAAZ,CAAkB,EAAlB,CAAD,CAAL,CAAV,CAApB;CACA6G,QAAAA,IAAI,CAACgM,QAAL,GAAgBoQ,KAAK,CAACpQ,QAAtB;CACA,eAAOhM,IAAP;CACH,OAJ0B,CAAhB,CAAX;CAMAkK,MAAAA,WAAW,CAACrgB,IAAD,CAAX;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI41B,IAAAA,WAAW,CAAC9R,SAAZ,CAAsB6O,OAAtB,GAAgC,UAAS3wB,QAAT,EAAmB;CAC/C,UAAI4e,SAAS,GAAGC,kBAAkB,CAACgV,iBAAD,CAAlC;;CAEAjV,MAAAA,SAAS,CAACE,SAAV,GAAsB,UAASpe,KAAT,EAAgB;CAClC,YAAIA,KAAK,CAAC6M,IAAN,CAAWnT,KAAf,EAAsB;CAClBqF,UAAAA,OAAO,CAACrF,KAAR,CAAcsG,KAAK,CAAC6M,IAAN,CAAWnT,KAAzB;CACA;CACH;;CACD4F,QAAAA,QAAQ,CAACU,KAAK,CAAC6M,IAAP,CAAR;CACH,OAND;;CAQAqR,MAAAA,SAAS,CAACP,WAAV,CAAsB,KAAK6R,MAA3B;CACH,KAZD;;CAcA,WAAO;;CAEX;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACQzZ,MAAAA,KAAK,EAAEmd;CAVJ,KAAP;CAYH,GA1ZY,EAAb;;CA4ZA,MAAI,OAAOzX,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAAC+U,MAAV,GAAmBA,MAAnB;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAGA,MAAIlT,WAAW,GAAG;;CAElB;CACA;CACA;CACA;CACA;CACA;CACA;CACI1lB,IAAAA,IAAI,EAAE,YAAW;CACb,UAAI2U,IAAI,GAAG,IAAX;;CAEA,UAAI,OAAO+pB,SAAP,KAAqB,WAArB,IAAoC,OAAOA,SAAS,CAACr6B,IAAjB,KAA0B,WAAlE,EAA+E;CAC3E8C,QAAAA,OAAO,CAACrF,KAAR,CAAc,kDAAd;CACA;CACH;;CAED,UAAI68B,SAAS,GAAG,CAAhB;CACA,UAAIC,MAAM,GAAG,KAAKA,MAAL,IAAetS,QAAQ,CAACne,IAAT,CAAcX,OAAd,CAAsB,oBAAtB,EAA4C,EAA5C,CAA5B;CAAA,UACIqxB,EADJ;CAEA,UAAIz0B,OAAO,GAAGs0B,SAAS,CAACr6B,IAAV,CAAeu6B,MAAf,EAAuBD,SAAvB,CAAd;;CAEA,eAASG,iBAAT,CAA2BC,QAA3B,EAAqC;CACjCA,QAAAA,QAAQ,CAACD,iBAAT,CAA2BnqB,IAAI,CAACqqB,aAAhC;CACH;;CAED,eAASC,OAAT,GAAmB;CACf,YAAIC,WAAW,GAAGL,EAAE,CAACK,WAAH,CAAe,CAACvqB,IAAI,CAACqqB,aAAN,CAAf,EAAqC,WAArC,CAAlB;;CAEA,YAAIrqB,IAAI,CAACkU,SAAT,EAAoB;CAChBqW,UAAAA,WAAW,CAACC,WAAZ,CAAwBxqB,IAAI,CAACqqB,aAA7B,EAA4CI,GAA5C,CAAgDzqB,IAAI,CAACkU,SAArD,EAAgE,WAAhE;CACH;;CAED,YAAIlU,IAAI,CAACmU,OAAT,EAAkB;CACdoW,UAAAA,WAAW,CAACC,WAAZ,CAAwBxqB,IAAI,CAACqqB,aAA7B,EAA4CI,GAA5C,CAAgDzqB,IAAI,CAACmU,OAArD,EAA8D,SAA9D;CACH;;CAED,YAAInU,IAAI,CAACiU,SAAT,EAAoB;CAChBsW,UAAAA,WAAW,CAACC,WAAZ,CAAwBxqB,IAAI,CAACqqB,aAA7B,EAA4CI,GAA5C,CAAgDzqB,IAAI,CAACiU,SAArD,EAAgE,WAAhE;CACH;;CAED,iBAASyW,YAAT,CAAsBC,WAAtB,EAAmC;CAC/BJ,UAAAA,WAAW,CAACC,WAAZ,CAAwBxqB,IAAI,CAACqqB,aAA7B,EAA4Cx2B,GAA5C,CAAgD82B,WAAhD,EAA6DC,SAA7D,GAAyE,UAASn3B,KAAT,EAAgB;CACrF,gBAAIuM,IAAI,CAACjN,QAAT,EAAmB;CACfiN,cAAAA,IAAI,CAACjN,QAAL,CAAcU,KAAK,CAACX,MAAN,CAAagK,MAA3B,EAAmC6tB,WAAnC;CACH;CACJ,WAJD;CAKH;;CAEDD,QAAAA,YAAY,CAAC,WAAD,CAAZ;CACAA,QAAAA,YAAY,CAAC,WAAD,CAAZ;CACAA,QAAAA,YAAY,CAAC,SAAD,CAAZ;CACH;;CAEDj1B,MAAAA,OAAO,CAACoB,OAAR,GAAkBmJ,IAAI,CAAC6qB,OAAvB;;CAEAp1B,MAAAA,OAAO,CAACm1B,SAAR,GAAoB,YAAW;CAC3BV,QAAAA,EAAE,GAAGz0B,OAAO,CAACqH,MAAb;CACAotB,QAAAA,EAAE,CAACrzB,OAAH,GAAamJ,IAAI,CAAC6qB,OAAlB;;CAEA,YAAIX,EAAE,CAACY,UAAP,EAAmB;CACf,cAAIZ,EAAE,CAACza,OAAH,KAAeua,SAAnB,EAA8B;CAC1B,gBAAIc,UAAU,GAAGZ,EAAE,CAACY,UAAH,CAAcd,SAAd,CAAjB;;CACAc,YAAAA,UAAU,CAACF,SAAX,GAAuB,YAAW;CAC9BT,cAAAA,iBAAiB,CAACD,EAAD,CAAjB;CACAI,cAAAA,OAAO;CACV,aAHD;CAIH,WAND,MAMO;CACHA,YAAAA,OAAO;CACV;CACJ,SAVD,MAUO;CACHA,UAAAA,OAAO;CACV;CACJ,OAjBD;;CAkBA70B,MAAAA,OAAO,CAACs1B,eAAR,GAA0B,UAASt3B,KAAT,EAAgB;CACtC02B,QAAAA,iBAAiB,CAAC12B,KAAK,CAACX,MAAN,CAAagK,MAAd,CAAjB;CACH,OAFD;CAGH,KA7Ea;;;CA+ElB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACI4W,IAAAA,KAAK,EAAE,UAAS3gB,QAAT,EAAmB;CACtB,WAAKA,QAAL,GAAgBA,QAAhB;CACA,WAAK1H,IAAL;CAEA,aAAO,IAAP;CACH,KA/Fa;;;CAiGlB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACI2lB,IAAAA,KAAK,EAAE,UAAS5B,MAAT,EAAiB;CACpB,WAAK6E,SAAL,GAAiB7E,MAAM,CAAC6E,SAAxB;CACA,WAAKC,SAAL,GAAiB9E,MAAM,CAAC8E,SAAxB;CACA,WAAKC,OAAL,GAAe/E,MAAM,CAAC+E,OAAtB;CAEA,WAAK9oB,IAAL;CAEA,aAAO,IAAP;CACH,KApHa;;;CAsHlB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACIw/B,IAAAA,OAAO,EAAE,UAAS19B,KAAT,EAAgB;CACrBqF,MAAAA,OAAO,CAACrF,KAAR,CAAci0B,IAAI,CAACC,SAAL,CAAel0B,KAAf,EAAsB,IAAtB,EAA4B,IAA5B,CAAd;CACH,KAjIa;;;CAoIlB;CACA;CACA;CACA;CACA;CACA;CACIk9B,IAAAA,aAAa,EAAE,WA1ID;CA2IdJ,IAAAA,MAAM,EAAE;CA3IM,GAAlB;;CA8IA,MAAI,OAAO/a,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAAC6B,WAAV,GAAwBA,WAAxB;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASyD,WAAT,CAAqBrF,WAArB,EAAkCC,MAAlC,EAA0C;CACtC,QAAI,OAAO4b,UAAP,KAAsB,WAA1B,EAAuC;CACnC,UAAIC,MAAM,GAAGz2B,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACA0xB,MAAAA,MAAM,CAACzE,GAAP,GAAa,mDAAb;CACA,OAAChyB,QAAQ,CAACyK,IAAT,IAAiBzK,QAAQ,CAAC0B,eAA3B,EAA4CsP,WAA5C,CAAwDylB,MAAxD;CACH;;CAED7b,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;CAEA,QAAI8b,YAAY,GAAG/b,WAAW,YAAYwT,wBAAvB,IAAmDxT,WAAW,YAAYuT,iBAA7F;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKp4B,MAAL,GAAc,YAAW;CACrB,UAAI,OAAO0gC,UAAP,KAAsB,WAA1B,EAAuC;CACnC1a,QAAAA,UAAU,CAACtQ,IAAI,CAAC1V,MAAN,EAAc,IAAd,CAAV;CACA;CACH;;CAED,UAAI,CAAC6gC,gBAAL,EAAuB;CACnB7a,QAAAA,UAAU,CAACtQ,IAAI,CAAC1V,MAAN,EAAc,IAAd,CAAV;CACA;CACH;;CAED,UAAI,CAAC4gC,YAAL,EAAmB;CACf,YAAI,CAAC9b,MAAM,CAACnb,KAAZ,EAAmB;CACfmb,UAAAA,MAAM,CAACnb,KAAP,GAAehI,KAAK,CAACm/B,WAAN,IAAqB,GAApC;CACH;;CAED,YAAI,CAAChc,MAAM,CAAC/a,MAAZ,EAAoB;CAChB+a,UAAAA,MAAM,CAAC/a,MAAP,GAAgBpI,KAAK,CAACo/B,YAAN,IAAsB,GAAtC;CACH;;CAED,YAAI,CAACjc,MAAM,CAACnjB,KAAZ,EAAmB;CACfmjB,UAAAA,MAAM,CAACnjB,KAAP,GAAe;CACXgI,YAAAA,KAAK,EAAEmb,MAAM,CAACnb,KADH;CAEXI,YAAAA,MAAM,EAAE+a,MAAM,CAAC/a;CAFJ,WAAf;CAIH;;CAED,YAAI,CAAC+a,MAAM,CAAC1G,MAAZ,EAAoB;CAChB0G,UAAAA,MAAM,CAAC1G,MAAP,GAAgB;CACZzU,YAAAA,KAAK,EAAEmb,MAAM,CAACnb,KADF;CAEZI,YAAAA,MAAM,EAAE+a,MAAM,CAAC/a;CAFH,WAAhB;CAIH;;CAEDqU,QAAAA,MAAM,CAACzU,KAAP,GAAemb,MAAM,CAAC1G,MAAP,CAAczU,KAAd,IAAuB,GAAtC;CACAyU,QAAAA,MAAM,CAACrU,MAAP,GAAgB+a,MAAM,CAAC1G,MAAP,CAAcrU,MAAd,IAAwB,GAAxC;CAEApI,QAAAA,KAAK,CAACgI,KAAN,GAAcmb,MAAM,CAACnjB,KAAP,CAAagI,KAAb,IAAsB,GAApC;CACAhI,QAAAA,KAAK,CAACoI,MAAN,GAAe+a,MAAM,CAACnjB,KAAP,CAAaoI,MAAb,IAAuB,GAAtC;CACH,OAvCoB;;;CA0CrBi3B,MAAAA,UAAU,GAAG,IAAIN,UAAJ,EAAb,CA1CqB;;;;CA+CrBM,MAAAA,UAAU,CAACC,SAAX,CAAqB,CAArB,EA/CqB;;;;;CAqDrBD,MAAAA,UAAU,CAACE,QAAX,CAAoBpc,MAAM,CAACoH,SAAP,IAAoB,GAAxC,EArDqB;;;;;;;;CA8DrB8U,MAAAA,UAAU,CAACG,UAAX,CAAsBrc,MAAM,CAACtI,OAAP,IAAkB,EAAxC,EA9DqB;;;CAkErBwkB,MAAAA,UAAU,CAACv9B,KAAX;;CAEA,UAAI,OAAOqhB,MAAM,CAACsc,qBAAd,KAAwC,UAA5C,EAAwD;CACpDtc,QAAAA,MAAM,CAACsc,qBAAP;CACH;;CAID,eAASC,cAAT,CAAwBC,IAAxB,EAA8B;CAC1B,YAAI5rB,IAAI,CAAC6rB,mBAAL,KAA6B,IAAjC,EAAuC;CACnC;CACH;;CAED,YAAIlI,iBAAJ,EAAuB;CACnB,iBAAOrT,UAAU,CAAC,YAAW;CACzBqb,YAAAA,cAAc,CAACC,IAAD,CAAd;CACH,WAFgB,EAEd,GAFc,CAAjB;CAGH;;CAEDE,QAAAA,kBAAkB,GAAGhU,qBAAqB,CAAC6T,cAAD,CAA1C;;CAEA,YAAI,OAAOI,aAAP,KAAyBzuB,SAA7B,EAAwC;CACpCyuB,UAAAA,aAAa,GAAGH,IAAhB;CACH,SAfyB;;;CAkB1B,YAAIA,IAAI,GAAGG,aAAP,GAAuB,EAA3B,EAA+B;CAC3B;CACH;;CAED,YAAI,CAACb,YAAD,IAAiBj/B,KAAK,CAACo4B,MAA3B,EAAmC;;;CAG/Bp4B,UAAAA,KAAK,CAAC7B,IAAN;CACH;;CAED,YAAI,CAAC8gC,YAAL,EAAmB;CACfriB,UAAAA,OAAO,CAAClC,SAAR,CAAkB1a,KAAlB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+Byc,MAAM,CAACzU,KAAtC,EAA6CyU,MAAM,CAACrU,MAApD;CACH;;CAED,YAAI+a,MAAM,CAAC4c,YAAX,EAAyB;CACrB5c,UAAAA,MAAM,CAAC4c,YAAP,CAAoBtjB,MAAM,CAACrB,SAAP,CAAiB,WAAjB,CAApB;CACH;;CAEDikB,QAAAA,UAAU,CAACW,QAAX,CAAoBpjB,OAApB;CACAkjB,QAAAA,aAAa,GAAGH,IAAhB;CACH;;CAEDE,MAAAA,kBAAkB,GAAGhU,qBAAqB,CAAC6T,cAAD,CAA1C;;CAEA,UAAIvc,MAAM,CAACY,YAAX,EAAyB;CACrBZ,QAAAA,MAAM,CAACY,YAAP;CACH;CACJ,KAvHD;;CA0HJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKO,IAAL,GAAY,UAASxd,QAAT,EAAmB;CAC3BA,MAAAA,QAAQ,GAAGA,QAAQ,IAAI,YAAW,EAAlC;;CAEA,UAAI+4B,kBAAJ,EAAwB;CACpBzT,QAAAA,oBAAoB,CAACyT,kBAAD,CAApB;CACH;;CAKT;CACA;CACA;CACA;CACA;CACA;CACA;;CACQ,WAAKh8B,IAAL,GAAY,IAAImiB,IAAJ,CAAS,CAAC,IAAIjZ,UAAJ,CAAesyB,UAAU,CAAC9c,MAAX,GAAoB0d,GAAnC,CAAD,CAAT,EAAoD;CAC5DtzB,QAAAA,IAAI,EAAE;CADsD,OAApD,CAAZ;CAIA7F,MAAAA,QAAQ,CAAC,KAAKjD,IAAN,CAAR,CArB2B;;CAwB3Bw7B,MAAAA,UAAU,CAAC9c,MAAX,GAAoB0d,GAApB,GAA0B,EAA1B;CACH,KAzBD;;CA2BA,QAAIvI,iBAAiB,GAAG,KAAxB;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKh3B,KAAL,GAAa,YAAW;CACpBg3B,MAAAA,iBAAiB,GAAG,IAApB;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK/W,MAAL,GAAc,YAAW;CACrB+W,MAAAA,iBAAiB,GAAG,KAApB;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKhU,iBAAL,GAAyB,YAAW;CAChC3P,MAAAA,IAAI,CAAC6rB,mBAAL,GAA2B,IAA3B;CACAnO,MAAAA,mBAAmB;CACtB,KAHD;;CAKA,aAASA,mBAAT,GAA+B;CAC3B,UAAI4N,UAAJ,EAAgB;CACZA,QAAAA,UAAU,CAAC9c,MAAX,GAAoB0d,GAApB,GAA0B,EAA1B;CACH;CACJ,KAxNqC;;;CA2NtC,SAAK75B,IAAL,GAAY,aAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,QAAIqW,MAAM,GAAGlU,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACA,QAAIsP,OAAO,GAAGH,MAAM,CAACvQ,UAAP,CAAkB,IAAlB,CAAd;;CAEA,QAAI+yB,YAAJ,EAAkB;CACd,UAAI/b,WAAW,YAAYwT,wBAA3B,EAAqD;CACjD9Z,QAAAA,OAAO,GAAGsG,WAAV;CACAzG,QAAAA,MAAM,GAAGG,OAAO,CAACH,MAAjB;CACH,OAHD,MAGO,IAAIyG,WAAW,YAAYuT,iBAA3B,EAA8C;CACjD7Z,QAAAA,OAAO,GAAGsG,WAAW,CAAChX,UAAZ,CAAuB,IAAvB,CAAV;CACAuQ,QAAAA,MAAM,GAAGyG,WAAT;CACH;CACJ;;CAED,QAAIgc,gBAAgB,GAAG,IAAvB;;CAEA,QAAI,CAACD,YAAL,EAAmB;CACf,UAAIj/B,KAAK,GAAGuI,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAZ;CACAtN,MAAAA,KAAK,CAACqc,KAAN,GAAc,IAAd;CACArc,MAAAA,KAAK,CAACkgC,QAAN,GAAiB,IAAjB;CACAlgC,MAAAA,KAAK,CAACmgC,WAAN,GAAoB,IAApB;CAEAjB,MAAAA,gBAAgB,GAAG,KAAnB;;CACAl/B,MAAAA,KAAK,CAACk4B,gBAAN,GAAyB,YAAW;CAChCgH,QAAAA,gBAAgB,GAAG,IAAnB;CACH,OAFD;;CAIAtQ,MAAAA,YAAY,CAAC1L,WAAD,EAAcljB,KAAd,CAAZ;CAEAA,MAAAA,KAAK,CAAC7B,IAAN;CACH;;CAED,QAAI0hC,kBAAkB,GAAG,IAAzB;CACA,QAAwBC;CAExB,QAAIT,UAAJ;CAEA,QAAItrB,IAAI,GAAG,IAAX;CACH;;CAED,MAAI,OAAOkP,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACsF,WAAV,GAAwBA,WAAxB;CACH;CAID;CACA;CAEA;CAEA;CACA;CACA;CACA;;;CAEA,WAAS6X,iBAAT,CAA2BC,mBAA3B,EAAgDC,YAAhD,EAA8D;CAE1D,QAAItV,oBAAoB,GAAG,qFAA3B;;CAEA,KAAC,UAASC,IAAT,EAAe;CACZ,UAAI,OAAOhI,SAAP,KAAqB,WAAzB,EAAsC;CAClC;CACH;;CAED,UAAI,CAACgI,IAAL,EAAW;CACP;CACH;;CAED,UAAI,OAAOziB,MAAP,KAAkB,WAAtB,EAAmC;CAC/B;CACH;;CAED,UAAI,OAAO0iB,cAAP,KAAkB,WAAtB,EAAmC;CAC/B;CACH;;CAEDA,MAAAA,cAAAA,CAAO1F,SAAP0F,GAAmB;CACfC,QAAAA,SAAS,EAAEH,oBADI;CAEfI,QAAAA,YAAY,EAAE,YAAW;CAFV,OAAnBF;;CAKA,UAAI,CAACA,cAAAA,CAAO3kB,OAAZ,EAAqB;CACjB2kB,QAAAA,cAAAA,CAAO3kB,OAAP2kB,GAAiB,EAAjBA;CACH;;CAED,UAAI,OAAOA,cAAAA,CAAO3kB,OAAP2kB,CAAejqB,GAAtB,KAA8B,WAA9B,IAA6C,OAAOiqB,cAAAA,CAAO3kB,OAAP2kB,CAAehqB,KAAtB,KAAgC,WAAjF,EAA8F;CAC1FgqB,QAAAA,cAAAA,CAAO3kB,OAAP2kB,CAAehqB,KAAfgqB,GAAuBA,cAAAA,CAAO3kB,OAAP2kB,CAAejqB,GAAfiqB,GAAqBA,cAAAA,CAAO3kB,OAAP2kB,CAAejqB,GAAfiqB,IAAsB,YAAW;CACzE3kB,UAAAA,OAAO,CAACtF,GAAR,CAAYoqB,SAAZ;CACH,SAFDH;CAGH;;CAED,UAAI,OAAO3iB,QAAP,KAAoB,WAAxB,EAAqC;;CAEjC0iB,QAAAA,IAAI,CAAC1iB,QAAL,GAAgB;CACZ0B,UAAAA,eAAe,EAAE;CACbsP,YAAAA,WAAW,EAAE,YAAW;CACpB,qBAAO,EAAP;CACH;CAHY;CADL,SAAhB;;CAQAhR,QAAAA,QAAQ,CAAC+E,aAAT,GAAyB/E,QAAQ,CAAC+iB,aAAT,GAAyB/iB,QAAQ,CAACgjB,gBAAT,GAA4B,YAAW;CACrF,cAAIC,GAAG,GAAG;CACNtf,YAAAA,UAAU,EAAE,YAAW;CACnB,qBAAOsf,GAAP;CACH,aAHK;CAINrtB,YAAAA,IAAI,EAAE,YAAW,EAJX;CAKNuC,YAAAA,KAAK,EAAE,YAAW,EALZ;CAMNga,YAAAA,SAAS,EAAE,YAAW,EANhB;CAONU,YAAAA,SAAS,EAAE,YAAW;CAClB,qBAAO,EAAP;CACH,aATK;CAUNxM,YAAAA,KAAK,EAAE;CAVD,WAAV;CAYA,iBAAO4c,GAAP;CACH,SAdD;;CAgBAP,QAAAA,IAAI,CAACQ,gBAAL,GAAwB,YAAW,EAAnC;CACH;;CAED,UAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC;;CAEjCT,QAAAA,IAAI,CAACS,QAAL,GAAgB;CACZ5sB,UAAAA,QAAQ,EAAE,OADE;CAEZyO,UAAAA,IAAI,EAAE,EAFM;CAGZoe,UAAAA,IAAI,EAAE;CAHM,SAAhB;CAKH;;CAED,UAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;;CAE/BX,QAAAA,IAAI,CAACW,MAAL,GAAc;CACV5jB,UAAAA,KAAK,EAAE,CADG;CAEVI,UAAAA,MAAM,EAAE;CAFE,SAAd;CAIH;;CAED,UAAI,OAAOoF,GAAP,KAAe,WAAnB,EAAgC;;CAE5Byd,QAAAA,IAAI,CAACzd,GAAL,GAAW;CACPC,UAAAA,eAAe,EAAE,YAAW;CACxB,mBAAO,EAAP;CACH,WAHM;CAIPE,UAAAA,eAAe,EAAE,YAAW;CACxB,mBAAO,EAAP;CACH;CANM,SAAX;CAQH;;;;CAGDsd,MAAAA,IAAI,CAACziB,MAAL,GAAc0iB,cAAd;CACH,KA5FD,EA4FG,OAAOA,cAAP,KAAkB,WAAlB,GAAgCA,cAAhC,GAAyC,IA5F5C,EAJ0D;;;CAoG1DoV,IAAAA,YAAY,GAAGA,YAAY,IAAI,qBAA/B;CAEA,QAAIC,MAAM,GAAG,EAAb;CACA,QAAIC,mBAAmB,GAAG,KAA1B;CAEA,QAAI/jB,MAAM,GAAGlU,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACA,QAAIsP,OAAO,GAAGH,MAAM,CAACvQ,UAAP,CAAkB,IAAlB,CAAd;CACAuQ,IAAAA,MAAM,CAAC7N,KAAP,CAAa6xB,OAAb,GAAuB,CAAvB;CACAhkB,IAAAA,MAAM,CAAC7N,KAAP,CAAawK,QAAb,GAAwB,UAAxB;CACAqD,IAAAA,MAAM,CAAC7N,KAAP,CAAa8xB,MAAb,GAAsB,CAAC,CAAvB;CACAjkB,IAAAA,MAAM,CAAC7N,KAAP,CAAayK,GAAb,GAAmB,SAAnB;CACAoD,IAAAA,MAAM,CAAC7N,KAAP,CAAa0K,IAAb,GAAoB,SAApB;CACAmD,IAAAA,MAAM,CAACkkB,SAAP,GAAmBL,YAAnB;CACA,KAAC/3B,QAAQ,CAACyK,IAAT,IAAiBzK,QAAQ,CAAC0B,eAA3B,EAA4CsP,WAA5C,CAAwDkD,MAAxD;CAEA,SAAK8G,WAAL,GAAmB,KAAnB;CACA,SAAK6G,aAAL,GAAqB,EAArB;CAEA,SAAKpiB,KAAL,GAAa,GAAb;CACA,SAAKI,MAAL,GAAc,GAAd,CAvH0D;;CA0H1D,SAAKw4B,WAAL,GAAmB,IAAnB;CAEA,QAAI7sB,IAAI,GAAG,IAAX,CA5H0D;;;;CAkI1D,QAAIkK,YAAY,GAAGzV,MAAM,CAACyV,YAA1B;;CAEA,QAAI,OAAOA,YAAP,KAAwB,WAA5B,EAAyC;CACrC,UAAI,OAAOC,kBAAP,KAA8B,WAAlC,EAA+C;;CAE3CD,QAAAA,YAAY,GAAGC,kBAAf;CACH;;CAED,UAAI,OAAOuO,eAAP,KAA2B,WAA/B,EAA4C;;CAExCxO,QAAAA,YAAY,GAAGwO,eAAf;CACH;CACJ;;;;CAGD,QAAIjf,GAAG,GAAGhF,MAAM,CAACgF,GAAjB;;CAEA,QAAI,OAAOA,GAAP,KAAe,WAAf,IAA8B,OAAOud,SAAP,KAAqB,WAAvD,EAAoE;;CAEhEvd,MAAAA,GAAG,GAAGud,SAAN;CACH;;CAED,QAAI,OAAOvF,SAAP,KAAqB,WAArB,IAAoC,OAAOA,SAAS,CAAC4F,YAAjB,KAAkC,WAA1E,EAAuF;;CACnF,UAAI,OAAO5F,SAAS,CAACkH,kBAAjB,KAAwC,WAA5C,EAAyD;CACrDlH,QAAAA,SAAS,CAAC4F,YAAV,GAAyB5F,SAAS,CAACkH,kBAAnC;CACH;;CAED,UAAI,OAAOlH,SAAS,CAACC,eAAjB,KAAqC,WAAzC,EAAsD;CAClDD,QAAAA,SAAS,CAAC4F,YAAV,GAAyB5F,SAAS,CAACC,eAAnC;CACH;CACJ;;CAED,QAAIwE,WAAW,GAAGzhB,MAAM,CAACyhB,WAAzB;;CAEA,QAAI,OAAOA,WAAP,KAAuB,WAAvB,IAAsC,OAAOiD,iBAAP,KAA6B,WAAvE,EAAoF;CAChFjD,MAAAA,WAAW,GAAGiD,iBAAd;CACH;;;;CAGD,QAAI,OAAOjD,WAAP,KAAuB,WAA3B,EAAwC;;CAEpC,UAAI,OAAOA,WAAW,CAACrB,SAAZ,CAAsBtE,IAA7B,KAAsC,WAA1C,EAAuD;CACnD2F,QAAAA,WAAW,CAACrB,SAAZ,CAAsBtE,IAAtB,GAA6B,YAAW;CACpC,eAAKoE,SAAL,GAAiBnhB,OAAjB,CAAyB,UAAS4lB,KAAT,EAAgB;CACrCA,YAAAA,KAAK,CAAC7I,IAAN;CACH,WAFD;CAGH,SAJD;CAKH;CACJ;;CAED,QAAIgD,OAAO,GAAG,EAAd;;CAEA,QAAI,OAAOrJ,YAAP,KAAwB,WAA5B,EAAyC;CACrCqJ,MAAAA,OAAO,CAACrJ,YAAR,GAAuBA,YAAvB;CACH,KAFD,MAEO,IAAI,OAAOC,kBAAP,KAA8B,WAAlC,EAA+C;CAClDoJ,MAAAA,OAAO,CAACrJ,YAAR,GAAuBC,kBAAvB;CACH;;CAED,aAAS0Q,YAAT,CAAsBrM,MAAtB,EAA8B9Y,OAA9B,EAAuC;CACnC,UAAI,eAAeA,OAAnB,EAA4B;CACxBA,QAAAA,OAAO,CAAColB,SAAR,GAAoBtM,MAApB;CACH,OAFD,MAEO,IAAI,kBAAkB9Y,OAAtB,EAA+B;CAClCA,QAAAA,OAAO,CAACqlB,YAAR,GAAuBvM,MAAvB;CACH,OAFM,MAEA;CACH9Y,QAAAA,OAAO,CAAColB,SAAR,GAAoBtM,MAApB;CACH;CACJ;;CAED,SAAKse,kBAAL,GAA0B,YAAW;CACjCC,MAAAA,kBAAkB;CACrB,KAFD;;CAIA,aAASA,kBAAT,GAA8B;CAC1B,UAAIN,mBAAJ,EAAyB;CACrB;CACH;;CAED,UAAIO,YAAY,GAAGR,MAAM,CAACt3B,MAA1B;CAEA,UAAI+3B,UAAU,GAAG,KAAjB;CACA,UAAIC,SAAS,GAAG,EAAhB;CACAV,MAAAA,MAAM,CAACh5B,OAAP,CAAe,UAASvH,KAAT,EAAgB;CAC3B,YAAI,CAACA,KAAK,CAACuiB,MAAX,EAAmB;CACfviB,UAAAA,KAAK,CAACuiB,MAAN,GAAe,EAAf;CACH;;CAED,YAAIviB,KAAK,CAACuiB,MAAN,CAAaye,UAAjB,EAA6B;CACzBA,UAAAA,UAAU,GAAGhhC,KAAb;CACH,SAFD,MAEO;;CAEHihC,UAAAA,SAAS,CAAC35B,IAAV,CAAetH,KAAf;CACH;CACJ,OAXD;;CAaA,UAAIghC,UAAJ,EAAgB;CACZvkB,QAAAA,MAAM,CAACzU,KAAP,GAAeg5B,UAAU,CAACze,MAAX,CAAkBva,KAAjC;CACAyU,QAAAA,MAAM,CAACrU,MAAP,GAAgB44B,UAAU,CAACze,MAAX,CAAkBna,MAAlC;CACH,OAHD,MAGO,IAAI64B,SAAS,CAACh4B,MAAd,EAAsB;CACzBwT,QAAAA,MAAM,CAACzU,KAAP,GAAe+4B,YAAY,GAAG,CAAf,GAAmBE,SAAS,CAAC,CAAD,CAAT,CAAaj5B,KAAb,GAAqB,CAAxC,GAA4Ci5B,SAAS,CAAC,CAAD,CAAT,CAAaj5B,KAAxE;CAEA,YAAII,MAAM,GAAG,CAAb;;CACA,YAAI24B,YAAY,KAAK,CAAjB,IAAsBA,YAAY,KAAK,CAA3C,EAA8C;CAC1C34B,UAAAA,MAAM,GAAG,CAAT;CACH;;CACD,YAAI24B,YAAY,KAAK,CAAjB,IAAsBA,YAAY,KAAK,CAA3C,EAA8C;CAC1C34B,UAAAA,MAAM,GAAG,CAAT;CACH;;CACD,YAAI24B,YAAY,KAAK,CAAjB,IAAsBA,YAAY,KAAK,CAA3C,EAA8C;CAC1C34B,UAAAA,MAAM,GAAG,CAAT;CACH;;CACD,YAAI24B,YAAY,KAAK,CAAjB,IAAsBA,YAAY,KAAK,EAA3C,EAA+C;CAC3C34B,UAAAA,MAAM,GAAG,CAAT;CACH;;CACDqU,QAAAA,MAAM,CAACrU,MAAP,GAAgB64B,SAAS,CAAC,CAAD,CAAT,CAAa74B,MAAb,GAAsBA,MAAtC;CACH,OAjBM,MAiBA;CACHqU,QAAAA,MAAM,CAACzU,KAAP,GAAe+L,IAAI,CAAC/L,KAAL,IAAc,GAA7B;CACAyU,QAAAA,MAAM,CAACrU,MAAP,GAAgB2L,IAAI,CAAC3L,MAAL,IAAe,GAA/B;CACH;;CAED,UAAI44B,UAAU,IAAIA,UAAU,YAAYvV,gBAAxC,EAA0D;CACtD/Q,QAAAA,SAAS,CAACsmB,UAAD,CAAT;CACH;;CAEDC,MAAAA,SAAS,CAAC15B,OAAV,CAAkB,UAASvH,KAAT,EAAgBs3B,GAAhB,EAAqB;CACnC5c,QAAAA,SAAS,CAAC1a,KAAD,EAAQs3B,GAAR,CAAT;CACH,OAFD;CAIAjT,MAAAA,UAAU,CAACyc,kBAAD,EAAqB/sB,IAAI,CAACqW,aAA1B,CAAV;CACH;;CAED,aAAS1P,SAAT,CAAmB1a,KAAnB,EAA0Bs3B,GAA1B,EAA+B;CAC3B,UAAIkJ,mBAAJ,EAAyB;CACrB;CACH;;CAED,UAAIU,CAAC,GAAG,CAAR;CACA,UAAInpB,CAAC,GAAG,CAAR;CACA,UAAI/P,KAAK,GAAGhI,KAAK,CAACgI,KAAlB;CACA,UAAII,MAAM,GAAGpI,KAAK,CAACoI,MAAnB;;CAEA,UAAIkvB,GAAG,KAAK,CAAZ,EAAe;CACX4J,QAAAA,CAAC,GAAGlhC,KAAK,CAACgI,KAAV;CACH;;CAED,UAAIsvB,GAAG,KAAK,CAAZ,EAAe;CACXvf,QAAAA,CAAC,GAAG/X,KAAK,CAACoI,MAAV;CACH;;CAED,UAAIkvB,GAAG,KAAK,CAAZ,EAAe;CACX4J,QAAAA,CAAC,GAAGlhC,KAAK,CAACgI,KAAV;CACA+P,QAAAA,CAAC,GAAG/X,KAAK,CAACoI,MAAV;CACH;;CAED,UAAIkvB,GAAG,KAAK,CAAZ,EAAe;CACXvf,QAAAA,CAAC,GAAG/X,KAAK,CAACoI,MAAN,GAAe,CAAnB;CACH;;CAED,UAAIkvB,GAAG,KAAK,CAAZ,EAAe;CACX4J,QAAAA,CAAC,GAAGlhC,KAAK,CAACgI,KAAV;CACA+P,QAAAA,CAAC,GAAG/X,KAAK,CAACoI,MAAN,GAAe,CAAnB;CACH;;CAED,UAAIkvB,GAAG,KAAK,CAAZ,EAAe;CACXvf,QAAAA,CAAC,GAAG/X,KAAK,CAACoI,MAAN,GAAe,CAAnB;CACH;;CAED,UAAIkvB,GAAG,KAAK,CAAZ,EAAe;CACX4J,QAAAA,CAAC,GAAGlhC,KAAK,CAACgI,KAAV;CACA+P,QAAAA,CAAC,GAAG/X,KAAK,CAACoI,MAAN,GAAe,CAAnB;CACH;;CAED,UAAI,OAAOpI,KAAK,CAACuiB,MAAN,CAAajJ,IAApB,KAA6B,WAAjC,EAA8C;CAC1C4nB,QAAAA,CAAC,GAAGlhC,KAAK,CAACuiB,MAAN,CAAajJ,IAAjB;CACH;;CAED,UAAI,OAAOtZ,KAAK,CAACuiB,MAAN,CAAalJ,GAApB,KAA4B,WAAhC,EAA6C;CACzCtB,QAAAA,CAAC,GAAG/X,KAAK,CAACuiB,MAAN,CAAalJ,GAAjB;CACH;;CAED,UAAI,OAAOrZ,KAAK,CAACuiB,MAAN,CAAava,KAApB,KAA8B,WAAlC,EAA+C;CAC3CA,QAAAA,KAAK,GAAGhI,KAAK,CAACuiB,MAAN,CAAava,KAArB;CACH;;CAED,UAAI,OAAOhI,KAAK,CAACuiB,MAAN,CAAana,MAApB,KAA+B,WAAnC,EAAgD;CAC5CA,QAAAA,MAAM,GAAGpI,KAAK,CAACuiB,MAAN,CAAana,MAAtB;CACH;;CAEDwU,MAAAA,OAAO,CAAClC,SAAR,CAAkB1a,KAAlB,EAAyBkhC,CAAzB,EAA4BnpB,CAA5B,EAA+B/P,KAA/B,EAAsCI,MAAtC;;CAEA,UAAI,OAAOpI,KAAK,CAACuiB,MAAN,CAAa4e,QAApB,KAAiC,UAArC,EAAiD;CAC7CnhC,QAAAA,KAAK,CAACuiB,MAAN,CAAa4e,QAAb,CAAsBvkB,OAAtB,EAA+BskB,CAA/B,EAAkCnpB,CAAlC,EAAqC/P,KAArC,EAA4CI,MAA5C,EAAoDkvB,GAApD;CACH;CACJ;;CAED,aAAS8J,cAAT,GAA0B;CACtBZ,MAAAA,mBAAmB,GAAG,KAAtB;CACA,UAAIa,gBAAgB,GAAGC,mBAAmB,EAA1C;CAEA,UAAIC,gBAAgB,GAAGC,mBAAmB,EAA1C;;CACA,UAAID,gBAAJ,EAAsB;CAClBA,QAAAA,gBAAgB,CAAC7Y,SAAjB,GAA6BgG,MAA7B,CAAoC,UAASC,CAAT,EAAY;CAC5C,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFD,EAEGlnB,OAFH,CAEW,UAAS4lB,KAAT,EAAgB;CACvBkU,UAAAA,gBAAgB,CAACnX,QAAjB,CAA0BiD,KAA1B;CACH,SAJD;CAKH;CAGDkT,MAAAA,mBAAmB,CAAC94B,OAApB,CAA4B,UAASgb,MAAT,EAAiB;CACzC,YAAIA,MAAM,CAACye,UAAX,EAAuB;CAG1B,OAJD,EAdsB;;;;CAwBtB,aAAOK,gBAAP;CACH;;CAED,aAASC,mBAAT,GAA+B;CAC3BG,MAAAA,iBAAiB;CAEjB,UAAIC,cAAJ;;CAEA,UAAI,mBAAmBjlB,MAAvB,EAA+B;CAC3BilB,QAAAA,cAAc,GAAGjlB,MAAM,CAAC6O,aAAP,EAAjB;CACH,OAFD,MAEO,IAAI,sBAAsB7O,MAA1B,EAAkC;CACrCilB,QAAAA,cAAc,GAAGjlB,MAAM,CAAC8O,gBAAP,EAAjB;CACH,OAFM,MAEA,IAAI,CAACxX,IAAI,CAACwP,WAAV,EAAuB;CAC1Bhd,QAAAA,OAAO,CAACrF,KAAR,CAAc,mHAAd;CACH;;CAED,UAAIygC,WAAW,GAAG,IAAI1X,WAAJ,EAAlB;CAEAyX,MAAAA,cAAc,CAAChZ,SAAf,GAA2BgG,MAA3B,CAAkC,UAASC,CAAT,EAAY;CAC1C,eAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,OAFD,EAEGlnB,OAFH,CAEW,UAAS4lB,KAAT,EAAgB;CACvBwU,QAAAA,WAAW,CAACzX,QAAZ,CAAqBiD,KAArB;CACH,OAJD;CAMA1Q,MAAAA,MAAM,CAAC8F,MAAP,GAAgBof,WAAhB;CAEA,aAAOA,WAAP;CACH;;CAED,aAASH,mBAAT,GAA+B;;CAE3B,UAAI,CAACla,OAAO,CAACC,uBAAb,EAAsC;CAClCD,QAAAA,OAAO,CAACC,uBAAR,GAAkC,IAAID,OAAO,CAACrJ,YAAZ,EAAlC;CACH;;CAEDlK,MAAAA,IAAI,CAACiK,YAAL,GAAoBsJ,OAAO,CAACC,uBAA5B;CAEAxT,MAAAA,IAAI,CAAC6tB,YAAL,GAAoB,EAApB;;CAEA,UAAI7tB,IAAI,CAAC6sB,WAAL,KAAqB,IAAzB,EAA+B;CAC3B7sB,QAAAA,IAAI,CAACoK,QAAL,GAAgBpK,IAAI,CAACiK,YAAL,CAAkBI,UAAlB,EAAhB;CACArK,QAAAA,IAAI,CAACoK,QAAL,CAAcI,OAAd,CAAsBxK,IAAI,CAACiK,YAAL,CAAkBQ,WAAxC;CACAzK,QAAAA,IAAI,CAACoK,QAAL,CAAcW,IAAd,CAAmBpQ,KAAnB,GAA2B,CAA3B,CAH2B;CAI9B;;CAED,UAAImzB,iBAAiB,GAAG,CAAxB;CACAxB,MAAAA,mBAAmB,CAAC94B,OAApB,CAA4B,UAASgb,MAAT,EAAiB;CACzC,YAAI,CAACA,MAAM,CAACmG,SAAP,GAAmBgG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CACnC,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFA,EAEExlB,MAFP,EAEe;CACX;CACH;;CAED44B,QAAAA,iBAAiB;CAEjB,YAAIC,WAAW,GAAG/tB,IAAI,CAACiK,YAAL,CAAkBiX,uBAAlB,CAA0C1S,MAA1C,CAAlB;;CAEA,YAAIxO,IAAI,CAAC6sB,WAAL,KAAqB,IAAzB,EAA+B;CAC3BkB,UAAAA,WAAW,CAACvjB,OAAZ,CAAoBxK,IAAI,CAACoK,QAAzB;CACH;;CAEDpK,QAAAA,IAAI,CAAC6tB,YAAL,CAAkBt6B,IAAlB,CAAuBw6B,WAAvB;CACH,OAhBD;;CAkBA,UAAI,CAACD,iBAAL,EAAwB;;;CAGpB;CACH;;CAED9tB,MAAAA,IAAI,CAACguB,gBAAL,GAAwBhuB,IAAI,CAACiK,YAAL,CAAkBY,4BAAlB,EAAxB;CACA7K,MAAAA,IAAI,CAAC6tB,YAAL,CAAkBr6B,OAAlB,CAA0B,UAASu6B,WAAT,EAAsB;CAC5CA,QAAAA,WAAW,CAACvjB,OAAZ,CAAoBxK,IAAI,CAACguB,gBAAzB;CACH,OAFD;CAGA,aAAOhuB,IAAI,CAACguB,gBAAL,CAAsBxf,MAA7B;CACH;;CAED,aAASyf,QAAT,CAAkBzf,MAAlB,EAA0B;CACtB,UAAIviB,KAAK,GAAGuI,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAZ;CAEAshB,MAAAA,YAAY,CAACrM,MAAD,EAASviB,KAAT,CAAZ;CAEAA,MAAAA,KAAK,CAAC2gC,SAAN,GAAkBL,YAAlB;CAEAtgC,MAAAA,KAAK,CAACqc,KAAN,GAAc,IAAd;CACArc,MAAAA,KAAK,CAACid,MAAN,GAAe,CAAf;CAEAjd,MAAAA,KAAK,CAACgI,KAAN,GAAcua,MAAM,CAACva,KAAP,IAAgB+L,IAAI,CAAC/L,KAArB,IAA8B,GAA5C;CACAhI,MAAAA,KAAK,CAACoI,MAAN,GAAema,MAAM,CAACna,MAAP,IAAiB2L,IAAI,CAAC3L,MAAtB,IAAgC,GAA/C;CAEApI,MAAAA,KAAK,CAAC7B,IAAN;CAEA,aAAO6B,KAAP;CACH;;CAED,SAAKiiC,aAAL,GAAqB,UAASC,OAAT,EAAkB;CACnC,UAAI,CAACA,OAAL,EAAc;CACV,cAAM,8BAAN;CACH;;CAED,UAAI,EAAEA,OAAO,YAAYl7B,KAArB,CAAJ,EAAiC;CAC7Bk7B,QAAAA,OAAO,GAAG,CAACA,OAAD,CAAV;CACH;;CAEDA,MAAAA,OAAO,CAAC36B,OAAR,CAAgB,UAASgb,MAAT,EAAiB;CAC7B,YAAIuH,SAAS,GAAG,IAAIG,WAAJ,EAAhB;;CAEA,YAAI1H,MAAM,CAACmG,SAAP,GAAmBgG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CAClC,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFD,EAEGxlB,MAFP,EAEe;CACX,cAAIjJ,KAAK,GAAGgiC,QAAQ,CAACzf,MAAD,CAApB;CACAviB,UAAAA,KAAK,CAACuiB,MAAN,GAAeA,MAAf;CACAge,UAAAA,MAAM,CAACj5B,IAAP,CAAYtH,KAAZ;CAEA8pB,UAAAA,SAAS,CAACI,QAAV,CAAmB3H,MAAM,CAACmG,SAAP,GAAmBgG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CACrD,mBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,WAFkB,EAEhB,CAFgB,CAAnB;CAGH;;CAED,YAAIlM,MAAM,CAACmG,SAAP,GAAmBgG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CAClC,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFD,EAEGxlB,MAFP,EAEe;CACX,cAAI64B,WAAW,GAAG/tB,IAAI,CAACiK,YAAL,CAAkBiX,uBAAlB,CAA0C1S,MAA1C,CAAlB;CACAxO,UAAAA,IAAI,CAACguB,gBAAL,GAAwBhuB,IAAI,CAACiK,YAAL,CAAkBY,4BAAlB,EAAxB;CACAkjB,UAAAA,WAAW,CAACvjB,OAAZ,CAAoBxK,IAAI,CAACguB,gBAAzB;CAEAjY,UAAAA,SAAS,CAACI,QAAV,CAAmBnW,IAAI,CAACguB,gBAAL,CAAsBxf,MAAtB,CAA6BmG,SAA7B,GAAyCgG,MAAzC,CAAgD,UAASC,CAAT,EAAY;CAC3E,mBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,WAFkB,EAEhB,CAFgB,CAAnB;CAGH;;CAED4R,QAAAA,mBAAmB,CAAC/4B,IAApB,CAAyBwiB,SAAzB;CACH,OA5BD;CA6BH,KAtCD;;CAwCA,SAAKqY,cAAL,GAAsB,YAAW;CAC7B5B,MAAAA,MAAM,GAAG,EAAT;CACAC,MAAAA,mBAAmB,GAAG,IAAtB;;CAEA,UAAIzsB,IAAI,CAACoK,QAAT,EAAmB;CACfpK,QAAAA,IAAI,CAACoK,QAAL,CAAcsC,UAAd;CACA1M,QAAAA,IAAI,CAACoK,QAAL,GAAgB,IAAhB;CACH;;CAED,UAAIpK,IAAI,CAAC6tB,YAAL,CAAkB34B,MAAtB,EAA8B;CAC1B8K,QAAAA,IAAI,CAAC6tB,YAAL,CAAkBr6B,OAAlB,CAA0B,UAAS8W,MAAT,EAAiB;CACvCA,UAAAA,MAAM,CAACoC,UAAP;CACH,SAFD;CAGA1M,QAAAA,IAAI,CAAC6tB,YAAL,GAAoB,EAApB;CACH;;CAED,UAAI7tB,IAAI,CAACguB,gBAAT,EAA2B;CACvBhuB,QAAAA,IAAI,CAACguB,gBAAL,CAAsBthB,UAAtB;CACA1M,QAAAA,IAAI,CAACguB,gBAAL,GAAwB,IAAxB;CACH;;CAED,UAAIhuB,IAAI,CAACiK,YAAT,EAAuB;CACnBjK,QAAAA,IAAI,CAACiK,YAAL,CAAkB3d,KAAlB;CACH;;CAED0T,MAAAA,IAAI,CAACiK,YAAL,GAAoB,IAApB;CAEApB,MAAAA,OAAO,CAAClB,SAAR,CAAkB,CAAlB,EAAqB,CAArB,EAAwBe,MAAM,CAACzU,KAA/B,EAAsCyU,MAAM,CAACrU,MAA7C;;CAEA,UAAIqU,MAAM,CAAC8F,MAAX,EAAmB;CACf9F,QAAAA,MAAM,CAAC8F,MAAP,CAAc+B,IAAd;CACA7H,QAAAA,MAAM,CAAC8F,MAAP,GAAgB,IAAhB;CACH;CACJ,KAjCD;;CAmCA,SAAKkf,iBAAL,GAAyB,UAASS,OAAT,EAAkB;CACvC,UAAIA,OAAO,IAAI,EAAEA,OAAO,YAAYl7B,KAArB,CAAf,EAA4C;CACxCk7B,QAAAA,OAAO,GAAG,CAACA,OAAD,CAAV;CACH;;CAEDT,MAAAA,iBAAiB,CAACS,OAAD,CAAjB;CACH,KAND;;CAQA,aAAST,iBAAT,CAA2BS,OAA3B,EAAoC;CAChC3B,MAAAA,MAAM,GAAG,EAAT;CACA2B,MAAAA,OAAO,GAAGA,OAAO,IAAI7B,mBAArB,CAFgC;;CAKhC6B,MAAAA,OAAO,CAAC36B,OAAR,CAAgB,UAASgb,MAAT,EAAiB;CAC7B,YAAI,CAACA,MAAM,CAACmG,SAAP,GAAmBgG,MAAnB,CAA0B,UAASC,CAAT,EAAY;CACnC,iBAAOA,CAAC,CAACF,IAAF,KAAW,OAAlB;CACH,SAFA,EAEExlB,MAFP,EAEe;CACX;CACH;;CAED,YAAIjJ,KAAK,GAAGgiC,QAAQ,CAACzf,MAAD,CAApB;CACAviB,QAAAA,KAAK,CAACuiB,MAAN,GAAeA,MAAf;CACAge,QAAAA,MAAM,CAACj5B,IAAP,CAAYtH,KAAZ;CACH,OAVD;CAWH,KA9hByD;;;CAiiB1D,SAAKoG,IAAL,GAAY,mBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAIA,SAAKg7B,cAAL,GAAsBA,cAAtB;CAEH;;CAED,MAAI,OAAOne,SAAP,KAAqB,WAAzB,EAAsC;CAClC,IAA6D;CACzDva,MAAAA,cAAA,GAAiB03B,iBAAjB;CACH;CAOJ;CAGD;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAAShX,mBAAT,CAA6BiX,mBAA7B,EAAkD32B,OAAlD,EAA2D;CACvD22B,IAAAA,mBAAmB,GAAGA,mBAAmB,IAAI,EAA7C;CACA,QAAItsB,IAAI,GAAG,IAAX;CAEA,QAAIquB,KAAJ;CACA,QAAI3e,aAAJ;CAEA/Z,IAAAA,OAAO,GAAGA,OAAO,IAAI;CACjB42B,MAAAA,YAAY,EAAE,qBADG;CAEjBzX,MAAAA,QAAQ,EAAE,YAFO;CAGjB7oB,MAAAA,KAAK,EAAE;CACHgI,QAAAA,KAAK,EAAE,GADJ;CAEHI,QAAAA,MAAM,EAAE;CAFL;CAHU,KAArB;;CASA,QAAI,CAACsB,OAAO,CAAC0gB,aAAb,EAA4B;CACxB1gB,MAAAA,OAAO,CAAC0gB,aAAR,GAAwB,EAAxB;CACH;;CAED,QAAI,CAAC1gB,OAAO,CAAC1J,KAAb,EAAoB;CAChB0J,MAAAA,OAAO,CAAC1J,KAAR,GAAgB,EAAhB;CACH;;CAED,QAAI,CAAC0J,OAAO,CAAC1J,KAAR,CAAcgI,KAAnB,EAA0B;CACtB0B,MAAAA,OAAO,CAAC1J,KAAR,CAAcgI,KAAd,GAAsB,GAAtB;CACH;;CAED,QAAI,CAAC0B,OAAO,CAAC1J,KAAR,CAAcoI,MAAnB,EAA2B;CACvBsB,MAAAA,OAAO,CAAC1J,KAAR,CAAcoI,MAAd,GAAuB,GAAvB;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK/J,MAAL,GAAc,YAAW;;CAErB+jC,MAAAA,KAAK,GAAG,IAAIhC,iBAAJ,CAAsBC,mBAAtB,EAA2C32B,OAAO,CAAC42B,YAAR,IAAwB,qBAAnE,CAAR;;CAEA,UAAI+B,iBAAiB,GAAGp5B,MAAxB,EAAgC;CAC5Bm5B,QAAAA,KAAK,CAAChY,aAAN,GAAsB1gB,OAAO,CAAC0gB,aAAR,IAAyB,EAA/C;CACAgY,QAAAA,KAAK,CAACp6B,KAAN,GAAc0B,OAAO,CAAC1J,KAAR,CAAcgI,KAAd,IAAuB,GAArC;CACAo6B,QAAAA,KAAK,CAACh6B,MAAN,GAAesB,OAAO,CAAC1J,KAAR,CAAcoI,MAAd,IAAwB,GAAvC;CACAg6B,QAAAA,KAAK,CAACvB,kBAAN;CACH;;CAED,UAAIn3B,OAAO,CAAC44B,aAAR,IAAyB,OAAO54B,OAAO,CAAC44B,aAAf,KAAiC,UAA9D,EAA0E;CACtE54B,QAAAA,OAAO,CAAC44B,aAAR,CAAsBF,KAAK,CAAChB,cAAN,EAAtB;CACH,OAboB;;;CAgBrB3d,MAAAA,aAAa,GAAG,IAAIgF,mBAAJ,CAAwB2Z,KAAK,CAAChB,cAAN,EAAxB,EAAgD13B,OAAhD,CAAhB;CACA+Z,MAAAA,aAAa,CAACplB,MAAd;CACH,KAlBD;;CAoBA,aAASgkC,iBAAT,GAA6B;CACzB,UAAIE,MAAM,GAAG,EAAb;CACAlC,MAAAA,mBAAmB,CAAC94B,OAApB,CAA4B,UAASgb,MAAT,EAAiB;CACzCmG,QAAAA,SAAS,CAACnG,MAAD,EAAS,OAAT,CAAT,CAA2Bhb,OAA3B,CAAmC,UAAS4lB,KAAT,EAAgB;CAC/CoV,UAAAA,MAAM,CAACj7B,IAAP,CAAY6lB,KAAZ;CACH,SAFD;CAGH,OAJD;CAKA,aAAOoV,MAAP;CACH;;CAGL;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKje,IAAL,GAAY,UAASxd,QAAT,EAAmB;CAC3B,UAAI,CAAC2c,aAAL,EAAoB;CAChB;CACH;;CAEDA,MAAAA,aAAa,CAACa,IAAd,CAAmB,UAASzgB,IAAT,EAAe;CAC9BkQ,QAAAA,IAAI,CAAClQ,IAAL,GAAYA,IAAZ;CAEAiD,QAAAA,QAAQ,CAACjD,IAAD,CAAR;CAEAkQ,QAAAA,IAAI,CAAC2P,iBAAL;CACH,OAND;CAOH,KAZD;;CAeJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKhjB,KAAL,GAAa,YAAW;CACpB,UAAI+iB,aAAJ,EAAmB;CACfA,QAAAA,aAAa,CAAC/iB,KAAd;CACH;CACJ,KAJD;;CAOJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKigB,MAAL,GAAc,YAAW;CACrB,UAAI8C,aAAJ,EAAmB;CACfA,QAAAA,aAAa,CAAC9C,MAAd;CACH;CACJ,KAJD;;CAOJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK+C,iBAAL,GAAyB,YAAW;CAChC,UAAID,aAAJ,EAAmB;CACfA,QAAAA,aAAa,CAACC,iBAAd;CACAD,QAAAA,aAAa,GAAG,IAAhB;CACH;;CAED,UAAI2e,KAAJ,EAAW;CACPA,QAAAA,KAAK,CAACD,cAAN;CACAC,QAAAA,KAAK,GAAG,IAAR;CACH;CACJ,KAVD;;CAaJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKI,UAAL,GAAkB,UAASN,OAAT,EAAkB;CAChC,UAAI,CAACA,OAAL,EAAc;CACV,cAAM,8BAAN;CACH;;CAED,UAAI,EAAEA,OAAO,YAAYl7B,KAArB,CAAJ,EAAiC;CAC7Bk7B,QAAAA,OAAO,GAAG,CAACA,OAAD,CAAV;CACH;;CAED7B,MAAAA,mBAAmB,CAAC7F,MAApB,CAA2B0H,OAA3B;;CAEA,UAAI,CAACze,aAAD,IAAkB,CAAC2e,KAAvB,EAA8B;CAC1B;CACH;;CAEDA,MAAAA,KAAK,CAACH,aAAN,CAAoBC,OAApB;;CAEA,UAAIx4B,OAAO,CAAC44B,aAAR,IAAyB,OAAO54B,OAAO,CAAC44B,aAAf,KAAiC,UAA9D,EAA0E;CACtE54B,QAAAA,OAAO,CAAC44B,aAAR,CAAsBF,KAAK,CAAChB,cAAN,EAAtB;CACH;CACJ,KApBD;;CAuBJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKK,iBAAL,GAAyB,UAASS,OAAT,EAAkB;CACvC,UAAI,CAACE,KAAL,EAAY;CACR;CACH;;CAED,UAAIF,OAAO,IAAI,EAAEA,OAAO,YAAYl7B,KAArB,CAAf,EAA4C;CACxCk7B,QAAAA,OAAO,GAAG,CAACA,OAAD,CAAV;CACH;;CAEDE,MAAAA,KAAK,CAACX,iBAAN,CAAwBS,OAAxB;CACH,KAVD;;CAaJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKO,QAAL,GAAgB,YAAW;CACvB,aAAOL,KAAP;CACH,KAFD,CApMuD;;;CAyMvD,SAAKh8B,IAAL,GAAY,qBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;CAGH;;CAED,MAAI,OAAO6c,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACmG,mBAAV,GAAgCA,mBAAhC;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CAEA,WAASsZ,wBAAT,CAAkCxf,WAAlC,EAA+CxZ,OAA/C,EAAwD;CACpD,QAAI,CAAC,IAAL,EAAW;CACP,YAAM,sCAAN;CACH;;CAED,QAAI,OAAOwZ,WAAP,KAAuB,WAA3B,EAAwC;CACpC,YAAM,2CAAN;CACH;;CAED,QAAInP,IAAI,GAAG,IAAX;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACIA,IAAAA,IAAI,CAAC4uB,SAAL,GAAiB,IAAI1f,SAAJ,CAAcC,WAAd,EAA2BxZ,OAA3B,CAAjB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK2Z,cAAL,GAAsB,YAAW;CAC7B,aAAO,IAAI1Z,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAkK,UAAAA,IAAI,CAAC4uB,SAAL,CAAetf,cAAf;CACAzZ,UAAAA,OAAO;CACV,SAHD,CAGE,OAAOuC,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OAPM,CAAP;CAQH,KATD;;CAYJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK+X,aAAL,GAAqB,YAAW;CAC5B,aAAO,IAAIva,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAkK,UAAAA,IAAI,CAAC4uB,SAAL,CAAeze,aAAf,CAA6B,UAASxlB,GAAT,EAAc;CACvCqV,YAAAA,IAAI,CAAClQ,IAAL,GAAYkQ,IAAI,CAAC4uB,SAAL,CAAenc,OAAf,EAAZ;;CAEA,gBAAI,CAACzS,IAAI,CAAClQ,IAAN,IAAc,CAACkQ,IAAI,CAAClQ,IAAL,CAAUyL,IAA7B,EAAmC;CAC/BzF,cAAAA,MAAM,CAAC,aAAD,EAAgBkK,IAAI,CAAClQ,IAArB,CAAN;CACA;CACH;;CAED+F,YAAAA,OAAO,CAAClL,GAAD,CAAP;CACH,WATD;CAUH,SAXD,CAWE,OAAOyN,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OAfM,CAAP;CAgBH,KAjBD;;CAoBJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK6Y,cAAL,GAAsB,YAAW;CAC7B,aAAO,IAAIrb,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAkK,UAAAA,IAAI,CAAC4uB,SAAL,CAAe3d,cAAf;CACApb,UAAAA,OAAO;CACV,SAHD,CAGE,OAAOuC,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OAPM,CAAP;CAQH,KATD;;CAYJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKiY,eAAL,GAAuB,YAAW;CAC9B,aAAO,IAAIza,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAkK,UAAAA,IAAI,CAAC4uB,SAAL,CAAeve,eAAf;CACAxa,UAAAA,OAAO;CACV,SAHD,CAGE,OAAOuC,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OAPM,CAAP;CAQH,KATD;;CAYJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKyY,UAAL,GAAkB,UAAS9d,QAAT,EAAmB;CACjC,aAAO,IAAI6C,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAkK,UAAAA,IAAI,CAAC4uB,SAAL,CAAe/d,UAAf,CAA0B,UAAStY,OAAT,EAAkB;CACxC1C,YAAAA,OAAO,CAAC0C,OAAD,CAAP;CACH,WAFD;CAGH,SAJD,CAIE,OAAOH,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OARM,CAAP;CASH,KAVD;;CAaJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKqa,OAAL,GAAe,YAAW;CACtB,aAAO,IAAI7c,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACmK,IAAI,CAAC4uB,SAAL,CAAenc,OAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAOra,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKua,mBAAL,GAA2B,YAAW;CAClC,aAAO,IAAI/c,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACmK,IAAI,CAAC4uB,SAAL,CAAejc,mBAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAOva,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKgb,KAAL,GAAa,YAAW;CACpB,aAAO,IAAIxd,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACmK,IAAI,CAAC4uB,SAAL,CAAexb,KAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAOhb,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK7J,OAAL,GAAe,YAAW;CACtB,aAAO,IAAIqH,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACmK,IAAI,CAAC4uB,SAAL,CAAergC,OAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAO6J,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKib,QAAL,GAAgB,YAAW;CACvB,aAAO,IAAIzd,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;CACzC,YAAI;CACAD,UAAAA,OAAO,CAACmK,IAAI,CAAC4uB,SAAL,CAAevb,QAAf,EAAD,CAAP;CACH,SAFD,CAEE,OAAOjb,CAAP,EAAU;CACRtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH;CACJ,OANM,CAAP;CAOH,KARD;;CAWJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKtI,IAAL,GAAY,IAAZ;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK2f,OAAL,GAAe,OAAf;CACH;;CAED,MAAI,OAAOP,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACyf,wBAAV,GAAqCA,wBAArC;CACH;CAGD;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA,WAASpa,mBAAT,CAA6B/F,MAA7B,EAAqCY,MAArC,EAA6C;;CAGzC,QAAI,OAAO+F,cAAP,KAA0B,WAA1B,IAAyC,OAAO0Z,cAAP,KAA0B,WAAvE,EAAoF;;CAEhFr8B,MAAAA,OAAO,CAACrF,KAAR,CAAc,yHAAd;CACH;;CAEDiiB,IAAAA,MAAM,GAAGA,MAAM,IAAI,EAAnB;CAEAA,IAAAA,MAAM,CAACnb,KAAP,GAAemb,MAAM,CAACnb,KAAP,IAAgB,GAA/B;CACAmb,IAAAA,MAAM,CAAC/a,MAAP,GAAgB+a,MAAM,CAAC/a,MAAP,IAAiB,GAAjC;CACA+a,IAAAA,MAAM,CAACoH,SAAP,GAAmBpH,MAAM,CAACoH,SAAP,IAAoB,EAAvC;CACApH,IAAAA,MAAM,CAACqH,OAAP,GAAiBrH,MAAM,CAACqH,OAAP,IAAkB,IAAnC;CACArH,IAAAA,MAAM,CAAC0f,QAAP,GAAkB1f,MAAM,CAAC0f,QAAP,IAAmB,IAArC;;CAQA,QAAIC,QAAJ;;CAEA,aAASC,YAAT,GAAwB;CACpB,aAAO,IAAI7Z,cAAJ,CAAmB;CACtBpnB,QAAAA,KAAK,EAAE,UAASkhC,UAAT,EAAqB;CACxB,cAAIC,GAAG,GAAG16B,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAV;CACA,cAAItN,KAAK,GAAGuI,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAZ;CACA,cAAI41B,KAAK,GAAG,IAAZ;CACAljC,UAAAA,KAAK,CAAC6uB,SAAN,GAAkBtM,MAAlB;CACAviB,UAAAA,KAAK,CAACqc,KAAN,GAAc,IAAd;CACArc,UAAAA,KAAK,CAACoI,MAAN,GAAe+a,MAAM,CAAC/a,MAAtB;CACApI,UAAAA,KAAK,CAACgI,KAAN,GAAcmb,MAAM,CAACnb,KAArB;CACAhI,UAAAA,KAAK,CAACid,MAAN,GAAe,CAAf;;CACAjd,UAAAA,KAAK,CAACmjC,SAAN,GAAkB,YAAW;CACzBF,YAAAA,GAAG,CAACj7B,KAAJ,GAAYmb,MAAM,CAACnb,KAAnB;CACAi7B,YAAAA,GAAG,CAAC76B,MAAJ,GAAa+a,MAAM,CAAC/a,MAApB;CACA,gBAAIyL,GAAG,GAAGovB,GAAG,CAAC/2B,UAAJ,CAAe,IAAf,CAAV;CACA,gBAAIk3B,YAAY,GAAG,OAAOjgB,MAAM,CAACoH,SAAjC;CACA,gBAAI8Y,WAAW,GAAGC,WAAW,CAAC,SAAS1J,CAAT,GAAa;CACvC,kBAAIkJ,QAAJ,EAAc;CACVS,gBAAAA,aAAa,CAACF,WAAD,CAAb;CACAL,gBAAAA,UAAU,CAAC3iC,KAAX;CACH;;CAED,kBAAI6iC,KAAJ,EAAW;CACPA,gBAAAA,KAAK,GAAG,KAAR;;CACA,oBAAI/f,MAAM,CAACqgB,qBAAX,EAAkC;CAC9BrgB,kBAAAA,MAAM,CAACqgB,qBAAP;CACH;CACJ;;CAED3vB,cAAAA,GAAG,CAAC6G,SAAJ,CAAc1a,KAAd,EAAqB,CAArB,EAAwB,CAAxB;;CACA,kBAAIgjC,UAAU,CAACS,yBAAX,CAAqC/iB,KAArC,KAA+C,QAAnD,EAA6D;CACzD,oBAAI;CACAsiB,kBAAAA,UAAU,CAACU,OAAX,CACI7vB,GAAG,CAACsmB,YAAJ,CAAiB,CAAjB,EAAoB,CAApB,EAAuBhX,MAAM,CAACnb,KAA9B,EAAqCmb,MAAM,CAAC/a,MAA5C,CADJ;CAGH,iBAJD,CAIE,OAAO+D,CAAP,EAAU;CACf;CACJ,aArB4B,EAqB1Bi3B,YArB0B,CAA7B;CAsBH,WA3BD;;CA4BApjC,UAAAA,KAAK,CAAC7B,IAAN;CACH;CAvCqB,OAAnB,CAAP;CAyCH;;CAED,QAAI8nB,MAAJ;;CAEA,aAAS5C,cAAT,CAAwBd,MAAxB,EAAgC3gB,MAAhC,EAAwC;CACpC,UAAI,CAACuhB,MAAM,CAACkH,UAAR,IAAsB,CAACzoB,MAA3B,EAAmC;CAC/BkhC,QAAAA,QAAQ,GAAG,KAAX,CAD+B;;CAK/BrmC,QAAAA,KAAK,CACD,wDADC,CAAL,CAEE2N,IAFF,CAEO,UAASivB,CAAT,EAAY;CACfA,UAAAA,CAAC,CAACsK,WAAF,GAAgBv5B,IAAhB,CAAqB,UAASxI,MAAT,EAAiB;CAClCyhB,YAAAA,cAAc,CAACd,MAAD,EAAS3gB,MAAT,CAAd;CACH,WAFD;CAGH,SAND;CAOA;CACH;;CAED,UAAI,CAACuhB,MAAM,CAACkH,UAAR,IAAsBzoB,MAAM,YAAY4yB,WAA5C,EAAyD;CACrD,YAAI3wB,IAAI,GAAG,IAAImiB,IAAJ,CAAS,CAACpkB,MAAD,CAAT,EAAmB;CAC1B+K,UAAAA,IAAI,EAAE;CADoB,SAAnB,CAAX;CAGAwW,QAAAA,MAAM,CAACkH,UAAP,GAAoB7c,GAAG,CAACC,eAAJ,CAAoB5J,IAApB,CAApB;CACH;;CAED,UAAI,CAACsf,MAAM,CAACkH,UAAZ,EAAwB;CACpB9jB,QAAAA,OAAO,CAACrF,KAAR,CAAc,kCAAd;CACH;;CAED+kB,MAAAA,MAAM,GAAG,IAAIV,MAAJ,CAAWpC,MAAM,CAACkH,UAAlB,CAAT;CAEApE,MAAAA,MAAM,CAACd,WAAP,CAAmBhC,MAAM,CAACmH,eAAP,IAA0B,wDAA7C;CACArE,MAAAA,MAAM,CAAC7e,gBAAP,CAAwB,SAAxB,EAAmC,UAASI,KAAT,EAAgB;CAC/C,YAAIA,KAAK,CAAC6M,IAAN,KAAe,OAAnB,EAA4B;CACxB4R,UAAAA,MAAM,CAACd,WAAP,CAAmB;CACfnd,YAAAA,KAAK,EAAEmb,MAAM,CAACnb,KADC;CAEfI,YAAAA,MAAM,EAAE+a,MAAM,CAAC/a,MAFA;CAGfoiB,YAAAA,OAAO,EAAErH,MAAM,CAACqH,OAAP,IAAkB,IAHZ;CAIfoZ,YAAAA,WAAW,EAAEzgB,MAAM,CAACoH,SAAP,IAAoB,EAJlB;CAKfsY,YAAAA,QAAQ,EAAE1f,MAAM,CAAC0f;CALF,WAAnB;CAQAE,UAAAA,YAAY,GAAGc,MAAf,CAAsB,IAAIjB,cAAJ,CAAmB;CACrCkB,YAAAA,KAAK,EAAE,UAAS5c,KAAT,EAAgB;CACnB,kBAAI4b,QAAJ,EAAc;CACVv8B,gBAAAA,OAAO,CAACrF,KAAR,CAAc,sCAAd;CACA;CACH;;CAED+kB,cAAAA,MAAM,CAACd,WAAP,CAAmB+B,KAAK,CAAC7S,IAAN,CAAWzS,MAA9B,EAAsC,CAACslB,KAAK,CAAC7S,IAAN,CAAWzS,MAAZ,CAAtC;CACH;CARoC,WAAnB,CAAtB;CAUH,SAnBD,MAmBO,IAAI,CAAC,CAAC4F,KAAK,CAAC6M,IAAZ,EAAkB;CACrB,cAAI,CAACie,QAAL,EAAe;CACXyR,YAAAA,cAAc,CAACz8B,IAAf,CAAoBE,KAAK,CAAC6M,IAA1B;CACH;CACJ;CACJ,OAzBD;CA0BH;;CAGL;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKhW,MAAL,GAAc,YAAW;CACrB0lC,MAAAA,cAAc,GAAG,EAAjB;CACAzR,MAAAA,QAAQ,GAAG,KAAX;CACA,WAAKzuB,IAAL,GAAY,IAAZ;CACAwf,MAAAA,cAAc,CAACd,MAAD,CAAd;;CAEA,UAAI,OAAOY,MAAM,CAACY,YAAd,KAA+B,UAAnC,EAA+C;CAC3CZ,QAAAA,MAAM,CAACY,YAAP;CACH;CACJ,KATD;;CAWA,QAAIuO,QAAJ;;CAGJ;CACA;CACA;CACA;CACA;CACA;;CACI,SAAK5xB,KAAL,GAAa,YAAW;CACpB4xB,MAAAA,QAAQ,GAAG,IAAX;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAK3R,MAAL,GAAc,YAAW;CACrB2R,MAAAA,QAAQ,GAAG,KAAX;CACH,KAFD;;CAIA,aAASyC,SAAT,CAAmBjuB,QAAnB,EAA6B;CACzB,UAAI,CAACmf,MAAL,EAAa;CACT,YAAInf,QAAJ,EAAc;CACVA,UAAAA,QAAQ;CACX;;CAED;CACH,OAPwB;;;CAUzBmf,MAAAA,MAAM,CAAC7e,gBAAP,CAAwB,SAAxB,EAAmC,UAASI,KAAT,EAAgB;CAC/C,YAAIA,KAAK,CAAC6M,IAAN,KAAe,IAAnB,EAAyB;CACrB4R,UAAAA,MAAM,CAAC8O,SAAP;CACA9O,UAAAA,MAAM,GAAG,IAAT;;CAEA,cAAInf,QAAJ,EAAc;CACVA,YAAAA,QAAQ;CACX;CACJ;CACJ,OATD;CAWAmf,MAAAA,MAAM,CAACd,WAAP,CAAmB,IAAnB;CACH;;CAED,QAAI4e,cAAc,GAAG,EAArB;;CAGJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACI,SAAKzf,IAAL,GAAY,UAASxd,QAAT,EAAmB;CAC3Bg8B,MAAAA,QAAQ,GAAG,IAAX;CAEA,UAAI5lB,QAAQ,GAAG,IAAf;CAEA6X,MAAAA,SAAS,CAAC,YAAW;CACjB7X,QAAAA,QAAQ,CAACrZ,IAAT,GAAgB,IAAImiB,IAAJ,CAAS+d,cAAT,EAAyB;CACrCp3B,UAAAA,IAAI,EAAE;CAD+B,SAAzB,CAAhB;CAIA7F,QAAAA,QAAQ,CAACoW,QAAQ,CAACrZ,IAAV,CAAR;CACH,OANQ,CAAT;CAOH,KAZD,CA9MyC;;;CA6NzC,SAAKuC,IAAL,GAAY,qBAAZ;;CACA,SAAK+J,QAAL,GAAgB,YAAW;CACvB,aAAO,KAAK/J,IAAZ;CACH,KAFD;;CAKJ;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKsd,iBAAL,GAAyB,YAAW;CAChCqgB,MAAAA,cAAc,GAAG,EAAjB;CACAzR,MAAAA,QAAQ,GAAG,KAAX;CACA,WAAKzuB,IAAL,GAAY,IAAZ,CAHgC;CAMnC,KAND;;CASJ;CACA;CACA;CACA;CACA;CACA;CACA;;;CACI,SAAKA,IAAL,GAAY,IAAZ;CACH;;CAED,MAAI,OAAOof,SAAP,KAAqB,WAAzB,EAAsC;CAClCA,IAAAA,SAAS,CAACqF,mBAAV,GAAgCA,mBAAhC;;;;CC5jMW,MAAM0b,eAAN,SAA8BpwB,OAA9B,CAAsC;CACjD1N,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAK2F,QAAL,GAAgB,EAAhB;CACA,SAAK62B,QAAL,GAAgBr/B,aAAW,CAACE,IAA5B;CACA,SAAK6xB,WAAL,GAAmB,KAAnB;CACA,SAAKn1B,kBAAL,GAA0B,CAA1B;CACA,SAAK0iC,iBAAL,GAAyB,IAAzB;CACAz8B,IAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,UAAjB,EAA6B,MAA7B;CACH;;CAEDqB,EAAAA,OAAO,GAAG;CACN,SAAK6hC,MAAL;;CACA,SAAK18B,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,UAAtB,EAAkC,SAAlC;CACH;;CAEDmjC,EAAAA,WAAW,CAACh3B,QAAD,EAAW62B,QAAX,EAAqB;CAC5B,SAAK72B,QAAL,GAAgBA,QAAhB;;CAEA,QAAIxI,aAAW,CAACC,GAAZ,KAAoBo/B,QAApB,IAAgCr/B,aAAW,CAACE,IAAZ,KAAqBm/B,QAAzD,EAAmE;CAC/D,WAAKA,QAAL,GAAgBA,QAAhB;CACH;CACJ;;CAEY,MAAT1iC,SAAS,GAAG;CACZ,WAAO,KAAKo1B,WAAZ;CACH;;CAEa,MAAV0N,UAAU,GAAG;CACb,WAAO,KAAK7iC,kBAAZ;CACH;;CAED8iC,EAAAA,WAAW,GAAG;CACV,UAAMpnC,KAAK,GAAG,KAAKuK,MAAL,CAAYvK,KAA1B;CACA,UAAMwM,OAAO,GAAG;CACZiD,MAAAA,IAAI,EAAE,OADM;CAEZkc,MAAAA,QAAQ,EAAE,wBAFE;CAGZgB,MAAAA,WAAW,EAAG0a,SAAD,IAAe;CACxBrnC,QAAAA,KAAK,CAAC+D,GAAN,CAAU,UAAV,EAAsB,uBAAuBsjC,SAA7C;CACH,OALW;CAMZhhB,MAAAA,WAAW,EAAE,CAAC,KAAK9b,MAAL,CAAYpB,IAAZ,CAAiBnJ;CANnB,KAAhB;;CASA,QAAI;CACA,YAAMqlB,MAAM,GAAG,KAAK9a,MAAL,CAAYzH,KAAZ,CAAkBmT,aAAlB,CAAgCmY,aAAhC,CAA8C,EAA9C,CAAf;;CACA,UAAI,KAAK7jB,MAAL,CAAYrJ,KAAZ,CAAkBugB,+BAAlB,IACA,KAAKlX,MAAL,CAAYrJ,KAAZ,CAAkBugB,+BAAlB,CAAkD4D,MADlD,IAEA,CAAC,KAAK9a,MAAL,CAAYrJ,KAAZ,CAAkBqhB,gBAAlB,EAFD,IAGA,KAAKhY,MAAL,CAAYrJ,KAAZ,CAAkBP,QAHtB,EAGgC;CAC5B,cAAM2mC,WAAW,GAAG,KAAK/8B,MAAL,CAAYrJ,KAAZ,CAAkBugB,+BAAlB,CAAkD4D,MAAtE;;CACA,YAAIiiB,WAAW,CAACC,cAAZ,GAA6Bx7B,MAA7B,GAAsC,CAA1C,EAA6C;CACzC,gBAAMy7B,UAAU,GAAGF,WAAW,CAACC,cAAZ,GAA6B,CAA7B,CAAnB;;CACA,cAAIC,UAAU,IAAIA,UAAU,CAACC,OAA7B,EAAsC;CAClCpiB,YAAAA,MAAM,CAAC2H,QAAP,CAAgBwa,UAAhB;CACH;CACJ;CACJ;;CACD,WAAKxnB,QAAL,GAAgB+F,WAAS,CAACV,MAAD,EAAS7Y,OAAT,CAAzB;CACH,KAfD,CAeE,OAAOyC,CAAP,EAAU;CACRjP,MAAAA,KAAK,CAACgE,KAAN,CAAY,UAAZ,EAAwBiL,CAAxB;CACA,WAAKsG,IAAL,CAAUnS,MAAM,CAACqB,iBAAjB;CACH;;CACD,QAAI,KAAKub,QAAT,EAAmB;CACf,WAAKyZ,WAAL,GAAmB,IAAnB;CACA,WAAKlvB,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACiB,SAAxB,EAAmC,IAAnC;CACA,WAAK2b,QAAL,CAAcmG,cAAd;CACAnmB,MAAAA,KAAK,CAAC+D,GAAN,CAAU,UAAV,EAAsB,iBAAtB;CACA,WAAKwG,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACmB,WAAxB;CACA,WAAKyiC,iBAAL,GAAyB17B,MAAM,CAAC86B,WAAP,CAAmB,MAAM;CAC9C,aAAK9hC,kBAAL,IAA2B,CAA3B;CACA,aAAKiG,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACkB,kBAAxB,EAA4C,KAAKA,kBAAjD;CACH,OAHwB,EAGtB,IAHsB,CAAzB;CAIH;CACJ;;CAEDojC,EAAAA,iBAAiB,GAAG;CAChB,QAAI,CAAC,KAAK1nB,QAAN,IAAkB,CAAC,KAAKyZ,WAA5B,EAAyC;CACrC;CACH;;CACD,SAAKzZ,QAAL,CAAcgH,aAAd,CAA4B,MAAM;CAC9B,WAAKzc,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,UAAtB,EAAkC,gBAAlC;CACA,WAAKwG,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACoB,SAAxB;CACA+N,MAAAA,cAAc,CAAC,KAAKyN,QAAL,CAAcsJ,OAAd,EAAD,EAA0B,KAAKpZ,QAA/B,EAAyC,KAAK62B,QAA9C,CAAd;;CACA,WAAKE,MAAL;;CACA,WAAK18B,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACiB,SAAxB,EAAmC,KAAnC;CACH,KAND;CAOH;;CAED4iC,EAAAA,MAAM,GAAG;CACL,SAAKxN,WAAL,GAAmB,KAAnB;CACA,SAAKn1B,kBAAL,GAA0B,CAA1B;;CAEA,QAAI,KAAK0b,QAAT,EAAmB;CACf,WAAKA,QAAL,CAAc5a,OAAd;CACA,WAAK4a,QAAL,GAAgB,IAAhB;CACH;;CACD,SAAK9P,QAAL,GAAgB,IAAhB;;CACA,QAAI,KAAK82B,iBAAT,EAA4B;CACxBX,MAAAA,aAAa,CAAC,KAAKW,iBAAN,CAAb;CACH;;CACD,SAAKA,iBAAL,GAAyB,IAAzB;CACH;;CAtGgD;;CCHtC,MAAMlgB,QAAN,CAAe;CAC1B9d,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAM+V,MAAM,GAAGwG,QAAQ,CAACvG,gBAAT,EAAf;CACA,WAAO,IAAID,MAAJ,CAAW/V,MAAX,CAAP;CACH;;CAEsB,SAAhBgW,gBAAgB,GAAG;CACtB,WAAOumB,eAAP;CACH;;CARyB;;CCGf,MAAMa,gBAAN,SAA+BjxB,OAA/B,CAAuC;CAClD1N,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAKq9B,OAAL,GAAe,KAAf;CACA,SAAKC,UAAL,GAAkB,KAAlB;CACA,SAAKtmC,OAAL,GAAe,IAAf;CACA,SAAKumC,WAAL;CACAv9B,IAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,WAAjB,EAA8B,MAA9B;CACH;;CAEDqB,EAAAA,OAAO,GAAG;CACN,QAAI,KAAK7D,OAAT,EAAkB;CACd,WAAKA,OAAL,CAAa4B,KAAb;CACA,WAAK5B,OAAL,GAAe,IAAf;CACH;;CAED,SAAKqmC,OAAL,GAAe,KAAf;CACA,SAAKC,UAAL,GAAkB,KAAlB;CACA,SAAKh7B,GAAL;CACA,SAAKtC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,WAAtB,EAAmC,SAAnC;CACH;;CAED+jC,EAAAA,WAAW,GAAG;CACV,UAAMvK,KAAK,GAAG,IAAd;;CACA,SAAKh8B,OAAL,GAAe,IAAIwmC,YAAJ,CAAiB;CAC5BxqB,MAAAA,MAAM,CAAC5Y,UAAD,EAAa;CACf44B,QAAAA,KAAK,CAACyK,YAAN,CAAmBrjC,UAAnB;CACH,OAH2B;;CAI5BX,MAAAA,KAAK,CAACA,KAAD,EAAQ;CACTu5B,QAAAA,KAAK,CAAC0K,WAAN,CAAkBjkC,KAAlB;CACH;;CAN2B,KAAjB,CAAf;CAQH;;CAEDgkC,EAAAA,YAAY,CAACrjC,UAAD,EAAa;CACrB,QAAI,CAAC,KAAKkjC,UAAV,EAAsB;CAClB,WAAKt9B,MAAL,CAAYzH,KAAZ,CAAkBgZ,eAAlB,CAAkC;CAC9BhR,QAAAA,KAAK,EAAEnG,UAAU,CAACujC,UADY;CAE9Bh9B,QAAAA,MAAM,EAAEvG,UAAU,CAACwjC;CAFW,OAAlC;CAIA,WAAK59B,MAAL,CAAYzH,KAAZ,CAAkBqa,kBAAlB;CACA,WAAK0qB,UAAL,GAAkB,IAAlB;CACH;;CAED,QAAI,CAAC,KAAKt9B,MAAL,CAAY8Z,MAAZ,CAAmBvP,UAAxB,EAAoC;CAChC,WAAKvK,MAAL,CAAY8Z,MAAZ,CAAmBvP,UAAnB,GAAgCpE,GAAG,EAAnC;CACA,WAAKnG,MAAL,CAAY69B,uBAAZ;CACH;;CAED,SAAK79B,MAAL,CAAY89B,YAAZ;CACA,SAAK99B,MAAL,CAAYzH,KAAZ,CAAkBV,MAAlB,CAAyB;CACrBuC,MAAAA;CADqB,KAAzB;CAIA,SAAK4F,MAAL,CAAY+9B,WAAZ,CAAwB;CAAC50B,MAAAA,GAAG,EAAE,IAAN;CAAY2J,MAAAA,EAAE,EAAE,CAAhB;CAAmBkrB,MAAAA,GAAG,EAAE,KAAKh+B,MAAL,CAAY6Z,KAAZ,CAAkBokB;CAA1C,KAAxB,EApBqB;;CAuBrBrhB,IAAAA,UAAU,CAAC,YAAY;CACnB,UAAIxiB,UAAU,CAACxB,KAAf,EAAsB;CAClBwB,QAAAA,UAAU,CAACxB,KAAX;CACH,OAFD,MAEO;CACHwB,QAAAA,UAAU,CAACS,OAAX;CACH;CACJ,KANS,EAMP,GANO,CAAV;CAOH;;CAED6iC,EAAAA,WAAW,CAACjkC,KAAD,EAAQ;CACf,SAAKuG,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,WAAtB,EAAmC,0BAAnC,EAA+DC,KAA/D;CACH;;CAEDykC,EAAAA,WAAW,CAACC,OAAD,EAAUrrB,EAAV,EAAcsrB,QAAd,EAAwB;CAC/B;CACA,QAAI,CAAC,KAAKf,OAAV,EAAmB;CACf,UAAIe,QAAQ,IAAID,OAAO,CAAC,CAAD,CAAP,KAAe,CAA/B,EAAkC;CAC9B,cAAME,UAAU,GAAIF,OAAO,CAAC,CAAD,CAAP,GAAa,IAAjC;CACA,aAAKn+B,MAAL,CAAYzH,KAAZ,CAAkBgZ,eAAlB,CAAkC;CAC9BC,UAAAA,WAAW,EAAE6sB;CADiB,SAAlC,EAF8B;;CAO9B,YAAIA,UAAU,KAAK/hC,cAAc,CAACE,IAAlC,EAAwC;CACpC,eAAKwO,IAAL,CAAUzP,YAAY,CAACI,uBAAvB;CACA;CACH;;CACD,YAAI,CAAC,KAAKqE,MAAL,CAAY8Z,MAAZ,CAAmBxP,WAAxB,EAAqC;CACjC,eAAKtK,MAAL,CAAY8Z,MAAZ,CAAmBxP,WAAnB,GAAiCnE,GAAG,EAApC;CACH;;CAED,cAAMuV,MAAM,GAAGvT,2BAA2B,CAACg2B,OAAO,CAACxxB,KAAR,CAAc,CAAd,CAAD,CAA1C;CACA,aAAK3V,OAAL,CAAasnC,SAAb,CAAuB5iB,MAAvB;CACA,aAAK2hB,OAAL,GAAe,IAAf;CACH;CACJ,KApBD,MAoBO;CACH,YAAMkB,KAAK,GAAG,IAAIC,iBAAJ,CAAsB;CAChC5xB,QAAAA,IAAI,EAAEuxB,OAAO,CAACxxB,KAAR,CAAc,CAAd,CAD0B;CAEhCmwB,QAAAA,SAAS,EAAEhqB,EAFqB;CAGhC5N,QAAAA,IAAI,EAAEk5B,QAAQ,GAAG1gC,kBAAkB,CAACC,GAAtB,GAA4BD,kBAAkB,CAACE;CAH7B,OAAtB,CAAd;CAKA,WAAK5G,OAAL,CAAamB,MAAb,CAAoBomC,KAApB;CACH;CACJ;;CArGiD;;CCLtD,MAAME,KAAN,CAAU;CAEK,SAAJ9mC,IAAI,GAAG;CACV8mC,IAAAA,KAAG,CAACC,KAAJ,GAAY;CACRC,MAAAA,IAAI,EAAE,EADE;CAERv2B,MAAAA,IAAI,EAAE,EAFE;CAGRw2B,MAAAA,IAAI,EAAE,EAHE;CAIRC,MAAAA,IAAI,EAAE,EAJE;CAKRC,MAAAA,IAAI,EAAE,EALE;CAMRC,MAAAA,IAAI,EAAE,EANE;CAORC,MAAAA,IAAI,EAAE,EAPE;CAQRC,MAAAA,IAAI,EAAE,EARE;CASRC,MAAAA,IAAI,EAAE,EATE;CAURC,MAAAA,IAAI,EAAE,EAVE;CAWRC,MAAAA,IAAI,EAAE,EAXE;CAYRC,MAAAA,IAAI,EAAE,EAZE;CAaRC,MAAAA,IAAI,EAAE,EAbE;CAcRC,MAAAA,IAAI,EAAE,EAdE;CAeRC,MAAAA,IAAI,EAAE,EAfE;CAgBRC,MAAAA,IAAI,EAAE,EAhBE;CAiBRC,MAAAA,IAAI,EAAE,EAjBE;CAkBRC,MAAAA,IAAI,EAAE,EAlBE;CAmBRC,MAAAA,IAAI,EAAE,EAnBE;CAoBRC,MAAAA,IAAI,EAAE,EApBE;CAqBRC,MAAAA,IAAI,EAAE,EArBE;CAsBRC,MAAAA,IAAI,EAAE,EAtBE;CAuBRC,MAAAA,IAAI,EAAE,EAvBE;CAwBRC,MAAAA,IAAI,EAAE,EAxBE;CAyBRC,MAAAA,IAAI,EAAE,EAzBE;CA0BRC,MAAAA,IAAI,EAAE,EA1BE;CA2BRC,MAAAA,IAAI,EAAE,EA3BE;CA4BRC,MAAAA,IAAI,EAAE,EA5BE;CA6BRC,MAAAA,IAAI,EAAE,EA7BE;CA8BRC,MAAAA,IAAI,EAAE,EA9BE;CA+BRC,MAAAA,IAAI,EAAE,EA/BE;CAgCRC,MAAAA,IAAI,EAAE,EAhCE;CAiCRC,MAAAA,IAAI,EAAE,EAjCE;CAkCRC,MAAAA,IAAI,EAAE,EAlCE;CAmCRC,MAAAA,IAAI,EAAE,EAnCE;CAoCRC,MAAAA,IAAI,EAAE;CApCE,KAAZ;;CAuCA,SAAK,IAAIliC,IAAT,IAAiB8/B,KAAG,CAACC,KAArB,EAA4B;CACxB,UAAID,KAAG,CAACC,KAAJ,CAAUoC,cAAV,CAAyBniC,IAAzB,CAAJ,EAAoC;CAChC8/B,QAAAA,KAAG,CAACC,KAAJ,CAAU//B,IAAV,IAAkB,CACdA,IAAI,CAAC4G,UAAL,CAAgB,CAAhB,CADc,EAEd5G,IAAI,CAAC4G,UAAL,CAAgB,CAAhB,CAFc,EAGd5G,IAAI,CAAC4G,UAAL,CAAgB,CAAhB,CAHc,EAId5G,IAAI,CAAC4G,UAAL,CAAgB,CAAhB,CAJc,CAAlB;CAMH;CACJ;;CAED,QAAIw7B,SAAS,GAAGtC,KAAG,CAACsC,SAAJ,GAAgB,EAAhC;CAEAA,IAAAA,SAAS,CAACC,IAAV,GAAiB,IAAI17B,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,OAF4B,EAEvB,GAFuB,EAElB,GAFkB,EAEb,GAFa;CAG5B,QAH4B,EAGtB,IAHsB,EAGhB,IAHgB,EAGV,IAHU;CAI5B,QAJ4B,EAItB,IAJsB,EAIhB,IAJgB,EAIV,IAJU;CAAA,KAAf,CAAjB;CAOAy7B,IAAAA,SAAS,CAACE,WAAV,GAAwB,IAAI37B,UAAJ,CAAe,CACnC,IADmC,EAC7B,IAD6B,EACvB,IADuB,EACjB,IADiB;CAEnC,QAFmC,EAE7B,IAF6B,EAEvB,IAFuB,EAEjB,IAFiB;CAAA,KAAf,CAAxB;CAKAy7B,IAAAA,SAAS,CAACG,IAAV,GAAiB,IAAI57B,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB,EAEhB,IAFgB,EAEV,IAFU;CAAA,KAAf,CAAjB;CAKAy7B,IAAAA,SAAS,CAACI,IAAV,GAAiBJ,SAAS,CAACK,IAAV,GAAiBL,SAAS,CAACG,IAA5C;CAEAH,IAAAA,SAAS,CAACM,IAAV,GAAiB,IAAI/7B,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB,EAEhB,IAFgB,EAEV,IAFU;CAG5B,QAH4B,EAGtB,IAHsB,EAGhB,IAHgB,EAGV,IAHU;CAAA,KAAf,CAAjB;CAMAy7B,IAAAA,SAAS,CAACO,UAAV,GAAuB,IAAIh8B,UAAJ,CAAe,CAClC,IADkC,EAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB;CAElC,QAFkC,EAE5B,IAF4B,EAEtB,IAFsB,EAEhB,IAFgB;CAGlC,QAHkC,EAG5B,IAH4B,EAGtB,IAHsB,EAGhB,IAHgB;CAIlC,QAJkC,EAI5B,IAJ4B,EAItB,IAJsB,EAIhB,IAJgB;CAKlC,QALkC,EAK5B,IAL4B,EAKtB,IALsB,EAKhB,IALgB,EAMlC,IANkC,EAM5B,IAN4B,EAMtB,IANsB,EAMhB,IANgB,EAOlC,IAPkC,EAO5B,IAP4B,EAOtB,IAPsB,EAOhB,IAPgB,EAQlC,IARkC,EAQ5B,IAR4B,EAQtB,IARsB,EAQhB,IARgB,EASlC,IATkC,EAS5B,IAT4B,EAStB,IATsB,EAShB,IATgB,EASV,IATU;CAAA,KAAf,CAAvB;CAYAy7B,IAAAA,SAAS,CAACQ,UAAV,GAAuB,IAAIj8B,UAAJ,CAAe,CAClC,IADkC,EAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB;CAElC,QAFkC,EAE5B,IAF4B,EAEtB,IAFsB,EAEhB,IAFgB;CAGlC,QAHkC,EAG5B,IAH4B,EAGtB,IAHsB,EAGhB,IAHgB;CAIlC,QAJkC,EAI5B,IAJ4B,EAItB,IAJsB,EAIhB,IAJgB;CAKlC,QALkC,EAK5B,IAL4B,EAKtB,IALsB,EAKhB,IALgB,EAMlC,IANkC,EAM5B,IAN4B,EAMtB,IANsB,EAMhB,IANgB,EAOlC,IAPkC,EAO5B,IAP4B,EAOtB,IAPsB,EAOhB,IAPgB,EAQlC,IARkC,EAQ5B,IAR4B,EAQtB,IARsB,EAQhB,IARgB,EASlC,IATkC,EAS5B,IAT4B,EAStB,IATsB,EAShB,IATgB,EASV,IATU;CAAA,KAAf,CAAvB;CAYAy7B,IAAAA,SAAS,CAACS,IAAV,GAAiB,IAAIl8B,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB,EAEhB,IAFgB,EAEV,IAFU;CAG5B,QAH4B,EAGtB,IAHsB,EAGhB,IAHgB,EAGV,IAHU;CAI5B,QAJ4B,EAItB,IAJsB,EAIhB,IAJgB,EAIV,IAJU;CAK5B,QAL4B,EAKtB,IALsB,EAKhB,IALgB,EAKV,IALU;CAAA,KAAf,CAAjB,CAtGU;;CA+GVy7B,IAAAA,SAAS,CAACU,IAAV,GAAiB,IAAIn8B,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB,EAEhB,IAFgB,EAEV,IAFU;CAAA,KAAf,CAAjB,CA/GU;;CAqHVy7B,IAAAA,SAAS,CAACW,IAAV,GAAiB,IAAIp8B,UAAJ,CAAe,CAC5B,IAD4B,EACtB,IADsB,EAChB,IADgB,EACV,IADU;CAE5B,QAF4B,EAEtB,IAFsB;CAG5B,QAH4B,EAGtB,IAHsB,EAGhB,IAHgB,EAGV,IAHU;CAI5B,QAJ4B,EAItB,IAJsB,CAAf,CAAjB;CAMH,GA7HK;;;CAgII,SAAHq8B,GAAG,CAACz8B,IAAD,EAAO;CACb,QAAI2C,IAAI,GAAG,CAAX;CACA,QAAIuB,MAAM,GAAG,IAAb;CACA,QAAIw4B,KAAK,GAAGriC,KAAK,CAAC4hB,SAAN,CAAgBxU,KAAhB,CAAsBqQ,IAAtB,CAA2B4G,SAA3B,EAAsC,CAAtC,CAAZ;CACA,QAAIie,UAAU,GAAGD,KAAK,CAACpgC,MAAvB;;CAEA,SAAK,IAAIF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGugC,UAApB,EAAgCvgC,CAAC,EAAjC,EAAqC;CACjCuG,MAAAA,IAAI,IAAI+5B,KAAK,CAACtgC,CAAD,CAAL,CAASgZ,UAAjB;CACH;;CAEDlR,IAAAA,MAAM,GAAG,IAAI9D,UAAJ,CAAeuC,IAAf,CAAT;CACAuB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAavB,IAAI,KAAK,EAAV,GAAgB,IAA5B,CAXa;;CAYbuB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAavB,IAAI,KAAK,EAAV,GAAgB,IAA5B;CACAuB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAavB,IAAI,KAAK,CAAV,GAAe,IAA3B;CACAuB,IAAAA,MAAM,CAAC,CAAD,CAAN,GAAavB,IAAD,GAAS,IAArB;CAEAuB,IAAAA,MAAM,CAAC8R,GAAP,CAAWhW,IAAX,EAAiB,CAAjB,EAhBa;;CAkBb,QAAIknB,MAAM,GAAG,CAAb;;CACA,SAAK,IAAI9qB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGugC,UAApB,EAAgCvgC,CAAC,EAAjC,EAAqC;CAAG;CACpC8H,MAAAA,MAAM,CAAC8R,GAAP,CAAW0mB,KAAK,CAACtgC,CAAD,CAAhB,EAAqB8qB,MAArB;CACAA,MAAAA,MAAM,IAAIwV,KAAK,CAACtgC,CAAD,CAAL,CAASgZ,UAAnB;CACH;;CAED,WAAOlR,MAAP;CACH,GAzJK;;;CA4JoB,SAAnB04B,mBAAmB,CAACC,IAAD,EAAO;CAC7B,QAAI7C,IAAI,GAAGT,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUQ,IAAlB,EAAwBT,KAAG,CAACsC,SAAJ,CAAcC,IAAtC,CAAX;CACA,QAAItB,IAAI,GAAGjB,KAAG,CAACiB,IAAJ,CAASqC,IAAT,CAAX;CAEA,QAAI34B,MAAM,GAAG,IAAI9D,UAAJ,CAAe45B,IAAI,CAAC5kB,UAAL,GAAkBolB,IAAI,CAACplB,UAAtC,CAAb;CACAlR,IAAAA,MAAM,CAAC8R,GAAP,CAAWgkB,IAAX,EAAiB,CAAjB;CACA91B,IAAAA,MAAM,CAAC8R,GAAP,CAAWwkB,IAAX,EAAiBR,IAAI,CAAC5kB,UAAtB;CACA,WAAOlR,MAAP;CACH,GApKK;;;CAuKK,SAAJs2B,IAAI,CAACqC,IAAD,EAAO;CACd,QAAIlC,IAAI,GAAGpB,KAAG,CAACoB,IAAJ,CAASkC,IAAI,CAACC,SAAd,EAAyBD,IAAI,CAACviB,QAA9B,CAAX;CACA,QAAIghB,IAAI,GAAG/B,KAAG,CAAC+B,IAAJ,CAASuB,IAAT,CAAX;CACA,QAAInC,IAAI,GAAGnB,KAAG,CAACmB,IAAJ,CAASmC,IAAT,CAAX;CACA,WAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUgB,IAAlB,EAAwBG,IAAxB,EAA8BW,IAA9B,EAAoCZ,IAApC,CAAP;CACH,GA5KK;;;CA+KK,SAAJC,IAAI,CAACmC,SAAD,EAAYxiB,QAAZ,EAAsB;CAC7B,WAAOif,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUmB,IAAlB,EAAwB,IAAIv6B,UAAJ,CAAe,CAC1C,IAD0C,EACpC,IADoC,EAC9B,IAD8B,EACxB,IADwB;CAE1C,QAF0C,EAEpC,IAFoC,EAE9B,IAF8B,EAExB,IAFwB;CAG1C,QAH0C,EAGpC,IAHoC,EAG9B,IAH8B,EAGxB,IAHwB;CAIzC08B,IAAAA,SAAS,KAAK,EAAf,GAAqB,IAJqB;CAKzCA,IAAAA,SAAS,KAAK,EAAf,GAAqB,IALqB,EAMzCA,SAAS,KAAK,CAAf,GAAoB,IANsB,EAOzCA,SAAD,GAAc,IAP4B,EAQzCxiB,QAAQ,KAAK,EAAd,GAAoB,IARsB;CASzCA,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IATsB,EAUzCA,QAAQ,KAAK,CAAd,GAAmB,IAVuB,EAWzCA,QAAD,GAAa,IAX6B,EAY1C,IAZ0C,EAYpC,IAZoC,EAY9B,IAZ8B,EAYxB,IAZwB;CAa1C,QAb0C,EAapC,IAboC,EAa9B,IAb8B,EAaxB,IAbwB;CAc1C,QAd0C,EAcpC,IAdoC,EAc9B,IAd8B,EAcxB,IAdwB;CAe1C,QAf0C,EAepC,IAfoC,EAe9B,IAf8B,EAexB,IAfwB,EAgB1C,IAhB0C,EAgBpC,IAhBoC,EAgB9B,IAhB8B,EAgBxB,IAhBwB;CAiB1C,QAjB0C,EAiBpC,IAjBoC,EAiB9B,IAjB8B,EAiBxB,IAjBwB,EAkB1C,IAlB0C,EAkBpC,IAlBoC,EAkB9B,IAlB8B,EAkBxB,IAlBwB,EAmB1C,IAnB0C,EAmBpC,IAnBoC,EAmB9B,IAnB8B,EAmBxB,IAnBwB,EAoB1C,IApB0C,EAoBpC,IApBoC,EAoB9B,IApB8B,EAoBxB,IApBwB,EAqB1C,IArB0C,EAqBpC,IArBoC,EAqB9B,IArB8B,EAqBxB,IArBwB,EAsB1C,IAtB0C,EAsBpC,IAtBoC,EAsB9B,IAtB8B,EAsBxB,IAtBwB,EAuB1C,IAvB0C,EAuBpC,IAvBoC,EAuB9B,IAvB8B,EAuBxB,IAvBwB,EAwB1C,IAxB0C,EAwBpC,IAxBoC,EAwB9B,IAxB8B,EAwBxB,IAxBwB;CAyB1C,QAzB0C,EAyBpC,IAzBoC,EAyB9B,IAzB8B,EAyBxB,IAzBwB;CA0B1C,QA1B0C,EA0BpC,IA1BoC,EA0B9B,IA1B8B,EA0BxB,IA1BwB,EA2B1C,IA3B0C,EA2BpC,IA3BoC,EA2B9B,IA3B8B,EA2BxB,IA3BwB,EA4B1C,IA5B0C,EA4BpC,IA5BoC,EA4B9B,IA5B8B,EA4BxB,IA5BwB,EA6B1C,IA7B0C,EA6BpC,IA7BoC,EA6B9B,IA7B8B,EA6BxB,IA7BwB,EA8B1C,IA9B0C,EA8BpC,IA9BoC,EA8B9B,IA9B8B,EA8BxB,IA9BwB;CA+B1C,QA/B0C,EA+BpC,IA/BoC,EA+B9B,IA/B8B,EA+BxB,IA/BwB;CAAA,KAAf,CAAxB,CAAP;CAiCH,GAjNK;;;CAoNK,SAAJghB,IAAI,CAACuB,IAAD,EAAO;CACd,WAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU8B,IAAlB,EAAwB/B,KAAG,CAACkC,IAAJ,CAASoB,IAAT,CAAxB,EAAwCtD,KAAG,CAACa,IAAJ,CAASyC,IAAT,CAAxC,CAAP;CACH,GAtNK;;;CAyNK,SAAJpB,IAAI,CAACoB,IAAD,EAAO;CACd,QAAIE,OAAO,GAAGF,IAAI,CAACrd,EAAnB;CAAA,QAAuBlF,QAAQ,GAAGuiB,IAAI,CAACviB,QAAvC;CACA,QAAIjf,KAAK,GAAGwhC,IAAI,CAACG,YAAjB;CAAA,QAA+BvhC,MAAM,GAAGohC,IAAI,CAACI,aAA7C;CAEA,WAAO1D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUiC,IAAlB,EAAwB,IAAIr7B,UAAJ,CAAe,CAC1C,IAD0C,EACpC,IADoC,EAC9B,IAD8B,EACxB,IADwB;CAE1C,QAF0C,EAEpC,IAFoC,EAE9B,IAF8B,EAExB,IAFwB;CAG1C,QAH0C,EAGpC,IAHoC,EAG9B,IAH8B,EAGxB,IAHwB;CAIzC28B,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAJuB;CAKzCA,IAAAA,OAAO,KAAK,EAAb,GAAmB,IALuB,EAMzCA,OAAO,KAAK,CAAb,GAAkB,IANwB,EAOzCA,OAAD,GAAY,IAP8B,EAQ1C,IAR0C,EAQpC,IARoC,EAQ9B,IAR8B,EAQxB,IARwB;CASzCziB,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IATsB;CAUzCA,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IAVsB,EAWzCA,QAAQ,KAAK,CAAd,GAAmB,IAXuB,EAYzCA,QAAD,GAAa,IAZ6B,EAa1C,IAb0C,EAapC,IAboC,EAa9B,IAb8B,EAaxB,IAbwB;CAc1C,QAd0C,EAcpC,IAdoC,EAc9B,IAd8B,EAcxB,IAdwB,EAe1C,IAf0C,EAepC,IAfoC,EAe9B,IAf8B,EAexB,IAfwB;CAgB1C,QAhB0C,EAgBpC,IAhBoC,EAgB9B,IAhB8B,EAgBxB,IAhBwB;CAiB1C,QAjB0C,EAiBpC,IAjBoC,EAiB9B,IAjB8B,EAiBxB,IAjBwB;CAkB1C,QAlB0C,EAkBpC,IAlBoC,EAkB9B,IAlB8B,EAkBxB,IAlBwB,EAmB1C,IAnB0C,EAmBpC,IAnBoC,EAmB9B,IAnB8B,EAmBxB,IAnBwB,EAoB1C,IApB0C,EAoBpC,IApBoC,EAoB9B,IApB8B,EAoBxB,IApBwB,EAqB1C,IArB0C,EAqBpC,IArBoC,EAqB9B,IArB8B,EAqBxB,IArBwB,EAsB1C,IAtB0C,EAsBpC,IAtBoC,EAsB9B,IAtB8B,EAsBxB,IAtBwB,EAuB1C,IAvB0C,EAuBpC,IAvBoC,EAuB9B,IAvB8B,EAuBxB,IAvBwB,EAwB1C,IAxB0C,EAwBpC,IAxBoC,EAwB9B,IAxB8B,EAwBxB,IAxBwB,EAyB1C,IAzB0C,EAyBpC,IAzBoC,EAyB9B,IAzB8B,EAyBxB,IAzBwB;CA0BzCjf,IAAAA,KAAK,KAAK,CAAX,GAAgB,IA1B0B;CA2BzCA,IAAAA,KAAD,GAAU,IA3BgC,EA4B1C,IA5B0C,EA4BpC,IA5BoC,EA6BzCI,MAAM,KAAK,CAAZ,GAAiB,IA7ByB,EA8BzCA,MAAD,GAAW,IA9B+B,EA+B1C,IA/B0C,EA+BpC,IA/BoC,CAAf,CAAxB,CAAP;CAiCH;;CAEU,SAAJ2+B,IAAI,CAACyC,IAAD,EAAO;CACd,WAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUY,IAAlB,EAAwBb,KAAG,CAACY,IAAJ,CAAS0C,IAAT,CAAxB,EAAwCtD,KAAG,CAACU,IAAJ,CAAS4C,IAAT,CAAxC,EAAwDtD,KAAG,CAACe,IAAJ,CAASuC,IAAT,CAAxD,CAAP;CACH,GAlQK;;;CAqQK,SAAJ1C,IAAI,CAAC0C,IAAD,EAAO;CACd,QAAIC,SAAS,GAAGD,IAAI,CAACC,SAArB;CACA,QAAIxiB,QAAQ,GAAGuiB,IAAI,CAACviB,QAApB;CACA,WAAOif,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUW,IAAlB,EAAwB,IAAI/5B,UAAJ,CAAe,CAC1C,IAD0C,EACpC,IADoC,EAC9B,IAD8B,EACxB,IADwB;CAE1C,QAF0C,EAEpC,IAFoC,EAE9B,IAF8B,EAExB,IAFwB;CAG1C,QAH0C,EAGpC,IAHoC,EAG9B,IAH8B,EAGxB,IAHwB;CAIzC08B,IAAAA,SAAS,KAAK,EAAf,GAAqB,IAJqB;CAKzCA,IAAAA,SAAS,KAAK,EAAf,GAAqB,IALqB,EAMzCA,SAAS,KAAK,CAAf,GAAoB,IANsB,EAOzCA,SAAD,GAAc,IAP4B,EAQzCxiB,QAAQ,KAAK,EAAd,GAAoB,IARsB;CASzCA,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IATsB,EAUzCA,QAAQ,KAAK,CAAd,GAAmB,IAVuB,EAWzCA,QAAD,GAAa,IAX6B,EAY1C,IAZ0C,EAYpC,IAZoC;CAa1C,QAb0C,EAapC,IAboC;CAAA,KAAf,CAAxB,CAAP;CAeH,GAvRK;;;CA0RK,SAAJ2f,IAAI,CAAC4C,IAAD,EAAO;CACd,QAAIn1B,IAAI,GAAG,IAAX;;CACA,QAAIm1B,IAAI,CAAC78B,IAAL,KAAc,OAAlB,EAA2B;CACvB0H,MAAAA,IAAI,GAAG6xB,KAAG,CAACsC,SAAJ,CAAcQ,UAArB;CACH,KAFD,MAEO;CACH30B,MAAAA,IAAI,GAAG6xB,KAAG,CAACsC,SAAJ,CAAcO,UAArB;CACH;;CACD,WAAO7C,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUS,IAAlB,EAAwBvyB,IAAxB,CAAP;CACH,GAlSK;;;CAqSK,SAAJ4yB,IAAI,CAACuC,IAAD,EAAO;CACd,QAAIK,IAAI,GAAG,IAAX;;CACA,QAAIL,IAAI,CAAC78B,IAAL,KAAc,OAAlB,EAA2B;CACvBk9B,MAAAA,IAAI,GAAG3D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUmC,IAAlB,EAAwBpC,KAAG,CAACsC,SAAJ,CAAcU,IAAtC,CAAP;CACH,KAFD,MAEO;CACHW,MAAAA,IAAI,GAAG3D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUkC,IAAlB,EAAwBnC,KAAG,CAACsC,SAAJ,CAAcW,IAAtC,CAAP;CACH;;CACD,WAAOjD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUc,IAAlB,EAAwB4C,IAAxB,EAA8B3D,KAAG,CAACM,IAAJ,EAA9B,EAA0CN,KAAG,CAACsB,IAAJ,CAASgC,IAAT,CAA1C,CAAP;CACH,GA7SK;;;CAgTK,SAAJhD,IAAI,GAAG;CACV,QAAI31B,MAAM,GAAGq1B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUK,IAAlB,EACTN,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUM,IAAlB,EAAwBP,KAAG,CAACsC,SAAJ,CAAcS,IAAtC,CADS,CAAb;CAGA,WAAOp4B,MAAP;CACH,GArTK;;;CAwTK,SAAJ22B,IAAI,CAACgC,IAAD,EAAO;CACd,QAAI34B,MAAM,GAAGq1B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUqB,IAAlB;CACTtB,IAAAA,KAAG,CAACyB,IAAJ,CAAS6B,IAAT,CADS;CAETtD,IAAAA,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU0B,IAAlB,EAAwB3B,KAAG,CAACsC,SAAJ,CAAcG,IAAtC,CAFS;CAGTzC,IAAAA,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUuB,IAAlB,EAAwBxB,KAAG,CAACsC,SAAJ,CAAcI,IAAtC,CAHS;CAIT1C,IAAAA,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUyB,IAAlB,EAAwB1B,KAAG,CAACsC,SAAJ,CAAcM,IAAtC,CAJS;CAKT5C,IAAAA,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUsB,IAAlB,EAAwBvB,KAAG,CAACsC,SAAJ,CAAcK,IAAtC,CALS;CAAA,KAAb;CAOA,WAAOh4B,MAAP;CACH;;CAEa,SAAPi5B,OAAO,CAACN,IAAD,EAAO;CACjB,WAAOA,IAAI,CAAC78B,IAAL,KAAc,OAAd,GACHu5B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACkB,IAAJ,CAASoC,IAAT,CAAnD,CADG,GAEHA,IAAI,CAACO,SAAL,KAAmB,KAAnB,GACI7D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACE,IAAJ,CAASoD,IAAT,CAAnD,CADJ,GAEItD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACG,IAAJ,CAASmD,IAAT,CAAnD,CAJR;CAKH,GAzUK;;;CA4UK,SAAJ7B,IAAI,CAAC6B,IAAD,EAAO;CACd,QAAIA,IAAI,CAAC78B,IAAL,KAAc,OAAlB,EAA2B;CACvB;CACA,aAAOu5B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACkB,IAAJ,CAASoC,IAAT,CAAnD,CAAP;CACH,KAHD,MAGO;CACH,UAAIA,IAAI,CAACO,SAAL,KAAmB,KAAvB,EAA8B;CAC1B;CACA,eAAO7D,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACE,IAAJ,CAASoD,IAAT,CAAnD,CAAP;CACH,OAHD,MAGO;CACH;CACA,eAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUwB,IAAlB,EAAwBzB,KAAG,CAACsC,SAAJ,CAAcE,WAAtC,EAAmDxC,KAAG,CAACG,IAAJ,CAASmD,IAAT,CAAnD,CAAP;CACH;CACJ;CACJ;;CAGU,SAAJpC,IAAI,CAACoC,IAAD,EAAO;CACd,QAAIQ,YAAY,GAAGR,IAAI,CAACQ,YAAxB;CACA,QAAI9qB,UAAU,GAAGsqB,IAAI,CAACS,eAAtB;CAEA,QAAI51B,IAAI,GAAG,IAAItH,UAAJ,CAAe,CACtB,IADsB,EAChB,IADgB,EACV,IADU,EACJ,IADI;CAEtB,QAFsB,EAEhB,IAFgB,EAEV,IAFU,EAEJ,IAFI;CAGtB,QAHsB,EAGhB,IAHgB,EAGV,IAHU,EAGJ,IAHI;CAItB,QAJsB,EAIhB,IAJgB,EAIV,IAJU,EAIJ,IAJI,EAKtB,IALsB,EAKhBi9B,YALgB;CAMtB,QANsB,EAMhB,IANgB;CAOtB,QAPsB,EAOhB,IAPgB,EAOV,IAPU,EAOJ,IAPI;CAQrB9qB,IAAAA,UAAU,KAAK,CAAhB,GAAqB,IARC;CASrBA,IAAAA,UAAD,GAAe,IATO,EAUtB,IAVsB,EAUhB,IAVgB,CAAf,CAAX;CAaA,WAAOgnB,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUiB,IAAlB,EAAwB/yB,IAAxB,EAA8B6xB,KAAG,CAACQ,IAAJ,CAAS8C,IAAT,CAA9B,CAAP;CACH;;CAEU,SAAJ9C,IAAI,CAAC8C,IAAD,EAAO;CACd,QAAIrmB,MAAM,GAAGqmB,IAAI,CAACrmB,MAAL,IAAe,EAA5B;CACA,QAAI+mB,UAAU,GAAG/mB,MAAM,CAACla,MAAxB;CACA,QAAIoL,IAAI,GAAG,IAAItH,UAAJ,CAAe,CACtB,IADsB,EAChB,IADgB,EACV,IADU,EACJ,IADI;CAGtB,QAHsB;CAItB,WAAOm9B,UAJe;CAKtB,QALsB,EAKhB,IALgB;CAMtB,QANsB;CAQtB,QARsB;CAStB,WAAOA,UATe;CAUtB,QAVsB;CAWtB,QAXsB;CAYtB,QAZsB,EAYhB,IAZgB,EAYV,IAZU;CAatB,QAbsB,EAahB,IAbgB,EAaV,IAbU,EAaJ,IAbI;CActB,QAdsB,EAchB,IAdgB,EAcV,IAdU,EAcJ,IAdI;CAgBtB,QAhBsB;CAAA,MAiBxB1P,MAjBwB,CAiBjB,CACL0P,UADK,CAjBiB,EAmBvB1P,MAnBuB,CAoBtBrX,MApBsB,EAqBxBqX,MArBwB,CAqBjB,CACL,IADK,EACC,IADD,EACO,IADP;CAAA,KArBiB,CAAf,CAAX;CAwBA,WAAO0L,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUO,IAAlB,EAAwBryB,IAAxB,CAAP;CACH;;CAEU,SAAJ+xB,IAAI,CAACoD,IAAD,EAAO;CACd,QAAIW,IAAI,GAAGX,IAAI,CAACW,IAAhB;CACA,UAAMniC,KAAK,GAAGwhC,IAAI,CAACY,UAAnB;CACA,UAAMhiC,MAAM,GAAGohC,IAAI,CAACa,WAApB;CACA,QAAIh2B,IAAI,GAAG,IAAItH,UAAJ,CAAe,CACtB,CADsB,EACnB,CADmB,EAChB,CADgB,EACb,CADa,EAEtB,CAFsB,EAEnB,CAFmB,EAEhB,CAFgB,EAEb,CAFa,EAGtB,CAHsB,EAGnB,CAHmB,EAGhB,CAHgB,EAGb,CAHa,EAItB,CAJsB,EAInB,CAJmB,EAIhB,CAJgB,EAIb,CAJa,EAKtB,CALsB,EAKnB,CALmB,EAKhB,CALgB,EAKb,CALa,EAMtB,CANsB,EAMnB,CANmB,EAMhB,CANgB,EAMb,CANa,EAOtB/E,KAAK,KAAK,CAAV,GAAc,GAPQ,EAQtBA,KAAK,GAAG,GARc,EAStBI,MAAM,KAAK,CAAX,GAAe,GATO,EAUtBA,MAAM,GAAG,GAVa,EAWtB,CAXsB,EAWnB,EAXmB,EAWf,CAXe,EAWZ,CAXY,EAYtB,CAZsB,EAYnB,EAZmB,EAYf,CAZe,EAYZ,CAZY,EAatB,CAbsB,EAanB,CAbmB,EAahB,CAbgB,EAab,CAba,EActB,CAdsB,EAcnB,CAdmB,EAetB,CAfsB,EAgBtB,CAhBsB,EAgBnB,CAhBmB,EAgBhB,CAhBgB,EAgBb,CAhBa,EAiBtB,CAjBsB,EAiBnB,CAjBmB,EAiBhB,CAjBgB,EAiBb,CAjBa,EAkBtB,CAlBsB,EAkBnB,CAlBmB,EAkBhB,CAlBgB,EAkBb,CAlBa,EAmBtB,CAnBsB,EAmBnB,CAnBmB,EAmBhB,CAnBgB,EAmBb,CAnBa,EAoBtB,CApBsB,EAoBnB,CApBmB,EAoBhB,CApBgB,EAoBb,CApBa,EAqBtB,CArBsB,EAqBnB,CArBmB,EAqBhB,CArBgB,EAqBb,CArBa,EAsBtB,CAtBsB,EAsBnB,CAtBmB,EAsBhB,CAtBgB,EAsBb,CAtBa,EAuBtB,CAvBsB,EAuBnB,CAvBmB,EAuBhB,CAvBgB,EAwBtB,CAxBsB,EAwBnB,EAxBmB,EAyBtB,GAzBsB,EAyBjB,GAzBiB,CAAf,CAAX;CA2BA,WAAO89B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUC,IAAlB,EAAwB/xB,IAAxB,EAA8B6xB,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUt2B,IAAlB,EAAwBs6B,IAAxB,CAA9B,CAAP;CACH;;CAEU,SAAJ9D,IAAI,CAACmD,IAAD,EAAO;CACd,QAAIW,IAAI,GAAGX,IAAI,CAACW,IAAhB;CACA,UAAMniC,KAAK,GAAGwhC,IAAI,CAACY,UAAnB;CACA,UAAMhiC,MAAM,GAAGohC,IAAI,CAACa,WAApB;CACA,QAAIh2B,IAAI,GAAG,IAAItH,UAAJ,CAAe,CACtB,CADsB,EACnB,CADmB,EAChB,CADgB,EACb,CADa,EAEtB,CAFsB,EAEnB,CAFmB,EAEhB,CAFgB,EAEb,CAFa,EAGtB,CAHsB,EAGnB,CAHmB,EAGhB,CAHgB,EAGb,CAHa,EAItB,CAJsB,EAInB,CAJmB,EAIhB,CAJgB,EAIb,CAJa,EAKtB,CALsB,EAKnB,CALmB,EAKhB,CALgB,EAKb,CALa,EAMtB,CANsB,EAMnB,CANmB,EAMhB,CANgB,EAMb,CANa,EAOtB/E,KAAK,KAAK,CAAV,GAAc,GAPQ,EAQtBA,KAAK,GAAG,GARc,EAStBI,MAAM,KAAK,CAAX,GAAe,GATO,EAUtBA,MAAM,GAAG,GAVa,EAWtB,CAXsB,EAWnB,EAXmB,EAWf,CAXe,EAWZ,CAXY,EAYtB,CAZsB,EAYnB,EAZmB,EAYf,CAZe,EAYZ,CAZY,EAatB,CAbsB,EAanB,CAbmB,EAahB,CAbgB,EAab,CAba,EActB,CAdsB,EAcnB,CAdmB,EAetB,CAfsB,EAgBtB,CAhBsB,EAgBnB,CAhBmB,EAgBhB,CAhBgB,EAgBb,CAhBa,EAiBtB,CAjBsB,EAiBnB,CAjBmB,EAiBhB,CAjBgB,EAiBb,CAjBa,EAkBtB,CAlBsB,EAkBnB,CAlBmB,EAkBhB,CAlBgB,EAkBb,CAlBa,EAmBtB,CAnBsB,EAmBnB,CAnBmB,EAmBhB,CAnBgB,EAmBb,CAnBa,EAoBtB,CApBsB,EAoBnB,CApBmB,EAoBhB,CApBgB,EAoBb,CApBa,EAqBtB,CArBsB,EAqBnB,CArBmB,EAqBhB,CArBgB,EAqBb,CArBa,EAsBtB,CAtBsB,EAsBnB,CAtBmB,EAsBhB,CAtBgB,EAsBb,CAtBa,EAuBtB,CAvBsB,EAuBnB,CAvBmB,EAuBhB,CAvBgB,EAwBtB,CAxBsB,EAwBnB,EAxBmB,EAyBtB,GAzBsB,EAyBjB,GAzBiB,CAAf,CAAX;CA2BA,WAAO89B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUE,IAAlB,EAAwBhyB,IAAxB,EAA8B6xB,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUG,IAAlB,EAAwB6D,IAAxB,CAA9B,CAAP;CACH,GAhdK;;;CAodK,SAAJ9C,IAAI,CAACmC,IAAD,EAAO;CACd,WAAOtD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUkB,IAAlB,EAAwBnB,KAAG,CAACiC,IAAJ,CAASqB,IAAT,CAAxB,CAAP;CACH,GAtdK;;;CAydK,SAAJrB,IAAI,CAACqB,IAAD,EAAO;CACd,QAAIE,OAAO,GAAGF,IAAI,CAACrd,EAAnB;CACA,QAAI9X,IAAI,GAAG,IAAItH,UAAJ,CAAe,CACtB,IADsB,EAChB,IADgB,EACV,IADU,EACJ,IADI;CAErB28B,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAFG;CAGrBA,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAHG,EAIrBA,OAAO,KAAK,CAAb,GAAkB,IAJI,EAKrBA,OAAD,GAAY,IALU,EAMtB,IANsB,EAMhB,IANgB,EAMV,IANU,EAMJ,IANI;CAOtB,QAPsB,EAOhB,IAPgB,EAOV,IAPU,EAOJ,IAPI;CAQtB,QARsB,EAQhB,IARgB,EAQV,IARU,EAQJ,IARI;CAStB,QATsB,EAShB,IATgB,EASV,IATU,EASJ,IATI;CAAA,KAAf,CAAX;CAWA,WAAOxD,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUgC,IAAlB,EAAwB9zB,IAAxB,CAAP;CACH,GAveK;;;CA0eK,SAAJ6yB,IAAI,CAAC/Z,KAAD,EAAQmd,mBAAR,EAA6B;CACpC,WAAOpE,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUe,IAAlB,EAAwBhB,KAAG,CAACc,IAAJ,CAAS7Z,KAAK,CAACod,cAAf,CAAxB,EAAwDrE,KAAG,CAAC8B,IAAJ,CAAS7a,KAAT,EAAgBmd,mBAAhB,CAAxD,CAAP;CACH;;CAEU,SAAJtD,IAAI,CAACuD,cAAD,EAAiB;CACxB,QAAIl2B,IAAI,GAAG,IAAItH,UAAJ,CAAe,CACtB,IADsB,EAChB,IADgB,EACV,IADU,EACJ,IADI,EAErBw9B,cAAc,KAAK,EAApB,GAA0B,IAFJ;CAGrBA,IAAAA,cAAc,KAAK,EAApB,GAA0B,IAHJ,EAIrBA,cAAc,KAAK,CAApB,GAAyB,IAJH,EAKrBA,cAAD,GAAmB,IALG,CAAf,CAAX;CAOA,WAAOrE,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUa,IAAlB,EAAwB3yB,IAAxB,CAAP;CACH,GAvfK;;;CA0fK,SAAJ2zB,IAAI,CAAC7a,KAAD,EAAQmd,mBAAR,EAA6B;CACpC,QAAIZ,OAAO,GAAGvc,KAAK,CAAChB,EAApB,CADoC;;CAIpC,QAAI4b,IAAI,GAAG7B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU4B,IAAlB,EAAwB,IAAIh7B,UAAJ,CAAe,CAC9C,IAD8C,EACxC,IADwC,EAClC,IADkC,EAC5B,IAD4B;CAE7C28B,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAF2B;CAG7CA,IAAAA,OAAO,KAAK,EAAb,GAAmB,IAH2B,EAI7CA,OAAO,KAAK,CAAb,GAAkB,IAJ4B,EAK7CA,OAAD,GAAY,IALkC,CAAf,CAAxB,CAAX,CAJoC;;CAYpC,QAAI5B,IAAI,GAAG5B,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU2B,IAAlB,EAAwB,IAAI/6B,UAAJ,CAAe,CAC9C,IAD8C,EACxC,IADwC,EAClC,IADkC,EAC5B,IAD4B;CAE7Cu9B,IAAAA,mBAAmB,KAAK,EAAzB,GAA+B,IAFe;CAG7CA,IAAAA,mBAAmB,KAAK,EAAzB,GAA+B,IAHe,EAI7CA,mBAAmB,KAAK,CAAzB,GAA8B,IAJgB,EAK7CA,mBAAD,GAAwB,IALsB,CAAf,CAAxB,CAAX;CAOA,QAAI/C,IAAI,GAAGrB,KAAG,CAACqB,IAAJ,CAASpa,KAAT,CAAX;CACA,QAAI+a,IAAI,GAAGhC,KAAG,CAACgC,IAAJ,CAAS/a,KAAT,EAAgBoa,IAAI,CAACxlB,UAAL,GAAkB,EAAlB,GAAuB,EAAvB,GAA4B,CAA5B,GAAgC,EAAhC,GAAqC,CAArC,GAAyC,CAAzD,CAAX;CAEA,WAAOmkB,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU6B,IAAlB,EAAwBD,IAAxB,EAA8BD,IAA9B,EAAoCI,IAApC,EAA0CX,IAA1C,CAAP;CACH,GAjhBK;;;CAohBQ,SAAPiD,OAAO,CAACC,CAAD,EAAI;CACd,QAAIt+B,CAAC,GAAG,IAAIY,UAAJ,CAAe,IAAI,CAAnB,CAAR;CAAA,QACI4hB,CAAC,GAAG8b,CAAC,CAAC1N,KADV;CAEA,WAAO5wB,CAAC,CAAC,CAAD,CAAD,GAAOwiB,CAAC,CAAC+b,SAAF,IAAe,CAAf,GAAmB/b,CAAC,CAACgc,SAAF,IAAe,CAAlC,GAAsChc,CAAC,CAACic,YAAF,IAAkB,CAAxD,GAA4Djc,CAAC,CAACkc,aAArE,EAAoF3E,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUoB,IAAlB,EAAwBp7B,CAAxB,CAA3F;CACH;;CAEU,SAAJo7B,IAAI,CAACpa,KAAD,EAAQ;CACf,QAAI9Y,IAAI,GAAG,IAAItH,UAAJ,CAAe,IAAI,CAAnB,CAAX;CACA,QAAIgwB,KAAK,GAAG5P,KAAK,CAAC4P,KAAlB;CACA1oB,IAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU0oB,KAAK,CAAC2N,SAAN,IAAmB,CAAnB,GACJ3N,KAAK,CAAC4N,SAAN,IAAmB,CADf,GAEJ5N,KAAK,CAAC6N,YAAN,IAAsB,CAFlB,GAGJ7N,KAAK,CAAC8N,aAHZ;CAIA,WAAO3E,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUoB,IAAlB,EAAwBlzB,IAAxB,CAAP;CACH;;CAEU,SAAJ6zB,IAAI,CAAC/a,KAAD,EAAQ0G,MAAR,EAAgB;CACvB,QAAIiX,QAAQ,GAAG,KAAK,EAApB;CACA,QAAIz2B,IAAI,GAAG,IAAItH,UAAJ,CAAe+9B,QAAf,CAAX;CACAjX,IAAAA,MAAM,IAAI,IAAIiX,QAAd;CAEAz2B,IAAAA,IAAI,CAACsO,GAAL,CAAS,CACL,IADK,EACC,IADD,EACO,IADP,EACa,IADb;CAEL,QAFK,EAEC,IAFD,EAEO,IAFP,EAEa,IAFb;CAGJkR,IAAAA,MAAM,KAAK,EAAZ,GAAkB,IAHb;CAIJA,IAAAA,MAAM,KAAK,EAAZ,GAAkB,IAJb,EAKJA,MAAM,KAAK,CAAZ,GAAiB,IALZ,EAMJA,MAAD,GAAW,IANN,CAAT,EAOG,CAPH;CASA,QAAI5M,QAAQ,GAAGkG,KAAK,CAAClG,QAArB;CACA,QAAI3X,IAAI,GAAG6d,KAAK,CAAC7d,IAAjB;CACA,QAAIytB,KAAK,GAAG5P,KAAK,CAAC4P,KAAlB;CACA,QAAIgO,GAAG,GAAG5d,KAAK,CAAC4d,GAAhB;CAEA12B,IAAAA,IAAI,CAACsO,GAAL,CAAS,CACJsE,QAAQ,KAAK,EAAd,GAAoB,IADf;CAEJA,IAAAA,QAAQ,KAAK,EAAd,GAAoB,IAFf,EAGJA,QAAQ,KAAK,CAAd,GAAmB,IAHd,EAIJA,QAAD,GAAa,IAJR,EAKJ3X,IAAI,KAAK,EAAV,GAAgB,IALX;CAMJA,IAAAA,IAAI,KAAK,EAAV,GAAgB,IANX,EAOJA,IAAI,KAAK,CAAV,GAAe,IAPV,EAQJA,IAAD,GAAS,IARJ,EASJytB,KAAK,CAAC2N,SAAN,IAAmB,CAApB,GAAyB3N,KAAK,CAAC4N,SAT1B;CAUJ5N,IAAAA,KAAK,CAAC6N,YAAN,IAAsB,CAAvB,GAA6B7N,KAAK,CAAC8N,aAAN,IAAuB,CAApD,GAAyD9N,KAAK,CAACiO,SAV1D,EAWL,IAXK,EAWC,IAXD;CAYJD,IAAAA,GAAG,KAAK,EAAT,GAAe,IAZV;CAaJA,IAAAA,GAAG,KAAK,EAAT,GAAe,IAbV,EAcJA,GAAG,KAAK,CAAT,GAAc,IAdT,EAeJA,GAAD,GAAQ,IAfH,CAAT,EAgBG,EAhBH;CAkBA,WAAO7E,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAU+B,IAAlB,EAAwB7zB,IAAxB,CAAP;CACH;;CAGU,SAAJwyB,IAAI,CAACxyB,IAAD,EAAO;CACd,WAAO6xB,KAAG,CAACkD,GAAJ,CAAQlD,KAAG,CAACC,KAAJ,CAAUU,IAAlB,EAAwBxyB,IAAxB,CAAP;CACH;;CA/kBK;;AAklBV6xB,MAAG,CAAC9mC,IAAJ;;CCllBA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CAGA;CACA,MAAM6rC,SAAN,CAAgB;CAEZ/kC,EAAAA,WAAW,CAACglC,UAAD,EAAa;CACpB,SAAKC,GAAL,GAAW,WAAX;CAEA,SAAKC,OAAL,GAAeF,UAAf;CACA,SAAKG,aAAL,GAAqB,CAArB;CACA,SAAKC,YAAL,GAAoBJ,UAAU,CAACnpB,UAA/B;CACA,SAAKwpB,WAAL,GAAmBL,UAAU,CAACnpB,UAAX,GAAwB,CAA3C;CACA,SAAKypB,aAAL,GAAqB,CAArB;CACA,SAAKC,uBAAL,GAA+B,CAA/B;CACH;;CAEDnpC,EAAAA,OAAO,GAAG;CACN,SAAK8oC,OAAL,GAAe,IAAf;CACH;;CAEDM,EAAAA,gBAAgB,GAAG;CACf,QAAIC,iBAAiB,GAAG,KAAKL,YAAL,GAAoB,KAAKD,aAAjD;;CAKA,QAAIO,UAAU,GAAG3jC,IAAI,CAACuG,GAAL,CAAS,CAAT,EAAYm9B,iBAAZ,CAAjB;CACA,QAAIE,IAAI,GAAG,IAAI9+B,UAAJ,CAAe,CAAf,CAAX;CACA8+B,IAAAA,IAAI,CAAClpB,GAAL,CAAS,KAAKyoB,OAAL,CAAar7B,QAAb,CAAsB,KAAKs7B,aAA3B,EAA0C,KAAKA,aAAL,GAAqBO,UAA/D,CAAT;CACA,SAAKJ,aAAL,GAAqB,IAAI/W,QAAJ,CAAaoX,IAAI,CAACjqC,MAAlB,EAA0BkqC,SAA1B,CAAoC,CAApC,EAAuC,KAAvC,CAArB;CAEA,SAAKT,aAAL,IAAsBO,UAAtB;CACA,SAAKH,uBAAL,GAA+BG,UAAU,GAAG,CAA5C;CACH;;CAEDG,EAAAA,QAAQ,CAACxP,IAAD,EAAO;;CAKX,QAAIA,IAAI,IAAI,KAAKkP,uBAAjB,EAA0C;CACtC,UAAI56B,MAAM,GAAG,KAAK26B,aAAL,KAAwB,KAAKjP,IAA1C;CACA,WAAKiP,aAAL,KAAuBjP,IAAvB;CACA,WAAKkP,uBAAL,IAAgClP,IAAhC;CACA,aAAO1rB,MAAP;CACH;;CAED,QAAIA,MAAM,GAAG,KAAK46B,uBAAL,GAA+B,KAAKD,aAApC,GAAoD,CAAjE;CACA36B,IAAAA,MAAM,GAAGA,MAAM,KAAM,KAAK,KAAK46B,uBAA/B;CACA,QAAIO,cAAc,GAAGzP,IAAI,GAAG,KAAKkP,uBAAjC;;CAEA,SAAKC,gBAAL;;CACA,QAAIO,cAAc,GAAGhkC,IAAI,CAACuG,GAAL,CAASw9B,cAAT,EAAyB,KAAKP,uBAA9B,CAArB;CAEA,QAAIS,OAAO,GAAG,KAAKV,aAAL,KAAwB,KAAKS,cAA3C;CACA,SAAKT,aAAL,KAAuBS,cAAvB;CACA,SAAKR,uBAAL,IAAgCQ,cAAhC;CAEAp7B,IAAAA,MAAM,GAAIA,MAAM,IAAIo7B,cAAX,GAA6BC,OAAtC;CACA,WAAOr7B,MAAP;CACH;;CAEDs7B,EAAAA,QAAQ,GAAG;CACP,WAAO,KAAKJ,QAAL,CAAc,CAAd,MAAqB,CAA5B;CACH;;CAEDK,EAAAA,QAAQ,GAAG;CACP,WAAO,KAAKL,QAAL,CAAc,CAAd,CAAP;CACH;;CAEDM,EAAAA,gBAAgB,GAAG;CACf,QAAIC,UAAJ;;CACA,SAAKA,UAAU,GAAG,CAAlB,EAAqBA,UAAU,GAAG,KAAKb,uBAAvC,EAAgEa,UAAU,EAA1E,EAA8E;CAC1E,UAAI,OAAO,KAAKd,aAAL,GAAsB,eAAec,UAA5C,CAAJ,EAA8D;CAC1D,aAAKd,aAAL,KAAuBc,UAAvB;CACA,aAAKb,uBAAL,IAAgCa,UAAhC;CACA,eAAOA,UAAP;CACH;CACJ;;CACD,SAAKZ,gBAAL;;CACA,WAAOY,UAAU,GAAG,KAAKD,gBAAL,EAApB;CACH;;CAEDE,EAAAA,OAAO,GAAG;CAAG;CACT,QAAIC,aAAa,GAAG,KAAKH,gBAAL,EAApB;;CACA,WAAO,KAAKN,QAAL,CAAcS,aAAa,GAAG,CAA9B,IAAmC,CAA1C;CACH;;CAEDC,EAAAA,OAAO,GAAG;CAAG;CACT,QAAI/9B,KAAK,GAAG,KAAK69B,OAAL,EAAZ;;CACA,QAAI79B,KAAK,GAAG,IAAZ,EAAkB;CACd,aAAQA,KAAK,GAAG,CAAT,KAAgB,CAAvB;CACH,KAFD,MAEO;CACH,aAAO,CAAC,CAAD,IAAMA,KAAK,KAAK,CAAhB,CAAP;CACH;CACJ;;CA5FW;;CCpBhB;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAIA,MAAMg+B,WAAN,CAAgB;CAEK,SAAVC,UAAU,CAACzB,UAAD,EAAa;CAC1B,QAAI3Q,GAAG,GAAG2Q,UAAV;CACA,QAAI0B,UAAU,GAAGrS,GAAG,CAACxY,UAArB;CACA,QAAI8qB,GAAG,GAAG,IAAI9/B,UAAJ,CAAe6/B,UAAf,CAAV;CACA,QAAIE,OAAO,GAAG,CAAd;;CAEA,SAAK,IAAI/jC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6jC,UAApB,EAAgC7jC,CAAC,EAAjC,EAAqC;CACjC,UAAIA,CAAC,IAAI,CAAT,EAAY;CACR;CACA,YAAIwxB,GAAG,CAACxxB,CAAD,CAAH,KAAW,IAAX,IAAmBwxB,GAAG,CAACxxB,CAAC,GAAG,CAAL,CAAH,KAAe,IAAlC,IAA0CwxB,GAAG,CAACxxB,CAAC,GAAG,CAAL,CAAH,KAAe,IAA7D,EAAmE;CAC/D;CACH;CACJ;;CACD8jC,MAAAA,GAAG,CAACC,OAAD,CAAH,GAAevS,GAAG,CAACxxB,CAAD,CAAlB;CACA+jC,MAAAA,OAAO;CACV;;CAED,WAAO,IAAI//B,UAAJ,CAAe8/B,GAAG,CAACjrC,MAAnB,EAA2B,CAA3B,EAA8BkrC,OAA9B,CAAP;CACH,GApBW;CAuBZ;;;CACe,SAARC,QAAQ,CAAC7B,UAAD,EAAa;CACxB,QAAI8B,IAAI,GAAGN,WAAS,CAACC,UAAV,CAAqBzB,UAArB,CAAX;;CACA,QAAI+B,EAAE,GAAG,IAAIhC,SAAJ,CAAc+B,IAAd,CAAT;CAEAC,IAAAA,EAAE,CAACb,QAAH,GAJwB;CAMxB;;CAEA,QAAIc,WAAW,GAAGD,EAAE,CAACb,QAAH,EAAlB,CARwB;;CASxBa,IAAAA,EAAE,CAACb,QAAH,GATwB;CAUxB;;CACA,QAAIe,SAAS,GAAGF,EAAE,CAACb,QAAH,EAAhB,CAXwB;CAYxB;;CACAa,IAAAA,EAAE,CAACV,OAAH,GAbwB;;CAexB,QAAIa,cAAc,GAAGV,WAAS,CAACW,gBAAV,CAA2BH,WAA3B,CAArB;CAEA,QAAII,YAAY,GAAGZ,WAAS,CAACa,cAAV,CAAyBJ,SAAzB,CAAnB;CAEA,QAAIK,iBAAiB,GAAG,CAAxB;CACA,QAAIC,aAAa,GAAG,GAApB;CACA,QAAIC,mBAAmB,GAAG,CAAC,CAAD,EAAI,GAAJ,EAAS,GAAT,EAAc,GAAd,CAA1B;CACA,QAAIC,SAAS,GAAG,CAAhB,CAtBwB;;CAyBxB,QAAIT,WAAW,KAAK,GAAhB,IAAuBA,WAAW,KAAK,GAAvC,IAA8CA,WAAW,KAAK,GAA9D,IACAA,WAAW,KAAK,GADhB,IACuBA,WAAW,KAAK,EADvC,IAC6CA,WAAW,KAAK,EAD7D,IAEAA,WAAW,KAAK,EAFhB,IAEsBA,WAAW,KAAK,GAFtC,IAE6CA,WAAW,KAAK,GAF7D,IAGAA,WAAW,KAAK,GAHhB,IAGuBA,WAAW,KAAK,GAH3C,EAGgD;CAC5C;CACAM,MAAAA,iBAAiB,GAAGP,EAAE,CAACV,OAAH,EAApB;;CAEA,UAAIiB,iBAAiB,KAAK,CAA1B,EAA6B;CACzBP,QAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EADyB;CAE5B;;CACD,UAAIyB,iBAAiB,IAAI,CAAzB,EAA4B;CACxBC,QAAAA,aAAa,GAAGC,mBAAmB,CAACF,iBAAD,CAAnC;CACH;;CAEDG,MAAAA,SAAS,GAAGV,EAAE,CAACV,OAAH,KAAe,CAA3B,CAX4C;;CAY5CU,MAAAA,EAAE,CAACV,OAAH,GAZ4C;;CAa5CU,MAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EAb4C;;CAc5C,UAAIkB,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClB,YAAIyB,kBAAkB,GAAIJ,iBAAiB,KAAK,CAAvB,GAA4B,CAA5B,GAAgC,EAAzD;;CACA,aAAK,IAAIzkC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6kC,kBAApB,EAAwC7kC,CAAC,EAAzC,EAA6C;CACzC,cAAIkkC,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClB,gBAAIpjC,CAAC,GAAG,CAAR,EAAW;CACP2jC,cAAAA,WAAS,CAACmB,gBAAV,CAA2BZ,EAA3B,EAA+B,EAA/B;CACH,aAFD,MAEO;CACHP,cAAAA,WAAS,CAACmB,gBAAV,CAA2BZ,EAA3B,EAA+B,EAA/B;CACH;CACJ;CACJ;CACJ;CACJ,KAtDuB;;;CAwDxBA,IAAAA,EAAE,CAACV,OAAH,GAxDwB;CAyDxB;;CACA,QAAIuB,kBAAkB,GAAGb,EAAE,CAACV,OAAH,EAAzB;;CACA,QAAIuB,kBAAkB,KAAK,CAA3B,EAA8B;CAC1Bb,MAAAA,EAAE,CAACV,OAAH,GAD0B;CAE7B,KAFD,MAEO,IAAIuB,kBAAkB,KAAK,CAA3B,EAA8B;CACjCb,MAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EADiC;;CAEjCkB,MAAAA,EAAE,CAACR,OAAH,GAFiC;;CAGjCQ,MAAAA,EAAE,CAACR,OAAH,GAHiC;;CAIjC,UAAIsB,qCAAqC,GAAGd,EAAE,CAACV,OAAH,EAA5C;;CACA,WAAK,IAAIxjC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGglC,qCAApB,EAA2DhlC,CAAC,EAA5D,EAAgE;CAC5DkkC,QAAAA,EAAE,CAACR,OAAH,GAD4D;CAE/D;CACJ,KArEuB;;;CAuExB,QAAIuB,UAAU,GAAGf,EAAE,CAACV,OAAH,EAAjB,CAvEwB;CAwExB;;CACAU,IAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EAzEwB;CA0ExB;;CACA,QAAIkC,uBAAuB,GAAGhB,EAAE,CAACV,OAAH,EAA9B,CA3EwB;CA6ExB;;CACA,QAAI2B,8BAA8B,GAAGjB,EAAE,CAACV,OAAH,EAArC,CA9EwB;CAgFxB;CACA;;CACA,QAAI4B,mBAAmB,GAAGlB,EAAE,CAAClB,QAAH,CAAY,CAAZ,CAA1B;;CACA,QAAIoC,mBAAmB,KAAK,CAA5B,EAA+B;CAC3B;CACAlB,MAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EAF2B;CAG9B,KAtFuB;;;CAwFxBkB,IAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EAxFwB;;CA0FxB,QAAIqC,sBAAsB,GAAG,CAA7B;CACA,QAAIC,uBAAuB,GAAG,CAA9B;CACA,QAAIC,qBAAqB,GAAG,CAA5B;CACA,QAAIC,wBAAwB,GAAG,CAA/B;CAEA,QAAIC,mBAAmB,GAAGvB,EAAE,CAACd,QAAH,EAA1B;;CACA,QAAIqC,mBAAJ,EAAyB;CACrBJ,MAAAA,sBAAsB,GAAGnB,EAAE,CAACV,OAAH,EAAzB;CACA8B,MAAAA,uBAAuB,GAAGpB,EAAE,CAACV,OAAH,EAA1B;CACA+B,MAAAA,qBAAqB,GAAGrB,EAAE,CAACV,OAAH,EAAxB;CACAgC,MAAAA,wBAAwB,GAAGtB,EAAE,CAACV,OAAH,EAA3B;CACH;;CAED,QAAIkC,SAAS,GAAG,CAAhB;CAAA,QAAmBC,UAAU,GAAG,CAAhC;CACA,QAAI99B,GAAG,GAAG,CAAV;CAAA,QAAa+9B,SAAS,GAAG,IAAzB;CAAA,QAA+BC,OAAO,GAAG,CAAzC;CAAA,QAA4CC,OAAO,GAAG,CAAtD,CAxGwB;;CA0GxB,QAAIC,2BAA2B,GAAG7B,EAAE,CAACd,QAAH,EAAlC;;CACA,QAAI2C,2BAAJ,EAAiC;CAC7B,UAAI7B,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClB,YAAI4C,gBAAgB,GAAG9B,EAAE,CAACb,QAAH,EAAvB;CACA,YAAI4C,WAAW,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAgD,GAAhD,EAAqD,CAArD,EAAwD,CAAxD,EAA2D,CAA3D,CAAlB;CACA,YAAIC,WAAW,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,EAAR,EAAY,EAAZ,EAAgB,EAAhB,EAAoB,EAApB,EAAwB,EAAxB,EAA4B,EAA5B,EAAgC,EAAhC,EAAoC,EAApC,EAAwC,EAAxC,EAA4C,EAA5C,EAAiD,EAAjD,EAAqD,CAArD,EAAwD,CAAxD,EAA2D,CAA3D,CAAlB;;CAEA,YAAIF,gBAAgB,GAAG,CAAnB,IAAwBA,gBAAgB,GAAG,EAA/C,EAAmD;CAC/CN,UAAAA,SAAS,GAAGO,WAAW,CAACD,gBAAgB,GAAG,CAApB,CAAvB;CACAL,UAAAA,UAAU,GAAGO,WAAW,CAACF,gBAAgB,GAAG,CAApB,CAAxB;CACH,SAHD,MAGO,IAAIA,gBAAgB,KAAK,GAAzB,EAA8B;CACjCN,UAAAA,SAAS,GAAGxB,EAAE,CAACb,QAAH,MAAiB,CAAjB,GAAqBa,EAAE,CAACb,QAAH,EAAjC;CACAsC,UAAAA,UAAU,GAAGzB,EAAE,CAACb,QAAH,MAAiB,CAAjB,GAAqBa,EAAE,CAACb,QAAH,EAAlC;CACH;CACJ;;CAED,UAAIa,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClBc,QAAAA,EAAE,CAACd,QAAH,GADe;CAElB;;CACD,UAAIc,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClBc,QAAAA,EAAE,CAAClB,QAAH,CAAY,CAAZ,EADe;;CAEf,YAAIkB,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClBc,UAAAA,EAAE,CAAClB,QAAH,CAAY,EAAZ,EADe;CAElB;CACJ;;CACD,UAAIkB,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClBc,QAAAA,EAAE,CAACV,OAAH,GADe;;CAEfU,QAAAA,EAAE,CAACV,OAAH,GAFe;CAGlB;;CACD,UAAIU,EAAE,CAACd,QAAH,EAAJ,EAAmB;CAAG;CAClB,YAAI+C,iBAAiB,GAAGjC,EAAE,CAAClB,QAAH,CAAY,EAAZ,CAAxB;CACA,YAAIoD,UAAU,GAAGlC,EAAE,CAAClB,QAAH,CAAY,EAAZ,CAAjB;CACA4C,QAAAA,SAAS,GAAG1B,EAAE,CAACd,QAAH,EAAZ,CAHe;;CAKfyC,QAAAA,OAAO,GAAGO,UAAV;CACAN,QAAAA,OAAO,GAAGK,iBAAiB,GAAG,CAA9B;CACAt+B,QAAAA,GAAG,GAAGg+B,OAAO,GAAGC,OAAhB;CACH;CACJ;;CAED,QAAIO,QAAQ,GAAG,CAAf;;CACA,QAAIX,SAAS,KAAK,CAAd,IAAmBC,UAAU,KAAK,CAAtC,EAAyC;CACrCU,MAAAA,QAAQ,GAAGX,SAAS,GAAGC,UAAvB;CACH;;CAED,QAAIW,WAAW,GAAG,CAAlB;CAAA,QAAqBC,WAAW,GAAG,CAAnC;;CACA,QAAI9B,iBAAiB,KAAK,CAA1B,EAA6B;CACzB6B,MAAAA,WAAW,GAAG,CAAd;CACAC,MAAAA,WAAW,GAAG,IAAInB,mBAAlB;CACH,KAHD,MAGO;CACH,UAAIoB,MAAM,GAAI/B,iBAAiB,KAAK,CAAvB,GAA4B,CAA5B,GAAgC,CAA7C;CACA,UAAIgC,MAAM,GAAIhC,iBAAiB,KAAK,CAAvB,GAA4B,CAA5B,GAAgC,CAA7C;CACA6B,MAAAA,WAAW,GAAGE,MAAd;CACAD,MAAAA,WAAW,GAAGE,MAAM,IAAI,IAAIrB,mBAAR,CAApB;CACH;;CAED,QAAIsB,WAAW,GAAG,CAACxB,uBAAuB,GAAG,CAA3B,IAAgC,EAAlD;CACA,QAAIyB,YAAY,GAAG,CAAC,IAAIvB,mBAAL,KAA6B,CAACD,8BAA8B,GAAG,CAAlC,IAAuC,EAApE,CAAnB;CAEAuB,IAAAA,WAAW,IAAI,CAACrB,sBAAsB,GAAGC,uBAA1B,IAAqDgB,WAApE;CACAK,IAAAA,YAAY,IAAI,CAACpB,qBAAqB,GAAGC,wBAAzB,IAAqDe,WAArE;CAEA,QAAIK,aAAa,GAAG1nC,IAAI,CAACsrB,IAAL,CAAUkc,WAAW,GAAGL,QAAxB,CAApB;CAEAnC,IAAAA,EAAE,CAAC3qC,OAAH;CACA2qC,IAAAA,EAAE,GAAG,IAAL,CA3KwB;;CA+KxB,WAAO;CACHG,MAAAA,cAAc,EAAEA,cADb;CAC8B;CACjCE,MAAAA,YAAY,EAAEA,YAFX;CAE0B;CAC7BK,MAAAA,SAAS,EAAEA,SAHR;CAGoB;CACvBK,MAAAA,UAAU,EAAEA,UAJT;CAKHP,MAAAA,aAAa,EAAEA,aALZ;CAK4B;CAC/BmC,MAAAA,oBAAoB,EAAElD,WAAS,CAACmD,qBAAV,CAAgCpC,aAAhC,CANnB;CAQHqC,MAAAA,UAAU,EAAE;CACRC,QAAAA,KAAK,EAAEpB,SADC;CAER/9B,QAAAA,GAAG,EAAEA,GAFG;CAGRi+B,QAAAA,OAAO,EAAEA,OAHD;CAIRD,QAAAA,OAAO,EAAEA;CAJD,OART;CAeHoB,MAAAA,SAAS,EAAE;CACPhoC,QAAAA,KAAK,EAAEymC,SADA;CAEPrmC,QAAAA,MAAM,EAAEsmC;CAFD,OAfR;CAoBHuB,MAAAA,UAAU,EAAE;CACRjoC,QAAAA,KAAK,EAAEynC,WADC;CAERrnC,QAAAA,MAAM,EAAEsnC;CAFA,OApBT;CAyBHQ,MAAAA,YAAY,EAAE;CACVloC,QAAAA,KAAK,EAAE2nC,aADG;CAEVvnC,QAAAA,MAAM,EAAEsnC;CAFE;CAzBX,KAAP;CA8BH;;CAEsB,SAAhB7B,gBAAgB,CAACZ,EAAD,EAAKkD,KAAL,EAAY;CAC/B,QAAIC,UAAU,GAAG,CAAjB;CAAA,QAAoBC,UAAU,GAAG,CAAjC;CACA,QAAIC,WAAW,GAAG,CAAlB;;CACA,SAAK,IAAIvnC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGonC,KAApB,EAA2BpnC,CAAC,EAA5B,EAAgC;CAC5B,UAAIsnC,UAAU,KAAK,CAAnB,EAAsB;CAClBC,QAAAA,WAAW,GAAGrD,EAAE,CAACR,OAAH,EAAd;CACA4D,QAAAA,UAAU,GAAG,CAACD,UAAU,GAAGE,WAAb,GAA2B,GAA5B,IAAmC,GAAhD;CACH;;CACDF,MAAAA,UAAU,GAAIC,UAAU,KAAK,CAAhB,GAAqBD,UAArB,GAAkCC,UAA/C;CACH;CACJ,GAjPW;CAoPZ;CACA;CACA;CACA;;;CACuB,SAAhBhD,gBAAgB,CAACH,WAAD,EAAc;CACjC,YAAQA,WAAR;CACI,WAAK,EAAL;CACI,eAAO,UAAP;;CACJ,WAAK,EAAL;CACI,eAAO,MAAP;;CACJ,WAAK,EAAL;CACI,eAAO,UAAP;;CACJ,WAAK,GAAL;CACI,eAAO,MAAP;;CACJ,WAAK,GAAL;CACI,eAAO,QAAP;;CACJ,WAAK,GAAL;CACI,eAAO,SAAP;;CACJ,WAAK,GAAL;CACI,eAAO,SAAP;;CACJ;CACI,eAAO,SAAP;CAhBR;CAkBH;;CAEoB,SAAdK,cAAc,CAACJ,SAAD,EAAY;CAC7B,WAAO,CAACA,SAAS,GAAG,EAAb,EAAiBz8B,OAAjB,CAAyB,CAAzB,CAAP;CACH;;CAE2B,SAArBm/B,qBAAqB,CAACU,MAAD,EAAS;CACjC,YAAQA,MAAR;CACI,WAAK,GAAL;CACI,eAAO,OAAP;;CACJ,WAAK,GAAL;CACI,eAAO,OAAP;;CACJ,WAAK,GAAL;CACI,eAAO,OAAP;;CACJ;CACI,eAAO,SAAP;CARR;CAUH;;CA5RW;;CCjBT,SAASC,kCAAT,CAA4C7M,WAA5C,EAAyD;CAC5D,QAAM6F,IAAI,GAAG,EAAb;CACA,QAAMvxB,CAAC,GAAG,IAAIwc,QAAJ,CAAakP,WAAW,CAAC/hC,MAAzB,CAAV;CACA,MAAI4hB,OAAO,GAAGvL,CAAC,CAACw4B,QAAF,CAAW,CAAX,CAAd,CAH4D;;CAI5D,MAAIC,UAAU,GAAGz4B,CAAC,CAACw4B,QAAF,CAAW,CAAX,CAAjB,CAJ4D;;CAK5D,EAA2Bx4B,CAAC,CAACw4B,QAAF,CAAW,CAAX,EALiC;;CAM5D,EAAex4B,CAAC,CAACw4B,QAAF,CAAW,CAAX,EAN6C;;CAQ5D,MAAIjtB,OAAO,KAAK,CAAZ,IAAiBktB,UAAU,KAAK,CAApC,EAAuC;CACnC;CAEA;CACH;;CAED,QAAMC,eAAe,GAAG,CAAC14B,CAAC,CAACw4B,QAAF,CAAW,CAAX,IAAgB,CAAjB,IAAsB,CAA9C,CAd4D;;;CAgB5D,MAAIE,eAAe,KAAK,CAApB,IAAyBA,eAAe,KAAK,CAAjD,EAAoD;CAAG;CACnD;CACA;CACH;;CACD,MAAIC,QAAQ,GAAG34B,CAAC,CAACw4B,QAAF,CAAW,CAAX,IAAgB,EAA/B,CApB4D;;CAsB5D,MAAIG,QAAQ,KAAK,CAAjB,EAAoB;CAChB;CACA;CACH;;CAID,MAAI/c,MAAM,GAAG,CAAb;;CACA,OAAK,IAAI9qB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG6nC,QAApB,EAA8B7nC,CAAC,EAA/B,EAAmC;CAC/B,QAAIyL,GAAG,GAAGyD,CAAC,CAAC44B,SAAF,CAAYhd,MAAZ,EAAoB,KAApB,CAAV,CAD+B;;CAE/BA,IAAAA,MAAM,IAAI,CAAV;;CAEA,QAAIrf,GAAG,KAAK,CAAZ,EAAe;CACX;CACH,KAN8B;;;CAS/B,QAAInQ,GAAG,GAAG,IAAI0I,UAAJ,CAAe42B,WAAW,CAAC/hC,MAA3B,EAAmCiyB,MAAnC,EAA2Crf,GAA3C,CAAV;CACAqf,IAAAA,MAAM,IAAIrf,GAAV,CAV+B;CAY/B;CACA;CACA;;CACA,QAAI2O,MAAM,GAAGupB,WAAS,CAACK,QAAV,CAAmB1oC,GAAnB,CAAb;;CACA,QAAI0E,CAAC,KAAK,CAAV,EAAa;CACT;CACA;CACH;;CAEDygC,IAAAA,IAAI,CAACY,UAAL,GAAkBjnB,MAAM,CAAC8sB,UAAP,CAAkBjoC,KAApC;CACAwhC,IAAAA,IAAI,CAACa,WAAL,GAAmBlnB,MAAM,CAAC8sB,UAAP,CAAkB7nC,MAArC;CACAohC,IAAAA,IAAI,CAACG,YAAL,GAAoBxmB,MAAM,CAAC+sB,YAAP,CAAoBloC,KAAxC;CACAwhC,IAAAA,IAAI,CAACI,aAAL,GAAqBzmB,MAAM,CAAC+sB,YAAP,CAAoB9nC,MAAzC;CAEAohC,IAAAA,IAAI,CAACsH,OAAL,GAAe3tB,MAAM,CAACiqB,cAAtB;CACA5D,IAAAA,IAAI,CAACuH,KAAL,GAAa5tB,MAAM,CAACmqB,YAApB;CACA9D,IAAAA,IAAI,CAACwH,QAAL,GAAgB7tB,MAAM,CAACwqB,SAAvB;CACAnE,IAAAA,IAAI,CAACyH,YAAL,GAAoB9tB,MAAM,CAACsqB,aAA3B;CACAjE,IAAAA,IAAI,CAAC0H,QAAL,GAAgB/tB,MAAM,CAAC6sB,SAAvB;CACAxG,IAAAA,IAAI,CAACjf,SAAL,GAAiBpH,MAAM,CAAC2sB,UAAxB;;CAEA,QAAI3sB,MAAM,CAAC2sB,UAAP,CAAkBC,KAAlB,KAA4B,KAA5B,IACA5sB,MAAM,CAAC2sB,UAAP,CAAkBlB,OAAlB,KAA8B,CAD9B,IAEAzrB,MAAM,CAAC2sB,UAAP,CAAkBjB,OAAlB,KAA8B,CAFlC,EAEqC;CACjCrF,MAAAA,IAAI,CAACjf,SAAL,GAAiB,EAAjB;CACH;;CAED,QAAIskB,OAAO,GAAGrF,IAAI,CAACjf,SAAL,CAAeskB,OAA7B;CACA,QAAID,OAAO,GAAGpF,IAAI,CAACjf,SAAL,CAAeqkB,OAA7B;CAEApF,IAAAA,IAAI,CAAC2H,iBAAL,GAAyB3H,IAAI,CAACC,SAAL,IAAkBoF,OAAO,GAAGD,OAA5B,CAAzB;CAEA,QAAI9+B,UAAU,GAAGzL,GAAG,CAAC0L,QAAJ,CAAa,CAAb,EAAgB,CAAhB,CAAjB;CAEA,QAAIC,WAAW,GAAG,OAAlB;;CACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;CACxB,UAAIC,CAAC,GAAGJ,UAAU,CAACG,CAAD,CAAV,CAAcE,QAAd,CAAuB,EAAvB,CAAR;;CACA,UAAID,CAAC,CAACjH,MAAF,GAAW,CAAf,EAAkB;CACdiH,QAAAA,CAAC,GAAG,MAAMA,CAAV;CACH;;CACDF,MAAAA,WAAW,IAAIE,CAAf;CACH,KArD8B;;;CAuD/Bs5B,IAAAA,IAAI,CAACp5B,KAAL,GAAaJ,WAAb;CACH;;CAED,MAAIohC,QAAQ,GAAGn5B,CAAC,CAACw4B,QAAF,CAAW5c,MAAX,CAAf,CAxF4D;;CAyF5D,MAAIud,QAAQ,KAAK,CAAjB,EAAoB;CAChB;CACA;CACH;;CAIDvd,EAAAA,MAAM;;CACN,OAAK,IAAI9qB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGqoC,QAApB,EAA8BroC,CAAC,EAA/B,EAAmC;CAC/B,QAAIyL,GAAG,GAAGyD,CAAC,CAAC44B,SAAF,CAAYhd,MAAZ,EAAoB,KAApB,CAAV,CAD+B;;CAE/BA,IAAAA,MAAM,IAAI,CAAV;;CAEA,QAAIrf,GAAG,KAAK,CAAZ,EAAe;CACX;CACH;;CACD,IAAU,IAAIzH,UAAJ,CAAe42B,WAAW,CAAC/hC,MAA3B,EAAmCiyB,MAAnC,EAA2Crf,GAA3C,EAPqB;;CAU/Bqf,IAAAA,MAAM,IAAIrf,GAAV;CACH;;CAEDg1B,EAAAA,IAAI,CAACO,SAAL,GAAiB,KAAjB,CA9G4D;;CAiH5D,SAAOP,IAAP;CACH;;CCrHD,MAAMkD,SAAN,CAAgB;CACG,SAARK,QAAQ,CAAC7B,UAAD,EAAa;;CADhB;;CCGT,SAASmG,mCAAT,CAA6C1N,WAA7C,EAA0D;CAC7D,QAAM6F,IAAI,GAAG,EAAb;CACAA,EAAAA,IAAI,CAACO,SAAL,GAAiB,MAAjB;CACA,MAAIlW,MAAM,GAAG,KAAK,CAAlB,CAH6D;;CAK7D,QAAMyd,MAAM,GAAG3N,WAAW,CAAC9P,MAAD,CAA1B;;CAEA,MAAIyd,MAAM,KAAKntC,aAAa,CAACC,GAA7B,EAAkC;CAC9B,WAAOolC,IAAP;CACH;;CAED3V,EAAAA,MAAM,IAAI,CAAV;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAM0d,SAAS,GAAG5N,WAAW,CAAC9P,MAAM,GAAG,CAAV,CAAX,GAA2B8P,WAAW,CAAC9P,MAAD,CAAX,IAAuB,CAApE;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAM2d,OAAO,GAAG7N,WAAW,CAACvvB,KAAZ,CAAkByf,MAAlB,EAA2BA,MAAM,GAAG0d,SAApC,CAAhB;CACAhrC,EAAAA,OAAO,CAACtF,GAAR,CAAY8L,UAAU,CAAC0kC,IAAX,CAAgBD,OAAhB,CAAZ;CACA3d,EAAAA,MAAM,IAAI0d,SAAV;CAEA,QAAMG,MAAM,GAAG/N,WAAW,CAAC9P,MAAD,CAA1B;;CACA,MAAI6d,MAAM,KAAKvtC,aAAa,CAACE,GAA7B,EAAkC;CAC9B,WAAOmlC,IAAP;CACH;;CACD3V,EAAAA,MAAM,IAAI,CAAV;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAM8d,SAAS,GAAGhO,WAAW,CAAC9P,MAAM,GAAG,CAAV,CAAX,GAA2B8P,WAAW,CAAC9P,MAAD,CAAX,IAAuB,CAApE;CAEAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAM+d,OAAO,GAAGjO,WAAW,CAACvvB,KAAZ,CAAkByf,MAAlB,EAA2BA,MAAM,GAAG8d,SAApC,CAAhB;CACAprC,EAAAA,OAAO,CAACtF,GAAR,CAAY8L,UAAU,CAAC0kC,IAAX,CAAgBG,OAAhB,CAAZ;CAEA/d,EAAAA,MAAM,IAAI8d,SAAV;CAEA,QAAME,MAAM,GAAGlO,WAAW,CAAC9P,MAAD,CAA1B;;CAEA,MAAIge,MAAM,KAAK1tC,aAAa,CAACG,GAA7B,EAAkC;CAC9B,WAAOklC,IAAP;CACH;;CACD3V,EAAAA,MAAM,IAAI,CAAV;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAMie,SAAS,GAAGnO,WAAW,CAAC9P,MAAM,GAAG,CAAV,CAAX,GAA2B8P,WAAW,CAAC9P,MAAD,CAAX,IAAuB,CAApE;CACAA,EAAAA,MAAM,IAAI,CAAV;CACA,QAAMke,OAAO,GAAGpO,WAAW,CAACvvB,KAAZ,CAAkByf,MAAlB,EAA2BA,MAAM,GAAGie,SAApC,CAAhB;CACAvrC,EAAAA,OAAO,CAACtF,GAAR,CAAY8L,UAAU,CAAC0kC,IAAX,CAAgBM,OAAhB,CAAZ;CAEA,MAAI1tC,GAAG,GAAG0I,UAAU,CAAC0kC,IAAX,CAAgBG,OAAhB,CAAV;CACA,MAAIzuB,MAAM,GAAGupB,SAAS,CAACK,QAAV,CAAmB1oC,GAAnB,CAAb;CAEAmlC,EAAAA,IAAI,CAACY,UAAL,GAAkBjnB,MAAM,CAAC8sB,UAAP,CAAkBjoC,KAApC;CACAwhC,EAAAA,IAAI,CAACa,WAAL,GAAmBlnB,MAAM,CAAC8sB,UAAP,CAAkB7nC,MAArC;CACAohC,EAAAA,IAAI,CAACG,YAAL,GAAoBxmB,MAAM,CAAC+sB,YAAP,CAAoBloC,KAAxC;CACAwhC,EAAAA,IAAI,CAACI,aAAL,GAAqBzmB,MAAM,CAAC+sB,YAAP,CAAoB9nC,MAAzC;CAEAohC,EAAAA,IAAI,CAACsH,OAAL,GAAe3tB,MAAM,CAACiqB,cAAtB;CACA5D,EAAAA,IAAI,CAACuH,KAAL,GAAa5tB,MAAM,CAACmqB,YAApB;CACA9D,EAAAA,IAAI,CAACwH,QAAL,GAAgB7tB,MAAM,CAACwqB,SAAvB;CACAnE,EAAAA,IAAI,CAACyH,YAAL,GAAoB9tB,MAAM,CAACsqB,aAA3B;CACAjE,EAAAA,IAAI,CAAC0H,QAAL,GAAgB/tB,MAAM,CAAC6sB,SAAvB;CAEA,SAAOxG,IAAP;CACH;;CCvDc,MAAMwI,UAAN,SAAyBp+B,OAAzB,CAAiC;CAC5C1N,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAKwqC,KAAL,GAAa,IAAb;CACA,SAAKC,WAAL,GAAmB,IAAI1pC,MAAM,CAAC0I,WAAX,EAAnB;CACA,SAAKihC,YAAL,GAAoB,IAApB;CACA,SAAKrN,OAAL,GAAe,KAAf;CACA,SAAKC,UAAL,GAAkB,KAAlB;CACA,SAAKqN,UAAL,GAAkB,EAAlB;CACA,SAAKC,QAAL,GAAgB,KAAhB,CATgB;;CAWhB,SAAK9H,cAAL,GAAsB,CAAtB;CACA,SAAK+H,eAAL,GAAuB,KAAvB;CACA,SAAK10B,UAAL,GAAkB,EAAlB;CACA,SAAK20B,QAAL,GAAgB,KAAhB;CACA,SAAK9qC,MAAL,CAAYzH,KAAZ,CAAkBmT,aAAlB,CAAgConB,GAAhC,GAAsC/xB,MAAM,CAACgF,GAAP,CAAWC,eAAX,CAA2B,KAAKykC,WAAhC,CAAtC;CACA,UAAM;CACFh1C,MAAAA,KADE;CAEFwV,MAAAA,MAAM,EAAE;CAAC/L,QAAAA;CAAD;CAFN,QAGFc,MAHJ;CAMAd,IAAAA,KAAK,CAAC,KAAKurC,WAAN,EAAmB,YAAnB,EAAiC,MAAM;CACxC,WAAKI,eAAL,GAAuB,IAAvB;CACA,WAAK7qC,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACiC,aAAxB;CACH,KAHI,CAAL;CAKAoE,IAAAA,KAAK,CAAC,KAAKurC,WAAN,EAAmB,aAAnB,EAAkC,MAAM;CACzC,WAAKzqC,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACkC,cAAxB;CACH,KAFI,CAAL;CAIAiF,IAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,aAAjB,EAAgC,MAAhC;CACH;;CAEDqB,EAAAA,OAAO,GAAG;CACN,SAAKgiB,IAAL;;CACA,QAAI,KAAK6tB,YAAT,EAAuB;CACnB,UAAI,KAAKD,WAAT,EAAsB;CAClB,aAAKA,WAAL,CAAiBM,kBAAjB,CAAoC,KAAKL,YAAzC;CACH;;CACD,WAAKD,WAAL,GAAmB,IAAnB;CACA,WAAKC,YAAL,GAAoB,IAApB;CACH;;CAED,QAAInrC,KAAK,CAACC,OAAN,CAAc,KAAK2W,UAAnB,CAAJ,EAAoC;CAChC,WAAKA,UAAL,CAAgB3U,MAAhB,GAAyB,CAAzB;CACH;;CAED,SAAKqpC,eAAL,GAAuB,KAAvB;CACA,SAAKxN,OAAL,GAAe,KAAf;CACA,SAAKC,UAAL,GAAkB,KAAlB;CACA,SAAKwF,cAAL,GAAsB,CAAtB;CACA,SAAK6H,UAAL,GAAkB,IAAlB;CACA,SAAKC,QAAL,GAAgB,KAAhB;CACA,SAAKtoC,GAAL;CACA,SAAKtC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,aAAtB,EAAqC,SAArC;CACH;;CAEQ,MAALyf,KAAK,GAAG;CACR,WAAO,KAAKwxB,WAAL,CAAiBO,UAAxB;CACH;;CAEc,MAAXC,WAAW,GAAG;CACd,WAAO,KAAKhyB,KAAL,KAAejb,kBAAkB,CAAChC,IAAzC;CACH;;CAEgB,MAAbkvC,aAAa,GAAG;CAChB,WAAO,KAAKjyB,KAAL,KAAejb,kBAAkB,CAACE,MAAzC;CACH;;CAEe,MAAZitC,YAAY,GAAG;CACf,WAAO,KAAKlyB,KAAL,KAAejb,kBAAkB,CAACC,KAAzC;CACH;;CAEW,MAARuhB,QAAQ,GAAG;CACX,WAAO,KAAKirB,WAAL,CAAiBjrB,QAAxB;CACH;;CAEW,MAARA,QAAQ,CAACA,QAAD,EAAW;CACnB,SAAKirB,WAAL,CAAiBjrB,QAAjB,GAA4BA,QAA5B;CACH;;CAED0e,EAAAA,WAAW,CAACC,OAAD,EAAUrrB,EAAV,EAAcsrB,QAAd,EAAwB;CAC/B,UAAMp+B,MAAM,GAAG,KAAKA,MAApB;;CAEA,QAAI,CAAC,KAAKq9B,OAAV,EAAmB;CACf,UAAIe,QAAQ,IAAID,OAAO,CAAC,CAAD,CAAP,KAAe,CAA/B,EAAkC;CAC9B,cAAME,UAAU,GAAIF,OAAO,CAAC,CAAD,CAAP,GAAa,IAAjC;CACAn+B,QAAAA,MAAM,CAACzH,KAAP,CAAagZ,eAAb,CAA6B;CACzBC,UAAAA,WAAW,EAAE6sB;CADY,SAA7B,EAF8B;;CAO9B,YAAIA,UAAU,KAAK/hC,cAAc,CAACE,IAAlC,EAAwC;CACpC,eAAKwO,IAAL,CAAUzP,YAAY,CAACK,yBAAvB;CACA;CACH;;CACD,YAAI,CAACoE,MAAM,CAAC8Z,MAAP,CAAcxP,WAAnB,EAAgC;CAC5BtK,UAAAA,MAAM,CAAC8Z,MAAP,CAAcxP,WAAd,GAA4BnE,GAAG,EAA/B;CACH;;CAED,aAAKilC,0BAAL,CAAgCjN,OAAhC,EAAyCrrB,EAAzC,EAA6CsrB,QAA7C,EAAuDC,UAAvD;;CACA,aAAKhB,OAAL,GAAe,IAAf;CACH;CACJ,KAnBD,MAmBO;CACH,WAAKgO,YAAL,CAAkBlN,OAAlB,EAA2BrrB,EAA3B,EAA+BsrB,QAA/B;CACH;CACJ;;CAEDkN,EAAAA,SAAS,GAAG;CACR,UAAMhzB,UAAU,GAAG,KAAKnC,UAAL,CAAgBoC,KAAhB,EAAnB;;CACA,QAAID,UAAJ,EAAgB;CACZ,WAAK+yB,YAAL,CAAkB/yB,UAAU,CAAC6lB,OAA7B,EAAsC7lB,UAAU,CAACxF,EAAjD,EAAqDwF,UAAU,CAAC8lB,QAAhE;CACH;CACJ;;CAGDgN,EAAAA,0BAA0B,CAACjN,OAAD,EAAUrrB,EAAV,EAAcsrB,QAAd,EAAwBC,UAAxB,EAAoC;CAC1D,QAAIzxB,IAAI,GAAGuxB,OAAO,CAACxxB,KAAR,CAAc,CAAd,CAAX;CACA,QAAI+O,MAAM,GAAG,EAAb;;CAEA,QAAI2iB,UAAU,KAAK/hC,cAAc,CAACC,IAAlC,EAAwC;CACpCmf,MAAAA,MAAM,GAAGqtB,kCAAkC,CAACn8B,IAAD,CAA3C;CACH,KAFD,MAEO,IAAIyxB,UAAU,KAAK/hC,cAAc,CAACE,IAAlC,EAAwC;CAC3Ckf,MAAAA,MAAM,GAAGkuB,mCAAmC,CAACh9B,IAAD,CAA5C;CACH;;CACD,UAAM2+B,QAAQ,GAAG;CACb7mB,MAAAA,EAAE,EAAE,CADS;CACN;CACPxf,MAAAA,IAAI,EAAE,OAFO;CAGb88B,MAAAA,SAAS,EAAE,IAHE;CAIbxiB,MAAAA,QAAQ,EAAE,CAJG;CAKbkjB,MAAAA,IAAI,EAAE91B,IALO;CAMb+1B,MAAAA,UAAU,EAAEjnB,MAAM,CAACinB,UANN;CAObC,MAAAA,WAAW,EAAElnB,MAAM,CAACknB,WAPP;CAQbN,MAAAA,SAAS,EAAE5mB,MAAM,CAAC4mB;CARL,KAAjB,CAT0D;;CAoB1D,UAAMkJ,OAAO,GAAG/M,KAAG,CAACqD,mBAAJ,CAAwByJ,QAAxB,CAAhB;CACA,SAAKf,KAAL,GAAa,IAAb;;CACA,QAAIgB,OAAO,CAACrxC,MAAZ,EAAoB;CAChB,WAAKsxC,YAAL,CAAkBD,OAAO,CAACrxC,MAA1B;CACH;;CACD,SAAK2oC,cAAL,GAAsB,CAAtB;CACA,SAAK6H,UAAL,GAAkB,IAAlB;CACA,SAAKC,QAAL,GAAgB,KAAhB;CACH,GAlJ2C;;;CAqJ5CS,EAAAA,YAAY,CAAClN,OAAD,EAAUrrB,EAAV,EAAcsrB,QAAd,EAAwB;CAChC,UAAMp+B,MAAM,GAAG,KAAKA,MAApB;CACA,QAAIk8B,WAAW,GAAGiC,OAAO,CAACxxB,KAAR,CAAc,CAAd,CAAlB;CACA,QAAIgZ,KAAK,GAAGuW,WAAW,CAAC5hB,UAAxB;CACA,QAAIgpB,GAAG,GAAG,CAAV;CACA,QAAIoI,GAAG,GAAG54B,EAAV;CAEA,UAAMiC,MAAM,GAAG/U,MAAM,CAACzH,KAAP,CAAamT,aAA5B;;CAEA,QAAIqJ,MAAM,CAAC42B,QAAP,CAAgBnqC,MAAhB,GAAyB,CAA7B,EAAgC;CAC5B,WAAKoqC,YAAL,CAAkB72B,MAAM,CAAC42B,QAAP,CAAgBtxC,KAAhB,CAAsB,CAAtB,CAAlB,EAA4C0a,MAAM,CAAC42B,QAAP,CAAgBE,GAAhB,CAAoB,CAApB,CAA5C;CACA,WAAKjB,QAAL,GAAgB,KAAhB;CACH;;CACD,QAAI71B,MAAM,CAAC+2B,IAAP,IAAeJ,GAAG,GAAG,KAAKf,UAAL,CAAgBe,GAAtB,GAA4B,IAA/C,EAAqD;CACjD32B,MAAAA,MAAM,CAAC+2B,IAAP,GAAc,KAAd;CACA,WAAKnB,UAAL,GAAkB,EAAlB;CACH,KAHD,MAGO,IAAI,KAAKA,UAAL,IAAmBe,GAAG,GAAG,KAAKf,UAAL,CAAgBe,GAA7C,EAAkD;CACrD;CACA,UAAIK,SAAS,GAAG,IAAI,KAAKpB,UAAL,CAAgB9iC,IAApC;CACA,UAAImkC,OAAO,GAAG,IAAI1mC,UAAJ,CAAeymC,SAAf,CAAd;CACAC,MAAAA,OAAO,CAAC,CAAD,CAAP,GAAaD,SAAS,KAAK,EAAd,GAAmB,GAAhC;CACAC,MAAAA,OAAO,CAAC,CAAD,CAAP,GAAaD,SAAS,KAAK,EAAd,GAAmB,GAAhC;CACAC,MAAAA,OAAO,CAAC,CAAD,CAAP,GAAaD,SAAS,KAAK,CAAd,GAAkB,GAA/B;CACAC,MAAAA,OAAO,CAAC,CAAD,CAAP,GAAaD,SAAS,GAAG,GAAzB;CACAC,MAAAA,OAAO,CAAC9wB,GAAR,CAAYujB,KAAG,CAACC,KAAJ,CAAUU,IAAtB,EAA4B,CAA5B;CACA4M,MAAAA,OAAO,CAAC9wB,GAAR,CAAY,KAAKyvB,UAAL,CAAgB/9B,IAA5B,EAAkC,CAAlC;CAEA,WAAK+9B,UAAL,CAAgBnrB,QAAhB,GAA2BksB,GAAG,GAAG,KAAKf,UAAL,CAAgBe,GAAjD,CAXqD;;CAarD,UAAIO,OAAO,GAAGxN,KAAG,CAACgB,IAAJ,CAAS,KAAKkL,UAAd,EAA0B,KAAKA,UAAL,CAAgBe,GAA1C,CAAd;CACA,UAAItiC,MAAM,GAAG,IAAI9D,UAAJ,CAAe2mC,OAAO,CAAC3xB,UAAR,GAAqB0xB,OAAO,CAAC1xB,UAA5C,CAAb;CACAlR,MAAAA,MAAM,CAAC8R,GAAP,CAAW+wB,OAAX,EAAoB,CAApB;CACA7iC,MAAAA,MAAM,CAAC8R,GAAP,CAAW8wB,OAAX,EAAoBC,OAAO,CAAC3xB,UAA5B,EAhBqD;;CAkBrD,UAAIlR,MAAM,CAACjP,MAAX,EAAmB;CACf,aAAKsxC,YAAL,CAAkBriC,MAAM,CAACjP,MAAzB;CACH;;CACD6F,MAAAA,MAAM,CAAC89B,YAAP;CACA99B,MAAAA,MAAM,CAAC+9B,WAAP,CAAmB;CAAC50B,QAAAA,GAAG,EAAE,IAAN;CAAY2J,QAAAA,EAAE,EAAEA,EAAhB;CAAoBkrB,QAAAA,GAAG,EAAEh+B,MAAM,CAAC6Z,KAAP,GAAe7Z,MAAM,CAAC6Z,KAAP,CAAaokB,KAA5B,GAAoC;CAA7D,OAAnB;;CACA,UAAI,CAACj+B,MAAM,CAAC8Z,MAAP,CAAcvP,UAAnB,EAA+B;CAC3BvK,QAAAA,MAAM,CAAC8Z,MAAP,CAAcvP,UAAd,GAA2BpE,GAAG,EAA9B;CACAnG,QAAAA,MAAM,CAAC69B,uBAAP;CACH;CACJ,KA3BM,MA2BA;CACH79B,MAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,aAAjB,EAAgC,sCAAhC;CACA,WAAKoxC,QAAL,GAAgB,KAAhB;CACA,WAAKD,UAAL,GAAkB,EAAlB;CACH;;CAED,QAAI,CAAC,KAAKA,UAAV,EAAsB;CAClB,WAAKA,UAAL,GAAkB,EAAlB;CACH;;CAED,SAAKA,UAAL,CAAgBjmB,EAAhB,GAAqB,CAArB;CACA,SAAKimB,UAAL,CAAgB7H,cAAhB,GAAiC,EAAE,KAAKA,cAAxC;CACA,SAAK6H,UAAL,CAAgB9iC,IAAhB,GAAuB8d,KAAvB;CACA,SAAKglB,UAAL,CAAgBe,GAAhB,GAAsBA,GAAtB;CACA,SAAKf,UAAL,CAAgBrH,GAAhB,GAAsBA,GAAtB;CACA,SAAKqH,UAAL,CAAgBuB,UAAhB,GAA6B9N,QAA7B;CACA,SAAKuM,UAAL,CAAgB/9B,IAAhB,GAAuBsvB,WAAvB,CA3DgC;;CA6DhC,SAAKyO,UAAL,CAAgBrV,KAAhB,GAAwB;CACpB2N,MAAAA,SAAS,EAAE,CADS;CAEpBC,MAAAA,SAAS,EAAE9E,QAAQ,GAAG,CAAH,GAAO,CAFN;CAGpB+E,MAAAA,YAAY,EAAE/E,QAAQ,GAAG,CAAH,GAAO,CAHT;CAIpBgF,MAAAA,aAAa,EAAE,CAJK;CAKpBG,MAAAA,SAAS,EAAEnF,QAAQ,GAAG,CAAH,GAAO;CALN,KAAxB,CA7DgC;;CAsEhC,QAAI,CAAC,KAAKwM,QAAN,IAAkB71B,MAAM,CAAC42B,QAAP,CAAgBnqC,MAAhB,KAA2B,CAAjD,EAAoD;CAChDxB,MAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,aAAjB,EAAgC,mBAAhC;CACA,WAAKoxC,QAAL,GAAgB,IAAhB;CACA71B,MAAAA,MAAM,CAACgE,WAAP,GAAqBhE,MAAM,CAAC42B,QAAP,CAAgBE,GAAhB,CAAoB,CAApB,CAArB;CACH;;CAED,QAAI,CAAC,KAAKvO,UAAN,IAAoBvoB,MAAM,CAACE,UAAP,GAAoB,CAAxC,IAA6CF,MAAM,CAACG,WAAP,GAAqB,CAAtE,EAAyE;CACrElV,MAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,aAAjB,EAAiC,oBAAmBub,MAAM,CAACE,UAAW,IAAGF,MAAM,CAACG,WAAY,EAA5F;CACAlV,MAAAA,MAAM,CAACzH,KAAP,CAAagZ,eAAb,CAA6B;CACzBhR,QAAAA,KAAK,EAAEwU,MAAM,CAACE,UADW;CAEzBtU,QAAAA,MAAM,EAAEoU,MAAM,CAACG;CAFU,OAA7B;CAIAlV,MAAAA,MAAM,CAACzH,KAAP,CAAaqa,kBAAb;CACA,WAAK0qB,UAAL,GAAkB,IAAlB;CACH;CACJ;;CAEiB,QAAZmO,YAAY,CAACtxC,MAAD,EAAS;CACvB,UAAM;CACF1E,MAAAA,KADE;CAEFwV,MAAAA,MAAM,EAAE;CAAC/L,QAAAA;CAAD;CAFN,QAGF,KAAKc,MAHT;;CAKA,QAAI7F,MAAM,KAAK,IAAf,EAAqB;CACjB;CACH;;CAED,QAAI,KAAKuwC,YAAL,KAAsB,IAA1B,EAAgC;CAC5B,WAAKA,YAAL,GAAoB,KAAKD,WAAL,CAAiB0B,eAAjB,CAAiCtuC,UAAU,CAACC,GAA5C,CAApB;CACAoB,MAAAA,KAAK,CAAC,KAAKwrC,YAAN,EAAoB,OAApB,EAA8BjxC,KAAD,IAAW;CACzC,aAAKuG,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACmC,oBAAxB,EAA8CvB,KAA9C;CACA,aAAK2yC,gBAAL,CAAsB,IAAtB;CACH,OAHI,CAAL;CAIH,KAhBsB;;;CAsBvB,QAAI,KAAK1B,YAAL,CAAkB2B,QAAtB,EAAgC;CAC5B;CACH;;CAED,QAAI,KAAK3B,YAAL,CAAkB2B,QAAlB,KAA+B,KAA/B,IAAwC,KAAKpB,WAAjD,EAA8D;CAC1D,UAAI;CACA,aAAKP,YAAL,CAAkBe,YAAlB,CAA+BtxC,MAA/B;;CACA,YAAIA,MAAM,IAAIA,MAAM,CAACwS,KAArB,EAA4B;CACxBxS,UAAAA,MAAM,CAACwS,KAAP,CAAaxS,MAAM,CAACmgB,UAApB;CACH;CACJ,OALD,CAKE,OAAO7gB,KAAP,EAAc;CACZ;CACAqF,QAAAA,OAAO,CAACrF,KAAR,CAAc,wCAAd;CACA,aAAKuG,MAAL,CAAYqb,MAAZ;CACH;;CACD;CACH,KAtCsB;;;CA0CvB,QAAI,KAAK6vB,aAAT,EAAwB;CACpB,WAAKlrC,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACmC,oBAAxB,EAA8C,+DAA9C;CACH,KAFD,MAEO,IAAI,KAAKmwC,YAAT,EAAuB;CAC1B,WAAKnrC,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACmC,oBAAxB,EAA8C,uBAA9C;CACH,KAFM,MAEA;CACH,UAAI,KAAK0vC,YAAL,CAAkB2B,QAAlB,KAA+B,IAAnC,EAAyC;CACrC,aAAKrsC,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACoC,mBAAxB;CACA,aAAKmxC,gBAAL,CAAsB,IAAtB;CACH;CACJ;CACJ;;CAEDvvB,EAAAA,IAAI,GAAG;CACH,QAAI,KAAKouB,WAAT,EAAsB;CAClB,UAAI,KAAKP,YAAT,EAAuB;CACnB,aAAKA,YAAL,CAAkB/wB,KAAlB;CACH;CACJ;;CACD,SAAK2yB,WAAL;CACH;;CAEDF,EAAAA,gBAAgB,CAACzzB,IAAD,EAAO;CACnB,UAAMpgB,KAAK,GAAG,KAAKyH,MAAL,CAAYzH,KAA1B;CACA,UAAMwc,MAAM,GAAGxc,KAAK,CAACmT,aAArB;CACA,SAAKo/B,QAAL,GAAgBnyB,IAAhB;;CACA,QAAI5D,MAAM,CAAC42B,QAAP,CAAgBnqC,MAAhB,GAAyB,CAA7B,EAAgC;CAC5B,UAAIuT,MAAM,CAAC42B,QAAP,CAAgBE,GAAhB,CAAoB,CAApB,IAAyB92B,MAAM,CAACgE,WAAhC,GAA8C,CAAlD,EAAqD;CACjDhE,QAAAA,MAAM,CAACgE,WAAP,GAAqBhE,MAAM,CAAC42B,QAAP,CAAgBE,GAAhB,CAAoB,CAApB,CAArB;CACH;CACJ;CACJ;;CAGDD,EAAAA,YAAY,CAACvxC,KAAD,EAAQwxC,GAAR,EAAa;CAErB,QAAI,KAAKZ,WAAL,IAAoB,KAAKP,YAAL,CAAkB2B,QAAlB,KAA+B,KAAvD,EAA8D;CAC1D,UAAI;CACA,aAAK3B,YAAL,CAAkB1+B,MAAlB,CAAyB3R,KAAzB,EAAgCwxC,GAAhC;CACH,OAFD,CAEE,OAAOnnC,CAAP,EAAU;CACR5F,QAAAA,OAAO,CAACrF,KAAR,CAAciL,CAAd;CACH;CACJ;CACJ;;CAED4nC,EAAAA,WAAW,GAAG;CACV,QAAI,KAAKrB,WAAT,EAAsB;CAClB,WAAKR,WAAL,CAAiB6B,WAAjB;CACH;CACJ;;CAtU2C;;CCHjC,MAAMC,aAAN,CAAoB;CAC/B9tC,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,SAAKA,MAAL,GAAcA,MAAd;;CACA,QAAIA,MAAM,CAACpB,IAAP,CAAYtI,SAAZ,IAAyB0J,MAAM,CAACpB,IAAP,CAAYpH,MAAzC,EAAiD;CAC7ColB,MAAAA,UAAU,CAAC,KAAK4vB,kBAAL,CAAwBrtC,IAAxB,CAA6B,IAA7B,CAAD,EAAqC,GAArC,CAAV;CACH,KAFD,MAEO;CACH,WAAKstC,aAAL,GAAqB,IAAI3uB,MAAJ,CAAW9d,MAAM,CAACpB,IAAP,CAAY5H,OAAvB,CAArB;;CACA,WAAK01C,kBAAL;;CACA1sC,MAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,eAAjB,EAAkC,MAAlC;CACH;CACJ;;CAEDgzC,EAAAA,kBAAkB,GAAI;CAClB,QAAI,CAAC,KAAKxsC,MAAL,CAAY2sC,MAAjB,EAAyB;CACrB,WAAK3sC,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACM,IAAxB;CACH;;CACD,SAAK6G,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACE,iBAAxB;CACH;;CAED8B,EAAAA,OAAO,GAAG;CACN,QAAI,KAAK4xC,aAAT,EAAwB;CACpB,WAAKA,aAAL,CAAmB/uB,WAAnB,CAA+B;CAACkvB,QAAAA,GAAG,EAAEn0C,gBAAgB,CAACG;CAAvB,OAA/B;CACA,WAAK6zC,aAAL,CAAmBnf,SAAnB;CACA,WAAKmf,aAAL,GAAqB,IAArB;CACH;;CACD,SAAKzsC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAuB,eAAvB,EAAuC,SAAvC;CACH;;CAEDkzC,EAAAA,kBAAkB,GAAG;CACjB,UAAM;CACFj3C,MAAAA,KADE;CAEFwV,MAAAA,MAAM,EAAE;CAAC/L,QAAAA;CAAD;CAFN,QAGF,KAAKc,MAHT;;CAKA,SAAKysC,aAAL,CAAmBtuB,SAAnB,GAAgCpe,KAAD,IAAW;CACtC,YAAM8S,GAAG,GAAG9S,KAAK,CAAC6M,IAAlB;;CACA,cAAQiG,GAAG,CAAC+5B,GAAZ;CACI,aAAKl1C,eAAe,CAACC,IAArB;CACIlC,UAAAA,KAAK,CAAC+D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACC,IAAzD;;CACA,cAAI,CAAC,KAAKqI,MAAL,CAAY2sC,MAAjB,EAAyB;CACrB,iBAAK3sC,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACM,IAAxB;CACH;;CACD,eAAK6G,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACE,iBAAxB;;CACA,eAAK8zC,SAAL;;CACA;;CACJ,aAAKn1C,eAAe,CAACW,SAArB;CACI5C,UAAAA,KAAK,CAAC+D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACW,SAAzD,EAAoEwa,GAAG,CAACi6B,IAAxE;;CACA,cAAI,CAAC,KAAK9sC,MAAL,CAAY8Z,MAAZ,CAAmBxP,WAAxB,EAAqC;CACjC,iBAAKtK,MAAL,CAAY8Z,MAAZ,CAAmBxP,WAAnB,GAAiCnE,GAAG,EAApC;CACH;;CACD,eAAKnG,MAAL,CAAYzH,KAAZ,CAAkBgZ,eAAlB,CAAkC;CAC9BC,YAAAA,WAAW,EAAEqB,GAAG,CAACi6B;CADa,WAAlC;CAGA;;CACJ,aAAKp1C,eAAe,CAACU,SAArB;CACI3C,UAAAA,KAAK,CAAC+D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACU,SAAzD,EAAoEya,GAAG,CAACi6B,IAAxE;CACA,eAAK9sC,MAAL,CAAYrJ,KAAZ,CAAkBkhB,eAAlB,CAAkC;CAC9BrG,YAAAA,WAAW,EAAEqB,GAAG,CAACi6B;CADa,WAAlC;CAGA;;CACJ,aAAKp1C,eAAe,CAACE,SAArB;CACInC,UAAAA,KAAK,CAAC+D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACE,SAAzD,EAAqE,SAAQib,GAAG,CAACxC,CAAE,WAAUwC,GAAG,CAACpK,CAAE,EAAnG;CACA,eAAKzI,MAAL,CAAYzH,KAAZ,CAAkBgZ,eAAlB,CAAkC;CAC9BhR,YAAAA,KAAK,EAAEsS,GAAG,CAACxC,CADmB;CAE9B1P,YAAAA,MAAM,EAAEkS,GAAG,CAACpK;CAFkB,WAAlC;CAIA,eAAKzI,MAAL,CAAYzH,KAAZ,CAAkBqa,kBAAlB;CACA;;CACJ,aAAKlb,eAAe,CAACO,SAArB;CACIxC,UAAAA,KAAK,CAAC+D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACO,SAAzD,EAAqE,YAAW4a,GAAG,CAAC2E,QAAS,eAAc3E,GAAG,CAAC4E,UAAW,EAA1H;CACA,eAAKzX,MAAL,CAAYrJ,KAAZ,CAAkBkhB,eAAlB,CAAkChF,GAAlC;CACA,eAAK7S,MAAL,CAAYrJ,KAAZ,CAAkBuhB,cAAlB,CAAiCrF,GAAjC;CACA;;CACJ,aAAKnb,eAAe,CAACG,MAArB;CACI;CACA,eAAKmI,MAAL,CAAY89B,YAAZ;CACA,eAAK99B,MAAL,CAAYzH,KAAZ,CAAkBV,MAAlB,CAAyBgb,GAAzB;CACA,eAAK7S,MAAL,CAAYgL,IAAZ,CAAiBnS,MAAM,CAACS,UAAxB,EAAoCuZ,GAAG,CAACC,EAAxC;CACA,eAAK9S,MAAL,CAAY+9B,WAAZ,CAAwB;CAAC50B,YAAAA,GAAG,EAAE,IAAN;CAAY2J,YAAAA,EAAE,EAAED,GAAG,CAACC,EAApB;CAAwBkrB,YAAAA,GAAG,EAAEnrB,GAAG,CAACorB;CAAjC,WAAxB;;CACA,cAAI,CAAC,KAAKj+B,MAAL,CAAY8Z,MAAZ,CAAmBvP,UAAxB,EAAoC;CAChC,iBAAKvK,MAAL,CAAY8Z,MAAZ,CAAmBvP,UAAnB,GAAgCpE,GAAG,EAAnC;CACA,iBAAKnG,MAAL,CAAY69B,uBAAZ;CACH;;CACD;;CACJ,aAAKnmC,eAAe,CAACI,SAArB;CACIrC,UAAAA,KAAK,CAAC+D,GAAN,CAAW,eAAX,EAA2B,YAA3B,EAAyC9B,eAAe,CAACI,SAAzD,EAAqE,UAAS+a,GAAG,CAACC,EAAG,EAArF,EADJ;;CAGI,cAAI,KAAK9S,MAAL,CAAYhH,OAAhB,EAAyB;CACrB,iBAAKgH,MAAL,CAAYrJ,KAAZ,CAAkBD,IAAlB,CAAuBmc,GAAG,CAAC1Y,MAA3B,EAAmC0Y,GAAG,CAACC,EAAvC;CACH;;CACD;;CACJ;CACI,eAAK9S,MAAL,CAAY6S,GAAG,CAAC+5B,GAAhB,KAAwB,KAAK5sC,MAAL,CAAY6S,GAAG,CAAC+5B,GAAhB,EAAqB/5B,GAArB,CAAxB;CAxDR;CA0DH,KA5DD;CA6DH;;CAEDg6B,EAAAA,SAAS,GAAG;CACR,UAAM52B,GAAG,GAAG;CACRxgB,MAAAA,KAAK,EAAE,KAAKuK,MAAL,CAAYpB,IAAZ,CAAiBnJ,KADhB;CAER0B,MAAAA,gBAAgB,EAAE,KAAK6I,MAAL,CAAYpB,IAAZ,CAAiBzH,gBAF3B;CAGRI,MAAAA,MAAM,EAAE,KAAKyI,MAAL,CAAYpB,IAAZ,CAAiBrH,MAHjB;CAIRlC,MAAAA,WAAW,EAAE,KAAK2K,MAAL,CAAYpB,IAAZ,CAAiBvJ;CAJtB,KAAZ;CAMA,SAAKo3C,aAAL,CAAmB/uB,WAAnB,CAA+B;CAC3BkvB,MAAAA,GAAG,EAAEn0C,gBAAgB,CAACd,IADK;CAE3Bse,MAAAA,GAAG,EAAEyX,IAAI,CAACC,SAAL,CAAe1X,GAAf,CAFsB;CAG3BwB,MAAAA,UAAU,EAAE,KAAKzX,MAAL,CAAYrJ,KAAZ,CAAkB4f,YAAlB,CAA+BkB;CAHhB,KAA/B;CAKH;;CAEDymB,EAAAA,WAAW,CAAChC,WAAD,EAAcppB,EAAd,EAAkBi6B,QAAlB,EAA4B;CAGnC,UAAM9qC,OAAO,GAAG;CACZiD,MAAAA,IAAI,EAAE5M,UAAU,CAACC,KADL;CAEZua,MAAAA,EAAE,EAAEtS,IAAI,CAACC,GAAL,CAASqS,EAAT,EAAa,CAAb,CAFQ;CAGZi6B,MAAAA;CAHY,KAAhB,CAHmC;;CASnC,SAAKN,aAAL,CAAmB/uB,WAAnB,CAA+B;CAC3BkvB,MAAAA,GAAG,EAAEn0C,gBAAgB,CAACN,MADK;CAE3BgC,MAAAA,MAAM,EAAE+hC,WAFmB;CAG3Bj6B,MAAAA;CAH2B,KAA/B,EAIG,CAACi6B,WAAW,CAAC/hC,MAAb,CAJH;CAKH;;CAED6yC,EAAAA,WAAW,CAAC9Q,WAAD,EAAcppB,EAAd,EAAkB;CACzB,QAAI,KAAK9S,MAAL,CAAYpB,IAAZ,CAAiBrH,MAAjB,IAA2B,CAAC,KAAKyI,MAAL,CAAYpB,IAAZ,CAAiBnH,YAAjD,EAA+D;CAC3D,WAAKw1C,mBAAL,CAAyB/Q,WAAzB,EAAsCppB,EAAtC;CACH,KAFD,MAEO,IAAI,KAAK9S,MAAL,CAAYpB,IAAZ,CAAiBpH,MAArB,EAA6B;CAChC,WAAKy1C,mBAAL,CAAyB/Q,WAAzB,EAAsCppB,EAAtC;CACH,KAFM,MAEA;CACH,WAAKo6B,YAAL,CAAkBhR,WAAlB,EAA+BppB,EAA/B;CACH;CACJ,GAvI8B;;;CA0I/Bo6B,EAAAA,YAAY,CAAChR,WAAD,EAAcppB,EAAd,EAAkB;CAC1B,UAAM7Q,OAAO,GAAG;CACZiD,MAAAA,IAAI,EAAE5M,UAAU,CAAC3B,KADL;CAEZmc,MAAAA,EAAE,EAAEtS,IAAI,CAACC,GAAL,CAASqS,EAAT,EAAa,CAAb;CAFQ,KAAhB,CAD0B;;CAM1B,SAAK25B,aAAL,CAAmB/uB,WAAnB,CAA+B;CAC3BkvB,MAAAA,GAAG,EAAEn0C,gBAAgB,CAACN,MADK;CAE3BgC,MAAAA,MAAM,EAAE+hC,WAFmB;CAG3Bj6B,MAAAA;CAH2B,KAA/B,EAIG,CAACi6B,WAAW,CAAC/hC,MAAb,CAJH;CAKH;;CAGD8yC,EAAAA,mBAAmB,CAAC/Q,WAAD,EAAcppB,EAAd,EAAkB;CACjC;CACA,SAAK25B,aAAL,CAAmB/uB,WAAnB,CAA+B;CAC3BkvB,MAAAA,GAAG,EAAEn0C,gBAAgB,CAACC,WADK;CAE3ByB,MAAAA,MAAM,EAAE+hC,WAFmB;CAG3BppB,MAAAA,EAAE,EAAEtS,IAAI,CAACC,GAAL,CAASqS,EAAT,EAAa,CAAb;CAHuB,KAA/B,EAIG,CAACopB,WAAW,CAAC/hC,MAAb,CAJH;CAKH;;CA/J8B;;CCFpB,MAAMmX,YAAN,SAA2BnF,OAA3B,CAAmC;CAC9C1N,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CAEA,SAAKmtC,MAAL,GAAc,IAAd;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKpP,KAAL,GAAa,CAAC,CAAd;CACA,SAAK9nB,UAAL,GAAkB,EAAlB;CACA,SAAK20B,QAAL,GAAgB,KAAhB;CACA,SAAKwC,YAAL;CACH;;CAEDzyC,EAAAA,OAAO,GAAG;CACN,QAAI,KAAKmF,MAAL,CAAYutC,IAAZ,CAAiBC,GAAjB,CAAqB,KAAKxtC,MAAL,CAAY6Z,KAAjC,CAAJ,EAA6C;CACzCiiB,MAAAA,aAAa,CAAC,KAAK97B,MAAL,CAAYutC,IAAZ,CAAiBptC,GAAjB,CAAqB,KAAKH,MAAL,CAAY6Z,KAAjC,CAAD,CAAb;CACA,WAAK7Z,MAAL,CAAYutC,IAAZ,CAAiBxyB,MAAjB,CAAwB,KAAK/a,MAAL,CAAY6Z,KAApC;CACA,WAAKyzB,YAAL,GAAoB,IAApB;CACH;;CACD,SAAKF,cAAL,GAAsB,IAAtB;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKpP,KAAL,GAAa,CAAC,CAAd;;CACA,QAAI1+B,KAAK,CAACC,OAAN,CAAc,KAAK2W,UAAnB,CAAJ,EAAoC;CAChC,WAAKA,UAAL,CAAgB3U,MAAhB,GAAyB,CAAzB;CACA,WAAK2U,UAAL,GAAkB,EAAlB;CACH,KAHD,MAGO;CACH,WAAKA,UAAL,GAAkB,EAAlB;CACH;;CACD,SAAK20B,QAAL,GAAgB,KAAhB;CACA,SAAKxoC,GAAL;CACH;;CAEDmrC,EAAAA,QAAQ,CAAC3Q,SAAD,EAAY;CAChB,QAAI,CAACA,SAAL,EAAgB;CACZ,aAAO,CAAC,CAAR;CACH;;CACD,QAAI,CAAC,KAAKsQ,cAAV,EAA0B;CACtB,WAAKA,cAAL,GAAsBtQ,SAAtB;CACA,WAAKuQ,cAAL,GAAsBjnC,IAAI,CAACD,GAAL,EAAtB;CACA,WAAK83B,KAAL,GAAa,CAAC,CAAd;CACH,KAJD,MAIO;CACH,UAAInB,SAAJ,EAAe;CACX,aAAKmB,KAAL,GAAc73B,IAAI,CAACD,GAAL,KAAa,KAAKknC,cAAnB,IAAsCvQ,SAAS,GAAG,KAAKsQ,cAAvD,CAAb;CACH;CACJ;;CACD,WAAO,KAAKnP,KAAZ;CACH;;CAEDyP,EAAAA,UAAU,GAAG;CACT,SAAKN,cAAL,GAAsB,IAAtB;CACA,SAAKC,cAAL,GAAsB,IAAtB;CACA,SAAKpP,KAAL,GAAa,CAAC,CAAd;CACA,SAAK6M,QAAL,GAAgB,KAAhB;CACH,GAtD6C;;;CAyD9CwC,EAAAA,YAAY,GAAG;CACX,UAAMj4C,WAAW,GAAG,KAAK2K,MAAL,CAAYpB,IAAZ,CAAiBvJ,WAArC;CACA,SAAK2K,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,cAAtB,EAAuC,eAAvC;;CAEA,QAAIm0C,KAAK,GAAG,MAAM;CACd,UAAI/gC,IAAJ;;CACA,UAAI,KAAKuJ,UAAL,CAAgB3U,MAApB,EAA4B;CACxB;CACA;CACA;CACA;CACA;CAEA,YAAI,KAAKspC,QAAT,EAAmB;CACf;CACAl+B,UAAAA,IAAI,GAAG,KAAKuJ,UAAL,CAAgBoC,KAAhB,EAAP;;CACA,cAAI3L,IAAI,CAAC1H,IAAL,KAAc5M,UAAU,CAAC3B,KAAzB,IAAkCiW,IAAI,CAACuxB,OAAL,CAAa,CAAb,MAAoB,CAA1D,EAA6D;CACzD,iBAAKyP,gBAAL,CAAsBhhC,IAAtB;CACH;;CACD,iBAAO,CAACA,IAAI,CAACmgC,QAAN,IAAkB,KAAK52B,UAAL,CAAgB3U,MAAzC,EAAiD;CAC7CoL,YAAAA,IAAI,GAAG,KAAKuJ,UAAL,CAAgBoC,KAAhB,EAAP;;CACA,gBAAI3L,IAAI,CAAC1H,IAAL,KAAc5M,UAAU,CAAC3B,KAAzB,IAAkCiW,IAAI,CAACuxB,OAAL,CAAa,CAAb,MAAoB,CAA1D,EAA6D;CACzD,mBAAKyP,gBAAL,CAAsBhhC,IAAtB;;CAEA,kBAAIA,IAAI,IAAIA,IAAI,CAACD,KAAjB,EAAwB;CACpBC,gBAAAA,IAAI,CAACD,KAAL,CAAWC,IAAI,CAAC0N,UAAhB;CACH;CACJ;CACJ,WAfc;;;CAiBf,cAAI1N,IAAI,CAACmgC,QAAT,EAAmB;CACf,iBAAKjC,QAAL,GAAgB,KAAhB;;CACA,iBAAK8C,gBAAL,CAAsBhhC,IAAtB;;CAEA,gBAAIA,IAAI,IAAIA,IAAI,CAACD,KAAjB,EAAwB;CACpBC,cAAAA,IAAI,CAACD,KAAL,CAAWC,IAAI,CAAC0N,UAAhB;CACH;CACJ;CACJ,SAzBD,MAyBO;CACH1N,UAAAA,IAAI,GAAG,KAAKuJ,UAAL,CAAgB,CAAhB,CAAP;;CACA,cAAI,KAAKs3B,QAAL,CAAc7gC,IAAI,CAACkG,EAAnB,MAA2B,CAAC,CAAhC,EAAmC;CAC/B;CACA,iBAAKqD,UAAL,CAAgBoC,KAAhB;;CACA,iBAAKq1B,gBAAL,CAAsBhhC,IAAtB;CACH,WAJD,MAIO,IAAI,KAAKqxB,KAAL,GAAa5oC,WAAW,GAAG,IAA/B,EAAqC;CACxC;CACA,iBAAKq4C,UAAL;CACA,iBAAK5C,QAAL,GAAgB,IAAhB;CACH,WAJM,MAIA;CACH,mBAAO,KAAK30B,UAAL,CAAgB3U,MAAvB,EAA+B;CAC3BoL,cAAAA,IAAI,GAAG,KAAKuJ,UAAL,CAAgB,CAAhB,CAAP;;CAEA,kBAAI,KAAKs3B,QAAL,CAAc7gC,IAAI,CAACkG,EAAnB,IAAyBzd,WAA7B,EAA0C;CACtC;CACA,qBAAK8gB,UAAL,CAAgBoC,KAAhB;;CACA,qBAAKq1B,gBAAL,CAAsBhhC,IAAtB;CACH,eAJD,MAIO;CACH;CACA,oBAAI,KAAKuJ,UAAL,CAAgB3U,MAAhB,GAAyB,EAA7B,EAAiC;CAC7B,uBAAK2U,UAAL,CAAgBoC,KAAhB;;CACA,uBAAKq1B,gBAAL,CAAsBhhC,IAAtB,EAF6B;;CAIhC,iBANE;;;CAQH;CACH;CACJ;CACJ;CACJ;CACJ;CACJ,KAlED;;CAoEA+gC,IAAAA,KAAK;;CAEL9R,IAAAA,WAAW,CAAC8R,KAAD,EAAQ,EAAR,CAAX,CA1EW;CA4Ed;;CAEDrC,EAAAA,SAAS,CAACnN,OAAD,EAAUj5B,IAAV,EAAgB4N,EAAhB,EAAoBi6B,QAApB,EAA8B;CACnC,UAAM/sC,MAAM,GAAG,KAAKA,MAApB;CACA,QAAIiC,OAAO,GAAG;CACV6Q,MAAAA,EAAE,EAAEA,EADM;CAEV5N,MAAAA,IAAI,EAAEA,IAFI;CAGV6nC,MAAAA,QAAQ,EAAE;CAHA,KAAd,CAFmC;;CASnC,QAAI/sC,MAAM,CAACpB,IAAP,CAAYpH,MAAhB,EAAwB;CACpB;CACA;CACA,UAAI0N,IAAI,KAAK5M,UAAU,CAACC,KAAxB,EAA+B;CAC3B0J,QAAAA,OAAO,CAAC8qC,QAAR,GAAmBA,QAAnB;CACH;;CACD,WAAKc,UAAL,CAAgB1P,OAAhB,EAAyBl8B,OAAzB;CACH,KAPD,MAOO;CACH,YAAM;CAACwqC,QAAAA;CAAD,UAAkBzsC,MAAxB;;CAEA,UAAIA,MAAM,CAACpB,IAAP,CAAYrH,MAAZ,IAAsB,CAACyI,MAAM,CAACpB,IAAP,CAAYnH,YAAvC,EAAqD;CACjD,YAAIyN,IAAI,KAAK5M,UAAU,CAACC,KAAxB,EAA+B;CAC3B0J,UAAAA,OAAO,CAAC8qC,QAAR,GAAmBA,QAAnB;CACH;;CACD,aAAKc,UAAL,CAAgB1P,OAAhB,EAAyBl8B,OAAzB;CACH,OALD,MAKO;CACH;CACA,YAAIiD,IAAI,KAAK5M,UAAU,CAACC,KAAxB,EAA+B;CAC3Bk0C,UAAAA,aAAa,CAACvO,WAAd,CAA0BC,OAA1B,EAAmCrrB,EAAnC,EAAuCi6B,QAAvC;CACH,SAFD,MAEO,IAAI7nC,IAAI,KAAK5M,UAAU,CAAC3B,KAAxB,EAA+B;CAClC81C,UAAAA,aAAa,CAACO,WAAd,CAA0B7O,OAA1B,EAAmCrrB,EAAnC;CACH;CACJ;CACJ;CACJ;;CAED86B,EAAAA,gBAAgB,CAAChhC,IAAD,EAAO;CACnB,UAAM5M,MAAM,GAAG,KAAKA,MAApB;CACA,UAAM;CAACysC,MAAAA,aAAD;CAAgBqB,MAAAA,gBAAhB;CAAkCC,MAAAA;CAAlC,QAAgD/tC,MAAtD;;CAEA,QAAI4M,IAAI,CAAC1H,IAAL,KAAc5M,UAAU,CAAC3B,KAA7B,EAAoC;CAChC81C,MAAAA,aAAa,CAACO,WAAd,CAA0BpgC,IAAI,CAACuxB,OAA/B,EAAwCvxB,IAAI,CAACkG,EAA7C;CACH,KAFD,MAEO,IAAIlG,IAAI,CAAC1H,IAAL,KAAc5M,UAAU,CAACC,KAA7B,EAAoC;CACvC,UAAIyH,MAAM,CAACpB,IAAP,CAAYrH,MAAZ,IAAsB,CAACyI,MAAM,CAACpB,IAAP,CAAYnH,YAAvC,EAAqD;CACjDq2C,QAAAA,gBAAgB,CAAC5P,WAAjB,CAA6BtxB,IAAI,CAACuxB,OAAlC,EAA2CvxB,IAAI,CAACkG,EAAhD,EAAoDlG,IAAI,CAACmgC,QAAzD;CACH,OAFD,MAEO,IAAI/sC,MAAM,CAACpB,IAAP,CAAYpH,MAAhB,EAAwB;CAC3Bu2C,QAAAA,UAAU,CAAC7P,WAAX,CAAuBtxB,IAAI,CAACuxB,OAA5B,EAAqCvxB,IAAI,CAACkG,EAA1C,EAA8ClG,IAAI,CAACmgC,QAAnD;CACH;CACJ;CACJ;;CAEDc,EAAAA,UAAU,CAAC1P,OAAD,EAAUl8B,OAAV,EAAmB;CACzB;CACA,QAAIA,OAAO,CAACiD,IAAR,KAAiB5M,UAAU,CAAC3B,KAAhC,EAAuC;CACnC,WAAKwf,UAAL,CAAgBtW,IAAhB,CAAqB;CACjBiT,QAAAA,EAAE,EAAE7Q,OAAO,CAAC6Q,EADK;CAEjBqrB,QAAAA,OAAO,EAAEA,OAFQ;CAGjBj5B,QAAAA,IAAI,EAAE5M,UAAU,CAAC3B;CAHA,OAArB;CAKH,KAND,MAMO,IAAIsL,OAAO,CAACiD,IAAR,KAAiB5M,UAAU,CAACC,KAAhC,EAAuC;CAC1C,WAAK4d,UAAL,CAAgBtW,IAAhB,CAAqB;CACjBiT,QAAAA,EAAE,EAAE7Q,OAAO,CAAC6Q,EADK;CAEjBqrB,QAAAA,OAAO,EAAEA,OAFQ;CAGjBj5B,QAAAA,IAAI,EAAE5M,UAAU,CAACC,KAHA;CAIjBw0C,QAAAA,QAAQ,EAAE9qC,OAAO,CAAC8qC;CAJD,OAArB;CAMH;;CAED,QAAI,EAAE,KAAK52B,UAAL,CAAgB3U,MAAhB,GAAyB,GAA3B,CAAJ,EAAqC;CACjC1C,MAAAA,OAAO,CAACtF,GAAR,CAAY,KAAK2c,UAAjB;CACH;CACJ;;CAEDvd,EAAAA,KAAK,GAAG;;CA/MsC;;CCCnC,MAAMo1C,SAAN,SAAwB18B,YAAxB,CAAqC;CAChD7S,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAMA,MAAN;CACA,SAAKiuC,KAAL,GAAa,KAAKC,SAAL,EAAb;CACA,SAAKC,QAAL,GAAgB,KAAKC,eAAL,CAAqB,KAAKH,KAA1B,CAAhB;CACAjuC,IAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,UAAjB,EAA6B,MAA7B;CACH;;CAEDqB,EAAAA,OAAO,GAAG;CACN,UAAMA,OAAN;CACA,SAAKozC,KAAL,GAAa,IAAb;CACA,SAAKE,QAAL,GAAgB,IAAhB;CACA,SAAKnuC,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,UAAtB,EAAkC,SAAlC;CACH;;CAED+gB,EAAAA,QAAQ,CAAC3N,IAAD,EAAO;CACX,SAAKuhC,QAAL,CAAcvhC,IAAd;CACH;;CAEU,GAATshC,SAAS,GAAG;CACV,UAAM,CAAN;CACA,UAAMviB,GAAG,GAAG,IAAIoB,WAAJ,CAAgB,CAAhB,CAAZ;CACA,UAAMshB,IAAI,GAAG,IAAI/oC,UAAJ,CAAeqmB,GAAf,CAAb;CACA,UAAM2iB,KAAK,GAAG,IAAIC,WAAJ,CAAgB5iB,GAAhB,CAAd;CACA,UAAM3rB,MAAM,GAAG,KAAKA,MAApB;;CAEA,WAAO,IAAP,EAAa;CACTquC,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAU,CAAV;CACA,YAAMnnB,CAAC,GAAG,MAAM,EAAhB;CACA,YAAMhiB,IAAI,GAAGgiB,CAAC,CAAC,CAAD,CAAd;CACAmnB,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUnnB,CAAC,CAAC,CAAD,CAAX;CACAmnB,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUnnB,CAAC,CAAC,CAAD,CAAX;CACAmnB,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUnnB,CAAC,CAAC,CAAD,CAAX;CACA,YAAM1lB,MAAM,GAAG8sC,KAAK,CAAC,CAAD,CAApB;CACAD,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUnnB,CAAC,CAAC,EAAD,CAAX;CACAmnB,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUnnB,CAAC,CAAC,CAAD,CAAX;CACAmnB,MAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUnnB,CAAC,CAAC,CAAD,CAAX;CACA,UAAIpU,EAAE,GAAGw7B,KAAK,CAAC,CAAD,CAAd;;CACA,UAAIx7B,EAAE,KAAK,QAAX,EAAqB;CACjBu7B,QAAAA,IAAI,CAAC,CAAD,CAAJ,GAAUnnB,CAAC,CAAC,EAAD,CAAX;CACApU,QAAAA,EAAE,GAAGw7B,KAAK,CAAC,CAAD,CAAV;CACH;;CACD,YAAMnQ,OAAO,GAAG,MAAM38B,MAAtB;;CACA,cAAQ0D,IAAR;CACI,aAAK1M,cAAc,CAAC7B,KAApB;CACI,cAAIqJ,MAAM,CAACpB,IAAP,CAAYxI,QAAhB,EAA0B;CACtB4J,YAAAA,MAAM,CAAC+9B,WAAP,CAAmB;CACfyQ,cAAAA,IAAI,EAAErQ,OAAO,CAAC7jB;CADC,aAAnB;;CAGA,gBAAI6jB,OAAO,CAAC7jB,UAAR,GAAqB,CAAzB,EAA4B;CACxB,mBAAKgxB,SAAL,CAAenN,OAAf,EAAwB7lC,UAAU,CAAC3B,KAAnC,EAA0Cmc,EAA1C;CACH;CACJ;;CACD;;CACJ,aAAKta,cAAc,CAACD,KAApB;CACI,cAAI,CAACyH,MAAM,CAAC8Z,MAAP,CAAczP,UAAnB,EAA+B;CAC3BrK,YAAAA,MAAM,CAAC8Z,MAAP,CAAczP,UAAd,GAA2BlE,GAAG,EAA9B;CACH;;CACD,cAAInG,MAAM,CAACpB,IAAP,CAAYvI,QAAhB,EAA0B;CACtB2J,YAAAA,MAAM,CAAC+9B,WAAP,CAAmB;CACf0Q,cAAAA,IAAI,EAAEtQ,OAAO,CAAC7jB;CADC,aAAnB;CAGA,kBAAMyyB,QAAQ,GAAG5O,OAAO,CAAC,CAAD,CAAP,IAAc,CAAd,KAAoB,CAArC;;CACA,gBAAIA,OAAO,CAAC7jB,UAAR,GAAqB,CAAzB,EAA4B;CACxB,mBAAKgxB,SAAL,CAAenN,OAAf,EAAwB7lC,UAAU,CAACC,KAAnC,EAA0Cua,EAA1C,EAA8Ci6B,QAA9C;CACH;CACJ;;CACD;CAxBR;CA0BH;CACJ;;CAEDqB,EAAAA,eAAe,CAACH,KAAD,EAAQ;CACnB,QAAIS,IAAI,GAAGT,KAAK,CAACU,IAAN,EAAX;CACA,QAAIx0C,MAAM,GAAG,IAAb;CACA,WAAQ8M,KAAD,IAAW;CACd,UAAI2F,IAAI,GAAG,IAAItH,UAAJ,CAAe2B,KAAf,CAAX;;CACA,UAAI9M,MAAJ,EAAY;CACR,YAAIy0C,OAAO,GAAG,IAAItpC,UAAJ,CAAenL,MAAM,CAACqH,MAAP,GAAgBoL,IAAI,CAACpL,MAApC,CAAd;CACAotC,QAAAA,OAAO,CAAC1zB,GAAR,CAAY/gB,MAAZ;CACAy0C,QAAAA,OAAO,CAAC1zB,GAAR,CAAYtO,IAAZ,EAAkBzS,MAAM,CAACqH,MAAzB;CACAoL,QAAAA,IAAI,GAAGgiC,OAAP;CACAz0C,QAAAA,MAAM,GAAG,IAAT;CACH;;CACD,aAAOyS,IAAI,CAACpL,MAAL,IAAektC,IAAI,CAACznC,KAA3B,EAAkC;CAC9B,YAAI4nC,MAAM,GAAGjiC,IAAI,CAACD,KAAL,CAAW+hC,IAAI,CAACznC,KAAhB,CAAb;CACAynC,QAAAA,IAAI,GAAGT,KAAK,CAACU,IAAN,CAAW/hC,IAAI,CAACD,KAAL,CAAW,CAAX,EAAc+hC,IAAI,CAACznC,KAAnB,CAAX,CAAP;CACA2F,QAAAA,IAAI,GAAGiiC,MAAP;CACH;;CACD,UAAIjiC,IAAI,CAACpL,MAAL,GAAc,CAAlB,EAAqB;CACjBrH,QAAAA,MAAM,GAAGyS,IAAT;CACH;CACJ,KAjBD;CAkBH;;CAEDhU,EAAAA,KAAK,GAAG;CACJ,SAAKq1C,KAAL,IAAc,KAAKA,KAAL,CAAWa,MAAX,CAAkB,IAAlB,CAAd;CACH;;CAjG+C;;CCArC,MAAMC,SAAN,SAAwBz9B,YAAxB,CAAqC;CAChD7S,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAMA,MAAN;CACAA,IAAAA,MAAM,CAACvK,KAAP,CAAa+D,GAAb,CAAiB,UAAjB,EAA6B,MAA7B;CACH;;CAEDqB,EAAAA,OAAO,GAAG;CACN,UAAMA,OAAN;CACA,SAAKmF,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,UAAtB,EAAkC,SAAlC;CACA,SAAK+gB,QAAL,GAAgB,IAAhB;CACA,SAAKva,MAAL,GAAc,IAAd;CACH;;CAEDua,EAAAA,QAAQ,CAAC3N,IAAD,EAAO;CACX,UAAM5M,MAAM,GAAG,KAAKA,MAApB,CADW;;CAGX,UAAMgvC,EAAE,GAAG,IAAIhiB,QAAJ,CAAapgB,IAAb,CAAX;CACA,UAAM1H,IAAI,GAAG8pC,EAAE,CAAChG,QAAH,CAAY,CAAZ,CAAb;CACA,UAAMl2B,EAAE,GAAGk8B,EAAE,CAAC3K,SAAH,CAAa,CAAb,EAAgB,KAAhB,CAAX;;CAEA,YAAQn/B,IAAR;CACI,WAAK5M,UAAU,CAAC3B,KAAhB;CAAuB;CACnB,YAAIqJ,MAAM,CAACpB,IAAP,CAAYxI,QAAhB,EAA0B;CACtB,gBAAM+nC,OAAO,GAAG,IAAI74B,UAAJ,CAAesH,IAAf,EAAqB,CAArB,CAAhB;CACA5M,UAAAA,MAAM,CAAC+9B,WAAP,CAAmB;CACfyQ,YAAAA,IAAI,EAAErQ,OAAO,CAAC7jB;CADC,WAAnB;;CAGA,cAAI6jB,OAAO,CAAC7jB,UAAR,GAAqB,CAAzB,EAA4B;CACxB,iBAAKgxB,SAAL,CAAenN,OAAf,EAAwBj5B,IAAxB,EAA8B4N,EAA9B;CACH;CACJ;;CACD;;CACJ,WAAKxa,UAAU,CAACC,KAAhB;CAAuB;CACnB,YAAIyH,MAAM,CAACpB,IAAP,CAAYvI,QAAhB,EAA0B;CACtB,cAAI,CAAC2J,MAAM,CAAC8Z,MAAP,CAAczP,UAAnB,EAA+B;CAC3BrK,YAAAA,MAAM,CAAC8Z,MAAP,CAAczP,UAAd,GAA2BlE,GAAG,EAA9B;CACH;;CACD,cAAI6oC,EAAE,CAAC10B,UAAH,GAAgB,CAApB,EAAuB;CACnB;CACA,kBAAM6jB,OAAO,GAAG,IAAI74B,UAAJ,CAAesH,IAAf,EAAqB,CAArB,CAAhB;CACA,kBAAMwxB,QAAQ,GAAG4Q,EAAE,CAAChG,QAAH,CAAY,CAAZ,KAAkB,CAAlB,KAAwB,CAAzC;CACAhpC,YAAAA,MAAM,CAAC+9B,WAAP,CAAmB;CACf0Q,cAAAA,IAAI,EAAEtQ,OAAO,CAAC7jB;CADC,aAAnB;;CAIA,gBAAI6jB,OAAO,CAAC7jB,UAAR,GAAqB,CAAzB,EAA4B;CACxB;CAC5B;CACA;CACA;CACA;CACA;CAC4B,mBAAKgxB,SAAL,CAAenN,OAAf,EAAwBj5B,IAAxB,EAA8B4N,EAA9B,EAAkCsrB,QAAlC;;CACA,kBAAI4Q,EAAE,IAAIA,EAAE,CAACriC,KAAb,EAAoB;CAChBqiC,gBAAAA,EAAE,CAACriC,KAAH,CAASqiC,EAAE,CAAC10B,UAAZ;CACH;;CACD,kBAAI6jB,OAAO,IAAIA,OAAO,CAACxxB,KAAvB,EAA8B;CAC1BwxB,gBAAAA,OAAO,CAACxxB,KAAR,CAAcwxB,OAAO,CAAC7jB,UAAtB;CACH;CACJ;CACJ;CACJ;;CACD;CA1CR;CA4CH;;CAhE+C;;CCArC,MAAM20B,KAAN,CAAY;CACvBxwC,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,UAAM+V,MAAM,GAAGk5B,KAAK,CAACj5B,gBAAN,CAAuBhW,MAAM,CAACpB,IAAP,CAAYtH,SAAnC,CAAf;CACA,WAAO,IAAIye,MAAJ,CAAW/V,MAAX,CAAP;CACH;;CAEsB,SAAhBgW,gBAAgB,CAAC9Q,IAAD,EAAO;CAC1B,QAAIA,IAAI,KAAKjQ,UAAU,CAACE,GAAxB,EAA6B;CACzB,aAAO45C,SAAP;CACH,KAFD,MAEO,IAAI7pC,IAAI,KAAKjQ,UAAU,CAACC,GAAxB,EAA6B;CAChC,aAAO84C,SAAP;CACH;CACJ;;CAZsB;;CCJZ,SAASkB,UAAT,GAAoG;CAAA,MAAhF;CAACC,IAAAA,IAAD;CAAOC,IAAAA,KAAP;CAAclW,IAAAA,SAAS,GAAG,EAA1B;CAA8BmW,IAAAA,QAAQ,GAAG,EAAzC;CAA6CloC,IAAAA,KAAK,GAAG,EAArD;CAAyD,OAAGmoC;CAA5D,GAAgF,uEAAX,EAAW;CACjH,MAAIC,KAAK,GAAG,EAAZ;;CACA,MAAI,OAAOJ,IAAP,KAAgB,QAApB,EAA8B;CAC5BA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;CACD;;CAEC,MAAI,OAAOhoC,KAAP,KAAiB,QAArB,EAA+B;CAC3B,QAAI,OAAOioC,KAAP,KAAiB,QAArB,EAA+B;CAC3BjoC,MAAAA,KAAK,IAAK,UAAUioC,KAAO,GAA3B;CACH;CACJ,GAJD,MAIO;CACHjoC,IAAAA,KAAK,CAACqoC,IAAN,GAAaJ,KAAb;;CACA,QAAIjoC,KAAK,CAACioC,KAAV,EAAiB;CACbjoC,MAAAA,KAAK,CAACqoC,IAAN,GAAaroC,KAAK,CAACioC,KAAnB;CACAtwC,MAAAA,OAAO,CAACC,IAAR,CAAc,oCAAmCoI,KAAK,CAACioC,KAAM,yBAAwBjoC,KAAK,CAACioC,KAAM,IAAjG;CACH;;CAEDjoC,IAAAA,KAAK,GAAGlH,MAAM,CAACwvC,OAAP,CAAetoC,KAAf,EAAsB1H,GAAtB,CAA0B;CAAA,UAAC,CAAC9B,GAAD,EAAMsJ,KAAN,CAAD;CAAA,aAAmB,GAAEtJ,GAAI,KAAIsJ,KAAM,GAAnC;CAAA,KAA1B,EAAiEgG,IAAjE,CAAsE,EAAtE,CAAR;CACH;;CAEH,MAAI9F,KAAJ,EAAW;CACTooC,IAAAA,KAAK,CAAC1vC,IAAN,CAAY,UAASsH,KAAM,GAA3B;CACD;;CAED,MAAImoC,KAAK,IAAI,OAAOA,KAAP,KAAiB,QAA9B,EAAwC;CACtCrvC,IAAAA,MAAM,CAACwvC,OAAP,CAAeH,KAAf,EAAsB7vC,GAAtB,CAA0B;CAAA,UAAC,CAAC9B,GAAD,EAAMsJ,KAAN,CAAD;CAAA,aAAkBsoC,KAAK,CAAC1vC,IAAN,CAAY,GAAElC,GAAI,KAAIsJ,KAAM,GAA5B,CAAlB;CAAA,KAA1B;CACD;;CAED,SACG;AACL,oBAAoBiyB,SAAU;AAC9B;AACA;AACA;AACA;AACA;AACA,QAASqW,KAAK,CAACtiC,IAAN,CAAW,KAAX,CAAmB;AAC5B;AACA,QACOkiC,IAAI,IAAIA,IAAI,CAAC3tC,MAAd,GAAwB2tC,IAAI,CAAC1vC,GAAL,CAASmN,IAAI,IAAM,YAAYA,IAAM,KAArC,EAA4CK,IAA5C,CAAiD,EAAjD,CAAxB,GAA+E,EAChF,GACCoiC,QAAQ,GAAGA,QAAH,GAAc,EACvB;AACL,WAfE;CAiBD;;CC7CD,MAAMK,KAAK,GAAG,EAAd;CAEO,MAAMC,IAAI,GAAI;AACrB;AACA,CAFO;CAGA,MAAMC,IAAE,GAAI;AACnB;AACA,CAFO;CAGA,MAAMC,SAAS,GAAI;AAC1B;AACA,CAFO;CAGA,MAAMC,WAAW,GAAI;AAC5B;AACA,CAFO;CAIA,MAAMC,OAAO,GAAI;AACxB;AACA,CAFO;CAGA,MAAMjiB,OAAK,GAAI;AACtB;AACA,CAFO;CAGA,MAAMkiB,YAAY,GAAI;AAC7B;AACA,CAFO;CAGA,MAAMC,cAAc,GAAI;AAC/B;AACA,CAFO;CAMA,MAAMC,MAAM,GAAI;AACvB;AACA,CAFO;CAIA,MAAMC,MAAI,GAAI;AACrB;AACA,CAFO;CAGA,MAAMC,WAAW,GAAI;AAC5B;AACA,CAFO;CAGA,MAAMC,aAAa,GAAI;AAC9B;AACA,CAFO;CAIA,MAAMC,MAAM,GAAI;AACvB;AACA,CAFO;CAIA,MAAMz+B,MAAI,GAAI;AACrB;AACA,CAFO;CAGA,MAAM0+B,WAAW,GAAI;AAC5B;AACA,CAFO;CAGA,MAAMC,aAAa,GAAI;AAC9B;AACA,CAFO;;CAKA,MAAMC,IAAI,GAAI;AACrB;AACA,CAFO;CAIPf,KAAK,CAACC,IAAN,GAAaA,IAAb;CACAD,KAAK,CAACE,EAAN,GAAWA,IAAX;CACAF,KAAK,CAACG,SAAN,GAAkBA,SAAlB;CACAH,KAAK,CAACI,WAAN,GAAoBA,WAApB;CAEAJ,KAAK,CAACK,OAAN,GAAgBA,OAAhB;CACAL,KAAK,CAAC5hB,KAAN,GAAcA,OAAd;CACA4hB,KAAK,CAACM,YAAN,GAAqBA,YAArB;CACAN,KAAK,CAACO,cAAN,GAAuBA,cAAvB;CAEAP,KAAK,CAACQ,MAAN,GAAeA,MAAf;CACAR,KAAK,CAACS,IAAN,GAAaA,MAAb;CACAT,KAAK,CAACU,WAAN,GAAoBA,WAApB;CACAV,KAAK,CAACW,aAAN,GAAsBA,aAAtB;CAEAX,KAAK,CAACY,MAAN,GAAeA,MAAf;CACAZ,KAAK,CAAC79B,IAAN,GAAaA,MAAb;CACA69B,KAAK,CAACa,WAAN,GAAoBA,WAApB;CACAb,KAAK,CAACc,aAAN,GAAsBA,aAAtB;CAEAd,KAAK,CAACe,IAAN,GAAaA,IAAb;;CCnFA,MAAMC,MAAM,GAAG,EAAf;CAEO,MAAMC,YAAY,GAAI;AAC7B;AACA,CAFO;CAIA,MAAMC,IAAI,GAAI;AACrB;AACA,CAFO;CAIPF,MAAM,CAACC,YAAP,GAAsBA,YAAtB;CACAD,MAAM,CAACE,IAAP,GAAcA,IAAd;;CCXA,MAAMr4C,KAAK,GAAG,EAAd;CAEO,MAAMs4C,OAAO,GAAI;AACxB;AACA,CAFO;CAIA,MAAMC,QAAQ,GAAI;AACzB;AACA,CAFO;CAIA,MAAMC,QAAQ,GAAI;AACzB;AACA,CAFO;CAIA,MAAMC,iBAAiB,GAAI;AAClC;AACA,CAFO;CAIA,MAAMt6C,IAAI,GAAI;AACrB;AACA,CAFO;CAIA,MAAMu6C,KAAK,GAAI;AACtB;AACA,CAFO;;CAKA,MAAMh4C,KAAK,GAAI;AACtB;AACA,CAFO;;CAIA,MAAMi4C,YAAY,GAAI;AAC7B;AACA,CAFO;;CAIA,MAAMC,QAAQ,GAAI;AACzB;AACA,CAFO;;CAKA,MAAMC,IAAI,GAAI;AACrB;AACA,CAFO;;CAKA,MAAMzC,IAAI,GAAI;AACrB;AACA,CAFO;;CAKA,MAAM0C,UAAU,GAAG,CACvB;AACH;AACA,CAH0B,EAIvB;AACH;AACA,CAN0B,CAAnB;;CAUA,MAAMC,WAAW,GAAI;AAC5B;AACA,CAFO;;CAKA,MAAMC,WAAW,GAAI;AAC5B;AACA,CAFO;;CAKA,MAAMC,WAAW,GAAG,CACxB;AACH;AACA,CAH2B,EAIxB;AACH;AACA,CAN2B,CAApB;;CASP;CACA;CACA;CACA;;CACO,MAAMC,WAAW,GAAI;AAC5B;AACA,CAFO;;CAIA,MAAMC,WAAW,GAAG,CACxB;AACH;AACA,CAH2B,EAIxB;AACH;AACA,CAN2B,EAOxB;AACH;AACA,CAT2B,EAUxB;AACH;AACA,CAZ2B,CAApB;;CAgBA,MAAMC,mBAAmB,GAAG,CAChC;AACH;AACA,CAHmC,EAIhC;AACH;AACA,CANmC,CAA5B;;CAUA,MAAMC,oBAAoB,GAAI;AACrC;AACA,CAFO;;CAKA,MAAMC,oBAAoB,GAAI;AACrC;AACA,CAFO;;CAKA,MAAMC,oBAAoB,GAAG,CACjC;AACH;AACA,CAHoC,EAIjC;AACH;AACA,CANoC,EAOjC;AACH;AACA,CAToC,EAUjC;AACH;AACA,CAZoC,CAA7B;;CAgBA,MAAMC,oBAAoB,GAAI;AACrC;AACA,CAFO;;CAKA,MAAMC,oBAAoB,GAAI;AACrC;AACA,CAFO;;CAKA,MAAMC,oBAAoB,GAAI;AACrC;AACA,CAFO;;CAKA,MAAMC,oBAAoB,GAAI;AACrC;AACA,CAFO;;CAKA,MAAMC,oBAAoB,GAAI;AACrC;AACA,CAFO;;CAKA,MAAMC,oBAAoB,GAAI;AACrC;AACA,CAFO;;CAKA,MAAMC,oBAAoB,GAAG,CACjC;AACH;AACA,CAHoC,EAIjC;AACH;AACA,CANoC,CAA7B;CASP95C,KAAK,CAACA,KAAN,GAAcs4C,OAAd;CACAt4C,KAAK,CAAC+5C,MAAN,GAAexB,QAAf;CACAv4C,KAAK,CAACg6C,MAAN,GAAexB,QAAf;CACAx4C,KAAK,CAACg6C,MAAN,GAAexB,QAAf;CACAx4C,KAAK,CAACi6C,eAAN,GAAwBxB,iBAAxB;CACAz4C,KAAK,CAAC7B,IAAN,GAAaA,IAAb;CACA6B,KAAK,CAAC04C,KAAN,GAAcA,KAAd;CACA14C,KAAK,CAACU,KAAN,GAAcA,KAAd;CACAV,KAAK,CAAC24C,YAAN,GAAqBA,YAArB;CACA34C,KAAK,CAAC44C,QAAN,GAAiBA,QAAjB;CACA54C,KAAK,CAAC64C,IAAN,GAAaA,IAAb;CACA74C,KAAK,CAACo2C,IAAN,GAAaA,IAAb;CACAp2C,KAAK,CAAC84C,UAAN,GAAmBA,UAAnB;CACA94C,KAAK,CAAC+4C,WAAN,GAAoBA,WAApB;CACA/4C,KAAK,CAACg5C,WAAN,GAAoBA,WAApB;CACAh5C,KAAK,CAACi5C,WAAN,GAAoBA,WAApB;CACAj5C,KAAK,CAACk5C,WAAN,GAAoBA,WAApB;CACAl5C,KAAK,CAACm5C,WAAN,GAAoBA,WAApB;CACAn5C,KAAK,CAACo5C,mBAAN,GAA4BA,mBAA5B;CACAp5C,KAAK,CAACq5C,oBAAN,GAA6BA,oBAA7B;CACAr5C,KAAK,CAACs5C,oBAAN,GAA6BA,oBAA7B;CACAt5C,KAAK,CAACu5C,oBAAN,GAA6BA,oBAA7B;CACAv5C,KAAK,CAACw5C,oBAAN,GAA6BA,oBAA7B;CACAx5C,KAAK,CAACy5C,oBAAN,GAA6BA,oBAA7B;CACAz5C,KAAK,CAAC05C,oBAAN,GAA6BA,oBAA7B;CACA15C,KAAK,CAAC25C,oBAAN,GAA6BA,oBAA7B;CACA35C,KAAK,CAAC45C,oBAAN,GAA6BA,oBAA7B;CACA55C,KAAK,CAAC65C,oBAAN,GAA6BA,oBAA7B;CACA75C,KAAK,CAAC85C,oBAAN,GAA6BA,oBAA7B;;CC9MA,MAAM78B,MAAM,GAAG,EAAf;CAEO,MAAMlT,GAAG,GAAI;AACpB;AACA,CAFO;CAIA,MAAMstC,IAAE,GAAI;AACnB;AACA,CAFO;CAIA,MAAMO,MAAI,GAAI;AACrB;AACA,CAFO;CAIP36B,MAAM,CAAClT,GAAP,GAAaA,GAAb;CACAkT,MAAM,CAACo6B,EAAP,GAAYA,IAAZ;CACAp6B,MAAM,CAAC26B,IAAP,GAAcA,MAAd;;CChBA,MAAMsC,KAAK,GAAG,EAAd;;CAEO,MAAMC,MAAM,GAAI;AACvB;AACA,CAFO;;CAIA,MAAMC,SAAS,GAAI;AAC1B;AACA,CAFO;CAKPF,KAAK,CAACC,MAAN,GAAeA,MAAf;CACAD,KAAK,CAACE,SAAN,GAAkBA,SAAlB;;CCZA,MAAMC,IAAI,GAAG,EAAb;;CAEO,MAAMC,MAAM,GAAI;AACvB;AACA,CAFO;;CAIA,MAAMC,eAAe,GAAI;AAChC;AACA,CAFO;;CAIA,MAAMC,aAAa,GAAI;AAC9B;AACA,CAFO;CAIPH,IAAI,CAACC,MAAL,GAAcA,MAAd;CACAD,IAAI,CAACE,eAAL,GAAuBA,eAAvB;CACAF,IAAI,CAACG,aAAL,GAAqBA,aAArB;;CChBA,MAAMC,IAAI,GAAG,EAAb;;CAGO,MAAMC,MAAM,GAAI;AACvB;AACA,CAFO;;CAKA,MAAMrD,IAAE,GAAI;AACnB;AACA,CAFO;;CAKA,MAAMsD,SAAS,GAAI;AAC1B;AACA,CAFO;;CAKA,MAAMplB,OAAK,GAAI;AACtB;AACA,CAFO;;CAKA,MAAMqlB,YAAY,GAAI;AAC7B;AACA,CAFO;;CAKA,MAAMhD,MAAI,GAAI;AACrB;AACA,CAFO;;CAKA,MAAMiD,WAAW,GAAI;AAC5B;AACA,CAFO;;CAKA,MAAMvhC,MAAI,GAAI;AACrB;AACA,CAFO;;CAKA,MAAMwhC,WAAW,GAAI;AAC5B;AACA,CAFO;;CAKA,MAAMC,IAAI,GAAI;AACrB;AACA,CAFO;CAKPN,IAAI,CAACA,IAAL,GAAYC,MAAZ;CACAD,IAAI,CAACllB,KAAL,GAAaA,OAAb;CACAklB,IAAI,CAACG,YAAL,GAAoBA,YAApB;CACAH,IAAI,CAACnhC,IAAL,GAAYA,MAAZ;CACAmhC,IAAI,CAACK,WAAL,GAAmBA,WAAnB;CACAL,IAAI,CAACpD,EAAL,GAAUA,IAAV;CACAoD,IAAI,CAACE,SAAL,GAAiBA,SAAjB;CACAF,IAAI,CAAC7C,IAAL,GAAYA,MAAZ;CACA6C,IAAI,CAACI,WAAL,GAAmBA,WAAnB;CACAJ,IAAI,CAACM,IAAL,GAAYA,IAAZ;;CC9DA,MAAMC,QAAQ,GAAG,EAAjB;CACO,MAAM1hC,IAAI,GAAG,CACjB;AACH;AACA,CAHoB,EAIjB;AACH;AACA,CANoB,CAAb;CAQA,MAAMic,KAAK,GAAI;AACtB;AACA,CAFO;CAIPylB,QAAQ,CAAC1hC,IAAT,GAAgBA,IAAhB;CACA0hC,QAAQ,CAACzlB,KAAT,GAAiBA,KAAjB;;CCdA,MAAM3J,QAAM,GAAG,EAAf;;CAEO,MAAMqvB,QAAQ,GAAI;AACzB;AACA,CAFO;;CAIA,MAAMC,QAAQ,GAAI;AACzB;AACA,CAFO;;CAIA,MAAMC,SAAS,GAAI;AAC1B;AACA,CAFO;;CAIA,MAAMC,SAAS,GAAI;AAC1B;AACA,CAFO;AAIPxvB,SAAM,CAACqvB,QAAP,GAAkBA,QAAlB;AACArvB,SAAM,CAACsvB,QAAP,GAAkBA,QAAlB;AACAtvB,SAAM,CAACuvB,SAAP,GAAmBA,SAAnB;AACAvvB,SAAM,CAACwvB,SAAP,GAAmBA,SAAnB;;CCrBA,MAAMC,QAAQ,GAAG,EAAjB;CACO,MAAMhE,EAAE,GAAG,CACf;AACH;AACA,CAHkB,EAIf;AACH;AACA,CANkB,CAAX;CAQA,MAAMO,IAAI,GAAG,CACjB;AACH;AACA,CAHoB,EAIjB;AACH;AACA,CANoB,CAAb;CASPyD,QAAQ,CAAChE,EAAT,GAAcA,EAAd;CACAgE,QAAQ,CAACzD,IAAT,GAAgBA,IAAhB;;CCnBA,MAAM0D,QAAQ,GAAG,EAAjB;;CAEO,MAAMC,gBAAgB,GAAG,CAC7B;AACH;AACA,CAHgC,EAI7B;AACH;AACA,CANgC;CAOhC;CACA;CACA;AACG;AACH;AACA,EAZgC,EAa7B;AACH;AACA,CAfgC,EAgB7B;AACH;AACA,CAlBgC,CAAzB;;CAsBA,MAAMC,sBAAsB,GAAG,CACnC;AACH;AACA,CAHsC,EAInC;AACH;AACA,CANsC,CAA/B;;CAUA,MAAMC,eAAe,GAAI;AAChC;AACA,CAFO;;CAKA,MAAMC,gBAAgB,GAAI;AACjC;AACA,CAFO;;CAKA,MAAMC,iBAAiB,GAAI;AAClC;AACA,CAFO;;CAKA,MAAMC,SAAS,GAAG,CACtB;AACH;AACA,CAHyB,EAItB;AACH;AACA,CANyB,CAAlB;;CAUA,MAAMC,UAAU,GAAI;AAC3B;AACA,CAFO;;CAKA,MAAMC,UAAU,GAAI;AAC3B;AACA,CAFO;;CAMA,MAAMC,SAAS,GAAG,CACtB;AACH;AACA,CAHyB,EAItB;AACH;AACA,CANyB,EAOtB;AACH;AACA,CATyB,EAUtB;AACH;AACA,CAZyB,CAAlB;;CAiBA,MAAMC,eAAe,GAAG,CAC5B,oDAD4B,EAE5B,qDAF4B,EAG5B,oDAH4B,EAI5B,qDAJ4B,EAK5B,mDAL4B,CAAxB;;CASA,MAAMC,mBAAmB,GAAI;AACpC;AACA,CAFO;;CAKA,MAAMC,oBAAoB,GAAI;AACrC;AACA,CAFO;CAKPZ,QAAQ,CAACC,gBAAT,GAA4BA,gBAA5B;CACAD,QAAQ,CAACE,sBAAT,GAAkCA,sBAAlC;CACAF,QAAQ,CAACG,eAAT,GAA2BA,eAA3B;CACAH,QAAQ,CAACI,gBAAT,GAA4BA,gBAA5B;CACAJ,QAAQ,CAACK,iBAAT,GAA6BA,iBAA7B;CACAL,QAAQ,CAACM,SAAT,GAAqBA,SAArB;CACAN,QAAQ,CAACO,UAAT,GAAsBA,UAAtB;CACAP,QAAQ,CAACQ,UAAT,GAAsBA,UAAtB;CACAR,QAAQ,CAACS,SAAT,GAAqBA,SAArB;CACAT,QAAQ,CAACU,eAAT,GAA2BA,eAA3B;CACAV,QAAQ,CAACW,mBAAT,GAA+BA,mBAA/B;CACAX,QAAQ,CAACY,oBAAT,GAAgCA,oBAAhC;;CCrHA,MAAMC,SAAS,GAAG,EAAlB;;CAEO,MAAMC,WAAW,GAAI;AAC5B;AACA,CAFO;;CAIA,MAAMC,YAAY,GAAI;AAC7B;AACA,CAFO;;CAIA,MAAMC,WAAW,GAAI;AAC5B;AACA,CAFO;;CAIA,MAAMC,YAAY,GAAI;AAC7B;AACA,CAFO;;CAIA,MAAMC,YAAY,GAAI;AAC7B;AACA,CAFO;;CAIA,MAAMC,YAAY,GAAI;AAC7B;AACA,CAFO;;CAIA,MAAMC,aAAa,GAAI;AAC9B;AACA,CAFO;;CAIA,MAAMC,aAAa,GAAI;AAC9B;AACA,CAFO;CAKPR,SAAS,CAACC,WAAV,GAAwBA,WAAxB;CACAD,SAAS,CAACE,YAAV,GAAyBA,YAAzB;CACAF,SAAS,CAACG,WAAV,GAAwBA,WAAxB;CACAH,SAAS,CAACI,YAAV,GAAyBA,YAAzB;CACAJ,SAAS,CAACK,YAAV,GAAyBA,YAAzB;CACAL,SAAS,CAACM,YAAV,GAAyBA,YAAzB;CACAN,SAAS,CAACO,aAAV,GAA0BA,aAA1B;CACAP,SAAS,CAACQ,aAAV,GAA0BA,aAA1B;;CC1CA;CACO,MAAMC,UAAU,GAAI;AAC3B;AACA,CAFO;AAIP,gBAAe;CACXA,EAAAA;CADW,CAAf;;CCUA,MAAMC,IAAI,GAAG,EAAb;CACA;CACA;CACA;CACA;;CACO,MAAMC,OAAO,GAAI/F,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACE;CAAvB,CAAD,CAArC;CACA,MAAM0F,aAAa,GAAIhG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACG;CAAvB,CAAD,CAA3C;CACA,MAAM0F,eAAe,GAAIjG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACI;CAAvB,CAAD,CAA7C;;CAGA,MAAM0F,UAAU,GAAIlG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAAC5hB;CAAvB,CAAD,CAAxC;CACA,MAAM2nB,gBAAgB,GAAInG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACM;CAAvB,CAAD,CAA9C;CACA,MAAM0F,kBAAkB,GAAIpG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACO;CAAvB,CAAD,CAAhD;;CAGA,MAAM0F,SAAS,GAAIrG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACS;CAAvB,CAAD,CAAvC;CACA,MAAMyF,eAAe,GAAItG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACU;CAAvB,CAAD,CAA7C;CACA,MAAMyF,iBAAiB,GAAIvG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACW;CAAvB,CAAD,CAA/C;;CAGA,MAAMyF,SAAS,GAAIxG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAAC79B;CAAvB,CAAD,CAAvC;CACA,MAAMkkC,eAAe,GAAIzG,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACa;CAAvB,CAAD,CAA7C;CACA,MAAMyF,iBAAiB,GAAI1G,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEO,KAAK,CAACc;CAAvB,CAAD,CAA/C;CAEP4E,IAAI,CAAC1F,KAAL,GAAaA,KAAb;CACA0F,IAAI,CAACC,OAAL,GAAeA,OAAf;CACAD,IAAI,CAACE,aAAL,GAAqBA,aAArB;CACAF,IAAI,CAACG,eAAL,GAAuBA,eAAvB;CAEAH,IAAI,CAACI,UAAL,GAAkBA,UAAlB;CACAJ,IAAI,CAACK,gBAAL,GAAwBA,gBAAxB;CACAL,IAAI,CAACM,kBAAL,GAA0BA,kBAA1B;CAEAN,IAAI,CAACO,SAAL,GAAiBA,SAAjB;CACAP,IAAI,CAACQ,eAAL,GAAuBA,eAAvB;CACAR,IAAI,CAACS,iBAAL,GAAyBA,iBAAzB;CAEAT,IAAI,CAACU,SAAL,GAAiBA,SAAjB;CACAV,IAAI,CAACW,eAAL,GAAuBA,eAAvB;CACAX,IAAI,CAACY,iBAAL,GAAyBA,iBAAzB;CAEO,MAAMC,WAAW,GAAI3G,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAEuB,MAAM,CAACC;CAAxB,CAAD,CAAzC;CAEPyE,IAAI,CAACa,WAAL,GAAmBA,WAAnB;CAEO,MAAMngC,KAAK,GAAIw5B,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAACA;CAAvB,CAAD,CAAnC;CACA,MAAM29C,MAAM,GAAI5G,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAAC+5C;CAAvB,CAAD,CAApC;CACA,MAAM6D,MAAM,GAAI7G,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAACg6C;CAAvB,CAAD,CAApC;CACA,MAAM6D,cAAc,GAAI9G,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAACi6C;CAAvB,CAAD,CAA5C;CAEA,MAAM6D,SAAS,GAAI/G,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAAC7B;CAAvB,CAAD,CAAvC;CACA,MAAM4/C,UAAU,GAAIhH,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAAC04C;CAAvB,CAAD,CAAxC;CAGA,MAAMsF,UAAU,GAAIjH,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAACU;CAAvB,CAAD,CAAxC;CACA,MAAMu9C,gBAAgB,GAAIlH,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAAC24C;CAAvB,CAAD,CAA9C;CACA,MAAMuF,aAAa,GAAInH,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAAC44C;CAAvB,CAAD,CAA3C;CACA,MAAMuF,SAAS,GAAIpH,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAAC64C;CAAvB,CAAD,CAAvC;CACA,MAAMuF,SAAS,GAAIrH,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE52C,KAAK,CAACo2C;CAAvB,CAAD,CAAvC;CACA,MAAMiI,UAAU,GAAItH,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAAC84C;CAAxB,CAAD,CAAxC;CACA,MAAMwF,WAAW,GAAIvH,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAAC+4C;CAAxB,CAAD,CAAzC;CACA,MAAMwF,WAAW,GAAIxH,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAACg5C;CAAxB,CAAD,CAAzC;CACA,MAAMwF,WAAW,GAAIzH,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAACi5C;CAAxB,CAAD,CAAzC;CACA,MAAMwF,WAAW,GAAI1H,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAACk5C;CAAxB,CAAD,CAAzC;CACA,MAAMwF,WAAW,GAAI3H,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAACm5C;CAAxB,CAAD,CAAzC;CACA,MAAMwF,kBAAkB,GAAI5H,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAACo5C;CAAxB,CAAD,CAAhD;CACA,MAAMwF,mBAAmB,GAAI7H,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAACs5C;CAAxB,CAAD,CAAjD;CACA,MAAMuF,mBAAmB,GAAI9H,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAACu5C;CAAxB,CAAD,CAAjD;CACA,MAAMuF,mBAAmB,GAAI/H,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAACw5C;CAAxB,CAAD,CAAjD;CACA,MAAMuF,mBAAmB,GAAIhI,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAACy5C;CAAxB,CAAD,CAAjD;CACA,MAAMuF,mBAAmB,GAAIjI,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAAC05C;CAAxB,CAAD,CAAjD;CACA,MAAMuF,mBAAmB,GAAIlI,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAAC25C;CAAxB,CAAD,CAAjD;CACA,MAAMuF,mBAAmB,GAAInI,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAAC45C;CAAxB,CAAD,CAAjD;CACA,MAAMuF,mBAAmB,GAAIpI,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAAC65C;CAAxB,CAAD,CAAjD;CACA,MAAMuF,mBAAmB,GAAIrI,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE52C,KAAK,CAAC85C;CAAxB,CAAD,CAAjD;CAEP+C,IAAI,CAACt/B,KAAL,GAAaA,KAAb;CACAs/B,IAAI,CAACc,MAAL,GAAcA,MAAd;CACAd,IAAI,CAACe,MAAL,GAAcA,MAAd;CACAf,IAAI,CAACgB,cAAL,GAAsBA,cAAtB;CACAhB,IAAI,CAACiB,SAAL,GAAiBA,SAAjB;CACAjB,IAAI,CAACkB,UAAL,GAAkBA,UAAlB;CACAlB,IAAI,CAACmB,UAAL,GAAkBA,UAAlB;CACAnB,IAAI,CAACoB,gBAAL,GAAwBA,gBAAxB;CACApB,IAAI,CAACqB,aAAL,GAAqBA,aAArB;CACArB,IAAI,CAACsB,SAAL,GAAiBA,SAAjB;CACAtB,IAAI,CAACuB,SAAL,GAAiBA,SAAjB;CACAvB,IAAI,CAACwB,UAAL,GAAkBA,UAAlB;CACAxB,IAAI,CAACyB,WAAL,GAAmBA,WAAnB;CACAzB,IAAI,CAAC0B,WAAL,GAAmBA,WAAnB;CACA1B,IAAI,CAAC2B,WAAL,GAAmBA,WAAnB;CACA3B,IAAI,CAAC4B,WAAL,GAAmBA,WAAnB;CACA5B,IAAI,CAAC6B,WAAL,GAAmBA,WAAnB;CACA7B,IAAI,CAAC8B,kBAAL,GAA0BA,kBAA1B;CACA9B,IAAI,CAAC+B,mBAAL,GAA2BA,mBAA3B;CACA/B,IAAI,CAACgC,mBAAL,GAA2BA,mBAA3B;CACAhC,IAAI,CAACiC,mBAAL,GAA2BA,mBAA3B;CACAjC,IAAI,CAACkC,mBAAL,GAA2BA,mBAA3B;CACAlC,IAAI,CAACmC,mBAAL,GAA2BA,mBAA3B;CACAnC,IAAI,CAACoC,mBAAL,GAA2BA,mBAA3B;CACApC,IAAI,CAACqC,mBAAL,GAA2BA,mBAA3B;CACArC,IAAI,CAACsC,mBAAL,GAA2BA,mBAA3B;CACAtC,IAAI,CAACuC,mBAAL,GAA2BA,mBAA3B;CAEO,MAAMC,SAAS,GAAItI,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE35B,MAAM,CAAClT;CAAxB,CAAD,CAAvC;CACA,MAAMu1C,QAAQ,GAAIvI,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE35B,MAAM,CAACo6B;CAAxB,CAAD,CAAtC;CACA,MAAMkI,UAAU,GAAIxI,KAAD,IAAWJ,UAAU,CAAC,EAAC,GAAGI,KAAJ;CAAWH,EAAAA,IAAI,EAAE35B,MAAM,CAAC26B;CAAxB,CAAD,CAAxC;CAGPiF,IAAI,CAACwC,SAAL,GAAiBA,SAAjB;CACAxC,IAAI,CAACyC,QAAL,GAAgBA,QAAhB;CACAzC,IAAI,CAAC0C,UAAL,GAAkBA,UAAlB;CAEO,MAAMC,WAAW,GAAIzI,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEsD,KAAK,CAACC;CAAxB,CAAD,CAAzC;CACA,MAAMsF,aAAa,GAAI1I,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEsD,KAAK,CAACE;CAAxB,CAAD,CAA3C;CAEPyC,IAAI,CAAC2C,WAAL,GAAmBA,WAAnB;CACA3C,IAAI,CAAC4C,aAAL,GAAqBA,aAArB;CAEO,MAAMC,UAAU,GAAI3I,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEyE,QAAQ,CAAChE;CAA3B,CAAD,CAAxC;CACA,MAAMsI,YAAY,GAAI5I,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEyE,QAAQ,CAACzD;CAA3B,CAAD,CAA1C;CAEPiF,IAAI,CAAC6C,UAAL,GAAkBA,UAAlB;CACA7C,IAAI,CAAC8C,YAAL,GAAoBA,YAApB;CAEO,MAAMC,IAAI,GAAI7I,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEyD,IAAI,CAACC;CAAvB,CAAD,CAAlC;CACA,MAAMuF,cAAc,GAAI9I,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEyD,IAAI,CAACE;CAAvB,CAAD,CAA5C;CACA,MAAMuF,YAAY,GAAI/I,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEyD,IAAI,CAACG;CAAvB,CAAD,CAA1C;CAGPqC,IAAI,CAAC+C,IAAL,GAAYA,IAAZ;CACA/C,IAAI,CAACgD,cAAL,GAAsBA,cAAtB;CACAhD,IAAI,CAACiD,YAAL,GAAoBA,YAApB;CAEO,MAAMC,IAAI,GAAIhJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE6D,IAAI,CAACA;CAAvB,CAAD,CAAlC;CACA,MAAMuF,MAAM,GAAIjJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE6D,IAAI,CAACpD;CAAvB,CAAD,CAApC;CACA,MAAM4I,YAAY,GAAIlJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE6D,IAAI,CAACE;CAAvB,CAAD,CAA1C;CACA,MAAMuF,SAAS,GAAInJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE6D,IAAI,CAACllB;CAAvB,CAAD,CAAvC;CACA,MAAM4qB,eAAe,GAAIpJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE6D,IAAI,CAACG;CAAvB,CAAD,CAA7C;CACA,MAAMwF,QAAQ,GAAIrJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE6D,IAAI,CAAC7C;CAAvB,CAAD,CAAtC;CACA,MAAMyI,cAAc,GAAItJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE6D,IAAI,CAACI;CAAvB,CAAD,CAA5C;CACA,MAAMyF,QAAQ,GAAIvJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE6D,IAAI,CAACnhC;CAAvB,CAAD,CAAtC;CACA,MAAMinC,cAAc,GAAIxJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE6D,IAAI,CAACK;CAAvB,CAAD,CAA5C;CAGP+B,IAAI,CAACkD,IAAL,GAAYA,IAAZ;CACAlD,IAAI,CAACmD,MAAL,GAAcA,MAAd;CACAnD,IAAI,CAACoD,YAAL,GAAoBA,YAApB;CACApD,IAAI,CAACqD,SAAL,GAAiBA,SAAjB;CACArD,IAAI,CAACsD,eAAL,GAAuBA,eAAvB;CACAtD,IAAI,CAACuD,QAAL,GAAgBA,QAAhB;CACAvD,IAAI,CAACwD,cAAL,GAAsBA,cAAtB;CACAxD,IAAI,CAACyD,QAAL,GAAgBA,QAAhB;CACAzD,IAAI,CAAC0D,cAAL,GAAsBA,cAAtB;CAEO,MAAMC,YAAY,GAAIzJ,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEoE,QAAQ,CAAC1hC;CAA3B,CAAD,CAA1C;CACA,MAAMmnC,aAAa,GAAI1J,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEoE,QAAQ,CAACzlB;CAA3B,CAAD,CAA3C;CAEPsnB,IAAI,CAAC2D,YAAL,GAAoBA,YAApB;CACA3D,IAAI,CAAC4D,aAAL,GAAqBA,aAArB;CAEO,MAAMC,cAAc,GAAI3J,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEhrB,QAAM,CAACqvB;CAAzB,CAAD,CAA5C;CACA,MAAM0F,eAAe,GAAI5J,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEhrB,QAAM,CAACuvB;CAAzB,CAAD,CAA7C;CACA,MAAMyF,cAAc,GAAI7J,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEhrB,QAAM,CAACsvB;CAAzB,CAAD,CAA5C;CACA,MAAM2F,eAAe,GAAI9J,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEhrB,QAAM,CAACwvB;CAAzB,CAAD,CAA7C;CAEPyB,IAAI,CAAC6D,cAAL,GAAsBA,cAAtB;CACA7D,IAAI,CAAC8D,eAAL,GAAuBA,eAAvB;CACA9D,IAAI,CAAC+D,cAAL,GAAsBA,cAAtB;CACA/D,IAAI,CAACgE,eAAL,GAAuBA,eAAvB;CAEO,MAAMC,UAAU,GAAI/J,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACC;CAA3B,CAAD,CAAxC;CACA,MAAMwF,UAAU,GAAIhK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACG;CAA3B,CAAD,CAAxC;CACA,MAAMuF,gBAAgB,GAAIjK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACE;CAA3B,CAAD,CAA9C;CACA,MAAMyF,WAAW,GAAIlK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACI;CAA3B,CAAD,CAAzC;CACA,MAAMwF,YAAY,GAAInK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACK;CAA3B,CAAD,CAA1C;CACA,MAAMwF,IAAI,GAAIpK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACM;CAA3B,CAAD,CAAlC;CACA,MAAMwF,KAAK,GAAIrK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACO;CAA3B,CAAD,CAAnC;CACA,MAAMwF,KAAK,GAAItK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACQ;CAA3B,CAAD,CAAnC;CACA,MAAMwF,IAAI,GAAIvK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACS;CAA3B,CAAD,CAAlC;CACA,MAAMwF,SAAS,GAAIxK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACU;CAA3B,CAAD,CAAvC;CACA,MAAMwF,SAAS,GAAIzK,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACW;CAA3B,CAAD,CAAvC;CACA,MAAMwF,UAAU,GAAI1K,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAE0E,QAAQ,CAACY;CAA3B,CAAD,CAAxC;CAEPW,IAAI,CAACiE,UAAL,GAAkBA,UAAlB;CACAjE,IAAI,CAACkE,UAAL,GAAkBA,UAAlB;CACAlE,IAAI,CAACmE,gBAAL,GAAwBA,gBAAxB;CAEAnE,IAAI,CAACoE,WAAL,GAAmBA,WAAnB;CACApE,IAAI,CAACqE,YAAL,GAAoBA,YAApB;CAEArE,IAAI,CAACsE,IAAL,GAAYA,IAAZ;CACAtE,IAAI,CAACuE,KAAL,GAAaA,KAAb;CACAvE,IAAI,CAACwE,KAAL,GAAaA,KAAb;CAEAxE,IAAI,CAACyE,IAAL,GAAYA,IAAZ;CACAzE,IAAI,CAAC0E,SAAL,GAAiBA,SAAjB;CACA1E,IAAI,CAAC2E,SAAL,GAAiBA,SAAjB;CACA3E,IAAI,CAAC4E,UAAL,GAAkBA,UAAlB;CAGO,MAAMC,UAAU,GAAK3K,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEuF,SAAS,CAACC;CAA5B,CAAD,CAAzC;CACA,MAAMuF,WAAW,GAAI5K,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEuF,SAAS,CAACE;CAA5B,CAAD,CAAzC;CACA,MAAMuF,UAAU,GAAK7K,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEuF,SAAS,CAACG;CAA5B,CAAD,CAAzC;CACA,MAAMuF,WAAW,GAAI9K,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEuF,SAAS,CAACI;CAA5B,CAAD,CAAzC;CACA,MAAMuF,UAAU,GAAK/K,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEuF,SAAS,CAACK;CAA5B,CAAD,CAAzC;CACA,MAAMuF,UAAU,GAAKhL,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEuF,SAAS,CAACM;CAA5B,CAAD,CAAzC;CACA,MAAMuF,WAAW,GAAIjL,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEuF,SAAS,CAACO;CAA5B,CAAD,CAAzC;CACA,MAAMuF,WAAW,GAAIlL,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEuF,SAAS,CAACQ;CAA5B,CAAD,CAAzC;CAEPE,IAAI,CAAC6E,UAAL,GAAkBA,UAAlB;CACA7E,IAAI,CAAC8E,WAAL,GAAmBA,WAAnB;CACA9E,IAAI,CAAC+E,UAAL,GAAkBA,UAAlB;CACA/E,IAAI,CAACgF,WAAL,GAAmBA,WAAnB;CACAhF,IAAI,CAACiF,UAAL,GAAkBA,UAAlB;CACAjF,IAAI,CAACkF,UAAL,GAAkBA,UAAlB;CACAlF,IAAI,CAACmF,WAAL,GAAmBA,WAAnB;CACAnF,IAAI,CAACoF,WAAL,GAAmBA,WAAnB;CAEO,MAAMC,KAAK,GAAInL,KAAD,IAAWJ,UAAU,CAAC,EAAE,GAAGI,KAAL;CAAYH,EAAAA,IAAI,EAAEuL,QAAQ,CAACvF;CAA3B,CAAD,CAAnC;CACPC,IAAI,CAACqF,KAAL,GAAaA,KAAb;CAEA15C,MAAM,CAAC45C,OAAP,GAAiBvF,IAAjB;;CC3OO,MAAM7F,KAAK,GAAG;CACjBH,EAAAA,KAAK,EAAE,OADU;CAEjBjoC,EAAAA,KAAK,EAAE;CAFU,CAAd;CAIP,MAAMyzC,QAAQ,GAAG;CACblkD,EAAAA,IAAI,EAAE;CACFmkD,IAAAA,KAAK,EAAE,IADL;CAEFC,IAAAA,IAAI,EAAE1F,IAAI,CAACiB,SAAL,CAAe9G,KAAf,CAFJ;CAGFwL,IAAAA,QAAQ,EAAE;CAHR,GADO;CAMb9hD,EAAAA,KAAK,EAAE;CACH4hD,IAAAA,KAAK,EAAE,IADJ;CAEHC,IAAAA,IAAI,EAAE1F,IAAI,CAACmB,UAAL,CAAgBhH,KAAhB,CAFH;CAGHwL,IAAAA,QAAQ,EAAE;CAHP,GANM;CAWbpkD,EAAAA,KAAK,EAAE;CACH;CACAmkD,IAAAA,IAAI,EAAE1F,IAAI,CAACyC,QAAL,CAAc,EAAC,GAAGtI,KAAJ;CAAWpoC,MAAAA,KAAK,EAAE;CAAlB,KAAd;CAFH,GAXM;CAebjO,EAAAA,IAAI,EAAE;CACF4hD,IAAAA,IAAI,EAAE1F,IAAI,CAACwC,SAAL,CAAe,EAAC,GAAGrI,KAAJ;CAAWpoC,MAAAA,KAAK,EAAE;CAAlB,KAAf;CADJ,GAfO;CAkBb1Q,EAAAA,UAAU,EAAE;CACRokD,IAAAA,KAAK,EAAE,IADC;CAERC,IAAAA,IAAI,EAAE1F,IAAI,CAACkE,UAAL,CAAgB/J,KAAhB,CAFE;CAGRwL,IAAAA,QAAQ,EAAE;CAHF,GAlBC;CAuBb;CACAvkD,EAAAA,UAAU,EAAE;CACRqkD,IAAAA,KAAK,EAAE,IADC;CAERC,IAAAA,IAAI,EAAE1F,IAAI,CAAC6D,cAAL,CAAoB1J,KAApB,CAFE;CAGRwL,IAAAA,QAAQ,EAAE;CAHF,GAxBC;CA6BbC,EAAAA,cAAc,EAAE;CACZH,IAAAA,KAAK,EAAE,MADK;CAEZC,IAAAA,IAAI,EAAE1F,IAAI,CAAC+D,cAAL,CAAoB5J,KAApB,CAFM;CAGZwL,IAAAA,QAAQ,EAAE;CAHE,GA7BH;CAkCbnkD,EAAAA,MAAM,EAAE;CACJikD,IAAAA,KAAK,EAAE,IADH;CAEJC,IAAAA,IAAI,EAAE1F,IAAI,CAACe,MAAL,CAAY5G,KAAZ,CAFF;CAGJwL,IAAAA,QAAQ,EAAE;CAHN,GAlCK;CAuCbE,EAAAA,UAAU,EAAE;CACRJ,IAAAA,KAAK,EAAE,MADC;CAERC,IAAAA,IAAI,EAAE1F,IAAI,CAACgB,cAAL,CAAoB,EAAC,GAAG7G,KAAJ;CAAWpoC,MAAAA,KAAK,EAAE,gBAAgBooC,KAAK,CAACpoC;CAAxC,KAApB,CAFE;CAGR4zC,IAAAA,QAAQ,EAAE;CAHF,GAvCC;CA4Cb3hD,EAAAA,OAAO,EAAE,IA5CI;CA8Cb;CACA;CACA;CACA;CACA;;CAlDa,CAAjB;;AAsDA,aAAe6G,MAAM,CAACiH,IAAP,CAAY0zC,QAAZ,EAAsBM,MAAtB,CAA6B,CAACC,KAAD,EAAQx9C,GAAR,KAAgB;CACxD,MAAIA,GAAG,KAAK,SAAZ,EAAuB;CACnBw9C,IAAAA,KAAK,CAACx9C,GAAD,CAAL,GAAc,2CAA0CA,GAAI,SAA5D;;CACA,QAAIi9C,QAAQ,CAACj9C,GAAD,CAAZ,EAAmB;CACfw9C,MAAAA,KAAK,CAACx9C,GAAD,CAAL,IAAe,0DAAyDi9C,QAAQ,CAACj9C,GAAD,CAAM,gBAAtF;CACH;CACJ,GALD,MAKO;CACHw9C,IAAAA,KAAK,CAACx9C,GAAD,CAAL,GAAc,6CAA4CA,GAAI,KAAKi9C,QAAQ,CAACj9C,GAAD,CAAR,CAAcm9C,IAAM,QAAvF;;CACA,QAAIF,QAAQ,CAACj9C,GAAD,CAAR,CAAco9C,QAAlB,EAA4B;CACxBI,MAAAA,KAAK,CAACx9C,GAAD,CAAL,IAAe,0DAAyDi9C,QAAQ,CAACj9C,GAAD,CAAR,CAAck9C,KAAM,gBAA5F;CACH;CACJ;;CAED,SAAOM,KAAP;CACH,CAdc,EAcZ,EAdY,CAAf;;ACzDA,iBAAe,CAACn7C,MAAD,EAASuU,OAAT,KAAqB;CAChCvU,EAAAA,MAAM,CAACK,UAAP,CAAkB8K,SAAlB,CAA4BC,GAA5B,CAAgC,yBAAhC;CACA,QAAMnJ,OAAO,GAAGjC,MAAM,CAACpB,IAAvB;CACA,QAAMrI,WAAW,GAAG0L,OAAO,CAAC1L,WAA5B;CACA,QAAM6kD,YAAY,GAAG,EACjB,GAAG7L,KADc;CAEjBhvC,IAAAA,KAAK,EAAE,QAFU;CAGjBI,IAAAA,MAAM,EAAE,QAHS;CAIjBwG,IAAAA,KAAK,EAAE,+BAA+BooC,KAAK,CAACpoC;CAJ3B,GAArB;CAOAnH,EAAAA,MAAM,CAACK,UAAP,CAAkBg7C,kBAAlB,CACI,WADJ,EAEK;AACT,cAAcp5C,OAAO,CAAClL,UAAR,GAAsB,8DAA6DkL,OAAO,CAAClL,UAAW,WAAtG,GAAmH,EAAG;AACpI;AACA,kBAAkBokD,KAAK,CAAC/hD,OAAQ;AAChC,kBAAkB6I,OAAO,CAACnL,WAAR,GAAuB,uCAAsCmL,OAAO,CAACnL,WAAY,QAAjF,GAA2F,EAAG;AAChH;AACA,cAAcmL,OAAO,CAACpL,UAAR,IAAsBN,WAAW,CAACG,IAAlC,GAA0C,wCAA1C,GAAoF,EAAG;AACrG,cAAcuL,OAAO,CAACpL,UAAR,GAAsB;AACpC;AACA;AACA;AACA,8BAA8BoL,OAAO,CAAChM,aAAR,GAAyB,6DAAzB,GAAwF,EAAG;AACzH;AACA;AACA,+BAA+BM,WAAW,CAACI,KAAZ,GAAqB;AACpD;AACA,uCAAuCwkD,KAAK,CAACxkD,KAAM;AACnD,uCAAuCwkD,KAAK,CAACjiD,IAAK;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8BAX+B,GAWE,EAAG;AACpC,+BAA+B3C,WAAW,CAACG,IAAZ,GAAoB,uDAAsDykD,KAAK,CAACzkD,IAAK,8DAA6DykD,KAAK,CAACliD,KAAM,QAA9J,GAAwK,EAAG;AAC1M,+BAA+B1C,WAAW,CAACE,UAAZ,GAA0B,6DAA4D0kD,KAAK,CAAC1kD,UAAW,QAAvG,GAAiH,EAAG;AACnJ,+BAA+BF,WAAW,CAACK,MAAZ,GAAsB,0DAAyDukD,KAAK,CAACvkD,MAAO,oEAAmEukD,KAAK,CAACF,UAAW,QAAhL,GAA0L,EAAG;AAC5N,+BAA+B1kD,WAAW,CAACC,UAAZ,GAA0B,6DAA4D2kD,KAAK,CAAC3kD,UAAW,wEAAuE2kD,KAAK,CAACH,cAAe,QAAnM,GAA6M,EAAG;AAC/O;AACA;AACA,4BAA6B5F,IAAI,CAAC+C,IAAL,CAAUiD,YAAV,CAAyB;AACtD;AACA;AACA;AACA,aA7Bc,GA6BE,EAAG;AACnB;AACA,SAxCI;CA2CAn7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,SAA/B,EAA0C;CACtCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,mBAAhC;CAD+B,GAA1C;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,UAA/B,EAA2C;CACvCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,oBAAhC;CADgC,GAA3C;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,OAA/B,EAAwC;CACpCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,iBAAhC;CAD6B,GAAxC;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,UAA/B,EAA2C;CACvCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,qBAAhC;CADgC,GAA3C;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,QAA/B,EAAyC;CACrCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,kBAAhC;CAD8B,GAAzC;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,WAA/B,EAA4C;CACxCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,qBAAhC;CADiC,GAA5C;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,aAA/B,EAA8C;CAC1CtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,uBAAhC;CADmC,GAA9C;CAIA;CACJ;CACA;;CAGIr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,SAA/B,EAA0C;CACtCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,mBAAhC;CAD+B,GAA1C;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,kBAA/B,EAAmD;CAC/CtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,8BAAhC;CADwC,GAAnD;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,kBAA/B,EAAmD;CAC/CtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,8BAAhC;CADwC,GAAnD;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,cAA/B,EAA+C;CAC3CtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,yBAAhC;CADoC,GAA/C;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,eAA/B,EAAgD;CAC5CtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,gCAAhC;CADqC,GAAhD;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,WAA/B,EAA4C;CACxCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,uBAAhC;CADiC,GAA5C;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,YAA/B,EAA6C;CACzCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,sBAAhC;CADkC,GAA7C;CAKA;CACJ;CACA;;CAEIr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,iBAA/B,EAAkD;CAC9CtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,4BAAhC;CADuC,GAAlD;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,SAA/B,EAA0C;CACtCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,mBAAhC;CAD+B,GAA1C;CAGAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,aAA/B,EAA8C;CAC1CtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,wBAAhC;CADmC,GAA9C;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,aAA/B,EAA8C;CAC1CtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,uBAAhC;CADmC,GAA9C;CAIAr7C,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,QAA/B,EAAyC;CACrCtN,IAAAA,KAAK,EAAEjH,MAAM,CAACK,UAAP,CAAkBi7C,aAAlB,CAAgC,kBAAhC;CAD8B,GAAzC;CAGH,CA1ID;;ACEA,mBAAe,CAACt7C,MAAD,EAASuU,OAAT,KAAqB;CAChC,QAAM;CACFtJ,IAAAA,MAAM,EAAE;CAAC/L,MAAAA;CAAD;CADN,MAEFc,MAFJ;CAIA,QAAMu7C,MAAM,GAAGz6C,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAf;CACA01C,EAAAA,MAAM,CAAC1mC,YAAP,CAAoB,aAApB,EAAmC,MAAnC;CACA0mC,EAAAA,MAAM,CAAC1mC,YAAP,CAAoB,UAApB,EAAgC,CAAC,CAAjC;CACA0mC,EAAAA,MAAM,CAACr2C,IAAP,GAAc,WAAd;CACAq2C,EAAAA,MAAM,CAAC3uC,IAAP,GAAc,aAAd;CAEA5F,EAAAA,QAAQ,CAACu0C,MAAD,EAAS;CACbC,IAAAA,OAAO,EAAE,OADI;CAEb7pC,IAAAA,QAAQ,EAAE,UAFG;CAGbC,IAAAA,GAAG,EAAE,GAHQ;CAIbC,IAAAA,IAAI,EAAE,GAJO;CAKblR,IAAAA,MAAM,EAAE,MALK;CAMbJ,IAAAA,KAAK,EAAE,MANM;CAObk7C,IAAAA,QAAQ,EAAE,QAPG;CAQbC,IAAAA,aAAa,EAAE,MARF;CASbziB,IAAAA,MAAM,EAAE;CATK,GAAT,CAAR;CAYA,MAAIxtB,WAAW,GAAGzL,MAAM,CAACO,KAAzB;CACA,MAAIiL,YAAY,GAAGxL,MAAM,CAACW,MAA1B;CAEAzB,EAAAA,KAAK,CAACq8C,MAAD,EAAS,MAAT,EAAiB,MAAM;CACxBr8C,IAAAA,KAAK,CAACq8C,MAAM,CAACI,eAAP,CAAuBC,WAAxB,EAAqC,QAArC,EAA+C,MAAM;CACtD,UAAI57C,MAAM,CAACO,KAAP,KAAiBkL,WAAjB,IAAgCzL,MAAM,CAACW,MAAP,KAAkB6K,YAAtD,EAAoE;CAChEC,QAAAA,WAAW,GAAGzL,MAAM,CAACO,KAArB;CACAiL,QAAAA,YAAY,GAAGxL,MAAM,CAACW,MAAtB;CACAX,QAAAA,MAAM,CAACgL,IAAP,CAAYnS,MAAM,CAAC0B,MAAnB;CACH;CACJ,KANI,CAAL;CAOH,GARI,CAAL;CASAyF,EAAAA,MAAM,CAACK,UAAP,CAAkByR,WAAlB,CAA8BypC,MAA9B;CAEAv7C,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACgC,OAAjB,EAA0B,MAAM;CAC5BmF,IAAAA,MAAM,CAACK,UAAP,CAAkBiS,WAAlB,CAA8BipC,MAA9B;CACH,GAFD;;CAIA,WAASM,eAAT,CAAyBC,UAAzB,EAAqC;CACjC,QAAIA,UAAU,KAAK,CAAnB,EAAsB;CAClB90C,MAAAA,QAAQ,CAACuN,OAAO,CAACwnC,SAAT,EAAoB,SAApB,EAA+B,MAA/B,CAAR;CACA/0C,MAAAA,QAAQ,CAACuN,OAAO,CAACynC,UAAT,EAAqB,SAArB,EAAgC,MAAhC,CAAR;CACAh1C,MAAAA,QAAQ,CAACuN,OAAO,CAAC0nC,aAAT,EAAwB,KAAxB,EAAgC,GAAE,EAAG,IAArC,CAAR;CACH,KAJD,MAIO;CACH,UAAI1nC,OAAO,CAAC0nC,aAAR,IAAyB1nC,OAAO,CAAC2nC,YAArC,EAAmD;CAC/C,cAAMC,WAAW,GAAG/0C,QAAQ,CAACmN,OAAO,CAAC2nC,YAAT,EAAuB,QAAvB,CAAR,IAA4C,EAAhE;CACA,cAAME,YAAY,GAAGh1C,QAAQ,CAACmN,OAAO,CAAC0nC,aAAT,EAAwB,QAAxB,CAA7B;CACA,cAAMrqC,GAAG,GAAGuqC,WAAW,GAAG,CAACA,WAAW,GAAGC,YAAf,IAA+BN,UAA7C,GAA0DM,YAAtE;CACAp1C,QAAAA,QAAQ,CAACuN,OAAO,CAAC0nC,aAAT,EAAwB,KAAxB,EAAgC,GAAErqC,GAAI,IAAtC,CAAR;CACA5K,QAAAA,QAAQ,CAACuN,OAAO,CAACwnC,SAAT,EAAoB,SAApB,EAA+B,MAA/B,CAAR;CACA/0C,QAAAA,QAAQ,CAACuN,OAAO,CAACynC,UAAT,EAAqB,SAArB,EAAgC,MAAhC,CAAR;CACH;CACJ;;CACDznC,IAAAA,OAAO,CAAC8nC,gBAAR,KAA6B9nC,OAAO,CAAC8nC,gBAAR,CAAyBC,SAAzB,GAAqCx2B,QAAQ,CAACg2B,UAAU,GAAG,GAAd,CAA1E;CACH;;CAED97C,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAAC+B,YAAjB,EAA+B,MAAM;CACjCihD,IAAAA,eAAe,CAAC77C,MAAM,CAACwV,MAAR,CAAf;CACH,GAFD;CAIAxV,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACO,OAAjB,EAA2Buf,IAAD,IAAU;CAChC3R,IAAAA,QAAQ,CAACuN,OAAO,CAACgoC,QAAT,EAAmB,SAAnB,EAA8B5jC,IAAI,GAAG,MAAH,GAAY,MAA9C,CAAR;CACA3R,IAAAA,QAAQ,CAACuN,OAAO,CAACioC,OAAT,EAAkB,SAAlB,EAA6B,MAA7B,CAAR;;CAEA,QAAI7jC,IAAJ,EAAU;CACN3R,MAAAA,QAAQ,CAACuN,OAAO,CAACkoC,QAAT,EAAmB,SAAnB,EAA8B,MAA9B,CAAR;CACH;CACJ,GAPD;;CASA,MAAI;CACA,UAAM1xC,gBAAgB,GAAG,MAAM;CAC3B/D,MAAAA,QAAQ,CAACuN,OAAO,CAACmoC,eAAT,EAA0B,SAA1B,EAAqC18C,MAAM,CAACxJ,UAAP,GAAoB,MAApB,GAA6B,MAAlE,CAAR;CACAwQ,MAAAA,QAAQ,CAACuN,OAAO,CAACooC,WAAT,EAAsB,SAAtB,EAAiC38C,MAAM,CAACxJ,UAAP,GAAoB,MAApB,GAA6B,MAA9D,CAAR,CAF2B;CAI9B,KAJD;;CAKAsL,IAAAA,UAAU,CAACS,EAAX,CAAc,QAAd,EAAwBwI,gBAAxB;CACA/K,IAAAA,MAAM,CAACiL,MAAP,CAAchM,QAAd,CAAuBY,IAAvB,CAA4B,MAAM;CAC9BiC,MAAAA,UAAU,CAACQ,GAAX,CAAe,QAAf,EAAyByI,gBAAzB;CACH,KAFD;CAGH,GAVD,CAUE,OAAOtR,KAAP,EAAc;CAEf;;CAEDuG,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACiB,SAAjB,EAA6B8iD,GAAD,IAAS;CACjC51C,IAAAA,QAAQ,CAACuN,OAAO,CAACsoC,OAAT,EAAkB,SAAlB,EAA6B78C,MAAM,CAAClG,SAAP,GAAmB,MAAnB,GAA4B,MAAzD,CAAR;CACAkN,IAAAA,QAAQ,CAACuN,OAAO,CAACuoC,WAAT,EAAsB,SAAtB,EAAiC98C,MAAM,CAAClG,SAAP,GAAmB,MAAnB,GAA4B,MAA7D,CAAR;CACH,GAHD,EAtFgC;;CA4FhCkG,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACkB,kBAAjB,EAAsC+iC,SAAD,IAAe;CAChDh+B,IAAAA,OAAO,CAACtF,GAAR,CAAYsjC,SAAZ;CACH,GAFD;CAIA98B,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACG,OAAjB,EAA2B2f,IAAD,IAAU;CAChC,UAAMlN,WAAW,GAAGzL,MAAM,CAACO,KAA3B;CACA,UAAMiU,aAAa,GAAGF,mBAAmB,CAACC,OAAD,EAAU9I,WAAV,CAAzC;;CACA,QAAIkN,IAAJ,EAAU;CACNnE,MAAAA,aAAa,CAAC,aAAD,EAAgB,GAAhB,EAAqB,MAArB,CAAb;CACAA,MAAAA,aAAa,CAAC,SAAD,EAAY,GAAZ,EAAiB,MAAjB,CAAb;CACH,KAHD,MAGO;CACHxN,MAAAA,QAAQ,CAACuN,OAAO,CAACwoC,WAAT,EAAsB,SAAtB,EAAiC,MAAjC,CAAR;CACA/1C,MAAAA,QAAQ,CAACuN,OAAO,CAACsoC,OAAT,EAAkB,SAAlB,EAA6B,MAA7B,CAAR;CACH;;CAED71C,IAAAA,QAAQ,CAACuN,OAAO,CAACyoC,KAAT,EAAgB,SAAhB,EAA2BrkC,IAAI,GAAG,MAAH,GAAY,MAA3C,CAAR;CACA3R,IAAAA,QAAQ,CAACuN,OAAO,CAACkoC,QAAT,EAAmB,SAAnB,EAA8B9jC,IAAI,GAAG,MAAH,GAAY,OAA9C,CAAR;CACA3R,IAAAA,QAAQ,CAACuN,OAAO,CAAC0oC,MAAT,EAAiB,SAAjB,EAA4BtkC,IAAI,GAAG,MAAH,GAAY,MAA5C,CAAR;CACA3R,IAAAA,QAAQ,CAACuN,OAAO,CAACooC,WAAT,EAAsB,SAAtB,EAAiChkC,IAAI,GAAG,MAAH,GAAY,MAAjD,CAAR,CAdgC;;CAiBhC,QAAI,CAACA,IAAL,EAAW;CACPpE,MAAAA,OAAO,CAAC2oC,MAAR,KAAmB3oC,OAAO,CAAC2oC,MAAR,CAAeZ,SAAf,GAA2BtzC,OAAO,CAAC,EAAD,CAArD;CACH;CACJ,GApBD;CAuBAhJ,EAAAA,MAAM,CAACuC,EAAP,CAAU1J,MAAM,CAACX,IAAjB,EAAwBwhB,IAAD,IAAU;CAC7B,UAAMyjC,GAAG,GAAGn0C,OAAO,CAAC0Q,IAAD,CAAnB;CACAnF,IAAAA,OAAO,CAAC2oC,MAAR,KAAmB3oC,OAAO,CAAC2oC,MAAR,CAAeZ,SAAf,GAA2Ba,GAA9C;CACH,GAHD,EAvHgC;;CA8HhC5oC,EAAAA,OAAO,CAAChS,EAAR,CAAW,UAAX,EAAuB,MAAM;CACzBzD,IAAAA,OAAO,CAACtF,GAAR,CAAY,mBAAZ;CACH,GAFD;CAIH,CAlID;;ACLA,iBAAe,CAACwG,MAAD,EAASuU,OAAT,KAAqB;CAEhCtU,EAAAA,MAAM,CAACC,cAAP,CAAsBqU,OAAtB,EAA+B,cAA/B,EAA+C;CAC3CpU,IAAAA,GAAG,EAAE,MAAM;CACP,aAAOoU,OAAO,CAAC6oC,SAAR,CAAkB98C,qBAAlB,EAAP;CACH;CAH0C,GAA/C;CAMH,CARD;;ACEA,eAAe,CAACN,MAAD,EAASuU,OAAT,KAAqB;CAChC,QAAM;CACFtJ,IAAAA,MAAM,EAAE;CAAC/L,MAAAA;CAAD,KADN;CAEFzJ,IAAAA;CAFE,MAGFuK,MAHJ;;CAKA,WAASq9C,qBAAT,CAA+Bt9C,KAA/B,EAAsC;CAClC,UAAM;CAACu9C,MAAAA,MAAM,EAAEC,WAAT;CAAsB58C,MAAAA,MAAM,EAAEw7C;CAA9B,QAA6C5nC,OAAO,CAAC2nC,YAAR,CAAqB57C,qBAArB,EAAnD;CACA,UAAM;CAACK,MAAAA,MAAM,EAAEy7C;CAAT,QAAyB7nC,OAAO,CAAC0nC,aAAR,CAAsB37C,qBAAtB,EAA/B;CACA,UAAMw7C,UAAU,GACZn1C,KAAK,CAAC42C,WAAW,GAAGx9C,KAAK,CAACuQ,CAApB,GAAwB8rC,YAAY,GAAG,CAAxC,EAA2C,CAA3C,EAA8CD,WAAW,GAAGC,YAAY,GAAG,CAA3E,CAAL,IAAsFD,WAAW,GAAGC,YAApG,CADJ;CAEA,WAAON,UAAP;CACH,GAZ+B;;;CAehC58C,EAAAA,KAAK,CAAC6B,MAAD,EAAS,CAAC,OAAD,EAAU,aAAV,CAAT,EAAmChB,KAAK,IAAI;CAC7C,QAAIA,KAAK,CAACy9C,YAAN,GAAqBt4B,OAArB,CAA6BllB,MAAM,CAACK,UAApC,IAAkD,CAAC,CAAvD,EAA0D;CACtDkU,MAAAA,OAAO,CAACkpC,OAAR,GAAkB,IAAlB;CACH,KAFD,MAEO;CACHlpC,MAAAA,OAAO,CAACkpC,OAAR,GAAkB,KAAlB;CACH;CACJ,GANI,CAAL,CAfgC;;CAwBhCv+C,EAAAA,KAAK,CAAC6B,MAAD,EAAS,mBAAT,EAA8B,MAAM;CACrC6b,IAAAA,UAAU,CAAC,MAAM;CACb5c,MAAAA,MAAM,CAACzF,MAAP;CACH,KAFS,EAEP,GAFO,CAAV;CAGH,GAJI,CAAL;CAOA2E,EAAAA,KAAK,CAACqV,OAAO,CAAC6oC,SAAT,EAAoB,OAApB,EAA8B14C,CAAD,IAAO;CACrCA,IAAAA,CAAC,CAACg5C,eAAF;CACH,GAFI,CAAL;CAIAx+C,EAAAA,KAAK,CAACqV,OAAO,CAAC0oC,MAAT,EAAiB,OAAjB,EAA2Bv4C,CAAD,IAAO;CAClC1E,IAAAA,MAAM,CAAC/G,KAAP;CACH,GAFI,CAAL,CAnCgC;;CAuChCiG,EAAAA,KAAK,CAACqV,OAAO,CAACyoC,KAAT,EAAgB,OAAhB,EAA0Bt4C,CAAD,IAAO;CACjC1E,IAAAA,MAAM,CAACtJ,IAAP;CACH,GAFI,CAAL,CAvCgC;;CA4ChCwI,EAAAA,KAAK,CAACqV,OAAO,CAACkoC,QAAT,EAAmB,OAAnB,EAA6B/3C,CAAD,IAAO;CACpC1E,IAAAA,MAAM,CAACtJ,IAAP;CACH,GAFI,CAAL;CAIAwI,EAAAA,KAAK,CAACqV,OAAO,CAACopC,OAAT,EAAkB,WAAlB,EAA+B,MAAM;CACtCppC,IAAAA,OAAO,CAACqpC,gBAAR,CAAyBzyC,SAAzB,CAAmCC,GAAnC,CAAuC,kCAAvC;CACH,GAFI,CAAL;CAIAlM,EAAAA,KAAK,CAACqV,OAAO,CAACopC,OAAT,EAAkB,UAAlB,EAA8B,MAAM;CACrCppC,IAAAA,OAAO,CAACqpC,gBAAR,CAAyBzyC,SAAzB,CAAmCa,MAAnC,CAA0C,kCAA1C;CACH,GAFI,CAAL;CAIA9M,EAAAA,KAAK,CAACqV,OAAO,CAACwnC,SAAT,EAAoB,OAApB,EAA8Br3C,CAAD,IAAO;CACrCA,IAAAA,CAAC,CAACg5C,eAAF;CACA12C,IAAAA,QAAQ,CAACuN,OAAO,CAACwnC,SAAT,EAAoB,SAApB,EAA+B,MAA/B,CAAR;CACA/0C,IAAAA,QAAQ,CAACuN,OAAO,CAACynC,UAAT,EAAqB,SAArB,EAAgC,OAAhC,CAAR;CACAh8C,IAAAA,MAAM,CAAC69C,UAAP,GAAoB79C,MAAM,CAACwV,MAA3B;CACAxV,IAAAA,MAAM,CAACwV,MAAP,GAAgB,CAAhB;CACH,GANI,CAAL;CAQAtW,EAAAA,KAAK,CAACqV,OAAO,CAACynC,UAAT,EAAqB,OAArB,EAA+Bt3C,CAAD,IAAO;CACtCA,IAAAA,CAAC,CAACg5C,eAAF;CACA12C,IAAAA,QAAQ,CAACuN,OAAO,CAACwnC,SAAT,EAAoB,SAApB,EAA+B,OAA/B,CAAR;CACA/0C,IAAAA,QAAQ,CAACuN,OAAO,CAACynC,UAAT,EAAqB,SAArB,EAAgC,MAAhC,CAAR;CACAh8C,IAAAA,MAAM,CAACwV,MAAP,GAAgBxV,MAAM,CAAC69C,UAAP,IAAqB,GAArC;CACH,GALI,CAAL;CAOA3+C,EAAAA,KAAK,CAACqV,OAAO,CAACwoC,WAAT,EAAsB,OAAtB,EAAgCr4C,CAAD,IAAO;CACvCA,IAAAA,CAAC,CAACg5C,eAAF;CACA19C,IAAAA,MAAM,CAACzH,KAAP,CAAa9B,UAAb;CACH,GAHI,CAAL;CAKAyI,EAAAA,KAAK,CAACqV,OAAO,CAAC2nC,YAAT,EAAuB,OAAvB,EAAgCn8C,KAAK,IAAI;CAC1CA,IAAAA,KAAK,CAAC29C,eAAN;CACA19C,IAAAA,MAAM,CAACwV,MAAP,GAAgB6nC,qBAAqB,CAACt9C,KAAD,CAArC;CACH,GAHI,CAAL;CAKAb,EAAAA,KAAK,CAACqV,OAAO,CAAC0nC,aAAT,EAAwB,WAAxB,EAAqC,MAAM;CAC5C1nC,IAAAA,OAAO,CAACupC,eAAR,GAA0B,IAA1B;CACH,GAFI,CAAL;CAIA5+C,EAAAA,KAAK,CAACqV,OAAO,CAAC0nC,aAAT,EAAwB,WAAxB,EAAqCl8C,KAAK,IAAI;CAC/C,QAAIwU,OAAO,CAACupC,eAAZ,EAA6B;CACzB99C,MAAAA,MAAM,CAACwV,MAAP,GAAgB6nC,qBAAqB,CAACt9C,KAAD,CAArC;CACH;CACJ,GAJI,CAAL;CAMAb,EAAAA,KAAK,CAAC4B,QAAD,EAAW,SAAX,EAAsB,MAAM;CAC7B,QAAIyT,OAAO,CAACupC,eAAZ,EAA6B;CACzBvpC,MAAAA,OAAO,CAACupC,eAAR,GAA0B,KAA1B;CACH;CACJ,GAJI,CAAL;CAMA5+C,EAAAA,KAAK,CAACqV,OAAO,CAACsoC,OAAT,EAAkB,OAAlB,EAA4Bn4C,CAAD,IAAO;CACnCA,IAAAA,CAAC,CAACg5C,eAAF;CACA19C,IAAAA,MAAM,CAAClG,SAAP,GAAmB,IAAnB;CACH,GAHI,CAAL;CAKAoF,EAAAA,KAAK,CAACqV,OAAO,CAACuoC,WAAT,EAAsB,OAAtB,EAAgCp4C,CAAD,IAAO;CACvCA,IAAAA,CAAC,CAACg5C,eAAF;CACA19C,IAAAA,MAAM,CAAClG,SAAP,GAAmB,KAAnB;CACH,GAHI,CAAL;CAKAoF,EAAAA,KAAK,CAACqV,OAAO,CAACooC,WAAT,EAAsB,OAAtB,EAAgCj4C,CAAD,IAAO;CACvCA,IAAAA,CAAC,CAACg5C,eAAF;CACA19C,IAAAA,MAAM,CAACxJ,UAAP,GAAoB,IAApB;CACH,GAHI,CAAL;CAKA0I,EAAAA,KAAK,CAACqV,OAAO,CAACmoC,eAAT,EAA0B,OAA1B,EAAoCh4C,CAAD,IAAO;CAC3CA,IAAAA,CAAC,CAACg5C,eAAF;CACA19C,IAAAA,MAAM,CAACxJ,UAAP,GAAoB,KAApB;CACH,GAHI,CAAL;CAIH,CApHD;;CCFA,SAASunD,WAAT,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+B;CAC7B,MAAKA,GAAG,KAAK,KAAK,CAAlB,EAAsBA,GAAG,GAAG,EAAN;CACtB,MAAIC,QAAQ,GAAGD,GAAG,CAACC,QAAnB;;CAEA,MAAI,CAACF,GAAD,IAAQ,OAAOl9C,QAAP,KAAoB,WAAhC,EAA6C;CAAE;CAAS;;CAExD,MAAIq9C,IAAI,GAAGr9C,QAAQ,CAACq9C,IAAT,IAAiBr9C,QAAQ,CAACs9C,oBAAT,CAA8B,MAA9B,EAAsC,CAAtC,CAA5B;CACA,MAAIj3C,KAAK,GAAGrG,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAAZ;CACAsB,EAAAA,KAAK,CAACjC,IAAN,GAAa,UAAb;;CAEA,MAAIg5C,QAAQ,KAAK,KAAjB,EAAwB;CACtB,QAAIC,IAAI,CAACE,UAAT,EAAqB;CACnBF,MAAAA,IAAI,CAACG,YAAL,CAAkBn3C,KAAlB,EAAyBg3C,IAAI,CAACE,UAA9B;CACD,KAFD,MAEO;CACLF,MAAAA,IAAI,CAACrsC,WAAL,CAAiB3K,KAAjB;CACD;CACF,GAND,MAMO;CACLg3C,IAAAA,IAAI,CAACrsC,WAAL,CAAiB3K,KAAjB;CACD;;CAED,MAAIA,KAAK,CAACo3C,UAAV,EAAsB;CACpBp3C,IAAAA,KAAK,CAACo3C,UAAN,CAAiBC,OAAjB,GAA2BR,GAA3B;CACD,GAFD,MAEO;CACL72C,IAAAA,KAAK,CAAC2K,WAAN,CAAkBhR,QAAQ,CAAC29C,cAAT,CAAwBT,GAAxB,CAAlB;CACD;CACF;;;;;CCzBD;AAGA,eAAe,CAACh+C,MAAD,EAASuU,OAAT,KAAqB;CAChC,QAAM;CACFtJ,IAAAA,MAAM,EAAE;CAAC/L,MAAAA;CAAD;CADN,MAEFc,MAFJ;CAIA,QAAMkH,IAAI,GAAG,EAAb;;CAEA,WAASw3C,SAAT,CAAmB/gD,GAAnB,EAAwBoC,KAAxB,EAA+B;CAC3B,QAAImH,IAAI,CAACvJ,GAAD,CAAR,EAAe;CACXuJ,MAAAA,IAAI,CAACvJ,GAAD,CAAJ,CAAUkC,IAAV,CAAeE,KAAf;CACH,KAFD,MAEO;CACHmH,MAAAA,IAAI,CAACvJ,GAAD,CAAJ,GAAY,CAACoC,KAAD,CAAZ;CACH;CACJ,GAb+B;;;CAgBhC2+C,EAAAA,SAAS,CAACtgD,OAAO,CAACC,GAAT,EAAc,MAAM;CACzB,QAAI2B,MAAM,CAACxJ,UAAX,EAAuB;CACnBwJ,MAAAA,MAAM,CAACxJ,UAAP,GAAoB,KAApB;CACH;CACJ,GAJQ,CAAT,CAhBgC;;CAuBhCkoD,EAAAA,SAAS,CAACtgD,OAAO,CAACE,OAAT,EAAkB,MAAM;CAC7B0B,IAAAA,MAAM,CAACwV,MAAP,IAAiB,IAAjB;CACH,GAFQ,CAAT,CAvBgC;;CA4BhCkpC,EAAAA,SAAS,CAACtgD,OAAO,CAACG,SAAT,EAAoB,MAAM;CAC/ByB,IAAAA,MAAM,CAACwV,MAAP,IAAiB,IAAjB;CACH,GAFQ,CAAT;CAIAtW,EAAAA,KAAK,CAAC6B,MAAD,EAAS,SAAT,EAAoBhB,KAAK,IAAI;CAC9B,QAAIwU,OAAO,CAACkpC,OAAZ,EAAqB;CACjB,YAAMkB,GAAG,GAAG79C,QAAQ,CAAC89C,aAAT,CAAuBC,OAAvB,CAA+BC,WAA/B,EAAZ;CACA,YAAMC,QAAQ,GAAGj+C,QAAQ,CAAC89C,aAAT,CAAuBI,YAAvB,CAAoC,iBAApC,CAAjB;;CACA,UAAIL,GAAG,KAAK,OAAR,IAAmBA,GAAG,KAAK,UAA3B,IAAyCI,QAAQ,KAAK,EAAtD,IAA4DA,QAAQ,KAAK,MAA7E,EAAqF;CACjF,cAAM9zC,MAAM,GAAG/D,IAAI,CAACnH,KAAK,CAACk/C,OAAP,CAAnB;;CACA,YAAIh0C,MAAJ,EAAY;CACRlL,UAAAA,KAAK,CAACm/C,cAAN;CACAj0C,UAAAA,MAAM,CAACnL,OAAP,CAAeqB,EAAE,IAAIA,EAAE,EAAvB;CACH;CACJ;CACJ;CACJ,GAZI,CAAL;CAaH,CA7CD;;CCKe,MAAMg+C,OAAN,SAAsBhzC,OAAtB,CAA8B;CACzC1N,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB;CACA,SAAKA,MAAL,GAAcA,MAAd;CACAo/C,IAAAA,QAAQ,CAACp/C,MAAD,EAAS,IAAT,CAAR;CACAq/C,IAAAA,UAAQ,CAACr/C,MAAD,EAAS,IAAT,CAAR;CACAs/C,IAAAA,QAAQ,CAACt/C,MAAD,EAAS,IAAT,CAAR;CACAiL,IAAAA,MAAM,CAACjL,MAAD,EAAS,IAAT,CAAN;CAEA,SAAKsV,QAAL,GAAgB,KAAhB;CACA,SAAKvJ,SAAL,GAAiB,KAAjB;CACA,SAAKwJ,IAAL,GAAY,CAAZ;;CACA,QAAIvV,MAAM,CAACpB,IAAP,CAAYlJ,MAAhB,EAAwB;CACpB6pD,MAAAA,MAAM,CAACv/C,MAAD,EAAS,IAAT,CAAN;CACH;;CACD,SAAKA,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,SAAtB,EAAiC,MAAjC;CACH;;CAEDqB,EAAAA,OAAO,GAAG;CACN,UAAMwF,UAAU,GAAG,KAAKL,MAAL,CAAYK,UAA/B;;CACA,QAAI,KAAKm8C,OAAL,IAAgBn8C,UAAU,CAACyU,QAAX,CAAoB,KAAK0nC,OAAzB,CAApB,EAAuD;CACnD,WAAKx8C,MAAL,CAAYK,UAAZ,CAAuBiS,WAAvB,CAAmC,KAAKkqC,OAAxC;CACH;;CACD,QAAI,KAAKD,QAAL,IAAiBl8C,UAAU,CAACyU,QAAX,CAAoB,KAAKynC,QAAzB,CAArB,EAAyD;CACrD,WAAKv8C,MAAL,CAAYK,UAAZ,CAAuBiS,WAAvB,CAAmC,KAAKiqC,QAAxC;CACH;;CACDz9C,IAAAA,OAAO,CAACtF,GAAR,CAAY,KAAK4jD,SAAjB;;CACA,QAAI,KAAKA,SAAL,IAAkB/8C,UAAU,CAACyU,QAAX,CAAoB,KAAKsoC,SAAzB,CAAtB,EAA2D;CACvD,WAAKp9C,MAAL,CAAYK,UAAZ,CAAuBiS,WAAvB,CAAmC,KAAK8qC,SAAxC;CACH;;CACD,SAAKp9C,MAAL,CAAYvK,KAAZ,CAAkB+D,GAAlB,CAAsB,SAAtB,EAAiC,SAAjC;CACH;;CAEDgmD,EAAAA,QAAQ,GAAG;CACP,UAAMx/C,MAAM,GAAG,KAAKA,MAApB;CACAA,IAAAA,MAAM,CAACK,UAAP,CAAkB8G,KAAlB,CAAwBs4C,OAAxB,GAAkC,KAAlC;CACA,UAAMh0C,WAAW,GAAGzL,MAAM,CAACO,KAA3B;CACA,UAAMiL,YAAY,GAAGxL,MAAM,CAACW,MAA5B;CACA,UAAMiL,WAAW,GAAGH,WAAW,GAAGD,YAAlC;CACA,UAAMk0C,WAAW,GAAG1/C,MAAM,CAACrJ,KAAP,CAAa+U,aAAb,CAA2BnL,KAA/C;CACA,UAAMo/C,YAAY,GAAG3/C,MAAM,CAACrJ,KAAP,CAAa+U,aAAb,CAA2B/K,MAAhD;CACA,UAAMi/C,WAAW,GAAGF,WAAW,GAAGC,YAAlC;;CACA,QAAI/zC,WAAW,GAAGg0C,WAAlB,EAA+B;CAC3B,YAAMH,OAAO,GAAG,CAACh0C,WAAW,GAAGD,YAAY,GAAGo0C,WAA9B,IAA6C,CAA7D;CACA5/C,MAAAA,MAAM,CAACK,UAAP,CAAkB8G,KAAlB,CAAwBs4C,OAAxB,GAAmC,KAAIA,OAAQ,IAA/C;CACH,KAHD,MAGO;CACH,YAAMA,OAAO,GAAG,CAACj0C,YAAY,GAAGC,WAAW,GAAGm0C,WAA9B,IAA6C,CAA7D;CACA5/C,MAAAA,MAAM,CAACK,UAAP,CAAkB8G,KAAlB,CAAwBs4C,OAAxB,GAAmC,GAAEA,OAAQ,MAA7C;CACH;CACJ;;CAjDwC;;;;;ACR7C,iBAAgBz/C,MAAD,IAAY;CAEvB,QAAM;CACFpB,IAAAA,IADE;CAEFnJ,IAAAA,KAFE;CAGFwV,IAAAA,MAAM,EAAE;CAAC/L,MAAAA;CAAD;CAHN,MAIFc,MAJJ;;CAOA,MAAIpB,IAAI,CAAC5I,yBAAT,EAAoC;CAChCkJ,IAAAA,KAAK,CAACc,MAAM,CAACK,UAAR,EAAoB,UAApB,EAAgC,MAAM;CACvCL,MAAAA,MAAM,CAACxJ,UAAP,GAAoB,CAACwJ,MAAM,CAACxJ,UAA5B;CACH,KAFI,CAAL;CAGH,GAbsB;;;CAiBvB0I,EAAAA,KAAK,CAAC4B,QAAD,EAAW,kBAAX,EAA+B,MAAM;CACtC,QAAIlC,IAAI,CAACxH,eAAT,EAA0B;CACtB3B,MAAAA,KAAK,CAAC+D,GAAN,CAAU,kBAAV,EAA8BsH,QAAQ,CAAC++C,eAAvC,EAAwD7/C,MAAM,CAAC8/C,0BAA/D;;CAEA,UAAI,cAAch/C,QAAQ,CAAC++C,eAA3B,EAA4C;CACxC,YAAI7/C,MAAM,CAAC8/C,0BAAX,EAAuC;CACnC9/C,UAAAA,MAAM,CAACtJ,IAAP;CACH;CACJ,OAJD,MAIO;CACHsJ,QAAAA,MAAM,CAAC8/C,0BAAP,GAAoC9/C,MAAM,CAAChH,OAA3C,CADG;;CAGH,YAAIgH,MAAM,CAAChH,OAAX,EAAoB;CAChBgH,UAAAA,MAAM,CAAC/G,KAAP;CACH;CACJ;CACJ;CACJ,GAhBI,CAAL;CAkBAiG,EAAAA,KAAK,CAAC6B,MAAD,EAAS,kBAAT,EAA6B,MAAM;CACpC;CACA,QAAIf,MAAM,CAAC9J,YAAP,KAAwB,IAAxB,IAAgC,cAAc4K,QAAQ,CAAC++C,eAA3D,EAA4E;CACxE7/C,MAAAA,MAAM,CAAC+/C,cAAP;CACH;CACJ,GALI,CAAL;CAMH,CAzCD;;CCAA;CAEA,MAAMC,IAAI,GAAG,qyOAAb;CACA,MAAMvhB,GAAG,GAAG,o6JAAZ;;CAIA,MACIwhB,MAAM,GAAG,MACL,OAAOliC,SAAP,KAAqB,WAArB,IACAvW,UAAU,CACN,CACI,KACA,CAAC,oEAAoE04C,IAApE,CACGniC,SAAS,CAAC2F,SADb,KAEI,CAAC,CAAD,EAAI,EAAJ,CAFL,EAEc,CAFd,CAFJ,EAMKve,OANL,CAMa,WANb,EAM0B,KAN1B,EAOKA,OAPL,CAOa,GAPb,EAOkB,GAPlB,EAQKA,OARL,CAQa,GARb,EAQkB,EARlB,CADM,CAAV,GAUI,EAXJ,IAYA,CAACpE,MAAM,CAACo/C,QAdhB;;;CAiBA,MAAMC,cAAc,GAAG,MAAM,cAAcriC,SAA3C;;CAEe,MAAMsiC,OAAN,CAAc;CACzB5hD,EAAAA,WAAW,CAACuB,MAAD,EAAS;CAChB,SAAKA,MAAL,GAAcA,MAAd;CACA,SAAKk9B,OAAL,GAAe,KAAf;;CACA,QAAIkjB,cAAc,EAAlB,EAAsB;CAClB,WAAKE,SAAL,GAAiB,IAAjB;;CACA,YAAMC,sBAAsB,GAAG,MAAM;CACjC,YAAI,KAAKD,SAAL,KAAmB,IAAnB,IAA2Bx/C,QAAQ,CAAC++C,eAAT,KAA6B,SAA5D,EAAuE;CACnE,eAAKW,MAAL;CACH;CACJ,OAJD;;CAKA1/C,MAAAA,QAAQ,CAACnB,gBAAT,CAA0B,kBAA1B,EAA8C4gD,sBAA9C;CACAz/C,MAAAA,QAAQ,CAACnB,gBAAT,CAA0B,kBAA1B,EAA8C4gD,sBAA9C;CACH,KATD,MASO,IAAIN,MAAM,EAAV,EAAc;CACjB,WAAKQ,YAAL,GAAoB,IAApB;CACH,KAFM,MAEA;CACH;CACA,WAAKC,YAAL,GAAoB5/C,QAAQ,CAAC+E,aAAT,CAAuB,OAAvB,CAApB;CAEA,WAAK66C,YAAL,CAAkB7rC,YAAlB,CAA+B,OAA/B,EAAwC,UAAxC;CACA,WAAK6rC,YAAL,CAAkB7rC,YAAlB,CAA+B,aAA/B,EAA8C,EAA9C;;CAEA,WAAK8rC,iBAAL,CAAuB,KAAKD,YAA5B,EAA0C,MAA1C,EAAkDV,IAAlD;;CACA,WAAKW,iBAAL,CAAuB,KAAKD,YAA5B,EAA0C,KAA1C,EAAiDjiB,GAAjD;;CAEA,WAAKiiB,YAAL,CAAkB/gD,gBAAlB,CAAmC,gBAAnC,EAAqD,MAAM;CACvD,YAAI,KAAK+gD,YAAL,CAAkBlhC,QAAlB,IAA8B,CAAlC,EAAqC;CACjC;CACA,eAAKkhC,YAAL,CAAkB7rC,YAAlB,CAA+B,MAA/B,EAAuC,EAAvC;CACH,SAHD,MAGO;CACH;CACA,eAAK6rC,YAAL,CAAkB/gD,gBAAlB,CAAmC,YAAnC,EAAiD,MAAM;CACnD,gBAAI,KAAK+gD,YAAL,CAAkB3nC,WAAlB,GAAgC,GAApC,EAAyC;CACrC,mBAAK2nC,YAAL,CAAkB3nC,WAAlB,GAAgCvY,IAAI,CAAC8lB,MAAL,EAAhC;CACH;CACJ,WAJD;CAKH;CACJ,OAZD;CAaH;CACJ;;CAEDq6B,EAAAA,iBAAiB,CAAC3+C,OAAD,EAAUkD,IAAV,EAAgB07C,OAAhB,EAAyB;CACtC,QAAIhqC,MAAM,GAAG9V,QAAQ,CAAC+E,aAAT,CAAuB,QAAvB,CAAb;CACA+Q,IAAAA,MAAM,CAACkc,GAAP,GAAa8tB,OAAb;CACAhqC,IAAAA,MAAM,CAAC1R,IAAP,GAAe,SAAQA,IAAK,EAA5B;CACAlD,IAAAA,OAAO,CAAC8P,WAAR,CAAoB8E,MAApB;CACH;;CAEY,MAATtT,SAAS,GAAG;CACZ,WAAO,KAAK45B,OAAZ;CACH;;CAEDsjB,EAAAA,MAAM,GAAG;CACL,UAAM/qD,KAAK,GAAG,KAAKuK,MAAL,CAAYvK,KAA1B;;CACA,QAAI2qD,cAAc,EAAlB,EAAsB;CAClB,aAAOriC,SAAS,CAAC8iC,QAAV,CACF9+C,OADE,CACM,QADN,EAEFY,IAFE,CAEIk+C,QAAD,IAAc;CAChB,aAAKP,SAAL,GAAiBO,QAAjB;CACA,aAAK3jB,OAAL,GAAe,IAAf;CACAznC,QAAAA,KAAK,CAAC+D,GAAN,CAAU,UAAV,EAAsB,mBAAtB;;CACA,aAAK8mD,SAAL,CAAe3gD,gBAAf,CAAgC,SAAhC,EAA2C,MAAM;CAC7C;CACA;CACA;CACAlK,UAAAA,KAAK,CAAC+D,GAAN,CAAU,UAAV,EAAsB,qBAAtB;CACH,SALD;CAMH,OAZE,EAaFoJ,KAbE,CAaKk+C,GAAD,IAAS;CACZ,aAAK5jB,OAAL,GAAe,KAAf;CACAznC,QAAAA,KAAK,CAACgE,KAAN,CAAY,UAAZ,EAAyB,GAAEqnD,GAAG,CAACniD,IAAK,KAAImiD,GAAG,CAACxlC,OAAQ,EAApD;CACA,cAAMwlC,GAAN;CACH,OAjBE,CAAP;CAkBH,KAnBD,MAmBO,IAAIb,MAAM,EAAV,EAAc;CACjB,WAAKc,OAAL;CACA,WAAKN,YAAL,GAAoB1/C,MAAM,CAAC86B,WAAP,CAAmB,MAAM;CACzC,YAAI,CAAC/6B,QAAQ,CAACkgD,MAAd,EAAsB;CAClBjgD,UAAAA,MAAM,CAACkjB,QAAP,CAAgBne,IAAhB,GAAuB/E,MAAM,CAACkjB,QAAP,CAAgBne,IAAhB,CAAqBf,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAvB;CACAhE,UAAAA,MAAM,CAAC6b,UAAP,CAAkB7b,MAAM,CAAC8b,IAAzB,EAA+B,CAA/B;CACH;CACJ,OALmB,EAKjB,KALiB,CAApB;CAMA,WAAKqgB,OAAL,GAAe,IAAf;CACA,aAAOh7B,OAAO,CAACC,OAAR,EAAP;CACH,KAVM,MAUA;CACH,UAAI8+C,WAAW,GAAG,KAAKP,YAAL,CAAkBhqD,IAAlB,EAAlB;CACA,aAAOuqD,WAAW,CACbt+C,IADE,CACIqX,GAAD,IAAS;CACX,aAAKkjB,OAAL,GAAe,IAAf;CACA,eAAOljB,GAAP;CACH,OAJE,EAKFpX,KALE,CAKKk+C,GAAD,IAAS;CACZ,aAAK5jB,OAAL,GAAe,KAAf;CACA,cAAM4jB,GAAN;CACH,OARE,CAAP;CASH;CACJ;;CAEDC,EAAAA,OAAO,GAAG;CACN,UAAMtrD,KAAK,GAAG,KAAKuK,MAAL,CAAYvK,KAA1B;;CACA,QAAI2qD,cAAc,EAAlB,EAAsB;CAClB,UAAI,KAAKE,SAAT,EAAoB;CAChB,aAAKA,SAAL,CAAeY,OAAf;CACH;;CACD,WAAKZ,SAAL,GAAiB,IAAjB;CACH,KALD,MAKO,IAAIL,MAAM,EAAV,EAAc;CACjB,UAAI,KAAKQ,YAAT,EAAuB;CACnBhrD,QAAAA,KAAK,CAACsJ,IAAN,CAAW,UAAX,EAAuB,6CAAvB;CAEAgC,QAAAA,MAAM,CAAC+6B,aAAP,CAAqB,KAAK2kB,YAA1B;CACA,aAAKA,YAAL,GAAoB,IAApB;CACH;CACJ,KAPM,MAOA;CACH,WAAKC,YAAL,CAAkBznD,KAAlB;CACH;;CACD,SAAKikC,OAAL,GAAe,KAAf;CACH;;CAnHwB;;CC1Bd,SAASikB,iBAAT,CAA4BC,cAA5B,EAA6E;CAAA,MAAjCC,SAAiC,uEAArB,EAAqB;CAAA,MAAjBz9C,IAAiB,uEAAV,MAAM,EAAI;CACxF,QAAM;CACF09C,IAAAA,iBAAiB,GAAG19C,IADlB;CAEF29C,IAAAA,qBAAqB,GAAG39C,IAFtB;CAGF49C,IAAAA,wBAAwB,GAAG59C,IAHzB;CAIF69C,IAAAA,mBAAmB,GAAG79C;CAJpB,MAKFy9C,SALJ;CAMA;CACJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACID,EAAAA,cAAc,CAACzhD,gBAAf,CAAgC,mBAAhC,EAAqD,kBAAkB;CACnE2hD,IAAAA,iBAAiB,CAAC7nD,KAAD,CAAjB;CACAqF,IAAAA,OAAO,CAACrF,KAAR,CAAe,iCAAgCA,KAAK,CAACioD,SAAU,oBAAmBjoD,KAAK,CAACkoD,SAAU,MAAlG;CACH,GAHD;CAKA;CACJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACIP,EAAAA,cAAc,CAACzhD,gBAAf,CAAgC,uBAAhC,EAAyD,kBAAkB;CACvE,UAAMiiD,eAAe,GAAG,KAAKA,eAA7B;CACA9iD,IAAAA,OAAO,CAACrJ,KAAR,CAAc,oBAAoBi4B,IAAI,CAACC,SAAL,CAAei0B,eAAf,EAAgC,IAAhC,EAAsC,CAAtC,CAAlC;;CACA,QAAIA,eAAe,KAAK,QAAxB,EAAkC;CAC9BL,MAAAA,qBAAqB;CACrB,WAAKM,UAAL;CACH;CACJ,GAPD;CASA;CACJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACIT,EAAAA,cAAc,CAACzhD,gBAAf,CAAgC,0BAAhC,EAA4D,kBAAkB;CAC1E,UAAMmiD,kBAAkB,GAAGV,cAAc,CAACU,kBAA1C;CACAhjD,IAAAA,OAAO,CAACrJ,KAAR,CAAc,uBAAuBi4B,IAAI,CAACC,SAAL,CAAem0B,kBAAf,EAAmC,IAAnC,EAAyC,CAAzC,CAArC;;CACA,QAAIA,kBAAkB,KAAK,QAA3B,EAAqC;CACjCN,MAAAA,wBAAwB;CACxB;CACZ;CACA;CACS;CACJ,GATD;CAWA;CACJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACIJ,EAAAA,cAAc,CAACzhD,gBAAf,CAAgC,yBAAhC,EAA2D,kBAAkB;CACzE,UAAMoiD,iBAAiB,GAAG,KAAKA,iBAA/B;CACA,QAAIlH,KAAK,GAAG,SAAZ;;CACA,YAAOkH,iBAAP;CACI,WAAK,KAAL;CACA,WAAK,UAAL;CACIlH,QAAAA,KAAK,GAAG,MAAR;CACA;;CACJ,WAAK,WAAL;CACIA,QAAAA,KAAK,GAAG,mBAAR;CACA;CAPR;;CASA/7C,IAAAA,OAAO,CAACrJ,KAAR,CAAc,sBAAsBolD,KAApC;CACH,GAbD;CAeA;CACJ;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CACIuG,EAAAA,cAAc,CAACzhD,gBAAf,CAAgC,sBAAhC,EAAwD,kBAAkB;CACtE,UAAMqiD,cAAc,GAAG,KAAKA,cAA5B;CACAljD,IAAAA,OAAO,CAACrJ,KAAR,CAAc,mBAAmBi4B,IAAI,CAACC,SAAL,CAAeq0B,cAAf,EAA+B,IAA/B,EAAqC,CAArC,CAAjC;CACH,GAHD,EAnJwF;;CA0JxF,MAAIC,aAAa,GAAG,CAApB;;CAEA,iBAAeC,QAAf,GAA2B;CACvBd,IAAAA,cAAc,CAACc,QAAf,CAAwB,IAAxB,EAA8Bv/C,IAA9B,CAAoCw/C,WAAD,IAAiB;CAChDA,MAAAA,WAAW,CAACriD,OAAZ,CAAqBsiD,MAAD,IAAY;CAE/B,OAFD;CAGH,KAJD;CAMA,UAAMC,gBAAgB,GAAGjB,cAAc,CAACkB,YAAf,GAA8BC,IAA9B,CAAmCC,OAAO,IAAIA,OAAO,CAAC98B,KAAR,IAAiB88B,OAAO,CAAC98B,KAAR,CAAcsB,IAAd,KAAuB,OAAtF,CAAzB;CACA,UAAMy7B,cAAc,GAAGrB,cAAc,CAACsB,UAAf,GAA4BH,IAA5B,CAAiCC,OAAO,IAAIA,OAAO,CAAC98B,KAAR,IAAiB88B,OAAO,CAAC98B,KAAR,CAAcsB,IAAd,KAAuB,OAApF,CAAvB;;CAEA,QAAIq7B,gBAAJ,EAAsB;CAClB,YAAMM,iBAAiB,GAAG,MAAMN,gBAAgB,CAACH,QAAjB,EAAhC;CACAS,MAAAA,iBAAiB,CAAC7iD,OAAlB,CAA2BsiD,MAAD,IAAY;CAClC;CACA,YAAIA,MAAM,CAACl9C,IAAP,KAAgB,OAApB,EAA6B;;CAG7B,YAAIk9C,MAAM,CAACl9C,IAAP,KAAgB,aAApB,EAAmC;CAC/B,gBAAM;CAAE09C,YAAAA,aAAF;CAAiBC,YAAAA,aAAjB;CAAgCC,YAAAA,eAAhC;CAAiDC,YAAAA;CAAjD,cAAoEX,MAA1E;;CACA,cAAI,CAACU,eAAL,EAAsB;CAClB,gBAAIb,aAAa,GAAG,CAApB,EAAuB;CACnBR,cAAAA,mBAAmB;CACtB;;CACDQ,YAAAA,aAAa;CAChB,WAP8B;;CASlC;CACJ,OAfD,EAFkB;CAmBrB;;CAED,QAAIQ,cAAJ,EAAoB;CAChB,YAAMO,cAAc,GAAG,MAAMP,cAAc,CAACP,QAAf,EAA7B;CACAc,MAAAA,cAAc,CAACljD,OAAf,CAAwBsiD,MAAD,IAAY;CAElC,OAFD;CAGH,KApCsB;;CAsC1B,GAlMuF;CAoMxF;;;CACAvmB,EAAAA,WAAW,CAACqmB,QAAD,EAAW,IAAX,CAAX;CACH;;CCtMD,SAASe,UAAT,CAAoB3jD,MAApB,EAA4B;CACxB,OAAK4jD,EAAL,GAAU,IAAIC,iBAAJ,CAAsB7jD,MAAtB,CAAV;CACA,OAAK44B,IAAL,GAAY;CACR;CACAkrB,IAAAA,OAAO,EAAEh9C,IAAI,CAACD,GAAL,EAFD;CAGR;CACAk9C,IAAAA,UAAU,EAAE,IAJJ;CAKR;CACAC,IAAAA,UAAU,EAAE,OAAO,EAAP,GAAY,EANhB;CAOR;CACAC,IAAAA,WAAW,EAAE;CARL,GAAZ;CAUH;;CAEM,SAASC,kBAAT,CAA4BlkD,MAA5B,EAAoC;CACvC2jD,EAAAA,UAAU,CAACjmC,IAAX,CAAgB,IAAhB,EAAsB1d,MAAtB;CAEA,OAAK4jD,EAAL,CAAQO,cAAR,CAAuB,OAAvB,EAA+B;CAC3BC,IAAAA,SAAS,EAAE;CADgB,GAA/B;CAGH;;CAEDF,kBAAkB,CAACriC,SAAnB,CAA6BwiC,aAA7B,GAA6C,eAAeA,aAAf,CAA8BrkD,MAA9B,EAAsCD,QAAtC,EAAgD;CACzF,MAAI,OAAOC,MAAP,KAAkB,UAAtB,EAAkC;CAC9BD,IAAAA,QAAQ,GAAGC,MAAX;CACAA,IAAAA,MAAM,GAAGsK,SAAT;CACH;;CACD,QAAO,KAAKs5C,EAAL,CAAQU,mBAAR,CAA4B,MAAO,KAAKV,EAAL,CAAQW,WAAR,CAAoBvkD,MAApB,CAAnC,CAAP;;CAEA,MAAID,QAAJ,EAAc;CACVA,IAAAA,QAAQ,CAAC,KAAK6jD,EAAL,CAAQY,gBAAT,CAAR;CACH;;CAED,SAAO,KAAKZ,EAAL,CAAQY,gBAAf;CACH,CAZD;;CAcAN,kBAAkB,CAACriC,SAAnB,CAA6B4iC,aAA7B,GAA6C,eAAeA,aAAf,CAA8BC,GAA9B,EAAmC3kD,QAAnC,EAA6C;CACtF,MAAI,OAAO2kD,GAAP,KAAe,QAAnB,EAA6B;CACzBA,IAAAA,GAAG,GAAG;CAAEA,MAAAA;CAAF,KAAN;CACH;;CAED,MAAI,CAACA,GAAG,CAACA,GAAT,EAAc;CACV,UAAM,IAAIv8B,KAAJ,CAAU,WAAV,CAAN;CACH;;CAED,QAAM,KAAKy7B,EAAL,CAAQe,oBAAR,CAA6B,IAAIC,qBAAJ,CAA0BF,GAA1B,CAA7B,CAAN;;CAEA,MAAI3kD,QAAJ,EAAc;CACVA,IAAAA,QAAQ,CAAC,IAAD,CAAR;CACH;;CAED,SAAO,IAAP;CACH,CAhBD;;CAkBAmkD,kBAAkB,CAACriC,SAAnB,CAA6BtmB,OAA7B,GAAuC,YAAY;CAC/C,OAAKqoD,EAAL,CAAQtqD,KAAR;CACA,OAAKsqD,EAAL,CAAQiB,cAAR,GAAyB,IAAzB;CACA,OAAKjB,EAAL,GAAU,KAAV;CACA,OAAKA,EAAL,GAAU,IAAV;CACH,CALD;;CCjDA,SAASkB,WAAT,CAAsBjV,IAAtB,EAA4B;CACxB,QAAMl4C,GAAG,GAAG,IAAI8O,GAAJ,CAAQopC,IAAR,CAAZ;;CACA,MAAIl4C,GAAG,CAACotD,MAAJ,IAAcptD,GAAG,CAACotD,MAAJ,KAAe,MAAjC,EAAyC;CACrC,QAAIlV,IAAI,CAACjqB,OAAL,CAAa,aAAb,IAA8B,CAAC,CAAnC,EAAsC;CAClC,aAAOiqB,IAAP;CACH;;CAED,QAAIA,IAAI,CAACmV,UAAL,CAAgB,YAAhB,CAAJ,EAAmC;CAC/B,aAAQ,GAAEvjD,MAAM,CAACkjB,QAAP,CAAgBogC,MAAO,0BAAyBptD,GAAG,CAACstD,MAAO,EAArE;CACH;;CACD,WAAQ,GAAExjD,MAAM,CAACkjB,QAAP,CAAgBogC,MAAO,sCAAqCptD,GAAG,CAACutD,QAAJ,CAAaxvB,MAAb,CAAoB,CAApB,CAAuB,EAA7F;CACH,GATD,MASO;CACH,QAAIwvB,QAAQ,GAAGvtD,GAAG,CAACutD,QAAnB;CACA,QAAIC,UAAU,GAAG,EAAjB;CACA,QAAIr1C,KAAK,GAAG,CAAZ;;CACA,QAAInY,GAAG,CAACutD,QAAJ,CAAaF,UAAb,CAAwB,IAAxB,CAAJ,EAAmC;CAC/BE,MAAAA,QAAQ,GAAGvtD,GAAG,CAACutD,QAAJ,CAAaxvB,MAAb,CAAoB,CAApB,CAAX;CACH;;CAED5lB,IAAAA,KAAK,GAAGo1C,QAAQ,CAACt/B,OAAT,CAAiB,GAAjB,CAAR;CACAu/B,IAAAA,UAAU,GAAGD,QAAQ,CAAC57B,SAAT,CAAmBxZ,KAAK,GAAG,CAA3B,CAAb;;CAEA,QAAIo1C,QAAJ,EAAc;CACV,aAAQ,GAAEzjD,MAAM,CAACkjB,QAAP,CAAgBogC,MAAO,sCAAqCI,UAAW,EAAjF;CACH,KAFD,MAEO;CACH3lD,MAAAA,OAAO,CAACtF,GAAR,CAAY,0BAAZ;CACH;CACJ;CACJ;;CAMD,MAAMiG,GAAG,GAAG,IAAIgb,OAAJ,EAAZ;;CACA,eAAeiqC,WAAf,CAA2B1kD,MAA3B,EAAmC;CAC/B,QAAMykD,UAAU,GAAGL,WAAW,CAACpkD,MAAM,CAACpB,IAAP,CAAY3H,GAAb,CAA9B;CACA,QAAM0tD,WAAW,GAAG3kD,MAAM,CAACpB,IAAP,CAAY9I,iBAAhC;CACA,MAAI8uD,YAAY,GAAG5kD,MAAM,CAACK,UAAP,CAAkBqL,aAArC;CACA,MAAImK,SAAS,GAAG+uC,YAAhB;CACAnlD,EAAAA,GAAG,CAACyb,GAAJ,CAAQ0pC,YAAR,EAAsB,IAAIpB,kBAAJ,EAAtB;CACA,MAAIqB,OAAO,GAAG,IAAd;CACA,MAAIC,aAAa,GAAG,IAApB;CAEAhmD,EAAAA,OAAO,CAACtF,GAAR,CAAYwG,MAAM,CAACpB,IAAnB;;CAEA,WAASmmD,SAAT,CAAmB7B,EAAnB,EAAuB;CACnB/B,IAAAA,iBAAiB,CAAC+B,EAAD,EAAK;CAClB3B,MAAAA,qBAAqB,EAAE,MAAM;CACzBvhD,QAAAA,MAAM,CAAC5G,OAAP,GAAiB,IAAjB;CACA4rD,QAAAA,WAAW;CACXlmD,QAAAA,OAAO,CAACtF,GAAR,CAAY,wCAAZ;CACH,OALiB;CAMlBioD,MAAAA,mBAAmB,EAAE,MAAM;CACvBzhD,QAAAA,MAAM,CAAC5G,OAAP,GAAiB,IAAjB;CACA4rD,QAAAA,WAAW;CACXlmD,QAAAA,OAAO,CAACtF,GAAR,CAAY,0CAAZ;CACH;CAViB,KAAL,CAAjB;CAYH;;CAEDurD,EAAAA,SAAS,CAACtlD,GAAG,CAACU,GAAJ,CAAQykD,YAAR,EAAsB1B,EAAvB,CAAT;;CAEA,WAAS+B,OAAT,CAAkBllD,KAAlB,EAAyBmlD,aAAzB,EAAwC;CACpCngC,IAAAA,YAAY,CAAC8/B,OAAD,CAAZ;;CACA,QAAI9kD,KAAK,CAAC2lB,KAAN,CAAYsB,IAAZ,KAAqB,OAAzB,EAAkC;CAC9BhnB,MAAAA,MAAM,CAACK,UAAP,CAAkByR,WAAlB,CAA8BozC,aAA9B;CACAN,MAAAA,YAAY,CAACx9B,SAAb,GAAyBrnB,KAAK,CAAC06B,OAAN,CAAc,CAAd,CAAzB;CACAmqB,MAAAA,YAAY,CAACluD,IAAb;;CAEA,UAAI,CAACsJ,MAAM,CAAChH,OAAZ,EAAqB;CACjBgH,QAAAA,MAAM,CAAChH,OAAP,GAAiB,IAAjB;CACH;CACJ;CACJ;;CAED,WAASmsD,YAAT,GAAwB;CACpBpgC,IAAAA,YAAY,CAAC/kB,MAAM,CAAColD,mBAAR,CAAZ;CACAvvC,IAAAA,SAAS,CAACuR,SAAV,GAAsBxd,SAAtB;CACAiM,IAAAA,SAAS,CAACid,GAAV,GAAgB,EAAhB;CACAjd,IAAAA,SAAS,CAAC1c,IAAV,GAJoB;;CAOpB,QAAI0c,SAAJ,EAAe;CACX/W,MAAAA,OAAO,CAACtF,GAAR,CAAYqc,SAAZ;;CACA,UAAI7V,MAAM,CAACzH,KAAP,IAAgByH,MAAM,CAACzH,KAAP,CAAaqd,YAAjC,EAA+C;CAC3C5V,QAAAA,MAAM,CAACzH,KAAP,CAAaqd,YAAb,CAA0BC,SAA1B;CACH;;CAED,UAAIpW,GAAG,CAAC+tC,GAAJ,CAAQ33B,SAAR,CAAJ,EAAwB;CACpBpW,QAAAA,GAAG,CAACU,GAAJ,CAAQ0V,SAAR,EAAmBhb,OAAnB;CACA4E,QAAAA,GAAG,CAACsb,MAAJ,CAAWlF,SAAX;CACH;CACJ;;CAEDA,IAAAA,SAAS,GAAG+uC,YAAZ;CACH;;CAED,iBAAeI,WAAf,GAA8B;CAC1BhlD,IAAAA,MAAM,CAAColD,mBAAP,GAA6BxoC,UAAU,CAACuoC,YAAD,EAAe,IAAf,CAAvC,CAD0B;;CAG1BnlD,IAAAA,MAAM,CAACzH,KAAP,GAAe,IAAIud,OAAJ,CAAU9V,MAAV,CAAf;CACA4kD,IAAAA,YAAY,GAAG5kD,MAAM,CAACzH,KAAP,CAAamT,aAA5B;CAEAjM,IAAAA,GAAG,CAACyb,GAAJ,CAAQ0pC,YAAR,EAAsBnlD,GAAG,CAACU,GAAJ,CAAQykD,YAAR,CAAtB;CACAnlD,IAAAA,GAAG,CAACsb,MAAJ,CAAW6pC,YAAX,EAP0B;;CAS1BnlD,IAAAA,GAAG,CAACyb,GAAJ,CAAQ0pC,YAAR,EAAsB,IAAIpB,kBAAJ,EAAtB;CAEAz+B,IAAAA,YAAY,CAAC+/B,aAAD,CAAZ;CAEAC,IAAAA,SAAS,CAACtlD,GAAG,CAACU,GAAJ,CAAQykD,YAAR,EAAsB1B,EAAvB,CAAT;;CACAzjD,IAAAA,GAAG,CAACU,GAAJ,CAAQykD,YAAR,EAAsB1B,EAAtB,CAAyB+B,OAAzB,GAAmC,UAASllD,KAAT,EAAgB;CAC/CklD,MAAAA,OAAO,CAACllD,KAAD,EAAQ6kD,YAAR,CAAP;CACH,KAFD,CAd0B;CAmB1B;;;CACA,UAAMS,cAAc,CAAE5lD,GAAG,CAACU,GAAJ,CAAQykD,YAAR,CAAF,CAApB;CAEAE,IAAAA,aAAa,GAAGloC,UAAU,CAACooC,WAAD,EAAcL,WAAd,CAA1B;CACH;;CAEDG,EAAAA,aAAa,GAAGloC,UAAU,CAACooC,WAAD,EAAcL,WAAd,CAA1B;;CAEA,iBAAeU,cAAf,CAA+BC,MAA/B,EAAuC;CACnC,WAAO,IAAIpjD,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,UAAIkjD,MAAJ,EAAY;CACRA,QAAAA,MAAM,CAAC3B,aAAP,CAAqB,MAAOK,GAAP,IAAe;CAChC,cAAI;CACA,gBAAI56C,MAAM,GAAG,MAAMpU,KAAK,CAACyvD,UAAD,EAAa;CACjCc,cAAAA,MAAM,EAAE,MADyB;CAEjCh6C,cAAAA,IAAI,EAAEmiB,IAAI,CAACC,SAAL,CAAeq2B,GAAf,CAF2B;CAGjCwB,cAAAA,OAAO,EAAE;CACL,gCAAgB;CADX;CAHwB,aAAb,CAAL,CAMhB7iD,IANgB,CAMXqX,GAAG,IAAIA,GAAG,CAACib,IAAJ,EANI,CAAnB;;CAQA,gBAAI7rB,MAAM,CAACq8C,MAAX,EAAmB;CACf3mD,cAAAA,OAAO,CAACrF,KAAR,CAAc2P,MAAM,CAACq8C,MAArB;CACAN,cAAAA,YAAY;CACZnlD,cAAAA,MAAM,CAACgL,IAAP,CAAY,cAAZ,EAA4B;CAAC8hC,gBAAAA,IAAI,EAAE,IAAP;CAAa4Y,gBAAAA,QAAQ,EAAE;CAAvB,eAA5B;CACA1lD,cAAAA,MAAM,CAACnF,OAAP;CACA4E,cAAAA,GAAG,CAACsb,MAAJ,CAAW6pC,YAAX;CACH,aAND,MAMO;CACH,oBAAMU,MAAM,CAACpC,EAAP,CAAUe,oBAAV,CAA+B,IAAIC,qBAAJ,CAA0B96C,MAA1B,CAA/B,CAAN;CACH;;CAEDpJ,YAAAA,MAAM,CAAC5G,OAAP,GAAiB,KAAjB;CACA+I,YAAAA,OAAO,CAACiH,MAAD,CAAP;CACAA,YAAAA,MAAM,GAAG,IAAT;CACAk8C,YAAAA,MAAM,GAAG,IAAT;CACH,WAvBD,CAuBE,OAAO5gD,CAAP,EAAU;CACRqgB,YAAAA,YAAY,CAACugC,MAAM,CAACK,YAAR,CAAZ;CACA7mD,YAAAA,OAAO,CAACrF,KAAR,CAAciL,CAAd;CACA4gD,YAAAA,MAAM,CAACK,YAAP,GAAsB/oC,UAAU,CAAC,YAAY;CACzC,oBAAMxT,MAAM,GAAG,MAAMi8C,cAAc,CAAEC,MAAF,CAAnC;CACAnjD,cAAAA,OAAO,CAACiH,MAAD,CAAP;CACA2b,cAAAA,YAAY,CAACugC,MAAM,CAACK,YAAR,CAAZ;CACH,aAJ+B,EAI7B,IAJ6B,CAAhC;CAKH;CACJ,SAjCD;CAkCH,OAnCD,MAmCO;CACHvjD,QAAAA,MAAM;CACT;CACJ,KAvCM,CAAP;CAwCH;;CAED3C,EAAAA,GAAG,CAACU,GAAJ,CAAQykD,YAAR,EAAsB1B,EAAtB,CAAyB+B,OAAzB,GAAmC,UAASllD,KAAT,EAAgB;CAC/CklD,IAAAA,OAAO,CAACllD,KAAD,EAAQ6kD,YAAR,CAAP;CACH,GAFD;;CAIAS,EAAAA,cAAc,CAAE5lD,GAAG,CAACU,GAAJ,CAAQykD,YAAR,CAAF,CAAd;CACH;;CCnJc,MAAMgB,MAAN,SAAqBz5C,OAArB,CAA6B;CACxC1N,EAAAA,WAAW,CAAConD,SAAD,EAAY5jD,OAAZ,EAAqB;CAC5B;CACA,SAAK5B,UAAL,GAAkBwlD,SAAlB;CACA,SAAKjnD,IAAL,GAAYqB,MAAM,CAAC6lD,MAAP,CAAc,EAAd,EAAkB1wD,sBAAlB,EAA0C6M,OAA1C,CAAZ;CACA,SAAKxM,KAAL,GAAa,IAAI+I,KAAJ,CAAU,IAAV,CAAb;CACA,SAAK+uC,IAAL,GAAY,IAAI9yB,OAAJ,EAAZ;;CAEA,QAAI,KAAK7b,IAAL,CAAUrH,MAAd,EAAsB;CAClB,WAAKqH,IAAL,CAAUrH,MAAV,GAAmB2Q,UAAU,EAA7B;CACH;;CAED,QAAI,KAAKtJ,IAAL,CAAUpH,MAAd,EAAsB;CAClB,WAAKoH,IAAL,CAAUpH,MAAV,GAAmBgS,UAAU,EAA7B;CACH,KAb2B;;;CAgB5B,QAAI,KAAK5K,IAAL,CAAUpH,MAAd,EAAsB;CAClB,UAAI,KAAKoH,IAAL,CAAUrH,MAAd,EAAsB;CAClB,aAAK9B,KAAL,CAAW+D,GAAX,CAAe,QAAf,EAAyB,wBAAzB;CACH;;CAED,UAAI,CAAC,KAAKoF,IAAL,CAAUzH,gBAAf,EAAiC;CAC7B,aAAK1B,KAAL,CAAW+D,GAAX,CAAe,QAAf,EAAyB,kCAAzB;CACH;;CAED,WAAKoF,IAAL,CAAUrH,MAAV,GAAmB,KAAnB;CACA,WAAKqH,IAAL,CAAUzH,gBAAV,GAA6B,IAA7B;CACH,KAXD,MAWO,IAAI,KAAKyH,IAAL,CAAUrH,MAAd,EAAsB;;CAK7B,QAAI,CAAC,KAAKqH,IAAL,CAAUzH,gBAAf,EAAiC;CAC7B,UAAI,CAAC6M,kBAAkB,EAAvB,EAA2B;CACvB,aAAKpF,IAAL,CAAUzH,gBAAV,GAA6B,IAA7B;CACA,aAAKyH,IAAL,CAAUnH,YAAV,GAAyB,KAAzB;CACH,OAHD,MAGO;CACH,aAAKmH,IAAL,CAAUnH,YAAV,GAAyB,IAAzB;CACH;CACJ;;CAGD,SAAKmH,IAAL,CAAU/H,UAAV,GAAuB,KAAKkvD,WAAL,EAAvB,CA1C4B;;CA4C5B,SAAKC,QAAL,GAAgB,KAAhB;CACA,SAAKC,QAAL,GAAgB,KAAhB;CACA,SAAK/6C,UAAL,GAAkB,KAAlB,CA9C4B;;CAiD5B,SAAKg7C,kBAAL,GAA0B,IAA1B;CACA,SAAKC,oBAAL,GAA4B,IAA5B,CAlD4B;;CAqD5B,SAAKC,aAAL,GAAqB,IAArB;CACA,SAAKtG,0BAAL,GAAkC,KAAlC;CACA,SAAKuG,MAAL,GAAc;CACVroB,MAAAA,GAAG,EAAE,CADK;CACF;CACR70B,MAAAA,GAAG,EAAE,CAFK;CAEF;CACRqlC,MAAAA,IAAI,EAAE,CAHI;CAGD;CACTC,MAAAA,IAAI,EAAE,CAJI;CAID;CACT37B,MAAAA,EAAE,EAAE,CALM;;CAAA,KAAd,CAvD4B;;CAgE5B,SAAKgH,MAAL,GAAc9P,aAAa,EAA3B,CAhE4B;;CAmE5B,SAAKs8C,eAAL,GAAuB,CAAvB;CACA,SAAKC,eAAL,GAAuB,CAAvB;CAEAjH,IAAAA,UAAQ,CAAC,IAAD,CAAR;CAEA,SAAKr0C,MAAL,GAAc,IAAIjM,MAAJ,CAAW,IAAX,CAAd;CACA,SAAKzG,KAAL,GAAa,IAAIud,OAAJ,CAAU,IAAV,CAAb;CACA,SAAKnf,KAAL,GAAa,IAAI0iB,KAAJ,CAAU,IAAV,CAAb;CACA,SAAK5D,QAAL,GAAgB,IAAI8G,QAAJ,CAAa,IAAb,CAAhB;CAEA,SAAKkwB,aAAL,GAAqB,IAAIF,aAAJ,CAAkB,IAAlB,CAArB;CAEA,SAAKzxB,MAAL,GAAc,IAAd;CACA,SAAKjB,KAAL,GAAa,IAAb;;CAEA,QAAI,CAAC,KAAKjb,IAAL,CAAUtI,SAAf,EAA0B;CACtB,UAAI,KAAKsI,IAAL,CAAUrH,MAAd,EAAsB;CAClB,aAAKu2C,gBAAL,GAAwB,IAAI1Q,gBAAJ,CAAqB,IAArB,CAAxB;CACH;;CAED,UAAI;CACA,YAAI,KAAKx+B,IAAL,CAAUpH,MAAd,EAAsB;CAClB,eAAKu2C,UAAL,GAAkB,IAAIxD,UAAJ,CAAe,IAAf,CAAlB;CACH;CACJ,OAJD,CAIE,OAAO9wC,KAAP,EAAc;CACZqF,QAAAA,OAAO,CAACtF,GAAR,CAAYC,KAAZ;CACH;CACJ,KA9F2B;;;CAiG5B,SAAK8a,OAAL,GAAe,IAAI4qC,OAAJ,CAAY,IAAZ,CAAf;CAEA,SAAKjpD,YAAL,GAAoB,IAAImqD,OAAJ,CAAY,IAAZ,CAApB;CAGAp1C,IAAAA,QAAM,CAAC,IAAD,CAAN;CACAo0C,IAAAA,QAAQ,CAAC,IAAD,CAAR;;CAGA,QAAI,KAAKzgD,IAAL,CAAUrH,MAAd,EAAsB;CAClB,WAAK9B,KAAL,CAAW+D,GAAX,CAAe,QAAf,EAAyB,SAAzB;CACH;;CAED,QAAI,KAAKoF,IAAL,CAAUpH,MAAd,EAAsB;CAClB,WAAK/B,KAAL,CAAW+D,GAAX,CAAe,QAAf,EAAyB,SAAzB;CACH;;CAED,QAAI,KAAKoF,IAAL,CAAUnH,YAAd,EAA4B;CACxB,WAAKhC,KAAL,CAAW+D,GAAX,CAAe,QAAf,EAAyB,eAAzB;CACH;;CAED,QAAI,OAAO,KAAKoF,IAAL,CAAU4nD,YAAjB,KAAkC,UAAtC,EAAkD;CAC9C,WAAK5nD,IAAL,CAAU4nD,YAAV,CAAuB,IAAvB;CACH,KAxH2B;;;CA2H5B,SAAK/wD,KAAL,CAAW+D,GAAX,CAAe,gBAAf,EAAiC,KAAKoF,IAAtC;CACH;;CAGD/D,EAAAA,OAAO,GAAG;CACN,SAAKmrD,QAAL,GAAgB,KAAhB;CACA,SAAKC,QAAL,GAAgB,KAAhB;CACA,SAAK/6C,UAAL,GAAkB,KAAlB;CAEA,SAAK4O,MAAL,GAAc9P,aAAa,EAA3B;;CAEA,QAAI,KAAK8Q,MAAT,EAAiB;CACb,WAAKA,MAAL,CAAYjgB,OAAZ;CACA,WAAKigB,MAAL,GAAc,IAAd;CACH;;CAED,QAAI,KAAK2xB,aAAT,EAAwB;CACpB,WAAKA,aAAL,CAAmB5xC,OAAnB;CACA,WAAK4xC,aAAL,GAAqB,IAArB;CACH;;CACD,QAAI,KAAKl0C,KAAT,EAAgB;CACZ,WAAKA,KAAL,CAAWsC,OAAX;CACA,WAAKtC,KAAL,GAAa,IAAb;CACH;;CAED,QAAI,KAAK5B,KAAT,EAAgB;CACZ,WAAKA,KAAL,CAAWkE,OAAX;CACA,WAAKlE,KAAL,GAAa,IAAb;CACH;;CAED,QAAI,KAAK8e,QAAT,EAAmB;CACf,WAAKA,QAAL,CAAc5a,OAAd;CACA,WAAK4a,QAAL,GAAgB,IAAhB;CACH;;CAED,QAAI,KAAKlB,OAAT,EAAkB;CACd,WAAKA,OAAL,CAAa1Z,OAAb;CACA,WAAK0Z,OAAL,GAAe,IAAf;CACH;;CAED,QAAI,KAAKu5B,gBAAT,EAA2B;CACvB,WAAKA,gBAAL,CAAsBjzC,OAAtB;CACA,WAAKizC,gBAAL,GAAwB,IAAxB;CACH;;CAED,QAAI,KAAKC,UAAT,EAAqB;CACjB,WAAKA,UAAL,CAAgBlzC,OAAhB;CACA,WAAKkzC,UAAL,GAAkB,IAAlB;CACH;;CAED,QAAI,KAAKl0B,KAAT,EAAgB;CACZ,WAAKA,KAAL,CAAWhf,OAAX;CACA,WAAKgf,KAAL,GAAa,IAAb;CACH;;CAED,QAAI,KAAK5O,MAAT,EAAiB;CACb,WAAKA,MAAL,CAAYpQ,OAAZ;CACA,WAAKoQ,MAAL,GAAc,IAAd;CACH;;CAED,SAAKw7C,sBAAL;CACA,SAAKC,wBAAL,GAzDM;;CA2DN,SAAKC,eAAL;CACA,SAAKzwD,YAAL,GAAoB,IAApB,CA5DM;;CA8DN,SAAK0wD,UAAL;CACA,SAAKL,eAAL,GAAuB,CAAvB;CACA,SAAKD,eAAL,GAAuB,CAAvB,CAhEM;;CAmEN,SAAKt7C,IAAL,CAAU,SAAV,EAnEM;;CAqEN,SAAK1I,GAAL;CAEA,SAAK7M,KAAL,CAAW+D,GAAX,CAAe,MAAf,EAAuB,aAAvB;CACH;;CAEa,MAAVhD,UAAU,CAACyQ,KAAD,EAAQ;CAClB,SAAK+D,IAAL,CAAUnS,MAAM,CAACrC,UAAjB,EAA6ByQ,KAA7B;CACH;;CAEa,MAAVzQ,UAAU,GAAG;CACb,WAAOqS,YAAY,MAAM,KAAK/P,aAA9B;CACH;;CAEgB,MAAbA,aAAa,CAACmO,KAAD,EAAQ;CACrB,SAAK+D,IAAL,CAAUnS,MAAM,CAACC,aAAjB,EAAgCmO,KAAhC;CACH;;CAEgB,MAAbnO,aAAa,GAAG;CAChB,WAAO,KAAKuH,UAAL,CAAgB8K,SAAhB,CAA0B2J,QAA1B,CAAmC,0BAAnC,CAAP;CACH;;CAES,MAAN63B,MAAM,GAAG;CACT,WAAO,KAAKzhC,UAAZ;CACH,GA5NuC;;;CA+N7B,MAAPlS,OAAO,CAACiO,KAAD,EAAQ;CAEf,QAAIA,KAAJ,EAAW;CACP;CACA,WAAK7N,OAAL,GAAe,KAAf;CACH;;CAED,QAAI,KAAKJ,OAAL,KAAiBiO,KAArB,EAA4B;CACxB,WAAKg/C,QAAL,GAAgBh/C,KAAhB;CACA,WAAK+D,IAAL,CAAUnS,MAAM,CAACG,OAAjB,EAA0BiO,KAA1B;CACA,WAAK+D,IAAL,CAAUnS,MAAM,CAAC+B,YAAjB,EAA+B,KAAK4a,MAApC;;CAEA,UAAIvO,KAAJ,EAAW;CACP,aAAK+D,IAAL,CAAUnS,MAAM,CAACnC,IAAjB;CACH,OAFD,MAEO;CACH,aAAKsU,IAAL,CAAUnS,MAAM,CAACI,KAAjB;CACH;CACJ;CAEJ;;CAEU,MAAPD,OAAO,GAAG;CACV,WAAO,KAAKitD,QAAZ;CACH;;CAES,MAANzwC,MAAM,GAAG;CACT,WAAO,KAAK7e,KAAL,IAAc,KAAKA,KAAL,CAAW6e,MAAhC;CACH;;CAES,MAANA,MAAM,CAACvO,KAAD,EAAQ;CACd,SAAKtQ,KAAL,CAAWiiB,SAAX,CAAqB3R,KAArB;CACH;;CAEU,MAAP7N,OAAO,CAAC6N,KAAD,EAAQ;CACf,QAAI,KAAK7N,OAAL,KAAiB6N,KAArB,EAA4B;CACxB,WAAK++C,QAAL,GAAgB/+C,KAAhB;CACA,WAAK+D,IAAL,CAAUnS,MAAM,CAACO,OAAjB,EAA0B,KAAK4sD,QAA/B;CACH;CACJ;;CAEU,MAAP5sD,OAAO,GAAG;CACV,WAAO,KAAK4sD,QAAZ;CACH;;CAEY,MAATlsD,SAAS,CAACmN,KAAD,EAAQ;CACjB,QAAI,KAAKjO,OAAT,EAAkB;CACd,UAAIiO,KAAJ,EAAW;CACP,aAAKwO,QAAL,CAAconB,WAAd;CACH,OAFD,MAEO;CACH,aAAKpnB,QAAL,CAAc0nB,iBAAd;CACH;CACJ;CACJ;;CAEY,MAATrjC,SAAS,GAAG;CACZ,WAAO,KAAK2b,QAAL,IAAiB,KAAKA,QAAL,CAAc3b,SAAtC;CACH;;CAEiB,MAAd4d,cAAc,CAACzQ,KAAD,EAAQ;CACtB,QAAIA,KAAK,KAAK,IAAd,EAAoB;CAChB;CACH;;CACD,SAAKs/C,eAAL,GAAuBt/C,KAAvB;CACH,GA9RuC;;;CAiStB,MAAdyQ,cAAc,GAAG;CACjB,WAAO,KAAK6uC,eAAZ;CACH,GAnSuC;;;CAsStB,MAAd17C,cAAc,CAAC5D,KAAD,EAAQ;CACtB,QAAIA,KAAK,KAAK,IAAd,EAAoB;CAChB;CACH;;CACD,SAAKq/C,eAAL,GAAuBr/C,KAAvB,CAJsB;;CAMtB,QAAI,CAAC,KAAKrI,IAAL,CAAUrH,MAAX,IAAqB,CAAC,KAAKqH,IAAL,CAAUpH,MAApC,EAA4C;CACxC,UAAI,KAAKkgB,cAAL,IAAuB,KAAK7M,cAAhC,EAAgD;CAC5C,aAAKlU,KAAL,CAAWqU,IAAX,CAAgBnS,MAAM,CAACuC,cAAvB,EAAuC;CACnCsc,UAAAA,cAAc,EAAE,KAAKA,cADc;CAEnC7M,UAAAA,cAAc,EAAE,KAAKA,cAFc;CAGnC0M,UAAAA,IAAI,EAAE,KAAKG,cAAL,GAAsB,KAAK7M;CAHE,SAAvC;CAKH;CACJ;CACJ,GArTuC;;;CAwTtB,MAAdA,cAAc,GAAG;CACjB,WAAO,KAAKy7C,eAAZ;CACH;CAGD;CACJ;CACA;CACA;;;CACIO,EAAAA,YAAY,CAAC5kD,OAAD,EAAU;CAClB,SAAKrD,IAAL,GAAYqB,MAAM,CAAC6lD,MAAP,CAAc,EAAd,EAAkB,KAAKlnD,IAAvB,EAA6BqD,OAA7B,CAAZ;CACH;CAED;CACJ;CACA;CACA;;;CACItK,EAAAA,IAAI,GAAG;CACH,WAAO,IAAIuK,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,UAAI,CAAC,KAAK0Y,MAAV,EAAkB;CACd,aAAKA,MAAL,GAAc,IAAIS,MAAJ,CAAW,IAAX,CAAd;CACH;;CAED,UAAI,CAAC,KAAK1B,KAAV,EAAiB;CACb,aAAKA,KAAL,GAAa,IAAIo1B,KAAJ,CAAU,IAAV,CAAb;CACH;;CAED,UAAI,KAAKrwC,IAAL,CAAUrH,MAAd,EAAsB;CAClB,YAAI,CAAC,KAAKu2C,gBAAV,EAA4B;CACxB,eAAKA,gBAAL,GAAwB,IAAI1Q,gBAAJ,CAAqB,IAArB,CAAxB;CACH;CACJ;;CAED,UAAI,KAAKx+B,IAAL,CAAUpH,MAAd,EAAsB;CAClB,YAAI,CAAC,KAAKu2C,UAAV,EAAsB;CAClB,eAAKA,UAAL,GAAkB,IAAIxD,UAAJ,CAAe,IAAf,CAAlB;CACH;CACJ;;CAED,UAAI,CAAC,KAAKkC,aAAV,EAAyB;CACrB,aAAKA,aAAL,GAAqB,IAAIF,aAAJ,CAAkB,IAAlB,CAArB;CAEA,aAAKlgC,IAAL,CAAUxT,MAAM,CAACE,iBAAjB,EAAoC,MAAM;CACtCoJ,UAAAA,OAAO;CACV,SAFD;CAGH,OAND,MAMO;CACHA,QAAAA,OAAO;CACV;CACJ,KA9BM,CAAP;CA+BH;;CAEDkZ,EAAAA,MAAM,GAAI;CACN,QAAI;CACA,WAAK9iB,KAAL,CAAWod,UAAX;;CAEA,UAAI,KAAKmF,MAAT,EAAiB;CACb,aAAKA,MAAL,CAAYjgB,OAAZ;CACA,aAAKigB,MAAL,GAAc,IAAd;CACH;;CAED,UAAI,KAAK2xB,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmB5xC,OAAnB;CACA,aAAK4xC,aAAL,GAAqB,IAArB;CACH;;CAED,UAAI,KAAK5yB,KAAT,EAAgB;CACZ,aAAKA,KAAL,CAAWhf,OAAX;CACA,aAAKgf,KAAL,GAAa,IAAb;CACH;;CAED,UAAI,KAAKk0B,UAAT,EAAqB;CACjB,aAAKA,UAAL,CAAgBlzC,OAAhB;CACA,aAAKkzC,UAAL,GAAkB,IAAlB;CACH;;CAED,WAAK0Y,sBAAL;CAEA,WAAK/vD,IAAL,CAAU,KAAKkI,IAAL,CAAU3H,GAApB;CACH,KA1BD,CA0BE,OAAOyN,CAAP,EAAU;CACR5F,MAAAA,OAAO,CAACrF,KAAR,CAAciL,CAAd;CACH;CACJ;CAED;CACJ;CACA;CACA;CACA;;;CACIhO,EAAAA,IAAI,CAACO,GAAD,EAAM;CACN,WAAO,IAAIiL,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,UAAI,CAACnL,GAAD,IAAQ,CAAC,KAAK2H,IAAL,CAAU3H,GAAvB,EAA4B;CACxB,eAAOmL,MAAM,EAAb;CACH;;CAED,WAAKhJ,OAAL,GAAe,IAAf;CACA,WAAKJ,OAAL,GAAe,KAAf;CACA,WAAK8gB,MAAL,CAAY7P,aAAZ,GAA4B9D,GAAG,EAA/B;;CACA,UAAI,CAAClP,GAAL,EAAU;CACNA,QAAAA,GAAG,GAAG,KAAK2H,IAAL,CAAU3H,GAAhB;CACH;;CACD,WAAK2H,IAAL,CAAU3H,GAAV,GAAgBA,GAAhB;CAEA,WAAKwvD,sBAAL,GAboC;;CAgBpC,UAAI,KAAK7nD,IAAL,CAAUtI,SAAd,EAAyB;CACrB;CACA,aAAKqB,IAAL,GAAYgL,IAAZ,CAAiB,MAAM;CACnB,eAAKmX,MAAL,CAAY5P,SAAZ,GAAwB/D,GAAG,EAA3B,CADmB;;CAGnB,cAAI,KAAKvH,IAAL,CAAUzI,SAAd,EAAyB;CACrB,iBAAK+C,IAAL,CAAU,KAAV;CACH;;CAED5C,UAAAA,WAAS,CAAC,IAAD,CAAT;CACH,SARD;CASH,OAXD,MAWO;CACH,aAAKqB,IAAL,GAAYgL,IAAZ,CAAiB,MAAM;CACnB,eAAKmX,MAAL,CAAY5P,SAAZ,GAAwB/D,GAAG,EAA3B,CADmB;;CAGnB,cAAI,KAAKvH,IAAL,CAAUzI,SAAd,EAAyB;CACrB,iBAAK+C,IAAL,CAAU,KAAV;CACH;;CAGD,cAAI,KAAK40C,gBAAT,EAA2B;CACvB,iBAAKA,gBAAL,CAAsBzhC,IAAtB,CAA2B9Q,YAAY,CAACI,uBAAxC,EAAiE,MAAM;CACnE,mBAAKqP,IAAL,CAAUzP,YAAY,CAACI,uBAAvB;CACA,mBAAKqP,IAAL,CAAUnS,MAAM,CAACY,KAAjB,EAAwB8B,YAAY,CAACI,uBAArC;CACH,aAHD;CAIH;;CAED,cAAI,KAAKoyC,UAAT,EAAqB;CACjB,iBAAKA,UAAL,CAAgB1hC,IAAhB,CAAqB9Q,YAAY,CAACK,yBAAlC,EAA6D,MAAM;CAC/D,mBAAKoP,IAAL,CAAUzP,YAAY,CAACK,yBAAvB;CACA,mBAAKoP,IAAL,CAAUnS,MAAM,CAACY,KAAjB,EAAwB8B,YAAY,CAACK,yBAArC;CACH,aAHD;CAIH;;CAED,eAAKmkD,cAAL;;CAEA,cAAI,KAAKjlC,MAAT,EAAiB;CACb,iBAAKA,MAAL,CAAYlB,WAAZ,CAAwB3iB,GAAxB;CACH,WA1BkB;;;CA6BnB,eAAK6vD,mBAAL;;CAEA,cAAI,KAAKhsC,MAAT,EAAiB;CACb;CACA,iBAAKA,MAAL,CAAYzO,IAAZ,CAAiB9Q,YAAY,CAACE,UAA9B,EAA2ChC,KAAD,IAAW;CACjD2I,cAAAA,MAAM,CAAC3I,KAAD,CAAN;CACH,aAFD,EAFa;;CAOb,iBAAKqhB,MAAL,CAAYzO,IAAZ,CAAiB9Q,YAAY,CAACG,cAA9B,EAA+CjC,KAAD,IAAW;CACrD2I,cAAAA,MAAM,CAAC3I,KAAD,CAAN;CACH,aAFD,EAPa;;CAYb,iBAAKqhB,MAAL,CAAYzO,IAAZ,CAAiBxT,MAAM,CAAC4B,aAAxB,EAAuC,MAAM;CACzC0H,cAAAA,OAAO;CACP,mBAAK2X,MAAL,CAAY1P,cAAZ,GAA6BjE,GAAG,EAAhC,CAFyC;;CAIzC,kBAAI,KAAKvH,IAAL,CAAUpH,MAAd,EAAsB;CAClB,qBAAKe,KAAL,CAAW7B,IAAX;CACH;CACJ,aAPD;CAQH;CAEJ,SArDD,EAqDGkM,KArDH,CAqDU8B,CAAD,IAAO;CACZtC,UAAAA,MAAM,CAACsC,CAAD,CAAN;CACH,SAvDD;CAwDH;CACJ,KArFM,CAAP;CAsFH;CAED;CACJ;CACA;;;CACI9L,EAAAA,KAAK,GAAG;CACJ,WAAO,IAAIsJ,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,WAAK2kD,MAAL,GAAcpkD,IAAd,CAAmB,MAAM;CACrB,aAAKpK,KAAL,CAAWsb,SAAX;CACA1R,QAAAA,OAAO;CACV,OAHD;CAIH,KALM,CAAP;CAMH;;CAED4kD,EAAAA,MAAM,GAAG;CACL,WAAO,IAAI7kD,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC;CACA,UAAI,KAAK0Y,MAAT,EAAiB;CACb,aAAKA,MAAL,CAAYjgB,OAAZ;CACA,aAAKigB,MAAL,GAAc,IAAd;CACH;;CAED,UAAI,KAAKjB,KAAT,EAAgB;CACZ,aAAKA,KAAL,CAAWhf,OAAX;CACA,aAAKgf,KAAL,GAAa,IAAb;CACH,OAVmC;;;CAapC,UAAI,KAAK4yB,aAAT,EAAwB;CACpB,aAAKA,aAAL,CAAmB5xC,OAAnB;CACA,aAAK4xC,aAAL,GAAqB,IAArB;CACH;;CAED,UAAI,KAAKqB,gBAAT,EAA2B;CACvB,aAAKA,gBAAL,CAAsBjzC,OAAtB;CACA,aAAKizC,gBAAL,GAAwB,IAAxB;CACH;;CAED,UAAI,KAAKC,UAAT,EAAqB;CACjB,aAAKA,UAAL,CAAgBlzC,OAAhB;CACA,aAAKkzC,UAAL,GAAkB,IAAlB;CACH;;CAGD,WAAK0Y,sBAAL;CACA,WAAKC,wBAAL;CACA,WAAK1tD,OAAL,GAAe,KAAf;CACA,WAAKI,OAAL,GAAe,KAAf;CACA,WAAKU,SAAL,GAAiB,KAAjB,CAjCoC;;CAmCpC,WAAKnD,KAAL,CAAWsC,KAAX,GAnCoC;;CAqCpC,WAAK0tD,eAAL,GArCoC;;CAuCpC,WAAKC,UAAL,GAvCoC;;CAyCpC,WAAKL,eAAL,GAAuB,CAAvB;CACA,WAAKD,eAAL,GAAuB,CAAvB,CA1CoC;;CA4CpC,WAAKxsC,MAAL,GAAc9P,aAAa,EAA3B,CA5CoC;;CA8CpC4S,MAAAA,UAAU,CAAC,MAAM;CACbza,QAAAA,OAAO;CACV,OAFS,EAEP,CAFO,CAAV;CAGH,KAjDM,CAAP;CAkDH;CAED;CACJ;CACA;CACA;CACA;;;CACIlJ,EAAAA,KAAK,CAAC0f,IAAD,EAAO;CACR,QAAIA,IAAJ,EAAU;CACN,aAAO,KAAK/f,KAAL,EAAP;CACH,KAFD,MAEO;CACH,aAAO,KAAKmuD,MAAL,EAAP;CACH;CACJ;CAED;CACJ;CACA;CACA;;;CACI7tD,EAAAA,IAAI,CAACyf,IAAD,EAAO;CACP,SAAKhiB,KAAL,CAAWuC,IAAX,CAAgByf,IAAhB;CACH;CAED;CACJ;CACA;;;CACIpe,EAAAA,MAAM,GAAG;CACL,SAAKhC,KAAL,IAAc,KAAKA,KAAL,CAAWgC,MAAX,EAAd;CACH;CAED;CACJ;CACA;CACA;CACA;;;CACIsiC,EAAAA,WAAW,CAACl3B,QAAD,EAAW62B,QAAX,EAAqB;CAC5B,QAAI,KAAK1iC,SAAT,EAAoB;CAChB;CACH;;CAED,SAAK2b,QAAL,CAAcknB,WAAd,CAA0Bh3B,QAA1B,EAAoC62B,QAApC;CACA,SAAK1iC,SAAL,GAAiB,IAAjB;CACH;CAED;CACJ;CACA;;;CACIqjC,EAAAA,iBAAiB,GAAG;CAChB,QAAI,KAAKrjC,SAAT,EAAoB;CAChB,WAAKA,SAAL,GAAiB,KAAjB;CACH;CACJ;;CAEDisD,EAAAA,WAAW,GAAG;CACV,QAAI38C,MAAM,GAAG,KAAb;CAEA,QAAI49C,UAAU,GAAG,KAAjB;CACA/mD,IAAAA,MAAM,CAACiH,IAAP,CAAY,KAAKtI,IAAL,CAAUrI,WAAtB,EAAmCuJ,OAAnC,CAA4CnC,GAAD,IAAS;CAChD,UAAI,KAAKiB,IAAL,CAAUrI,WAAV,CAAsBoH,GAAtB,CAAJ,EAAgC;CAC5BqpD,QAAAA,UAAU,GAAG,IAAb;CACH;CACJ,KAJD;;CAMA,QAAI,KAAKpoD,IAAL,CAAU3I,aAAV,IAA2B,KAAK2I,IAAL,CAAUqoD,IAArC,IAA6CD,UAAjD,EAA6D;CACzD59C,MAAAA,MAAM,GAAG,IAAT;CACH;;CAED,WAAOA,MAAP;CACH;;CAED89C,EAAAA,UAAU,GAAG;CACT,SAAKT,sBAAL;CACA,SAAKU,iBAAL;CACH,GAjnBuC;;;CAonBxCA,EAAAA,iBAAiB,GAAG;CAChB,SAAKjB,kBAAL,GAA0BtpC,UAAU,CAAC,MAAM;CACvC,WAAK3jB,KAAL,CAAW,KAAX,EAAkB0J,IAAlB,CAAuB,MAAM;CACzB,aAAKqI,IAAL,CAAUnS,MAAM,CAAChD,OAAjB,EAA0BgD,MAAM,CAACc,YAAjC;CACA,aAAKqR,IAAL,CAAUnS,MAAM,CAACc,YAAjB;CACH,OAHD;CAIH,KALmC,EAKjC,KAAKiF,IAAL,CAAUhJ,YAAV,GAAyB,IALQ,CAApC;CAMH,GA3nBuC;;;CA8nBxC6wD,EAAAA,sBAAsB,GAAG;CACrB,QAAI,KAAKP,kBAAT,EAA6B;CACzBnhC,MAAAA,YAAY,CAAC,KAAKmhC,kBAAN,CAAZ;CACA,WAAKA,kBAAL,GAA0B,IAA1B;CACH;CACJ,GAnoBuC;;;CAsoBxCY,EAAAA,mBAAmB,GAAG;CAClB,SAAKX,oBAAL,GAA4BvpC,UAAU,CAAC,MAAM;CACzC,WAAK3jB,KAAL,CAAW,KAAX,EAAkB0J,IAAlB,CAAuB,MAAM;CACzB,aAAKqI,IAAL,CAAUnS,MAAM,CAAChD,OAAjB,EAA0BgD,MAAM,CAAClD,cAAjC;CACA,aAAKqV,IAAL,CAAUnS,MAAM,CAAClD,cAAjB;CACH,OAHD;CAIH,KALqC,EAKnC,KAAKiJ,IAAL,CAAUjJ,cAAV,GAA2B,IALQ,CAAtC;CAMH;;CAED+wD,EAAAA,wBAAwB,GAAG;CACvB,QAAI,KAAKP,oBAAT,EAA+B;CAC3BphC,MAAAA,YAAY,CAAC,KAAKohC,oBAAN,CAAZ;CACA,WAAKA,oBAAL,GAA4B,IAA5B;CACH;CACJ;;CAEDroB,EAAAA,YAAY,GAAG;CACX,QAAI,KAAK1kC,OAAT,EAAkB;CACd,WAAK4R,IAAL,CAAUnS,MAAM,CAACwB,KAAjB;CACA,WAAKjB,OAAL,GAAe,KAAf;CACA,WAAKstD,wBAAL;CACH;;CACD,QAAI,CAAC,KAAK1tD,OAAV,EAAmB;CACf,WAAKA,OAAL,GAAe,IAAf;CACH;;CACD,SAAKkuD,UAAL;CACH,GAhqBuC;;;CAoqBxCnpB,EAAAA,WAAW,CAAC97B,OAAD,EAAU;CACjBA,IAAAA,OAAO,GAAGA,OAAO,IAAI,EAArB;;CAEA,QAAI,CAAC,KAAKmkD,aAAV,EAAyB;CACrB,WAAKA,aAAL,GAAqBjgD,GAAG,EAAxB;CACH;;CAED,QAAI0D,UAAU,CAAC5H,OAAO,CAAC6Q,EAAT,CAAd,EAA4B;CACxB,WAAKuzC,MAAL,CAAYvzC,EAAZ,GAAiB7Q,OAAO,CAAC6Q,EAAzB;CACH;;CAED,QAAIjJ,UAAU,CAAC5H,OAAO,CAAC+7B,GAAT,CAAd,EAA6B;CACzB,WAAKqoB,MAAL,CAAYroB,GAAZ,GAAkB/7B,OAAO,CAAC+7B,GAA1B;CACH;;CAED,QAAI/7B,OAAO,CAACkH,GAAZ,EAAiB;CACb,WAAKk9C,MAAL,CAAYl9C,GAAZ,IAAmB,CAAnB;CACH;;CACD,QAAIlH,OAAO,CAACusC,IAAZ,EAAkB;CACd,WAAK6X,MAAL,CAAY7X,IAAZ,IAAoBvsC,OAAO,CAACusC,IAA5B;CACH;;CACD,QAAIvsC,OAAO,CAACwsC,IAAZ,EAAkB;CACd,WAAK4X,MAAL,CAAY5X,IAAZ,IAAoBxsC,OAAO,CAACwsC,IAA5B;CACH;;CAED,UAAM2Y,QAAQ,GAAGjhD,GAAG,EAApB;;CACA,UAAM22B,SAAS,GAAGsqB,QAAQ,GAAG,KAAKhB,aAAlC;;CAEA,QAAItpB,SAAS,GAAG,IAAI,IAApB,EAA0B;CACtB;CACH;;CAED,SAAK9xB,IAAL,CAAUnS,MAAM,CAACe,KAAjB,EAAwB,KAAKysD,MAA7B;CACA,SAAKr7C,IAAL,CAAUnS,MAAM,CAACgB,WAAjB,EAA8BqP,SAAS,CAAC,KAAKm9C,MAAL,CAAYl9C,GAAb,CAAvC;CACA,SAAKk9C,MAAL,CAAYl9C,GAAZ,GAAkB,CAAlB;CACA,SAAKk9C,MAAL,CAAY7X,IAAZ,GAAmB,CAAnB;CACA,SAAK6X,MAAL,CAAY5X,IAAZ,GAAmB,CAAnB;CACA,SAAK2X,aAAL,GAAqBgB,QAArB;CACH;;CAEDR,EAAAA,UAAU,GAAG;CACT,SAAKR,aAAL,GAAqB,IAArB;CACA,SAAKC,MAAL,GAAc;CACVroB,MAAAA,GAAG,EAAE,CADK;CACF;CACR70B,MAAAA,GAAG,EAAE,CAFK;CAGVqlC,MAAAA,IAAI,EAAE,CAHI;CAIVC,MAAAA,IAAI,EAAE,CAJI;CAKV37B,MAAAA,EAAE,EAAE;CALM,KAAd;CAOH;;CAEDitC,EAAAA,cAAc,GAAG;CACb,QAAI,KAAKnhD,IAAL,CAAU1I,YAAd,EAA4B;CACxB,WAAKA,YAAL,CAAkBsqD,MAAlB;CACH;CACJ;;CAEDmG,EAAAA,eAAe,GAAG;CACd,QAAI,KAAK/nD,IAAL,CAAU1I,YAAd,EAA4B;CACxB,WAAKA,YAAL,CAAkB6qD,OAAlB;CACH;CACJ;;CAEDljB,EAAAA,uBAAuB,GAAG;CACtB,UAAM/jB,MAAM,GAAG,KAAKA,MAApB;CACAA,IAAAA,MAAM,CAACtP,aAAP,GAAuBsP,MAAM,CAAC5P,SAAP,GAAmB4P,MAAM,CAAC7P,aAAjD;CACA6P,IAAAA,MAAM,CAACrP,eAAP,GAAyBqP,MAAM,CAAC3P,WAAP,GAAqB2P,MAAM,CAAC5P,SAArD;CACA4P,IAAAA,MAAM,CAACpP,uBAAP,GAAiCoP,MAAM,CAAC1P,cAAP,GAAwB0P,MAAM,CAAC3P,WAAhE;CACA2P,IAAAA,MAAM,CAACnP,cAAP,GAAwBmP,MAAM,CAACzP,UAAP,GAAoByP,MAAM,CAAC1P,cAAnD;CACA0P,IAAAA,MAAM,CAAClP,eAAP,GAAyBkP,MAAM,CAACxP,WAAP,GAAqBwP,MAAM,CAACzP,UAArD;CACAyP,IAAAA,MAAM,CAACjP,cAAP,GAAwBiP,MAAM,CAACvP,UAAP,GAAoBuP,MAAM,CAACxP,WAAnD;CACAwP,IAAAA,MAAM,CAAChP,YAAP,GAAsBgP,MAAM,CAACvP,UAAP,GAAoBuP,MAAM,CAAC7P,aAAjD;CACA,SAAKe,IAAL,CAAUnS,MAAM,CAACwC,iBAAjB,EAAoCye,MAApC;CACH;;CA7uBuC;;CCxB5C,MAAMutC,SAAN,SAAwBl7C,OAAxB,CAAgC;CAQ5B1N,EAAAA,WAAW,CAACwD,OAAD,EAAU;CACjB;CACA,QAAIrD,IAAI,GAAGqD,OAAX;CACA,QAAI5B,UAAU,GAAG4B,OAAO,CAAC4jD,SAAzB;;CACA,QAAI,OAAO5jD,OAAO,CAAC4jD,SAAf,KAA6B,QAAjC,EAA2C;CACvCxlD,MAAAA,UAAU,GAAGS,QAAQ,CAACw6C,aAAT,CAAuBr5C,OAAO,CAAC4jD,SAA/B,CAAb;CACH;;CACD,QAAI,CAACxlD,UAAL,EAAiB;CACb,YAAM,IAAIonB,KAAJ,CAAU,iCAAV,CAAN;CAEH;;CAEDpnB,IAAAA,UAAU,CAAC8K,SAAX,CAAqBC,GAArB,CAAyB,qBAAzB;CAEA,WAAOxM,IAAI,CAACinD,SAAZ,CAdiB;;CAiBjB,QAAIh8C,UAAU,CAACjL,IAAI,CAACvJ,WAAN,CAAd,EAAkC;CAC9BuJ,MAAAA,IAAI,CAACvJ,WAAL,GAAmBqe,MAAM,CAAC9U,IAAI,CAACvJ,WAAN,CAAN,GAA2B,IAA9C;CACH,KAnBgB;;;CAsBjB,QAAIwU,UAAU,CAACjL,IAAI,CAAC/I,OAAN,CAAd,EAA8B;CAC1B,UAAI8T,OAAO,CAAC/K,IAAI,CAACjJ,cAAN,CAAX,EAAkC;CAC9BiJ,QAAAA,IAAI,CAACjJ,cAAL,GAAsBiJ,IAAI,CAAC/I,OAA3B;CACH;;CAED,UAAI8T,OAAO,CAAC/K,IAAI,CAAChJ,YAAN,CAAX,EAAgC;CAC5BgJ,QAAAA,IAAI,CAAChJ,YAAL,GAAoBgJ,IAAI,CAAC/I,OAAzB;CACH;CACJ;;CAED+I,IAAAA,IAAI,CAAC0oD,oBAAL,GAA4Bx9C,SAAS,CACjClL,IAAI,CAAC7I,oBAD4B,EAEjCX,sBAAsB,CAACW,oBAFU,CAArC;CAKA6I,IAAAA,IAAI,CAAC9I,iBAAL,GAAyBgU,SAAS,CAC9BlL,IAAI,CAAC9I,iBADyB,EAE9BV,sBAAsB,CAACU,iBAFO,CAAlC;CAKA,SAAK8I,IAAL,GAAYA,IAAZ;CACA,SAAKyB,UAAL,GAAkBA,UAAlB;CACA,SAAKyF,IAAL,GAAY,IAAZ;CACA,SAAKmF,MAAL,GAAc,IAAIjM,MAAJ,CAAW,IAAX,CAAd;CACA,SAAKgB,MAAL,GAAc,IAAI4lD,MAAJ,CAAWvlD,UAAX,EAAuBzB,IAAvB,CAAd;;CACA,SAAK2oD,WAAL;CACH;CAED;CACJ;CACA;CACA;CACA;CACA;CACA;CACA;;CACI;CACJ;CACA;;;CACI1sD,EAAAA,OAAO,GAAG;CACN,SAAKmF,MAAL,CAAYnF,OAAZ;CACA,SAAKmF,MAAL,GAAc,IAAd;CACA,SAAKsC,GAAL;CACH;;CAEDilD,EAAAA,WAAW,GAAG;CACV;CACAtnD,IAAAA,MAAM,CAACiH,IAAP,CAAY5L,gBAAZ,EAA8BwE,OAA9B,CAAuCnC,GAAD,IAAS;CAC3C,WAAKqC,MAAL,CAAYuC,EAAZ,CAAejH,gBAAgB,CAACqC,GAAD,CAA/B,EAAuCsJ,KAAD,IAAW;CAC7C,aAAK+D,IAAL,CAAUrN,GAAV,EAAesJ,KAAf;CACH,OAFD;CAGH,KAJD;CAKH;CAED;CACJ;CACA;CACA;;;CACIugD,EAAAA,QAAQ,CAACvgD,KAAD,EAAQ;CACZ,SAAKjH,MAAL,CAAY6mD,YAAZ,CAAyB;CACrBY,MAAAA,OAAO,EAAE,CAAC,CAACxgD;CADU,KAAzB;CAGH;CAED;CACJ;CACA;;;CACI/N,EAAAA,IAAI,GAAG;CACH,SAAK8G,MAAL,CAAY9G,IAAZ,CAAiB,IAAjB;CACH;CAED;CACJ;CACA;;;CACIwuD,EAAAA,UAAU,GAAG;CACT,SAAK1nD,MAAL,CAAY9G,IAAZ,CAAiB,KAAjB;CACH;CAED;CACJ;CACA;CACA;;;CACI0f,EAAAA,SAAS,CAAC3R,KAAD,EAAQ;CACb,SAAKjH,MAAL,CAAYwV,MAAZ,GAAqBvO,KAArB;CACH;CAED;CACJ;CACA;;;CACI0gD,EAAAA,WAAW,GAAG;CACV,SAAK3nD,MAAL,CAAYrJ,KAAZ,CAAkBygB,YAAlB,CAA+B,IAA/B;CACH;CAED;CACJ;CACA;CACA;;;CACIwF,EAAAA,UAAU,CAACsb,IAAD,EAAO;CACbA,IAAAA,IAAI,GAAGxkB,MAAM,CAACwkB,IAAD,CAAb;CACA,SAAKl4B,MAAL,CAAY6mD,YAAZ,CAAyB;CACrBhxD,MAAAA,OAAO,EAAEqiC,IADY;CAErBviC,MAAAA,cAAc,EAAEuiC,IAFK;CAGrBtiC,MAAAA,YAAY,EAAEsiC;CAHO,KAAzB;CAKH;CAED;CACJ;CACA;CACA;;;CACI0vB,EAAAA,YAAY,CAAC1iD,IAAD,EAAO;CACfA,IAAAA,IAAI,GAAGwO,MAAM,CAACxO,IAAD,CAAb;CACA,QAAIjD,OAAO,GAAG;CACV1M,MAAAA,YAAY,EAAE,KADJ;CAEVD,MAAAA,QAAQ,EAAE;CAFA,KAAd;;CAIA,YAAQ4P,IAAR;CACI,WAAKnI,eAAe,CAACC,IAArB;CACIiF,QAAAA,OAAO,CAAC1M,YAAR,GAAuB,KAAvB;CACA0M,QAAAA,OAAO,CAAC3M,QAAR,GAAmB,KAAnB;CACA;;CACJ,WAAKyH,eAAe,CAACE,IAArB;CACIgF,QAAAA,OAAO,CAAC1M,YAAR,GAAuB,KAAvB;CACA0M,QAAAA,OAAO,CAAC3M,QAAR,GAAmB,IAAnB;CACA;;CACJ,WAAKyH,eAAe,CAACG,QAArB;CACI+E,QAAAA,OAAO,CAAC1M,YAAR,GAAuB,IAAvB;CACA0M,QAAAA,OAAO,CAAC3M,QAAR,GAAmB,IAAnB;CACA;CAZR;;CAeA,SAAK0K,MAAL,CAAY6mD,YAAZ,CAAyB5kD,OAAzB;CACA,SAAK1H,MAAL;CACH;CAED;CACJ;CACA;CACA;;;CACItB,EAAAA,KAAK,GAAG;CACJ,WAAO,KAAK+G,MAAL,CAAY/G,KAAZ,EAAP;CACH;CAED;CACJ;CACA;;;CACIL,EAAAA,KAAK,GAAG;CACJ;CACA,SAAKgG,IAAL,CAAU3H,GAAV,GAAgB,EAAhB;CACA,WAAO,KAAK+I,MAAL,CAAYpH,KAAZ,EAAP;CACH;CAGD;CACJ;CACA;;;CACIib,EAAAA,SAAS,GAAG;CACR,SAAK7T,MAAL,CAAYzH,KAAZ,CAAkBsb,SAAlB;CACH;CAED;CACJ;CACA;CACA;CACA;;;CACInd,EAAAA,IAAI,CAACO,GAAD,EAAM;CACN,UAAM4wD,IAAI,GAAG,2CAAb;;CACA,QAAI,KAAKjpD,IAAL,CAAUtI,SAAV,KAAwB,IAA5B,EAAkC;CAC9B,UAAIW,GAAG,CAACqtD,UAAJ,CAAe,OAAf,KAA2BrtD,GAAG,CAACqtD,UAAJ,CAAe,OAAf,CAA3B,IAAsDrtD,GAAG,CAACiuB,OAAJ,CAAY,YAAZ,IAA4B,CAAC,CAAvF,EAA0F;CACtFpmB,QAAAA,OAAO,CAACtF,GAAR,CAAY,QAAZ;CACH,OAFD,MAEO;CACHsF,QAAAA,OAAO,CAACrF,KAAR,CAAe,gBAAexC,GAAI,WAAlC;CACA6H,QAAAA,OAAO,CAACC,IAAR,CAAa,oCAAoC8oD,IAAjD;CACA/oD,QAAAA,OAAO,CAACC,IAAR,CAAa,mCAAmC8oD,IAAhD;CACA/oD,QAAAA,OAAO,CAACC,IAAR,CAAa,+DAA+D8oD,IAA5E;CACA;CACH;CACJ,KAVD,MAUO;CACH,WAAKjpD,IAAL,CAAUpH,MAAV,GAAmB,IAAnB;CACA,WAAKoH,IAAL,CAAUrH,MAAV,GAAmB,KAAnB;;CACA,UAAIN,GAAG,CAACqtD,UAAJ,CAAe,KAAf,CAAJ,EAA2B;CACvBxlD,QAAAA,OAAO,CAACtF,GAAR,CAAY,QAAZ;CACH,OAFD,MAEO;CACHsF,QAAAA,OAAO,CAACrF,KAAR,CAAe,gBAAexC,GAAI,WAAlC;CACA6H,QAAAA,OAAO,CAACC,IAAR,CAAa,wCAAwC8oD,IAArD;CACA/oD,QAAAA,OAAO,CAACC,IAAR,CAAc,sCAAqC8oD,IAAK,MAAxD;CACA;CACH;CACJ,KAvBK;;;CAyBN,WAAO,IAAI3lD,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,UAAI,CAACnL,GAAD,IAAQ,CAAC,KAAK2H,IAAL,CAAU3H,GAAvB,EAA4B;CACxB,aAAK+T,IAAL,CAAUnS,MAAM,CAACY,KAAjB,EAAwB8B,YAAY,CAACC,SAArC;CACA4G,QAAAA,MAAM;CACN;CACH;;CAED,UAAInL,GAAJ,EAAS;CACL;CACA,YAAI,KAAK2H,IAAL,CAAU3H,GAAd,EAAmB;CACf;CACA,cAAIA,GAAG,KAAK,KAAK2H,IAAL,CAAU3H,GAAtB,EAA2B;CACvB;CACA,gBAAI,KAAK+I,MAAL,CAAYhH,OAAhB,EAAyB;CACrBmJ,cAAAA,OAAO;CACV,aAFD,MAEO;CACH;CACA,mBAAK0R,SAAL;CACA,mBAAK7T,MAAL,CAAYtJ,IAAZ,CAAiB,KAAKkI,IAAL,CAAU3H,GAA3B,EAAgC0L,IAAhC,CAAqC,MAAM;CACvCR,gBAAAA,OAAO;CACV,eAFD,EAEGS,KAFH,CAES,MAAM;CACX,qBAAK5C,MAAL,CAAY/G,KAAZ,GAAoB0J,IAApB,CAAyB,MAAM;CAC3BP,kBAAAA,MAAM;CACT,iBAFD;CAGH,eAND;CAOH;CACJ,WAfD,MAeO;CACH;CACA,iBAAKpC,MAAL,CAAY/G,KAAZ,GAAoB0J,IAApB,CAAyB,MAAM;CAC3B;CACA,mBAAKkR,SAAL;CACA,qBAAO,KAAKi0C,KAAL,CAAW7wD,GAAX,CAAP;CACH,aAJD,EAIG2L,KAJH,CAIS,MAAM;CACXR,cAAAA,MAAM;CACT,aAND;CAOH;CACJ,SA3BD,MA2BO;CACH,iBAAO,KAAK0lD,KAAL,CAAW7wD,GAAX,CAAP;CACH;CACJ,OAhCD,MAgCO;CACH;CACA;CACA,aAAK+I,MAAL,CAAYtJ,IAAZ,CAAiB,KAAKkI,IAAL,CAAU3H,GAA3B,EAAgC0L,IAAhC,CAAqC,MAAM;CACvCR,UAAAA,OAAO;CACV,SAFD,EAEGS,KAFH,CAES,MAAM;CACX,eAAK5C,MAAL,CAAY/G,KAAZ,GAAoB0J,IAApB,CAAyB,MAAM;CAC3BP,YAAAA,MAAM;CACT,WAFD;CAGH,SAND;CAOH;CACJ,KAlDM,CAAP;CAmDH;CAED;CACJ;CACA;CACA;CACA;CACA;;;CACI0lD,EAAAA,KAAK,CAAC7wD,GAAD,EAAM;CACP,WAAO,IAAIiL,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,WAAKxD,IAAL,CAAU3H,GAAV,GAAgBA,GAAhB,CADoC;;CAGpC,YAAM8wD,MAAM,GAAG9wD,GAAG,CAACiuB,OAAJ,CAAY,MAAZ,MAAwB,CAAvC,CAHoC;;CAKpC,YAAM7tB,QAAQ,GAAG0wD,MAAM,GAAGjzD,oBAAoB,CAACE,KAAxB,GAAgCF,oBAAoB,CAACC,SAA5E,CALoC;;CAOpC,YAAMuC,SAAS,GAAIywD,MAAM,IAAI9wD,GAAG,CAACiuB,OAAJ,CAAY,MAAZ,MAAwB,CAAC,CAAnC,IAAwC,KAAKtmB,IAAL,CAAUpJ,KAAnD,GAA4DP,UAAU,CAACC,GAAvE,GAA6ED,UAAU,CAACE,GAA1G;CAEA,WAAK6K,MAAL,CAAY6mD,YAAZ,CAAyB;CACrBxvD,QAAAA,QADqB;CAErBC,QAAAA;CAFqB,OAAzB;CAKA,WAAK0I,MAAL,CAAYqM,IAAZ,CAAiB9Q,YAAY,CAACK,yBAA9B,EAAyD,MAAM;CAC3D,aAAKhD,KAAL;CACH,OAFD;CAIA,WAAKoH,MAAL,CAAYqM,IAAZ,CAAiB9Q,YAAY,CAACI,uBAA9B,EAAuD,MAAM;CACzD,aAAK/C,KAAL;CACH,OAFD;;CAIA,UAAI,KAAKovD,SAAL,EAAJ,EAAsB;CAClB,aAAKhoD,MAAL,CAAYtJ,IAAZ,CAAiBO,GAAjB,EAAsB0L,IAAtB,CAA2B,MAAM;CAC7BR,UAAAA,OAAO;CACV,SAFD,EAEGS,KAFH,CAES,MAAM;CACX,eAAK5C,MAAL,CAAY/G,KAAZ,GAAoB0J,IAApB,CAAyB,MAAM;CAC3BP,YAAAA,MAAM;CACT,WAFD;CAGH,SAND;CAOH,OARD,MAQO;CACH,aAAKpC,MAAL,CAAYqM,IAAZ,CAAiBxT,MAAM,CAACE,iBAAxB,EAA2C,MAAM;CAC7C,eAAKiH,MAAL,CAAYtJ,IAAZ,CAAiBO,GAAjB,EAAsB0L,IAAtB,CAA2B,MAAM;CAC7BR,YAAAA,OAAO;CACV,WAFD,EAEGS,KAFH,CAES,MAAM;CACX,iBAAK5C,MAAL,CAAY/G,KAAZ,GAAoB0J,IAApB,CAAyB,MAAM;CAC3BP,cAAAA,MAAM;CACT,aAFD;CAGH,WAND;CAOH,SARD;CASH;CACJ,KAzCM,CAAP;CA0CH;CAED;CACJ;CACA;;;CACI7H,EAAAA,MAAM,GAAG;CACL,SAAKyF,MAAL,IAAe,KAAKA,MAAL,CAAYzF,MAAZ,EAAf;CACH;CAED;CACJ;CACA;CACA;;;CACI0tD,EAAAA,aAAa,CAAC/vB,IAAD,EAAO;CAChBA,IAAAA,IAAI,GAAGxkB,MAAM,CAACwkB,IAAD,CAAb,CADgB;;CAGhB,SAAKl4B,MAAL,CAAY6mD,YAAZ,CAAyB;CACrBxxD,MAAAA,WAAW,EAAE6iC,IAAI,GAAG;CADC,KAAzB;CAGH;CAED;CACJ;CACA;CACA;;;CACIgwB,EAAAA,SAAS,CAACC,GAAD,EAAM;CACXA,IAAAA,GAAG,GAAGriC,QAAQ,CAACqiC,GAAD,EAAM,EAAN,CAAd;CACA,UAAMC,IAAI,GAAG,CAAC,CAAD,EAAI,EAAJ,EAAQ,GAAR,CAAb;;CACA,QAAI,KAAKxpD,IAAL,CAAU1H,MAAV,KAAqBixD,GAArB,IAA4BC,IAAI,CAACljC,OAAL,CAAaijC,GAAb,MAAsB,CAAC,CAAvD,EAA0D;CACtD;CACH;;CACD,SAAKnoD,MAAL,CAAY6mD,YAAZ,CAAyB;CACrB3vD,MAAAA,MAAM,EAAEixD;CADa,KAAzB;CAGA,SAAK5tD,MAAL;CACH;CAED;CACJ;CACA;CACA;;;CACIytD,EAAAA,SAAS,GAAG;CACR,WAAO,KAAKhoD,MAAL,CAAY2sC,MAAnB;CACH;CAED;CACJ;CACA;;;CACI0b,EAAAA,eAAe,GAAG;CACd,SAAKroD,MAAL,CAAY6mD,YAAZ,CAAyB;CACrB3wD,MAAAA,YAAY,EAAE;CADO,KAAzB;CAGH;CAED;CACJ;CACA;CACA;;;CACIoyD,EAAAA,aAAa,CAAC3vC,IAAD,EAAO;CAChB,UAAMniB,UAAU,GAAG,CAAC,CAACmiB,IAArB;;CACA,QAAI,KAAK3Y,MAAL,CAAYxJ,UAAZ,KAA2BA,UAA/B,EAA2C;CACvC,WAAKwJ,MAAL,CAAYxJ,UAAZ,GAAyBA,UAAzB;CACH;CACJ;CAED;CACJ;CACA;CACA;CACA;CACA;CACA;;;CACIC,EAAAA,UAAU,CAACyc,QAAD,EAAWC,MAAX,EAAmBC,OAAnB,EAA4BlO,IAA5B,EAAkC;CACxC,WAAO,KAAKlF,MAAL,CAAYzH,KAAZ,CAAkB9B,UAAlB,CAA6Byc,QAA7B,EAAuCC,MAAvC,EAA+CC,OAA/C,EAAwDlO,IAAxD,CAAP;CACH;CAED;CACJ;CACA;CACA;CACA;CACA;;;CACI23B,EAAAA,WAAW,CAACl3B,QAAD,EAAW62B,QAAX,EAAqB;CAC5B,WAAO,IAAIt6B,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;CACpC,UAAI,KAAKpC,MAAL,CAAYhH,OAAhB,EAAyB;CACrB,aAAKgH,MAAL,CAAY68B,WAAZ,CAAwBl3B,QAAxB,EAAkC62B,QAAlC;CACAr6B,QAAAA,OAAO;CACV,OAHD,MAGO;CACHC,QAAAA,MAAM;CACT;CACJ,KAPM,CAAP;CAQH;;CAED+6B,EAAAA,iBAAiB,GAAG;CAChB,QAAI,KAAKn9B,MAAL,CAAYlG,SAAhB,EAA2B;CACvB,WAAKkG,MAAL,CAAYm9B,iBAAZ;CACH;CACJ;CAED;CACJ;CACA;CACA;;;CACIrlB,EAAAA,SAAS,GAAG;CACR,WAAO,KAAK9X,MAAL,CAAYhH,OAAnB;CACH;CAED;CACJ;CACA;CACA;;;CACI+e,EAAAA,MAAM,GAAG;CACL,WAAO,KAAK/X,MAAL,CAAYrJ,KAAZ,CAAkBohB,MAAzB;CACH;CAED;CACJ;CACA;CACA;;;CACImX,EAAAA,WAAW,GAAG;CACV,WAAO,KAAKlvB,MAAL,CAAYyV,QAAZ,CAAqB3b,SAA5B;CACH;;CA3b2B;;iBAA1ButD,oBACa9rD;;iBADb8rD,sBAGe;CACb1xD,EAAAA,cAAc,EAAEkD,MAAM,CAAClD,cADV;CAEbgE,EAAAA,YAAY,EAAEd,MAAM,CAACc;CAFR;;CA8brBoH,MAAM,CAACsmD,SAAP,GAAmBA,SAAnB;CACAtmD,MAAM,CAACwnD,QAAP,GAAmBlB,SAAnB;;;;;;;;"}